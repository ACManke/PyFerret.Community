 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML+RDFa 1.1//EN">
<html lang="en" dir="ltr" version="HTML+RDFa 1.1"
xmlns:content="http://purl.org/rss/1.0/modules/content/"
xmlns:dc="http://purl.org/dc/terms/"
xmlns:foaf="http://xmlns.com/foaf/0.1/"
xmlns:og="http://ogp.me/ns#"
xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
xmlns:sioc="http://rdfs.org/sioc/ns#"
xmlns:sioct="http://rdfs.org/sioc/types#"
xmlns:skos="http://www.w3.org/2004/02/skos/core#"
xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
xmlns:schema="http://schema.org/">
<head profile="http://www.w3.org/1999/xhtml/vocab">
<title>Custom Legends for line plots - Ferret/PyFerret FAQs</title>

<link rel="stylesheet" href="../modules/system/system.base.css">
<link rel="stylesheet" href="../modules/system/system.menus.css">
<link rel="stylesheet" href="../modules/system/system.messages.css">
<link rel="stylesheet" href="../modules/system/system.theme.css">

<link rel="stylesheet" href="../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.core.min.css">
<link rel="stylesheet" href="../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.theme.min.css">
<link rel="stylesheet" href="../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.menu.min.css">
<link rel="stylesheet" href="../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.autocomplete.min.css">

<link rel="stylesheet" href="../sites/all/modules/calendar/css/calendar_multiday.css">
<link rel="stylesheet" href="../modules/field/theme/field.css">
<link rel="stylesheet" href="../sites/all/modules/scald/modules/fields/mee/css/editor-global.css">
<link rel="stylesheet" href="../modules/node/node.css">
<link rel="stylesheet" href="../sites/all/modules/scald_file/scald_file.css">
<link rel="stylesheet" href="../modules/search/search.css">
<link rel="stylesheet" href="../modules/user/user.css">
<link rel="stylesheet" href="../sites/all/modules/views/css/views.css">
<link rel="stylesheet" href="../sites/all/modules/ckeditor/css/ckeditor.css">

<link rel="stylesheet" href="../sites/all/modules/ctools/css/ctools.css">
<link rel="stylesheet" href="../sites/all/modules/custom_search/custom_search.css">
<link rel="stylesheet" href="../sites/all/modules/search_autocomplete/css/themes/minimal.css">
<link rel="stylesheet" href="../sites/all/libraries/superfish/css/superfish.css">
<link rel="stylesheet" href="../sites/all/libraries/superfish/css/superfish-smallscreen.css">
<link rel="stylesheet" href="../sites/all/libraries/superfish/css/superfish-vertical.css">

<link rel="stylesheet" href="../sites/all/themes/pacific_marine/css/ckeditor_custom.css">

<link rel="stylesheet" href="../sites/all/themes/omega/alpha/css/alpha-reset.css">
<link rel="stylesheet" href="../sites/all/themes/omega/alpha/css/alpha-mobile.css">
<link rel="stylesheet" href="../sites/all/themes/omega/alpha/css/alpha-alpha.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/formalize.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/omega-text.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/omega-branding.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/omega-menu.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/omega-forms.css">
<link rel="stylesheet" href="../sites/all/themes/omega/omega/css/omega-visuals.css">
<link rel="stylesheet" href="../sites/all/themes/pacific_marine/css/global.css">



<link rel="stylesheet" href="../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css">
<link rel="stylesheet" href="../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-wide.css">
<link rel="stylesheet" href="../sites/all/themes/omega/alpha/css/grid/alpha_default/wide/alpha-default-wide-12.css">


</head>
<body class="html not-front not-logged-in page-node page-node- page-node-555 node-type-documentation-page context-documentation">
  <div id="body-bg-top"></div>
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div class="page clearfix" id="page">
      <header id="section-header" class="section section-header">
  <div id="zone-header-wrapper" class="zone-wrapper zone-header-wrapper clearfix">  
  <div id="zone-header" class="zone zone-header clearfix container-12">
    <div class="grid-7 region region-branding" id="region-branding">
  <div class="region-inner region-branding-inner">
        <div class="branding-data clearfix">
            <div class="logo-img">
        <a href="../index.html" rel="home" title=""><img src="../sites/all/themes/pacific_marine/images/ferret-banner.png" alt="" id="logo" /></a>
		</div>
                </div>
          </div>
</div><div class="grid-5 region region-header-first" id="region-header-first">
  <div class="region-inner region-header-first-inner">
    <div class="block block-block block-4 block-block-4 odd block-without-title" id="block-block-4">
  <div class="block-inner clearfix">

  </div>
</div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-menu-wrapper" class="zone-wrapper zone-menu-wrapper clearfix">  
  <div id="zone-menu" class="zone zone-menu clearfix container-12">
    <div class="grid-12 region region-menu" id="region-menu">
  <div class="region-inner region-menu-inner">
        <div class="block block-system block-menu block-main-menu block-system-main-menu odd block-without-title" id="block-system-main-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu">
	  <li class="first expanded"><a href="../index.html">Home</a>
	  <ul class="menu">
	  </li>
<li class="leaf"><a href="../index.html">Ferret/PyFerret Home</a></li>
</ul></li>
<li class="leaf"><a href="../documentation/ferret-documentation.html">Documentation</a></li>
<li class="leaf"><a href="ferret-faqs.html">FAQ</a></li>
<li class="collapsed"><a href="../documentation/pyferret/downloads.html">Downloads</a></li>
<li class="collapsed"><a href="../documentation/pyferret-support.html">Support</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div>
  </div>
</div></header> 


<!-- ----- this from main index.html, after </div></header>-->

      <section id="section-content" class="section section-content">
  <div id="zone-preface-wrapper" class="zone-wrapper zone-preface-wrapper clearfix">  
  <div id="zone-preface" class="zone zone-preface clearfix equal-height-container container-12">
    <div class="grid-3 region region-preface-first equal-height-element" id="region-preface-first">
  <div class="region-inner region-preface-first-inner">
      </div>
</div><div class="grid-9 region region-preface-second equal-height-element" id="region-preface-second">
  <div class="region-inner region-preface-second-inner">
      </div>
</div>  </div>
</div><div id="zone-content-wrapper" class="zone-wrapper zone-content-wrapper clearfix no-sidebar">  
  <div id="zone-content" class="zone zone-content clearfix equal-height-container container-12">    
        
        <div class="grid-12 region region-content equal-height-element" id="region-content">
  <div class="region-inner region-content-inner">
    <a id="main-content"></a>
            <div class="element-invisible">   
    </div>                    <div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <article about="/Ferret/index.html" typeof="foaf:Document" class="node node-page node-published node-not-promoted node-not-sticky author-burger odd clearfix" id="node-page-771">


<!--   ... from main index.html, -->
<h2 class="block-title"><a href="ferret-faqs.html" class="active-trail">FAQ</a></h2>
<a id="main-content"></a>
<div class="element-invisible">    <h1 class="title" id="page-title">Custom Legends for line plots</h1>
</div>                    <div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
<div class="block-inner clearfix">
 
<div class="content clearfix">
<article about="/Ferret/faq/custom-legends-line-plots" typeof="foaf:Document" class="node node-page node-published node-not-promoted node-not-sticky author-ansley odd clearfix" id="node-page-874">

<h1 id="page title"  class="node-title">Custom Legends for line plots</h1>  <div class="content clearfix">
 
<div class="field field-name-body field-type-text-with-summary field-label-hidden">
<div class="field-items">
<div class="field-item even" property="content:encoded"><h2>Question:</h2>
<blockquote><p>How can I customize the legend on a line plot with several lines?</p>
</blockquote>
<h2>Example:</h2>
<pre>
! Draw a set of lines using the PLOT/ALONG= syntax
 
use coads_climatology
define view/x=0:0.9/y=0:1 view1
set view view1
 
! If running PyFerret, set the font.
IF ($program_name"|PyFerret&gt;1|*&gt;0") THEN SET TEXT/FONT=helvetica
 
plot/along=x/L=5/x=120:200/color/thick sst[y=-40:0:10]</pre><div class="dnd-atom-wrapper type-image context-sdl_editor_representation" contenteditable="false">
<div class="dnd-drop-wrapper"><!-- scald=76:sdl_editor_representation --><div class='image'><img typeof="foaf:Image" src="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/thumbnails/image/auto_legend.png" width="830" height="498" alt="auto_legend.png" title="auto_legend.png" /></div><!-- END scald=76 --></div>
<div class="dnd-legend-wrapper" contenteditable="true">
<div class="meta">
<!--copyright=76--><!--END copyright=76--></div>
</div>
</div>
<p>Ferret makes a default "legend" below a plot, with line samples and automatically-generated labels. It  is accurate and descriptive but not for a final version of the plot!  There are several "legend" scripts available which draw a set of lines on a page, generally within a corner of the plot. Type "Fgo legend" at the Unix command line to see a list of the available scripts.</p>
<p>This FAQ explores a more flexible method to draw and label a set of lines in a new viewport, and using the ANNOTATE command to label the lines. </p>
<p>Draw the main plot in a viewport, which has been defined to leave some space somewhere on the page. Here, we've left space at the right.  First, we'll re-draw the line plot to replace the auto-generated key at the with a nice title labeling the variable and its units.</p>
<pre>
plot/along=x/L=5/x=120:200/color/thick/nokey\
/title="Sea Surface Temperature (`sst,return=units`)" sst[y=-40:0:10</pre><p>Now define a viewport for the legend.  In this case it overlaps the first one a bit, extending into the right-hand margin of the main plot.  This is a custom plot, with all of the plot elements set up so that the legend text will fit nicely.  Each case will be different, depending on the number of lines, the desired aspect ratio for the main  plot, and the amount of text in the labels.</p>
<pre>
define view/x=0.85:0.98/y=0.5:0.8/axes legend
set view legend
 
! Make a blank plot in the legend viewport, to set things up so the legend
! lines can be PLOT/OVERLAY lines
plot/vs/sym=dot/nolab/noax/vlim=0:1/hlim=0:1/color=white {0,1}, {0, 1}</pre><p>Or, to draw an outline around the legend box:</p>
<pre>
! plot/vs/line/nolab/noax/vlim=0:1/hlim=0:1 {0,0,1,1,0}, {0,1,1,0,0}</pre><p>The legend text is going to label the latitudes. Are we running PyFerret?  If so, optionally change to a font that's equal-spaced so the labels will line up, and set up to make a degree sign within the labels. </p>
<pre>
IF ($program_name"|PyFerret&gt;1|*&gt;0") THEN
SET TEXT/FONT=consolas
DEFINE SYMBOL degsgn = &lt;&amp;deg&gt;
ENDIF
</pre><p>Define short horizontal line segments lying in our legend plot of x=0:1, y=0:1. Draw the lines using the same line styles as on the main plot, using line number, or /COLOR=, /DASH, /SYMBOL, and so forth to match the lines drawn. Use ANNOTATE to label each line.</p>
<pre>
plot/over/vs/nolab/line=6/thick {0.2,0.5}, {0.8,0.8}
annotate/norm/siz=0.14/xpos=.55/ypos=0.8/halign=-1/valign=0 "Y=  0($degsgn)S"
 
plot/over/vs/nolab/line=5/thick {0.2,0.5}, {0.7,0.7}
annotate/norm/siz=0.14/xpos=.55/ypos=0.7/halign=-1/valign=0 "Y=10($degsgn)S"
 
plot/over/vs/nolab/line=4/thick {0.2,0.5}, {0.6,0.6}
annotate/norm/siz=0.14/xpos=.55/ypos=0.6/halign=-1/valign=0 "Y=20($degsgn)S"
 
plot/over/vs/nolab/line=3/thick {0.2,0.5}, {0.5,0.5}
annotate/norm/siz=0.14/xpos=.55/ypos=0.5/halign=-1/valign=0 "Y=30($degsgn)S"
 
plot/over/vs/nolab/line=2/thick {0.2,0.5}, {0.4,0.4}
annotate/norm/siz=0.14/xpos=.55/ypos=0.4/halign=-1/valign=0 "Y=40($degsgn)S"
</pre><div class="dnd-atom-wrapper type-image context-sdl_editor_representation" contenteditable="false">
<div class="dnd-drop-wrapper"><!-- scald=77:sdl_editor_representation --><div class='image'><img typeof="foaf:Image" src="https://ferret.pmel.noaa.gov/Ferret/sites/default/files/thumbnails/image/custom_legend.png" width="830" height="498" alt="custom_legend.png" title="custom_legend.png" /></div><!-- END scald=77 --></div>
<div class="dnd-legend-wrapper" contenteditable="true">
<div class="meta">
<!--copyright=77--><!--END copyright=77--></div>
</div>
</div>
<p> </p>
<p> </p>
</div>
</div>
</div>

</div>

<div class="clearfix">
<nav class="links node-links clearfix"></nav>

</div>
</article>    </div>
</div>
</div>      </div>
</div>  </div>
</div></section>    
 
<footer id="section-footer" class="section section-footer">

  <div id="zone-footer-wrapper" class="zone-wrapper zone-footer-wrapper clearfix">  
  <div id="zone-footer" class="zone zone-footer clearfix container-12">
    <div class="grid-8 region region-footer-first" id="region-footer-first">
  <div class="region-inner region-footer-first-inner">
    <div class="block block-block block-1 block-block-1 odd block-without-title" id="block-block-1">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-block block-2 block-block-2 even block-without-title" id="block-block-2">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-menu block-menu-footer-first-menu block-menu-menu-footer-first-menu odd block-without-title" id="block-menu-menu-footer-first-menu">

  </div>
</div>  </div>
</div><div class="grid-4 region region-footer-second" id="region-footer-second">
  <div class="region-inner region-footer-second-inner">
    <div class="block block-menu block-menu-footer-second-menu block-menu-menu-footer-second-menu odd block-without-title" id="block-menu-menu-footer-second-menu">
  <div class="block-inner clearfix">
                
  </div>
</div>  </div>
</div>  </div>
</div></footer>  </div>  <div class="region region-page-bottom" id="region-page-bottom">
  <div class="region-inner region-page-bottom-inner">
      </div>
</div>  <div id="body-bg-bottom"></div>
</body>
</html>
