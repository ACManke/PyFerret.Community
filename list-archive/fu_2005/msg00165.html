<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: some comments -->
<!--X-From-R13: "Enat&#45;xv Zrr" <Enat&#45;xv.ZrrNabnn.tbi> -->
<!--X-Date: Fri, 18 Feb 2005 12:16:21 &#45;0800 -->
<!--X-Message-Id: 42164C8B.1060803@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.LNX.4.44.0501172317110.29425&#45;200000@caos.iisc.ernet.in -->
<!--X-Reference: 42112154.2000909@noaa.gov -->
<!--X-Reference: 421273DD.1080106@noaa.gov -->
<!--X-Reference: 42129D06.38FFA9BB@noaa.gov -->
<!--X-Reference: 4214BAED.4090804@noaa.gov -->
<!--X-Reference: 4214D99F.9030905@noaa.gov -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: some comments</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00160.html">Thread Prev</a>][<a href="msg00025.html">Thread Next</a>][<A HREF="threads.html#00165">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: some comments</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: some comments</strong></li>
<li><strong>From</strong>: <strong>&quot;Sang-ki Lee&quot; &lt;<a href="mailto:Sang-ki.Lee@DOMAIN.HIDDEN">Sang-ki.Lee@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 18 Feb 2005 15:14:03 -0500</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00160.html">4214D99F.9030905@noaa.gov</a>&gt;</li>
<li>References: &lt;<a href="msg00039.html">Pine.LNX.4.44.0501172317110.29425-200000@caos.iisc.ernet.in</a>&gt; &lt;<a href="msg00148.html">42112154.2000909@noaa.gov</a>&gt; &lt;<a href="msg00153.html">421273DD.1080106@noaa.gov</a>&gt; &lt;<a href="msg00156.html">42129D06.38FFA9BB@noaa.gov</a>&gt; &lt;<a href="msg00158.html">4214BAED.4090804@noaa.gov</a>&gt; &lt;<a href="msg00160.html">4214D99F.9030905@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.4.3) Gecko/20041004</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Ansley and Billy,

Thank both of you for great suggestions. I tried your suggestion
on the viewport issue. I find that &quot;viewport/axes&quot; option works
great, but I still have two minor problems, (1) it appears that
the size of a viewport in the right column is slightly smaller
than the one in the left although &quot;ylim&quot; is set identical in the
two cases; (2) When I try to run another script following the first
script that contains &quot;viewport/axes&quot; statement, I get segmentation
fault and ferret is terminated. Here is an example of my viewport
statement lines:

define viewport/axes/xlim=0.1000,0.3550/ylim=0.800, 0.900/text=0.6 v01
define viewport/axes/xlim=0.1000,0.3550/ylim=0.685, 0.785/text=0.6 v02
define viewport/axes/xlim=0.1000,0.3550/ylim=0.570, 0.670/text=0.6 v03
define viewport/axes/xlim=0.1000,0.3550/ylim=0.455, 0.555/text=0.6 v04
define viewport/axes/xlim=0.1000,0.3550/ylim=0.330, 0.430/text=0.6 v05
define viewport/axes/xlim=0.3725,0.6275/ylim=0.800, 0.900/text=0.6 v06
define viewport/axes/xlim=0.3725,0.6275/ylim=0.685, 0.785/text=0.6 v07
define viewport/axes/xlim=0.3725,0.6275/ylim=0.570, 0.670/text=0.6 v08
define viewport/axes/xlim=0.3725,0.6275/ylim=0.455, 0.555/text=0.6 v09
define viewport/axes/xlim=0.3725,0.6275/ylim=0.330, 0.430/text=0.6 v10
define viewport/axes/xlim=0.6450,0.9000/ylim=0.800, 0.900/text=0.6 v11
define viewport/axes/xlim=0.6450,0.9000/ylim=0.685, 0.785/text=0.6 v12
define viewport/axes/xlim=0.6450,0.9000/ylim=0.570, 0.670/text=0.6 v13
define viewport/axes/xlim=0.6450,0.9000/ylim=0.455, 0.555/text=0.6 v14
define viewport/axes/xlim=0.6450,0.9000/ylim=0.330, 0.430/text=0.6 v15

I find your suggestion on the legend-drawing very usuful too. Thanks.

I have another new question on vector-plot. I like &quot;centered_vectors&quot;
script very much because I can control the size (length and width) of
arrow head by editing &quot;scattered_vectors&quot; script. Only problem I have
is that the dot at the center of each arrow is too large. Is it
possible to remove or reduce the size of those dots?

All the best,

Sang-ki

Ansley Manke wrote:
</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi Sang-ki -<br>
It's nice to hear your enthusiasm about Ferret.<br>
<br>
1) When defining viewports, the /TEXT qualifier changes the text size<br>
by changing the lengths of the axes, rather than any direct change to<br>
text label sizes. I have a couple of alternate suggestions.  Have you<br>
ever used the /AXES qualifier for DEFINE VIEWPORT?  This makes<br>
the definition of the viewport by placing the axes at the locations you<br>
specify rather than the edges of the margins.  This sounds like what you're<br>
after.<br>
<br>
Another idea is to use your &quot;magic numbers&quot; and use the PPLUS LABSET<br>
command to set the character sizes for labels explicitly, rather than using<br>
the  /TEXT qualifier.  Here's the documentation on LABSET.  See<br>
Appendix B Sec 9.39 for the documentation on LABSET.  This is not as<br>
convenient as the PPLUS call needs to be made on each plot command:<br>
<br>
 yes? set view v01<br>
 yes? plot/set my_var<br>
 yes?   ppl labset 0.2, 0.15, 0.15, 0.2<br>
 yes?   ppl plot<br>
<br>
2) The legend-drawing scripts are user contributions; we depend on users<br>
to contribute various useful scripts they develop. One way to get a symbol<br>
along with the line sample is to put it in as part of the label; these 
commands<br>
will put the symbol at the end of the line:<br>
<br>
go legline_nu  0.00 0.05 0.084  1 0.1 &quot;@pm01@SR  Q_C_S_R&quot;<br>
go legline_nu  0.20 0.05 0.084  2 0.1 &quot;@pm03@SR  Q_C_R_F&quot;<br>
go legline_nu  0.40 0.05 0.084  3 0.1 &quot;@pm17@SR  Q_L_A_T_(_T_)&quot;<br>
go legline_nu  0.60 0.05 0.084  4 0.1 &quot;@pm19@SR  Q_L_A_T_(_W_)&quot;<br>
<br>
Sang-ki Lee wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre>Steve and Ansley,

Great. Both suggestions worked for me. One mistery solved!

I have been trying so many different graphic packages so far,
including IDL, SPLUS(R), Surfer (Grapher) and NCL(NCAR).
Although Mathlab is the most popular software in where I work
(We have only two ferret users here), the ferret is the best
software for me. In fact, I cannot live a day with it.
However, I have two major complains:

(1) The following is the typical viewport statement that I use.
As you can see, ylim for the first viewport is ylim=0.651, 0.975,
and ylim=0.528, 0.852 for the second one. I came up with these
values by trial and error to get rid of space between the two
plots. As you can see, the magic number is (0.201 = 0.852 - 0.651).
But, if I change the text size, this magic number changes.....
To make a long story short, it would be very nice if I can use
something like ylim=0.500, 1.000, and ylim=0.000, 0.500 instead.

define viewport/xlim=0.0000,0.6025/ylim=0.651, 0.975/text=0.6 v01
define viewport/xlim=0.0000,0.6025/ylim=0.528, 0.852/text=0.6 v02
define viewport/xlim=0.0000,0.6025/ylim=0.405, 0.729/text=0.6 v03
define viewport/xlim=0.0000,0.6025/ylim=0.282, 0.606/text=0.6 v04
define viewport/xlim=0.0000,0.6025/ylim=0.159, 0.483/text=0.6 v05
define viewport/xlim=0.0000,0.6025/ylim=0.036, 0.360/text=0.6 v06
define viewport/xlim=0.3976,1.0000/ylim=0.651, 0.975/text=0.6 v07
define viewport/xlim=0.3976,1.0000/ylim=0.528, 0.852/text=0.6 v08
define viewport/xlim=0.3976,1.0000/ylim=0.405, 0.729/text=0.6 v09
define viewport/xlim=0.3976,1.0000/ylim=0.282, 0.606/text=0.6 v10
define viewport/xlim=0.3976,1.0000/ylim=0.159, 0.483/text=0.6 v11
define viewport/xlim=0.3976,1.0000/ylim=0.036, 0.360/text=0.6 v12

(2) I use the following combination of the commands to get
my legend for xyplot. What these do is to plot legend lines,
then put symbols right at the middle of each legend line. I do
spend too much time in order to put the symbols at the right
locations. It would be very nice if you invent a new legline
like script that does all these things automatically.

go legline_nu  0.00 0.05 0.084  1 0.1 &quot;Q_C_S_R&quot;
go legline_nu  0.20 0.05 0.084  2 0.1 &quot;Q_C_R_F&quot;
go legline_nu  0.40 0.05 0.084  3 0.1 &quot;Q_L_A_T_(_T_)&quot;
go legline_nu  0.60 0.05 0.084  4 0.1 &quot;Q_L_A_T_(_W_)&quot;
label/nouser   0.45, 0.13, 0,0,0.08,&quot;@pm01&quot;
label/nouser   1.57, 0.13, 0,0,0.08,&quot;@pm03&quot;
label/nouser   2.70, 0.13, 0,0,0.08,&quot;@pm17&quot;
label/nouser   3.80, 0.13, 0,0,0.08,&quot;@pm19&quot;
label/nouser   3.0,  -0.5, 0,0,0.10,&quot;month&quot;

Thanks a lot!

Sang-ki

Steve Hankin wrote:

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi Sang-ki,<br>
<br>
The FILL command is an interpolation operation (it has to find a 
contour path between grid cells).  The SHADE command is not (it 
simply treats each cell independently).  Normally Ferret makes a 
small adjustment in the extent of  the plotting region to accomodate 
the 1/2 grid cell variation that exists between these two methods of 
rendering the graphics.<br>
<br>
To see this difference look at the X axis limits used by the PLOT+ 
engine (&quot;ppl list xaxis&quot;) in this output:<br>
<br>
    yes? use coads_climatology<br>
    yes? shade/x=130e:80w/y=20s:20n/l=1 sst<br>
    yes? ppl list xaxis<br>
             XAXIS QUALITIES<br>
             *LO= 1.30E+02 HI= 2.80E+02* TIC= 2.00E+01 LEN= 8.00E+00<br>
    yes? fill/x=130e:80w/y=20s:20n/l=1 sst<br>
    yes? ppl list xaxis<br>
             XAXIS QUALITIES<br>
             *LO= 1.31E+02 HI= 2.79E+02* TIC= 2.00E+01 LEN= 8.00E+00<br>
<br>
 &gt;From what you've described I presume that you are using /OVERLAY or 
/HLIMITS and thereby (accidentally?) taking control of the extent of 
the plotting region.  The following command illustrates how you can 
create white space at the edges this way:<br>
<br>
    yes? fill/x=130e:80w/y=20s:20n/l=1/hlimits=130e:80w sst<br>
<br>
Solution: As long as you set the data region (&quot;x=130e:80w&quot; above) to 
be at least a grid cell larger on each side than the plotting region 
(&quot;hlimits=130e:80w&quot; above) you can avoid this problem.<br>
<br>
    - steve<br>
<br>
============================<br>
<br>
Ansley Manke wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi Sang-ki<br>
Yes, we've seen this.  Isyour data on an irregularly spaced<br>
grid? Depending on the data and the grid it's on, the algorithm<br>
that does the fill plot can't always fill the entire region.  A<br>
workaround is to do a SHADE plot and then overlay it with<br>
your FILL command, using the same contour levels.<br>
<br>
Ansley<br>
<br>
Sang-ki Lee wrote:<br>
<br>
&gt; Hi. My problem is that when &quot;fill&quot; command is used for colored 
contour,<br>
&gt; sometimes I get white space at top or side edge of the colored 
contour<br>
&gt; plot. This problem come and go, and it is nothing to do with missing<br>
&gt; data point. Has anyone noticed this problem?<br>
&gt;<br>
&gt; I am using v5.60 on Linux.<br>
&gt;<br>
&gt; Thank you.<br>
&gt;<br>
&gt; Sang-ki<br>
<br>
</blockquote>--<br>
º¤ø,¸¸,ø¤º°`°º¤ø,¸¸,ø¤º°`°º¤ø,¸¸,ø¤º°`°º¤º¤ø,¸¸,ø¤º<br>
<br>
Steve Hankin, NOAA/PMEL -- Steven.C.Hankin@noaa.gov<br>
7600 Sand Point Way NE, Seattle, WA 98115-6349<br>
ph. (206) 526-6080, FAX (206) 526-6744<br>
 
<br>
</blockquote><pre>

</pre>
</blockquote><pre>

</pre>
</blockquote><pre>

--
----------------------------------------------------------------------
Dr. Sang-ki Lee
RSMAS/CIMAS
University of Miami
4600 Rickenbacker Causeway
Miami, FL 33149 USA
Tel) 305-361-4521
Fax) 305-361-4412
E-mail) sang-ki.lee@noaa.gov
----------------------------------------------------------------------
Mailing-address:
Dr. Sang-ki Lee
AOML/PHOD
4301 Rickenbacker Causeway
Miami, FL, 33149 USA
----------------------------------------------------------------------

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00039" href="msg00039.html">Re: sorting in a multi-dimensional dataset</a></strong>
<ul><li><em>From:</em> Jaison Kurian</li></ul></li>
<li><strong><a name="00148" href="msg00148.html">white space at the edge of colored contour plot</a></strong>
<ul><li><em>From:</em> Sang-ki Lee</li></ul></li>
<li><strong><a name="00153" href="msg00153.html">Re: white space at the edge of colored contour plot</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00156" href="msg00156.html">Re: white space at the edge of colored contour plot</a></strong>
<ul><li><em>From:</em> Steve Hankin</li></ul></li>
<li><strong><a name="00158" href="msg00158.html">some comments</a></strong>
<ul><li><em>From:</em> Sang-ki Lee</li></ul></li>
<li><strong><a name="00160" href="msg00160.html">Re: some comments</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00160.html">Re: some comments</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00025.html">plotting global attributes</a></strong>
</li>

</UL>
<center>[<a href="msg00160.html">Thread Prev</a>][<a href="msg00025.html">Thread Next</a>][<A HREF="threads.html#00165">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
