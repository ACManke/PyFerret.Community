<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: [ferret_users] Title label variable help -->
<!--X-From-R13: Eryvan Enggresvryq <fnggresvryqf2000Nlnubb.pbz> -->
<!--X-Date: Thu, 7 Jul 2005 05:56:53 &#45;0700 -->
<!--X-Message-Id: 20050707125649.94887.qmail@web84106.mail.dcn.yahoo.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.LNX.4.61.0507060045360.14573@caos.iisc.ernet.in -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: [ferret_users] Title label variable help</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00675.html">Thread Prev</a>][<a href="msg00676.html">Thread Next</a>][<A HREF="threads.html#00680">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Title label variable help</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>ferret_users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Title label variable help</strong></li>
<li><strong>From</strong>: <strong>Selina Satterfield &lt;<a href="mailto:satterfields2000@DOMAIN.HIDDEN">satterfields2000@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 7 Jul 2005 05:56:49 -0700 (PDT)</li>
<li>Domainkey-signature: a=rsa-sha1; q=dns; c=nofws; s=s1024; d=yahoo.com; h=Message-ID:Received:Date:From:Subject:To:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=EPFpTCZYbMO13jzVRexxajSYkQkOktbHd68/BFef/8XmaERLO1BjEeA69NlTvgsZhmfY6BasGYPJVB6Pfh1M7Pk7X3mi4w4GvwXDjd120Bzkbp646MaVM8/o/DO9v6vAmGNRi0UJCa+/Zqyt/UeNgTDt4F9yhtf1eV8f1HYwCq8=  ;</li>
<li>In-reply-to: &lt;<a href="msg00675.html">Pine.LNX.4.61.0507060045360.14573@caos.iisc.ernet.in</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Thank you for your help on the GIF label issue I was
able to find the correct location and display the new
labels. 

Now I am having some problems when writing my own
header. Currently I need to be able to create ASCII
text, COMMA delimited text and tab delimited text.

For the comma and tab delimited text I use list/nohead
as advised and then display the my own start and end
date labels. The problem I have is now I need to
recreate the whole header myself because the only item
I really wanted to keep from displaying was the TIME
header. 

Here is an example of the original header
             VARIABLE : Average Gradient (Deg. C/100
Km)
             DATA SET : SST 100KM GLOBAL
             FILENAME : MY_Descriptor.des
             FILEPATH : /HTML/DocRoot/www/product/6/
             BAD FLAG :   999.9000    
             SUBSET   : 361 by 141 points
(LONGITUDE-LATITUDE)
             TIME     : 16-MAY-2005 00:00


This is how I want the new header

VARIABLE : Average Gradient (Deg. C/100 Km)
             DATA SET : SST 100KM GLOBAL
             FILENAME : MY_Descriptor.des
             FILEPATH : /HTML/DocRoot/www/product/6/
             BAD FLAG :   999.9000    
             SUBSET   : 361 by 141 points
(LONGITUDE-LATITUDE)
             START DATE : 16-MAY-2005 00:00
             END DATE   : 17-MAY-2005 00:00

I was able to recreate most of the header by using
return values such as title,dset ,dsetpath, bad, and
units. I am having trouble creating the exact output
for subset. Also I haven't been able to output the
information for DATA SET. I thought that the return
value of DSETTITLE would have this information but it
returns an error (I am using Ferret v5.41 for AIX ).

Another issue I have with the comma and tab delimited
files is when multiple dates are used the following is
displayed for each date
 ---- L:1 T:   16-MAY-2005 00:00
Is there any way to modify that header?

The final issue is concerned with creating ASCII files
orignal go file used the
HEADING=ENHANCED/FORMAT=(5G12.5) which displays the
following:
VARIABLE : Average Gradient (Deg. C/100 Km)
             DATA SET : SST 100KM GLOBAL
             FILENAME : MY_Descriptor.des
             FILEPATH : /HTML/DocRoot/www/product/9/
             LONGITUDE: 154W to 150W
             LATITUDE : 63S to 42N
             TIME     : 16-MAY-2005 00:00
             GEOMETRY: XY 
             SIZE:  5  106  
             FORTRAN FORMAT: (5G12.5)
             MISSING VALUES FLAG:   999.9000

X COORDINATES: degrees_east
 206.00      207.00  . . . .
Y COORDINATES: degrees_north
 -63.000     -62.000 . . . .
DATA:
  .10000      .10000      .20000   . . .

When I use the NOHEAD to strip the header and create
my own header it removes the X COORDINATES, Y
COORDINATES sections and only displays the data
without the DATA: header. Is there any way that I can
recreate these sections? Thank you for your time and
all of the help.

Selina


 

--- Jaison Kurian &lt;jaison@caos.iisc.ernet.in&gt; wrote:

&gt; Hi Selina,
&gt;               Your question was like :
&gt; 
&gt;       ...So at the top of the gif or ASCII file I
&gt; would have
&gt;       something like this
&gt; 
&gt;       START DATE: 01/01/01
&gt;       END DATE: 01/03/01
&gt;       DATE MEANING: start and end date of data
&gt; collection.
&gt; 
&gt;   and in my reply i explained how to do this (may be
&gt; in a
&gt; slightly different format)...with strings as given
&gt; below ?
&gt; 
&gt;       START DATE : 16-JAN-1982 20:00
&gt;       END   DATE : 17-DEC-1992 03:30
&gt;       DATE MEANING: start and end date of data
&gt; collection
&gt; 
&gt;   this is the easy way to make time strings in
&gt; Ferret, do
&gt; you need exactly in the format &quot;START DATE:
&gt; 01/01/01&quot;
&gt; instead of the normal Ferret style
&gt; &quot;START DATE : 16-JAN-1982 20:00&quot;  ??
&gt; 
&gt;   In this case you need to write few more lines, but
&gt; it is
&gt; possible.
&gt; 
&gt;   In your go file, you have to give proper X and Y
&gt; locations
&gt; for the &quot;LABEL&quot; command (currently it is same values
&gt; as the
&gt; example file...please change it and try again !!!):
&gt; 
&gt;      label `($PPL$XMIN1)*1.3`,12.5,-1,0,0.13 START
&gt; DATE : `ts`
&gt; 
&gt;   Here each time you have to tune the first and
&gt; second (x &amp; y
&gt; locations) arguments to label command to get label
&gt; at proper
&gt; place (fixed values, even with the qualifier /NOUSER
&gt; is not
&gt; appropriate since the flexibility for using a
&gt; defined viewport
&gt; will be lost then). Use PPL command
&gt; 
&gt;                yes? ppl list labels
&gt; 
&gt;    to know the co-ordinates of default plot (should
&gt; be issued
&gt; before &quot;go unlabel 4&quot; and the FILL or PLOT command
&gt; should not
&gt; contain &quot;/NOLAB&quot; qualifier). You can use these
&gt; listed values
&gt; to get the desired label at the default position of
&gt; an
&gt; automatic label.
&gt; 
&gt;   In your go file, you have 3 SHADE commands, the
&gt; second
&gt; one doesnot have the /OVER qualifier and the
&gt; labelling is
&gt; done after the first plot .....so you will loose
&gt; that label
&gt; automatically.....Hope now you got the problems with
&gt; your
&gt; go file.
&gt; 
&gt; With Regards
&gt; 
&gt; Jaison
&gt; 
&gt; On Tue, 5 Jul 2005, Selina Satterfield wrote:
&gt; 
&gt; &gt; I was able to add the label to the gif file using
&gt; the
&gt; &gt; information you supplied to my code I had it in
&gt; the
&gt; &gt; incorrect place,however, I still have the question
&gt; &gt; about only removing the TIME header and adding my
&gt; own
&gt; &gt; though Thank you for your help.
&gt; &gt;
&gt; &gt; Selina
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --- Selina Satterfield
&gt; &lt;satterfields2000@yahoo.com&gt;
&gt; &gt; wrote:
&gt; &gt;
&gt; &gt;&gt; Hello Jaison,
&gt; &gt;&gt;
&gt; &gt;&gt; I'm having a little difficulty creating my
&gt; labels. I
&gt; &gt;&gt; want to be able to use the variable that is
&gt; passed
&gt; &gt;&gt; to
&gt; &gt;&gt; the jnl file for setting the start and end time
&gt; &gt;&gt; labels
&gt; &gt;&gt; but I'm not sure of the syntax for example where
&gt; $2
&gt; &gt;&gt; is
&gt; &gt;&gt; the variable that I want to obtain the start time
&gt; &gt;&gt; from:
&gt; &gt;&gt; let ts = &quot;`$2,r=tstart`&quot;   ! starting time
&gt; &gt;&gt;
&gt; &gt;&gt; Also the new labels aren't displaying here is my
&gt; &gt;&gt; code
&gt; &gt;&gt;
&gt; &gt;&gt; ! Parameter Order           1         2          
&gt; 3
&gt; &gt;&gt;
&gt; &gt;&gt; ! Usage: vis_draw_rect [monthly] [variable]
&gt; &gt;&gt; [landmap]
&gt; &gt;&gt;
&gt; &gt;&gt; !1 1(monthly data), 0(nonmonthly data)
&gt; &gt;&gt; !2 variable
&gt; &gt;&gt; !3 1(draw land map), 0(no land map)
&gt; &gt;&gt;
&gt; &gt;&gt; ! define data viewport
&gt; &gt;&gt; define view/xlimits=0:1/ylimits=0.2:1 dataview
&gt; &gt;&gt; set view dataview
&gt; &gt;&gt;
&gt; &gt;&gt; ! obtain start and end time of the data so can
&gt; &gt;&gt; display
&gt; &gt;&gt; on the GIF
&gt; &gt;&gt; let ts = &quot;Temp Text until get correct syntax&quot;
&gt; &gt;&gt;
&gt; &gt;&gt; if $1 then  ! ver5.0 not allow brackets
&gt; &gt;&gt; 	SET MODE CALENDAR:MONTHS
&gt; &gt;&gt; endif
&gt; &gt;&gt;
&gt; &gt;&gt; SHADE/SET/LEVELS=1/nokey/lev=(-99999) $2
&gt; &gt;&gt;
&gt; &gt;&gt; !Remove Time from graph
&gt; &gt;&gt; go unlabel 4
&gt; &gt;&gt; PPL SHADE
&gt; &gt;&gt;
&gt; &gt;&gt; !Add Start Time label
&gt; &gt;&gt; label `($PPL$XMIN1)*1.3`,12.5,-1,0,0.13 START
&gt; DATE :
&gt; &gt;&gt; `ts`
&gt; &gt;&gt;
&gt; &gt;&gt; SHADE/LEVELS=1/nolab/nokey/pal=black missing($2,
&gt; 0)
&gt; &gt;&gt; SHADE/LEVELS=23/nolab/pal=default/key/over $2
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; ! outline land map for PATHFINDER
&gt; &gt;&gt; if $3 then
&gt; &gt;&gt;
&gt; &gt;&gt; 	go land black overlay
&gt; &gt;&gt; endif
&gt; &gt;&gt;
&gt; &gt;&gt; Another question I had is for creating ASCII,
&gt; TAB,
&gt; &gt;&gt; and
&gt; &gt;&gt; COMMA text files. The out put for TAB looks like
&gt; &gt;&gt; this:
&gt; &gt;&gt;              VARIABLE : Analysis Temperature
&gt; (Deg.
&gt; &gt;&gt; C)
&gt; &gt;&gt;              DATA SET : SST 100KM GLOBAL
&gt; &gt;&gt;              FILENAME : MY_Descriptor.des
&gt; &gt;&gt;              FILEPATH :
&gt; /DocRoot/User/www/product/
&gt; &gt;&gt;              BAD FLAG :   999.9000
&gt; &gt;&gt;              SUBSET   : 361 by 141 points
&gt; &gt;&gt; (LONGITUDE-LATITUDE)
&gt; &gt;&gt;              TIME     : 16-MAY-2005 00:00
&gt; &gt;&gt;
&gt; &gt;&gt; coordinates	0E  	1E  	2E  	3E  	4E    . . . .
&gt; &gt;&gt; 70S	999.9	999.9	999.9	999.9	999.9	999.9 . . . .
&gt; &gt;&gt; 69S	-1.7	-1.7	-1.7	-1.7	-1.7	-1.1  . . . .
&gt; &gt;&gt; 68S	-1.7	-1.7	-1.7	-1.7	-1.7	-1.7  . . . .
&gt; &gt;&gt; . . . .
&gt; &gt;&gt;
&gt; &gt;&gt;             VARIABLE : Analysis Temperature (Deg.
&gt; C)
&gt; &gt;&gt;              DATA SET : SST 100KM GLOBAL
&gt; &gt;&gt;              FILENAME : MY_Descriptor.des
&gt; &gt;&gt;              FILEPATH :
&gt; &gt;&gt; /DocRoot/VisUser/www/product/
&gt; &gt;&gt;              BAD FLAG :   999.9000
&gt; &gt;&gt;              SUBSET   : 361 by 141 by 2 points
&gt; &gt;&gt; (LONGITUDE-LATITUDE-TIME)
&gt; &gt;&gt;
&gt; &gt;&gt; coordinates	0E  	1E  	2E  	3E  	4E    . . . .
&gt; &gt;&gt; ---- L:1 T:   16-MAY-2005 00:00
&gt; &gt;&gt; 70S	999.9	999.9	999.9	999.9	999.9	999.9 . . . .
&gt; &gt;&gt; 69S	-1.7	-1.7	-1.7	-1.7	-1.7	-1.1  . . . .
&gt; &gt;&gt; 68S	-1.7	-1.7	-1.7	-1.7	-1.7	-1.7  . . . .
&gt; &gt;&gt; . . . .
&gt; &gt;&gt; ---- L:2 T:   17-MAY-2005 00:00
&gt; 
=== message truncated ===



		
____________________________________________________
Sell on Yahoo! Auctions – no fees. Bid on great items.  
<a  href="http://auctions.yahoo.com/">http://auctions.yahoo.com/</a>

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00675" href="msg00675.html">Re: [ferret_users] Title label variable help</a></strong>
<ul><li><em>From:</em> Jaison Kurian</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00675.html">Re: [ferret_users] Title label variable help</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00676.html">Re: [ferret_users] Re: Title label variable help</a></strong>
</li>

</UL>
<center>[<a href="msg00675.html">Thread Prev</a>][<a href="msg00676.html">Thread Next</a>][<A HREF="threads.html#00680">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
