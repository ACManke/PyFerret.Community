 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML+RDFa 1.1//EN">
<html lang="en" dir="ltr" version="HTML+RDFa 1.1"
xmlns:content="http://purl.org/rss/1.0/modules/content/"
xmlns:dc="http://purl.org/dc/terms/"
xmlns:foaf="http://xmlns.com/foaf/0.1/"
xmlns:og="http://ogp.me/ns#"
xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
xmlns:sioc="http://rdfs.org/sioc/ns#"
xmlns:sioct="http://rdfs.org/sioc/types#"
xmlns:skos="http://www.w3.org/2004/02/skos/core#"
xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
xmlns:schema="http://schema.org/">
<head profile="http://www.w3.org/1999/xhtml/vocab">
<title>PyFerret for the Python user - Ferret/PyFerret Documentation</title>

<link rel="stylesheet" href="../../modules/system/system.base.css">
<link rel="stylesheet" href="../../modules/system/system.menus.css">
<link rel="stylesheet" href="../../modules/system/system.messages.css">
<link rel="stylesheet" href="../../modules/system/system.theme.css">

<link rel="stylesheet" href="../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.core.min.css">
<link rel="stylesheet" href="../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.theme.min.css">
<link rel="stylesheet" href="../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.menu.min.css">
<link rel="stylesheet" href="../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.autocomplete.min.css">

<link rel="stylesheet" href="../../sites/all/modules/calendar/css/calendar_multiday.css">
<link rel="stylesheet" href="../../modules/field/theme/field.css">
<link rel="stylesheet" href="../../sites/all/modules/scald/modules/fields/mee/css/editor-global.css">
<link rel="stylesheet" href="../../modules/node/node.css">
<link rel="stylesheet" href="../../sites/all/modules/scald_file/scald_file.css">
<link rel="stylesheet" href="../../modules/search/search.css">
<link rel="stylesheet" href="../../modules/user/user.css">
<link rel="stylesheet" href="../../sites/all/modules/views/css/views.css">
<link rel="stylesheet" href="../../sites/all/modules/ckeditor/css/ckeditor.css">

<link rel="stylesheet" href="../../sites/all/modules/ctools/css/ctools.css">
<link rel="stylesheet" href="../../sites/all/modules/custom_search/custom_search.css">
<link rel="stylesheet" href="../../sites/all/modules/search_autocomplete/css/themes/minimal.css">
<link rel="stylesheet" href="../../sites/all/libraries/superfish/css/superfish.css">
<link rel="stylesheet" href="../../sites/all/libraries/superfish/css/superfish-smallscreen.css">
<link rel="stylesheet" href="../../sites/all/libraries/superfish/css/superfish-vertical.css">

<link rel="stylesheet" href="../../sites/all/themes/pacific_marine/css/ckeditor_custom.css">

<link rel="stylesheet" href="../../sites/all/themes/omega/alpha/css/alpha-reset.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/alpha/css/alpha-mobile.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/alpha/css/alpha-alpha.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/formalize.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/omega-text.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/omega-branding.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/omega-menu.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/omega-forms.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/omega-visuals.css">
<link rel="stylesheet" href="../../sites/all/themes/pacific_marine/css/global.css">



<link rel="stylesheet" href="../../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css">
<link rel="stylesheet" href="../../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-wide.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/alpha/css/grid/alpha_default/wide/alpha-default-wide-12.css">


</head>
<body class="html not-front not-logged-in page-node page-node- page-node-555 node-type-documentation-page context-documentation">
  <div id="body-bg-top"></div>
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div class="page clearfix" id="page">
      <header id="section-header" class="section section-header">
  <div id="zone-header-wrapper" class="zone-wrapper zone-header-wrapper clearfix">  
  <div id="zone-header" class="zone zone-header clearfix container-12">
    <div class="grid-7 region region-branding" id="region-branding">
  <div class="region-inner region-branding-inner">
        <div class="branding-data clearfix">
            <div class="logo-img">
        <a href="../../index.html" rel="home" title=""><img src="../../sites/all/themes/pacific_marine/images/ferret-banner.png" alt="" id="logo" /></a>
		</div>
                </div>
          </div>
</div><div class="grid-5 region region-header-first" id="region-header-first">
  <div class="region-inner region-header-first-inner">
    <div class="block block-block block-4 block-block-4 odd block-without-title" id="block-block-4">
  <div class="block-inner clearfix">

  </div>
</div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-menu-wrapper" class="zone-wrapper zone-menu-wrapper clearfix">  
  <div id="zone-menu" class="zone zone-menu clearfix container-12">
    <div class="grid-12 region region-menu" id="region-menu">
  <div class="region-inner region-menu-inner">
        <div class="block block-system block-menu block-main-menu block-system-main-menu odd block-without-title" id="block-system-main-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu">
	  <li class="first expanded"><a href="../../index.html">Home</a></li>
<li class="leaf"><a href="../ferret-documentation.html">Documentation</a></li>
<li class="leaf"><a href="../../faq/ferret-faqs.html">FAQ</a></li>
<li class="collapsed"><a href="downloads.html">Downloads</a></li>
<li class="collapsed"><a href="../pyferret-support.html">Support</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div>
  </div>
</div></header> 
<section id="section-content" class="section section-content">
<div id="zone-preface-wrapper" class="zone-wrapper zone-preface-wrapper clearfix">  
<div id="zone-preface" class="zone zone-preface clearfix equal-height-container container-12">
<div class="grid-3 region region-preface-first equal-height-element" id="region-preface-first">
<div class="region-inner region-preface-first-inner">
</div>
</div><div class="grid-9 region region-preface-second equal-height-element" id="region-preface-second">
<div class="region-inner region-preface-second-inner">
</div>
</div>  </div>
</div><div id="zone-content-wrapper" class="zone-wrapper zone-content-wrapper clearfix sidebar">  
<div id="zone-content" class="zone zone-content clearfix equal-height-container container-12">    

        <aside class="grid-3 region region-sidebar-first equal-height-element" id="region-sidebar-first">
  <div class="region-inner region-sidebar-first-inner">
    <div class="block block-superfish block-1 block-superfish-1 odd block-without-title" id="block-superfish-1">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <!-- start -->
      <ul  id="superfish-1" class="menu sf-menu sf-main-menu sf-vertical sf-style-none sf-total-items-8 sf-parent-items-4 sf-single-items-4"><li id="menu-1620-1" class="first odd sf-item-1 sf-depth-2 sf-no-children"><a href="../version-763-release-notes.html" class="sf-depth-2">Current Release Notes</a></li>
<li id="menu-1170-1" class="active-trail middle even sf-item-2 sf-depth-2 sf-total-children-17 sf-parent-children-15 sf-single-children-2 menuparent">
<a href="../users-guide/users-guide.html" class="sf-depth-2 menuparent">Ferret Users Guide</a>
</li>
<li id="menu-1336-1" class="middle odd sf-item-3 sf-depth-2 sf-no-children"><a href="../all-release-notes.html" class="sf-depth-2">Previous Release Notes</a></li>
<li id="menu-1339-1" class="middle even sf-item-4 sf-depth-2 sf-total-children-15 sf-parent-children-1 sf-single-children-14 menuparent"><a href="../ferret-tutorials.html" class="sf-depth-2 menuparent">Tutorials and Demos</a></li>

<li id="menu-1333-1" class="middle odd sf-item-5 sf-depth-2 sf-total-children-13 sf-parent-children-1 sf-single-children-12 menuparent"><a href="../pyferret.html" class="sf-depth-2 menuparent">PyFerret</a>
</li>

<li id="menu-1147-1" class="middle even sf-item-6 sf-depth-2 sf-total-children-3 sf-parent-children-0 sf-single-children-3 menuparent"><a href="../opendap/opendap-usage-in-ferret.html" class="sf-depth-2 menuparent">OPeNDAP</a></li>

<!-- <li id="menu-1592-1" class="middle odd sf-item-7 sf-depth-2 sf-no-children"><a href="../ferret-publications.html" class="sf-depth-2">Ferret Publications</a></li>
<li id="menu-1389-1" class="last even sf-item-8 sf-depth-2 sf-no-children"><a href="../acknowledging-ferret.html" class="sf-depth-2">Acknowledging Ferret</a></li> -->  
</ul>  <!-- end -->    </div>
  </div>
</div>  </div>
</aside><div class="grid-9 region region-content equal-height-element" id="region-content">
  <div class="region-inner region-content-inner">
<a id="main-content"></a>
<h1 class="title" id="page-title">PyFerret for the Python user</h1>
<div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
<div class="block-inner clearfix">
 
<div class="content clearfix">
<article about="/Ferret/documentation/pyferret/example-sessions-python" typeof="sioc:Item foaf:Document" class="node node-documentation-page node-promoted node-published node-not-sticky author-kobrien odd clearfix" id="node-documentation-page-383">


 
<div class="field field-name-field-page-description field-type-text field-label-hidden">
<div class="field-items">
<div class="field-item even" property="schema:description">Example PyFerret session as a Python user</div>
</div>
</div>

<div class="content clearfix">
 
<div class="field field-name-body field-type-text-with-summary field-label-hidden">
<div class="field-items">
<div class="field-item even" property="content:encoded"><p><a href="pyferret-quick-start-notes.html">Previous</a>     <a href="graphics.html">Next</a></p>
<p>
</p><p>PyFerret can also be used as a Python module.  First we show how to use the pyferret module as any other Python module.  Then, in <a href="#USING_PYFERRET_OPTION_2">Option 2</a> and <a href="#USING_PYFERRET_OPTION_3">Option 3</a>, we show an easier way of doing this, using the pyferret script to start Python and PyFerret, but stay in (or return to) Python to work as a Python programmer.</p>
<p>
</p><h3>Using the pyferret module in Python - Option 1</h3>
<p>As mentioned in the previous section, some environment variables for Ferret need to defined using the ferret_paths script.  The Pyferret version of the ferret_paths script now (as of PyFerret version 1.1.0) defines the PYTHONPATH and LD_LIBRARY_DIR environment variables needed by PyFerret.  As before, this only needs to be done once in your terminal and may be automatically done in your terminal start-up scripts.  For C-shell users, the commands would look something like:</p>
<pre>% source /path/to/PyFerret/ferret_paths.csh<br /></pre><p>For Bourne-shell users, the commands would instead look something like:</p>
<pre>$ . /path/to/PyFerret/ferret_paths.sh<br /></pre><p>Then in Python, after importing the pyferret module, you just need to call either the <i>pyferret.init</i> or <i>pyferret.start</i> function to configure and start the Ferret engine in PyFerret.</p>
<pre>% python2.6<br />Python 2.6.6 (r266:84292, May 22 2015, 08:34:51) <br />[GCC 4.4.7 20120313 (Red Hat 4.4.7-15)] on linux2<br />Type "help", "copyright", "credits" or "license" for more information.<br />&gt;&gt;&gt; import pyferret<br />&gt;&gt;&gt; pyferret.start(quiet=True)<br />True<br />&gt;&gt;&gt; (errval, errmsg) = pyferret.run('use coads_climatology')<br />&gt;&gt;&gt; sstdict = pyferret.getdata('sst', False)<br />&gt;&gt;&gt; sstdict.keys()<br />['axis_coords', 'axis_types', 'data_unit', 'axis_units', 'title', 'axis_names', 'missing_value', 'data']<br />&gt;&gt;&gt; sstdata = sstdict['data']<br />&gt;&gt;&gt; type(sstdata)<br />&lt;type 'numpy.ndarray'&gt;<br />&gt;&gt;&gt; sstdata.shape<br />(180, 90, 1, 12)<br />&gt;&gt;&gt; import numpy<br />&gt;&gt;&gt; mask = numpy.abs(sstdata - sstdict['missing_value']) &lt; 1.0E-5<br />&gt;&gt;&gt; sstdata[mask] = -10.0<br />&gt;&gt;&gt; sstdict['name'] = 'SSTCopy'<br />&gt;&gt;&gt; sstdict['title'] = 'SST w/ miss vals set to -10'<br />&gt;&gt;&gt; pyferret.putdata(sstdict)<br />&gt;&gt;&gt; (errval, errmsg) = pyferret.run()<br />yes? show data<br /> currently SET data sets:<br /> 1&gt; /home/users/ksmith/Datasets/data/coads_climatology.cdf (default)<br /> name title I J K L<br /> SST SEA SURFACE TEMPERATURE 1:180 1:90 ... 1:12<br /> AIRT AIR TEMPERATURE 1:180 1:90 ... 1:12<br /> SPEH SPECIFIC HUMIDITY 1:180 1:90 ... 1:12<br /> WSPD WIND SPEED 1:180 1:90 ... 1:12<br /> UWND ZONAL WIND 1:180 1:90 ... 1:12<br /> VWND MERIDIONAL WIND 1:180 1:90 ... 1:12<br /> SLP SEA LEVEL PRESSURE 1:180 1:90 ... 1:12<br /> ------ Python Variables ------<br /> SSTCOPY SST w/ miss vals set to -10 1:180 1:90 ... 1:12<br /><br />yes? list sstcopy[X=125W:115W,Y=65S:55S,T=17-MAR]<br /> VARIABLE : SST w/ miss vals set to -10 (Deg C)<br /> FILENAME : coads_climatology.cdf<br /> FILEPATH : /home/users/ksmith/Datasets/data/<br /> SUBSET : 6 by 6 points (LONGITUDE-LATITUDE)<br /> TIME : 17-MAR 02:58<br /> 125W 123W 121W 119W 117W 115W <br /> 108 109 110 111 112 113<br /> 55S / 18: 5.60 5.79 -10.00 5.60 -10.00 -10.00<br /> 57S / 17: -10.00 -10.00 -10.00 -10.00 5.00 5.00<br /> 59S / 16: -10.00 -10.00 -10.00 -10.00 -10.00 -10.00<br /> 61S / 15: -10.00 -10.00 -10.00 -10.00 -10.00 -10.00<br /> 63S / 14: 1.83 -10.00 -10.00 -10.00 -10.00 -10.00<br /> 65S / 13: 0.75 1.65 2.47 1.65 2.30 2.15<br />yes? exit /topython<br />&gt;&gt;&gt; <br /></pre><p>Note:</p>
<ul><li>The Python <i>help</i> function provides lots of useful information on the pyferret module, using <i>help(pyferret),</i> and for pyferret functions; for example, <i>help(pyferret.run)</i>.</li>
<li>Calling <i>pyferret.run</i> without any arguments take you into Ferret's command-line interface.  Using the Ferret command <i>EXIT /TOPYTHON</i> returns back to the Python prompt.</li>
</ul><p><a name="USING_PYFERRET_OPTION_2" id="USING_PYFERRET_OPTION_2"></a><br /></p><h3>Using the pyferret module in Python - Option 2</h3>
<p>Running <i>pyferret</i> <i>-python</i> will start Python and the pyferret module appropriately, but remain at the Python prompt instead of going into Ferret's command-line interface.  Although you still need the environment variables set using <i>ferret_paths</i>, you do not have to worry about importing the pyferret module and starting the Ferret engine.</p>
<pre>% pyferret -python -quiet<br />&gt;&gt;&gt; pyferret.run('use coads_climatology')<br />(3, '')<br />&gt;&gt;&gt; <br /></pre><p><a name="USING_PYFERRET_OPTION_3" id="USING_PYFERRET_OPTION_3"></a><br /></p><h3>Using the pyferret module in Python - Option 3</h3>
<p>Or you can just run <i>pyferret</i> to start out in Ferret's command-line interface, then use the Ferret command <i>EXIT /TOPYTHON</i> to return to the Python prompt when desired.  Again, you will still need the Ferret environment variables set using <i>ferret_paths</i>, but you do not have to worry about importing the pyferret module and starting the Ferret engine.</p>
<pre>% pyferret -quiet<br />yes? use coads_climatology<br />yes? exit /topy<br />&gt;&gt;&gt;</pre><p>
</p><p><a href="pyferret-quick-start-notes.html">Previous</a>     <a href="graphics.html">Next</a></p>
</div>
</div>
</div>

</div>

<div class="clearfix">
<nav class="links node-links clearfix"></nav>

</div>
</article>
</div>
</div>
</div>      </div>
</div>  </div>
</div></section>    
 
<footer id="section-footer" class="section section-footer">

  <div id="zone-footer-wrapper" class="zone-wrapper zone-footer-wrapper clearfix">  
  <div id="zone-footer" class="zone zone-footer clearfix container-12">
    <div class="grid-8 region region-footer-first" id="region-footer-first">
  <div class="region-inner region-footer-first-inner">
    <div class="block block-block block-1 block-block-1 odd block-without-title" id="block-block-1">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-block block-2 block-block-2 even block-without-title" id="block-block-2">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-menu block-menu-footer-first-menu block-menu-menu-footer-first-menu odd block-without-title" id="block-menu-menu-footer-first-menu">

  </div>
</div>  </div>
</div><div class="grid-4 region region-footer-second" id="region-footer-second">
  <div class="region-inner region-footer-second-inner">
    <div class="block block-menu block-menu-footer-second-menu block-menu-menu-footer-second-menu odd block-without-title" id="block-menu-menu-footer-second-menu">
  <div class="block-inner clearfix">
                
  </div>
</div>  </div>
</div>  </div>
</div></footer>  </div>  <div class="region region-page-bottom" id="region-page-bottom">
  <div class="region-inner region-page-bottom-inner">
      </div>
</div>  <div id="body-bg-bottom"></div>
</body>
</html>
