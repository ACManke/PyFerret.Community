 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML+RDFa 1.1//EN">
<html lang="en" dir="ltr" version="HTML+RDFa 1.1"
xmlns:content="http://purl.org/rss/1.0/modules/content/"
xmlns:dc="http://purl.org/dc/terms/"
xmlns:foaf="http://xmlns.com/foaf/0.1/"
xmlns:og="http://ogp.me/ns#"
xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
xmlns:sioc="http://rdfs.org/sioc/ns#"
xmlns:sioct="http://rdfs.org/sioc/types#"
xmlns:skos="http://www.w3.org/2004/02/skos/core#"
xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
xmlns:schema="http://schema.org/">
<head profile="http://www.w3.org/1999/xhtml/vocab">
<title>Ferret external functions in Python - Ferret/PyFerret Documentation</title>

<link rel="stylesheet" href="../../modules/system/system.base.css">
<link rel="stylesheet" href="../../modules/system/system.menus.css">
<link rel="stylesheet" href="../../modules/system/system.messages.css">
<link rel="stylesheet" href="../../modules/system/system.theme.css">

<link rel="stylesheet" href="../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.core.min.css">
<link rel="stylesheet" href="../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.theme.min.css">
<link rel="stylesheet" href="../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.menu.min.css">
<link rel="stylesheet" href="../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.autocomplete.min.css">

<link rel="stylesheet" href="../../sites/all/modules/calendar/css/calendar_multiday.css">
<link rel="stylesheet" href="../../modules/field/theme/field.css">
<link rel="stylesheet" href="../../sites/all/modules/scald/modules/fields/mee/css/editor-global.css">
<link rel="stylesheet" href="../../modules/node/node.css">
<link rel="stylesheet" href="../../sites/all/modules/scald_file/scald_file.css">
<link rel="stylesheet" href="../../modules/search/search.css">
<link rel="stylesheet" href="../../modules/user/user.css">
<link rel="stylesheet" href="../../sites/all/modules/views/css/views.css">
<link rel="stylesheet" href="../../sites/all/modules/ckeditor/css/ckeditor.css">

<link rel="stylesheet" href="../../sites/all/modules/ctools/css/ctools.css">
<link rel="stylesheet" href="../../sites/all/modules/custom_search/custom_search.css">
<link rel="stylesheet" href="../../sites/all/modules/search_autocomplete/css/themes/minimal.css">
<link rel="stylesheet" href="../../sites/all/libraries/superfish/css/superfish.css">
<link rel="stylesheet" href="../../sites/all/libraries/superfish/css/superfish-smallscreen.css">
<link rel="stylesheet" href="../../sites/all/libraries/superfish/css/superfish-vertical.css">

<link rel="stylesheet" href="../../sites/all/themes/pacific_marine/css/ckeditor_custom.css">

<link rel="stylesheet" href="../../sites/all/themes/omega/alpha/css/alpha-reset.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/alpha/css/alpha-mobile.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/alpha/css/alpha-alpha.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/formalize.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/omega-text.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/omega-branding.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/omega-menu.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/omega-forms.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/omega/css/omega-visuals.css">
<link rel="stylesheet" href="../../sites/all/themes/pacific_marine/css/global.css">



<link rel="stylesheet" href="../../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css">
<link rel="stylesheet" href="../../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-wide.css">
<link rel="stylesheet" href="../../sites/all/themes/omega/alpha/css/grid/alpha_default/wide/alpha-default-wide-12.css">


</head>
<body class="html not-front not-logged-in page-node page-node- page-node-555 node-type-documentation-page context-documentation">
  <div id="body-bg-top"></div>
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div class="page clearfix" id="page">
      <header id="section-header" class="section section-header">
  <div id="zone-header-wrapper" class="zone-wrapper zone-header-wrapper clearfix">  
  <div id="zone-header" class="zone zone-header clearfix container-12">
    <div class="grid-7 region region-branding" id="region-branding">
  <div class="region-inner region-branding-inner">
        <div class="branding-data clearfix">
            <div class="logo-img">
        <a href="../../index.html" rel="home" title=""><img src="../../sites/all/themes/pacific_marine/images/ferret-banner.png" alt="" id="logo" /></a>
		</div>
                </div>
          </div>
</div><div class="grid-5 region region-header-first" id="region-header-first">
  <div class="region-inner region-header-first-inner">
    <div class="block block-block block-4 block-block-4 odd block-without-title" id="block-block-4">
  <div class="block-inner clearfix">

  </div>
</div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-menu-wrapper" class="zone-wrapper zone-menu-wrapper clearfix">  
  <div id="zone-menu" class="zone zone-menu clearfix container-12">
    <div class="grid-12 region region-menu" id="region-menu">
  <div class="region-inner region-menu-inner">
        <div class="block block-system block-menu block-main-menu block-system-main-menu odd block-without-title" id="block-system-main-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu">
	  <li class="first expanded"><a href="../../index.html">Home</a>
	  <ul class="menu">
	  </li>-->
<li class="leaf"><a href="../../index.html">Ferret/PyFerret Home</a></li>
</ul></li>
<li class="leaf"><a href="../ferret-documentation.html">Documentation</a></li>
<li class="leaf"><a href="../../faq/ferret-faqs.html">FAQ</a></li>
<li class="collapsed"><a href="downloads.html">Downloads</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div>
  </div>
</div></header> 
<section id="section-content" class="section section-content">
<div id="zone-preface-wrapper" class="zone-wrapper zone-preface-wrapper clearfix">  
<div id="zone-preface" class="zone zone-preface clearfix equal-height-container container-12">
<div class="grid-3 region region-preface-first equal-height-element" id="region-preface-first">
<div class="region-inner region-preface-first-inner">
</div>
</div><div class="grid-9 region region-preface-second equal-height-element" id="region-preface-second">
<div class="region-inner region-preface-second-inner">
</div>
</div>  </div>
</div><div id="zone-content-wrapper" class="zone-wrapper zone-content-wrapper clearfix sidebar">  
<div id="zone-content" class="zone zone-content clearfix equal-height-container container-12">    

        <aside class="grid-3 region region-sidebar-first equal-height-element" id="region-sidebar-first">
  <div class="region-inner region-sidebar-first-inner">
    <div class="block block-superfish block-1 block-superfish-1 odd block-without-title" id="block-superfish-1">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul  id="superfish-1" class="menu sf-menu sf-main-menu sf-vertical sf-style-none sf-total-items-8 sf-parent-items-4 sf-single-items-4"><li id="menu-1620-1" class="first odd sf-item-1 sf-depth-2 sf-no-children"><a href="../version-763-release-notes.html" class="sf-depth-2">Current Release Notes</a></li>
<li id="menu-1170-1" class="active-trail middle even sf-item-2 sf-depth-2 sf-total-children-17 sf-parent-children-15 sf-single-children-2 menuparent">
<a href="./users-guide/users-guide.html" class="sf-depth-2 menuparent">Ferret Users Guide</a>
<ul><li id="menu-1613-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="full-index/index.html" class="sf-depth-3">Users Guide Index</a></li>
<li id="menu-1154-1" class="middle even sf-item-2 sf-depth-3 sf-total-children-41 sf-parent-children-0 sf-single-children-41 menuparent"><a href="commands-reference/commands-reference.html" class="sf-depth-3 menuparent">Commands Reference</a>
	  <ul>
	  <!--<li id="menu-1175-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="commands-reference/ALIAS.html" class="sf-depth-4">ALIAS</a></li>-->
<li id="menu-1175-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="commands-reference/ALIAS.html" class="sf-depth-4">ALIAS</a>
<li id="menu-1176-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="commands-reference/CANCEL.html" class="sf-depth-4">CANCEL</a></li>
<li id="menu-1177-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="commands-reference/CONTOUR.html" class="sf-depth-4">CONTOUR</a></li>
<li id="menu-1178-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="commands-reference/DEFINE.html" class="sf-depth-4">DEFINE</a></li>
<li id="menu-1179-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="commands-reference/ELIF.html" class="sf-depth-4">ELIF</a></li>
<li id="menu-1180-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="commands-reference/ELSE.html" class="sf-depth-4">ELSE</a></li>
<li id="menu-1181-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="commands-reference/ENDIF.html" class="sf-depth-4">ENDIF</a></li>
<li id="menu-1182-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="commands-reference/EXIT.html" class="sf-depth-4">EXIT</a></li>
<li id="menu-1183-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="commands-reference/FILE.html" class="sf-depth-4">FILE</a></li>
<li id="menu-1184-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="commands-reference/FILL.html" class="sf-depth-4">FILL</a></li>
<li id="menu-1185-1" class="middle odd sf-item-11 sf-depth-4 sf-no-children"><a href="commands-reference/FRAME.html" class="sf-depth-4">FRAME</a></li>
<li id="menu-1186-1" class="middle even sf-item-12 sf-depth-4 sf-no-children"><a href="commands-reference/GO.html" class="sf-depth-4">GO</a></li>
<li id="menu-1187-1" class="middle odd sf-item-13 sf-depth-4 sf-no-children"><a href="commands-reference/HELP.html" class="sf-depth-4">HELP</a></li>
<li id="menu-1188-1" class="middle even sf-item-14 sf-depth-4 sf-no-children"><a href="commands-reference/IF.html" class="sf-depth-4">IF</a></li>
<li id="menu-1189-1" class="middle odd sf-item-15 sf-depth-4 sf-no-children"><a href="commands-reference/LABEL.html" class="sf-depth-4">LABEL</a></li>
<li id="menu-1190-1" class="middle even sf-item-16 sf-depth-4 sf-no-children"><a href="commands-reference/LET.html" class="sf-depth-4">LET</a></li>
<li id="menu-1191-1" class="middle odd sf-item-17 sf-depth-4 sf-no-children"><a href="commands-reference/LIST.html" class="sf-depth-4">LIST</a></li>
<li id="menu-1192-1" class="middle even sf-item-18 sf-depth-4 sf-no-children"><a href="commands-reference/LOAD.html" class="sf-depth-4">LOAD</a></li>
<li id="menu-1193-1" class="middle odd sf-item-19 sf-depth-4 sf-no-children"><a href="commands-reference/MESSAGE.html" class="sf-depth-4">MESSAGE</a></li>
<li id="menu-1194-1" class="middle even sf-item-20 sf-depth-4 sf-no-children"><a href="commands-reference/PALETTE.html" class="sf-depth-4">PALETTE</a></li>
<li id="menu-1195-1" class="middle odd sf-item-21 sf-depth-4 sf-no-children"><a href="commands-reference/PATTERN.html" class="sf-depth-4">PATTERN</a></li>
<li id="menu-1196-1" class="middle even sf-item-22 sf-depth-4 sf-no-children"><a href="commands-reference/PAUSE.html" class="sf-depth-4">PAUSE</a></li>
<li id="menu-1197-1" class="middle odd sf-item-23 sf-depth-4 sf-no-children"><a href="commands-reference/PLOT.html" class="sf-depth-4">PLOT</a></li>
<li id="menu-1198-1" class="middle even sf-item-24 sf-depth-4 sf-no-children"><a href="commands-reference/POLYGON.html" class="sf-depth-4">POLYGON</a></li>
<li id="menu-1199-1" class="middle odd sf-item-25 sf-depth-4 sf-no-children"><a href="commands-reference/PPLUS.html" class="sf-depth-4">PPLUS</a></li>
<li id="menu-1200-1" class="middle even sf-item-26 sf-depth-4 sf-no-children"><a href="commands-reference/QUERY.html" class="sf-depth-4">QUERY</a></li>
<li id="menu-1201-1" class="middle odd sf-item-27 sf-depth-4 sf-no-children"><a href="commands-reference/QUIT.html" class="sf-depth-4">QUIT</a></li>
<li id="menu-1202-1" class="middle even sf-item-28 sf-depth-4 sf-no-children"><a href="commands-reference/REPEAT.html" class="sf-depth-4">REPEAT</a></li>
<li id="menu-1203-1" class="middle odd sf-item-29 sf-depth-4 sf-no-children"><a href="commands-reference/SAVE.html" class="sf-depth-4">SAVE</a></li>
<li id="menu-1204-1" class="middle even sf-item-30 sf-depth-4 sf-no-children"><a href="commands-reference/SAY.html" class="sf-depth-4">SAY</a></li>
<li id="menu-1205-1" class="middle odd sf-item-31 sf-depth-4 sf-no-children"><a href="commands-reference/SET.html" class="sf-depth-4">SET</a></li>
<li id="menu-1206-1" class="middle even sf-item-32 sf-depth-4 sf-no-children"><a href="commands-reference/SHADE.html" class="sf-depth-4">SHADE</a></li>
<li id="menu-1207-1" class="middle odd sf-item-33 sf-depth-4 sf-no-children"><a href="commands-reference/SHOW.html" class="sf-depth-4">SHOW</a></li>
<li id="menu-1208-1" class="middle even sf-item-34 sf-depth-4 sf-no-children"><a href="commands-reference/SPAWN.html" class="sf-depth-4">SPAWN</a></li>
<li id="menu-1209-1" class="middle odd sf-item-35 sf-depth-4 sf-no-children"><a href="commands-reference/STATISTICS.html" class="sf-depth-4">STATISTICS</a></li>
<li id="menu-1210-1" class="middle even sf-item-36 sf-depth-4 sf-no-children"><a href="commands-reference/UNALIAS.html" class="sf-depth-4">UNALIAS</a></li>
<li id="menu-1211-1" class="middle odd sf-item-37 sf-depth-4 sf-no-children"><a href="commands-reference/VECTOR.html" class="sf-depth-4">VECTOR</a></li>
<li id="menu-1212-1" class="middle even sf-item-38 sf-depth-4 sf-no-children"><a href="commands-reference/USE.html" class="sf-depth-4">USE</a></li>
<li id="menu-1213-1" class="middle odd sf-item-39 sf-depth-4 sf-no-children"><a href="commands-reference/USER.html" class="sf-depth-4">USER</a></li>
<li id="menu-1214-1" class="middle even sf-item-40 sf-depth-4 sf-no-children"><a href="commands-reference/WI.html" class="sf-depth-4">WIRE</a></li>
<li id="menu-1215-1" class="last odd sf-item-41 sf-depth-4 sf-no-children"><a href="commands-reference/WHERE.html" class="sf-depth-4">WHERE</a></li></ul></li>
<li id="menu-1390-1" class="middle odd sf-item-3 sf-depth-3 sf-total-children-8 sf-parent-children-0 sf-single-children-8 menuparent"><a href=../introduction/introduction.html" class="sf-depth-3 menuparent">1. Introduction</a><ul><li id="menu-1230-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="introduction/OVERVIEW.html" class="sf-depth-4">1.1 OVERVIEW</a></li>
<li id="menu-1231-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="introduction/GETTING-STARTED.html" class="sf-depth-4">1.2 GETTING STARTED</a></li>
<li id="menu-1232-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="introduction/COMMON-COMMANDS.html" class="sf-depth-4">1.3 COMMON COMMANDS</a></li>
<li id="menu-1233-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="introduction/COMMAND-SYNTAX.html" class="sf-depth-4">1.4 COMMAND SYNTAX</a></li>
<li id="menu-1234-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="introduction/GO-FILES.html" class="sf-depth-4">1.5 GO FILES</a></li>
<li id="menu-1235-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="introduction/SAMPLE-DATA-SETS.html" class="sf-depth-4">1.6 SAMPLE DATA SETS</a></li>
<li id="menu-1236-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="introduction/UNIX-TOOLS.html" class="sf-depth-4">1.7 UNIX TOOLS</a></li>
<li id="menu-1237-1" class="last even sf-item-8 sf-depth-4 sf-no-children"><a href="introduction/HELP.html" class="sf-depth-4">1.8 HELP</a></li></ul></li>
<li id="menu-1391-1" class="middle even sf-item-4 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="data-set-basics/data-set-basics.html" class="sf-depth-3 menuparent">2. Data Set Basics</a><ul><li id="menu-1238-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="data-set-basics/OVERVIEW.html" class="sf-depth-4">2.1 OVERVIEW</a></li>
<li id="menu-1239-1" class="middle even sf-item-2 sf-depth-4 sf-total-children-1 sf-parent-children-0 sf-single-children-1 menuparent"><a href="data-set-basics/NETCDF-DATA" class="sf-depth-4 menuparent">2.2 NETCDF DATA</a><ul><li id="menu-1593-1" class="firstandlast odd sf-item-1 sf-depth-5 sf-no-children"><a href="../udunits.dat" class="sf-depth-5">udunits.dat</a></li></ul></li>
<li id="menu-1240-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="data-set-basics/TMAP-FORMATTED-DATA.html" class="sf-depth-4">2.3 TMAP-FORMATTED DATA</a></li>
<li id="menu-1241-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="data-set-basics/BINARY-DATA.html" class="sf-depth-4">2.4 BINARY DATA</a></li>
<li id="menu-1243-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="data-set-basics/ASCII-DATA.html" class="sf-depth-4">2.5 ASCII DATA</a></li>
<li id="menu-1242-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="data-set-basics/TRICKS-TO-READING-BINARY-AND-ASCII-FILES.html" class="sf-depth-4">2.6 TRICKS TO READING BINARY AND ASCII FILES</a></li>
<li id="menu-1244-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="./users-guide/data-set-basics/ACCESS-TO-REMOTE-DATA-SETS-WITH-DODS.html" class="sf-depth-4">2.7 ACCESS TO REMOTE DATA SETS WITH OPeNDAP</a></li>
</ul></li>
<li id="menu-1392-1" class="middle odd sf-item-5 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="variables-xpressions/variables-xpressions.html" class="sf-depth-3 menuparent">3. Variables &amp; Expressions</a><ul><li id="menu-1248-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="variables-xpressions/VARIABLES.html" class="sf-depth-4">3.1 VARIABLES</a></li>
<li id="menu-1249-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="variables-xpressions/XPRESSIONS.html" class="sf-depth-4">3.2 EXPRESSIONS</a></li>
<li id="menu-1250-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="variables-xpressions/EMBEDDED-XPRESSIONS.html" class="sf-depth-4">3.3 EMBEDDED EXPRESSIONS</a></li>
<li id="menu-1251-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="variables-xpressions/DEFINING-NEW-VARIABLES.html" class="sf-depth-4">3.4 DEFINING NEW VARIABLES</a></li>
<li id="menu-1252-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="variables-xpressions/DEBUGGING-COMPLEX-HIERARCHIES-OF-XPRESSIONS.html" class="sf-depth-4">3.5 DEBUGGING COMPLEX HIERARCHIES OF EXPRESSIONS</a></li></ul></li>
<li id="menu-1393-1" class="middle even sf-item-6 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="Grids-Regions/Grids-Regions.html" class="sf-depth-3 menuparent">4. Grids &amp; Regions</a><ul><li id="menu-1253-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="Grids-Regions/OVERVIEW.html" class="sf-depth-4">4.1 OVERVIEW</a></li>
<li id="menu-1254-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="Grids-Regions/GRIDS.html" class="sf-depth-4">4.2 GRIDS</a></li>
<li id="menu-1255-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="Grids-Regions/REGIONS.html" class="sf-depth-4">4.3 REGIONS</a></li>
<li id="menu-1256-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="Grids-Regions/FERRET-PROGRAM-LIMITS.html" class="sf-depth-4">4.4 FERRET PROGRAM LIMITS</a></li></ul></li>
<li id="menu-1394-1" class="middle odd sf-item-7 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="animations-gif-images/animations-gif-images.html" class="sf-depth-3 menuparent">5. Animations &amp; Gif Images</a><ul><li id="menu-1257-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="animations-gif-images/OVERVIEW.html" class="sf-depth-4">5.1 OVERVIEW</a></li>
<li id="menu-1258-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="animations-gif-images/CREATING-AN-HDF-MOVIE.html" class="sf-depth-4">5.2 CREATING AN HDF MOVIE</a></li>
<li id="menu-1259-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="animations-gif-images/DISPLAYING-AN-HDF-MOVIE.html" class="sf-depth-4">5.3 DISPLAYING AN HDF MOVIE</a></li>
<li id="menu-1260-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="animations-gif-images/ADVANCED-MOVIE-MAKING.html" class="sf-depth-4">5.4 ADVANCED MOVIE-MAKING</a></li>
<li id="menu-1261-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="animations-gif-images/CREATING-GIF-IMAGES.html" class="sf-depth-4">5.5 CREATING GIF IMAGES</a></li></ul></li>
<li id="menu-1395-1" class="middle even sf-item-8 sf-depth-3 sf-total-children-12 sf-parent-children-0 sf-single-children-12 menuparent"><a href="customizing-plots/customizing-plots.html" class="sf-depth-3 menuparent">6. Customizing Plots</a><ul><li id="menu-1262-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="customizing-plots/OVERVIEW.html" class="sf-depth-4">6.1 OVERVIEW</a></li>
<li id="menu-1263-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="customizing-plots/GRAPHICAL-OUTPUT.html" class="sf-depth-4">6.2 GRAPHICAL OUTPUT</a></li>
<li id="menu-1264-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="customizing-plots/AXES.html" class="sf-depth-4">6.3 AXES</a></li>
<li id="menu-1265-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="customizing-plots/LABELS.html" class="sf-depth-4">6.4 LABELS</a></li>
<li id="menu-1266-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="customizing-plots/COLOR.html" class="sf-depth-4">6.5 COLOR</a></li>
<li id="menu-1267-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="customizing-plots/FONTS.html" class="sf-depth-4">6.6 FONTS</a></li>
<li id="menu-1268-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="customizing-plots/PLOT-LAYOUT.html" class="sf-depth-4">6.7 PLOT LAYOUT</a></li>
<li id="menu-1269-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="customizing-plots/CONTOURING.html" class="sf-depth-4">6.8 CONTOURING</a></li>
<li id="menu-1270-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="customizing-plots/SPECIAL-SYMBOLS.html" class="sf-depth-4">6.9 SPECIAL SYMBOLS</a></li>
<li id="menu-1617-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="customizing-plots/MAP-PROJECTIONS-AND-CURVILINEAR-COORDINATES.html" class="sf-depth-4">6.10 MAP PROJECTIONS AND CURVILINEAR COORDINATES</a></li>
<li id="menu-1272-1" class="middle odd sf-item-11 sf-depth-4 sf-no-children"><a href="customizing-plots/linecolors.gif/view.html" class="sf-depth-4">LINECOLORS example</a></li>
<li id="menu-1273-1" class="last even sf-item-12 sf-depth-4 sf-no-children"><a href="customizing-plots/Chapter6_plotuv.png/view.html" class="sf-depth-4">PLOTUV example</a></li></ul></li>
<li id="menu-1396-1" class="middle odd sf-item-9 sf-depth-3 sf-total-children-11 sf-parent-children-0 sf-single-children-11 menuparent"><a href="handling-string-data-symbols.html" class="sf-depth-3 menuparent">7. Handing String Data Symbols</a><ul><li id="menu-1274-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="handling-string-data-symbols/STRING-VARIABLES.html" class="sf-depth-4">7.1 STRING VARIABLES</a></li>
<li id="menu-1275-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="handling-string-data-symbols/STRING-FUNCTIONS.html" class="sf-depth-4">7.2 STRING FUNCTIONS</a></li>
<li id="menu-1276-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="handling-string-data-symbols/SYMBOL-COMMANDS.html" class="sf-depth-4">7.3 SYMBOL COMMANDS</a></li>
<li id="menu-1277-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="handling-string-data-symbols/AUTOMATICALLY-GENERATED-SYMBOLS.html" class="sf-depth-4">7.4 AUTOMATICALLY GENERATED SYMBOLS</a></li>
<li id="menu-1278-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="handling-string-data-symbols/USE-WITH-EMBEDDED-EXPRESSIONS.html" class="sf-depth-4">7.5 USE WITH EMBEDDED EXPRESSIONS</a></li>
<li id="menu-1279-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="handling-string-data-symbols/ORDER-OF-STRING-SUBSTITUTIONS.html" class="sf-depth-4">7.6 ORDER OF STRING SUBSTITUTIONS</a></li>
<li id="menu-1280-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="handling-string-data-symbols/CUSTOMIZING-THE-POSITION-AND-STYLE%20OF%20PLOT%20LABELS.html" class="sf-depth-4">7.7 CUSTOMIZING THE POSITION AND STYLE OF PLOT LABELS</a></li>
<li id="menu-1281-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="handling-string-data-symbols/USING-SYMBOLS-IN-COMMAND-FILES.html" class="sf-depth-4">7.8 USING SYMBOLS IN COMMAND FILES</a></li>
<li id="menu-1282-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="handling-string-data-symbols/PLOT-STRING-EDITING-TOOLS.html" class="sf-depth-4">7.9 PLOT+ STRING EDITING TOOLS</a></li>
<li id="menu-1283-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="handling-string-data-symbols/SYMBOL-EDITING.html" class="sf-depth-4">7.10 SYMBOL EDITING</a></li>
<li id="menu-1284-1" class="last odd sf-item-11 sf-depth-4 sf-no-children"><a href="handling-string-data-symbols/SPECIAL-SYMBOLS.html" class="sf-depth-4">7.11 SPECIAL SYMBOLS</a></li></ul></li>
<li id="menu-1397-1" class="middle even sf-item-10 sf-depth-3 sf-total-children-10 sf-parent-children-0 sf-single-children-10 menuparent"><a href="working-with-special-data-sets/working-with-special-data-sets.html" class="sf-depth-3 menuparent">8. Working with Special Data Sets</a><ul><li id="menu-1285-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="working-with-special-data-sets/WHAT-IS-NON-GRIDDED-DATA.html" class="sf-depth-4">8.1 WHAT IS NON-GRIDDED DATA?</a></li>
<li id="menu-1286-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="working-with-special-data-sets/POINT-DATA.html" class="sf-depth-4">8.2 POINT DATA</a></li>
<li id="menu-1287-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="working-with-special-data-sets/VERTICAL-PROFILES.html" class="sf-depth-4">8.3 VERTICAL PROFILES</a></li>
<li id="menu-1288-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="working-with-special-data-sets/COLLECTIONS-OF-TIME-SERIES.html" class="sf-depth-4">8.4 COLLECTIONS OF TIME SERIES</a></li>
<li id="menu-1289-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="working-with-special-data-sets/COLLECTIONS-OF-2-DIMENSIONAL-GRIDS.html" class="sf-depth-4">8.5 COLLECTIONS OF 2-DIMENSIONAL GRIDS</a></li>
<li id="menu-1290-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="working-with-special-data-sets/LAGRANGIAN-DATA.html" class="sf-depth-4">8.6 LAGRANGIAN DATA</a></li>
<li id="menu-1291-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="working-with-special-data-sets/SIGMA-COORDINATE-DATA.html" class="sf-depth-4">8.7 SIGMA COORDINATE DATA</a></li>
<li id="menu-1292-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="working-with-special-data-sets/CURVILINEAR-COORDINATE-DATA.html" class="sf-depth-4">8.8 CURVILINEAR COORDINATE DATA</a></li>
<li id="menu-1293-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="working-with-special-data-sets/POLYGONAL-DATA.html" class="sf-depth-4">8.9 POLYGONAL DATA</a></li>
<li id="menu-1245-1" class="last even sf-item-10 sf-depth-4 sf-no-children"><a href="working-with-special-data-sets/DSG_datasets.html" class="sf-depth-4">8.10 Discrete Geometries Datasets</a></li></ul></li>
<li id="menu-1398-1" class="middle odd sf-item-11 sf-depth-3 sf-total-children-7 sf-parent-children-0 sf-single-children-7 menuparent"><a href="computing-environment/computing-environment.html" class="sf-depth-3 menuparent">9. Computing Environment</a><ul><li id="menu-1294-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="computing-environment/SETTING-UP-TO-RUN-FERRET.html" class="sf-depth-4">9.1 SETTING UP TO RUN FERRET</a></li>
<li id="menu-1295-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="computing-environment/FILES-AND-ENVIRONMENT-VARIABLES-USED-BY-FERRET.html" class="sf-depth-4">9.2 FILES AND ENVIRONMENT VARIABLES USED BY FERRET</a></li>
<li id="menu-1296-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="computing-environment/MEMORY-USE.html" class="sf-depth-4">9.3 MEMORY USE</a></li>
<li id="menu-1297-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="computing-environment/HARD-COPY-AND-METAFILE-TRANSLATION.html" class="sf-depth-4">9.4 HARD COPY AND METAFILE TRANSLATION</a></li>
<li id="menu-1298-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="computing-environment/OUTPUT-FILE-NAMING.html" class="sf-depth-4">9.5 OUTPUT FILE NAMING</a></li>
<li id="menu-1299-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="computing-environment/INPUT-FILE-NAMING.html" class="sf-depth-4">9.6 INPUT FILE NAMING</a></li>
<li id="menu-1300-1" class="last odd sf-item-7 sf-depth-4 sf-no-children"><a href="computing-environment/my_ferret_paths_template.html" class="sf-depth-4">my_ferret_paths_template</a></li></ul></li>
<li id="menu-1399-1" class="middle even sf-item-12 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="converting-to-netcdf/converting-to-netcdf.html" class="sf-depth-3 menuparent">10. Converting to NetCDF</a><ul><li id="menu-1301-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="converting-to-netcdf/OVERVIEW.html" class="sf-depth-4">10.1 OVERVIEW</a></li>
<li id="menu-1302-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="converting-to-netcdf/SIMPLE-CONVERSIONS-USING-FERRET.html" class="sf-depth-4">10.2 SIMPLE CONVERSIONS USING FERRET</a></li>
<li id="menu-1303-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="converting-to-netcdf/WRITING-A-CONVERSION-PROGRAM.html" class="sf-depth-4">10.3 WRITING A CONVERSION PROGRAM</a></li>
<li id="menu-1304-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="converting-to-netcdf/CREATING-A-MULTI-FILE-NETCDF-DATA-SET.html" class="sf-depth-4">10.4 CREATING A MULTI-FILE NETCDF DATA SET</a></li></ul></li>
<li id="menu-1400-1" class="middle odd sf-item-13 sf-depth-3 sf-total-children-6 sf-parent-children-0 sf-single-children-6 menuparent"><a href="writing-external-functions/writing-external-functions.html" class="sf-depth-3 menuparent">11. Writing External Functions</a><ul><li id="menu-1305-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="writing-external-functions/OVERVIEW.html" class="sf-depth-4">11.1 OVERVIEW</a></li>
<li id="menu-1306-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="writing-external-functions/GETTING-STARTED.html" class="sf-depth-4">11.2 GETTING STARTED</a></li>
<li id="menu-1307-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="writing-external-functions/QUICK-START-EXAMPLE.html" class="sf-depth-4">11.3 QUICK START EXAMPLE</a></li>
<li id="menu-1308-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="writing-external-functions/ANATOMY-OF-AN-EXTERNAL-FUNCTION.html" class="sf-depth-4">11.4 ANATOMY OF AN EXTERNAL FUNCTION</a></li>
<li id="menu-1309-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="writing-external-functions/NOTES-AND-SUGGESTIONS.html" class="sf-depth-4">11.5 NOTES AND SUGGESTIONS</a></li>
<li id="menu-1310-1" class="last even sf-item-6 sf-depth-4 sf-no-children"><a href="writing-external-functions/UTILITY-FUNCTIONS.html" class="sf-depth-4">11.6 UTILITY FUNCTIONS</a></li></ul></li>
<li id="menu-1166-1" class="active-trail middle even sf-item-14 sf-depth-3 sf-no-children"><a href="glossary/glossary" class="sf-depth-3 active">Glossary</a></li>
<li id="menu-1427-1" class="middle odd sf-item-15 sf-depth-3 sf-total-children-58 sf-parent-children-0 sf-single-children-58 menuparent"><a href="appendix-a-external-functions/appendix-a-external-functions.html" class="sf-depth-3 menuparent">Appendix A: Functions</a><ul><li id="menu-1597-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/BIN_INDEX_WT.html" class="sf-depth-4">BIN_INDEX_WT</a></li>
<li id="menu-1430-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/COMPRESSI.html" class="sf-depth-4">COMPRESSI (and J,K,L,M,N)</a></li>
<li id="menu-1431-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/COMPRESSI-BY.html" class="sf-depth-4">COMPRESSI_BY (and J,K,L,M,N)</a></li>
<li id="menu-1432-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/CONVOLVEI.html" class="sf-depth-4">CONVOLVEI</a></li>
<li id="menu-1428-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/CURV-TO-RECT.html" class="sf-depth-4">CURV_TO_RECT</a></li>
<li id="menu-1429-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/CURV-TO-RECT-MAP.html" class="sf-depth-4">CURV_TO_RECT_MAP</a></li>
<li id="menu-1433-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/DATE1900.html" class="sf-depth-4">DATE1900</a></li>
<li id="menu-1434-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/DAYS1900TOYMDHMS.html" class="sf-depth-4">DAYS1900TOYMDHMS</a></li>
<li id="menu-1601-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/DOT.html" class="sf-depth-4">DOT</a></li>
<li id="menu-1437-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/ecat.html" class="sf-depth-4">ECAT and ECAT_STR</a></li>
<li id="menu-1438-1" class="middle odd sf-item-11 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/ELEMENT-INDEX.html" class="sf-depth-4">ELEMENT_INDEX</a></li>
<li id="menu-1439-1" class="middle even sf-item-12 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/ELEMENT-INDEX-STRING.html" class="sf-depth-4">ELEMENT_INDEX_STR</a></li>
<li id="menu-1440-1" class="middle odd sf-item-13 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/EOF-SPACE.html" class="sf-depth-4">EOF_SPACE and EOFSVD_SPACE</a></li>
<li id="menu-1441-1" class="middle even sf-item-14 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/EOF-STAT.html" class="sf-depth-4">EOF_STAT and EOFSVD_STAT</a></li>
<li id="menu-1442-1" class="middle odd sf-item-15 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/EOF-TFUNC.html" class="sf-depth-4">EOF_TFUNC and EOFSVD_TFUNC</a></li>
<li id="menu-1443-1" class="middle even sf-item-16 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/expnd_by_len.html" class="sf-depth-4">EXPND_BY_LEN and EXPND_BY_LEN_STR</a></li>
<li id="menu-1444-1" class="middle odd sf-item-17 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/expndi_by.html" class="sf-depth-4">EXPNDI_BY</a></li>
<li id="menu-1445-1" class="middle even sf-item-18 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/expndi_by_m_counts.html" class="sf-depth-4">EXPNDI_BY_M_COUNTS</a></li>
<li id="menu-1446-1" class="middle odd sf-item-19 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/expndi_by_t.html" class="sf-depth-4">EXPNDI_BY_T</a></li>
<li id="menu-1447-1" class="middle even sf-item-20 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/expndi_by_z.html" class="sf-depth-4">EXPNDI_BY_Z</a></li>
<li id="menu-1448-1" class="middle odd sf-item-21 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/expndi_by_z_counts-and-expndi_id_by_z_counts.html" class="sf-depth-4">EXPNDI_BY_Z_COUNTS</a></li>
<li id="menu-1449-1" class="middle even sf-item-22 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/expndi_id_by_z_counts.html" class="sf-depth-4">EXPNDI_ID_BY_Z_COUNTS</a></li>
<li id="menu-1436-1" class="middle odd sf-item-23 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/fcat.html" class="sf-depth-4">FCAT</a></li>
<li id="menu-1435-1" class="middle even sf-item-24 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/fc_isubset.html" class="sf-depth-4">FC_ISUBSET</a></li>
<li id="menu-1450-1" class="middle odd sf-item-25 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/FFT-IM.html" class="sf-depth-4">FFT_IM</a></li>
<li id="menu-1451-1" class="middle even sf-item-26 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/FFT-INVERSE.html" class="sf-depth-4">FFT_INVERSE</a></li>
<li id="menu-1453-1" class="middle odd sf-item-27 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/FFT-RE.html" class="sf-depth-4">FFT_RE</a></li>
<li id="menu-1452-1" class="middle even sf-item-28 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/fill_xy.html" class="sf-depth-4">FILL_XY</a></li>
<li id="menu-1454-1" class="middle odd sf-item-29 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/FINDHI.html" class="sf-depth-4">FINDHI</a></li>
<li id="menu-1455-1" class="middle even sf-item-30 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/FINDLO.html" class="sf-depth-4">FINDLO</a></li>
<li id="menu-1456-1" class="middle odd sf-item-31 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/IS-ELEMENT-OF.html" class="sf-depth-4">IS_ELEMENT_OF</a></li>
<li id="menu-1458-1" class="middle even sf-item-32 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/LANCZOS.html" class="sf-depth-4">LANCZOS</a></li>
<li id="menu-1459-1" class="middle odd sf-item-33 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/lon_lat_time_string.html" class="sf-depth-4">LON_LAT_TIME_STRING</a></li>
<li id="menu-1460-1" class="middle even sf-item-34 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/LSL-LOWPASS.html" class="sf-depth-4">LSL_LOWPASS</a></li>
<li id="menu-1461-1" class="middle odd sf-item-35 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/MINUTES24.html" class="sf-depth-4">MINUTES24</a></li>
<li id="menu-1462-1" class="middle even sf-item-36 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/NCO.html" class="sf-depth-4">NCO</a></li>
<li id="menu-1463-1" class="middle odd sf-item-37 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/NCO_ATTR.html" class="sf-depth-4">NCO_ATTR</a></li>
<li id="menu-1464-1" class="middle even sf-item-38 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/pt_in_poly.html" class="sf-depth-4">PT_IN_POLY</a></li>
<li id="menu-1465-1" class="middle odd sf-item-39 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/RECT-TO-CURV.html" class="sf-depth-4">RECT_TO_CURV</a></li>
<li id="menu-1466-1" class="middle even sf-item-40 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/samplexy_curv_avg.html" class="sf-depth-4">SAMPLEXY_CURV_AVG</a></li>
<li id="menu-1467-1" class="middle odd sf-item-41 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/samplexy_curv_nrst.html" class="sf-depth-4">SAMPLEXY_CURV_NRST</a></li>
<li id="menu-1468-1" class="middle even sf-item-42 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/samplexyt.html" class="sf-depth-4">SAMPLEXYT</a></li>
<li id="menu-1469-1" class="middle odd sf-item-43 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/samplexz.html" class="sf-depth-4">SAMPLEXZ</a></li>
<li id="menu-1470-1" class="middle even sf-item-44 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/sampleyz.html" class="sf-depth-4">SAMPLEYZ</a></li>
<li id="menu-1472-1" class="middle odd sf-item-45 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/scat2grid_bin_xy.html" class="sf-depth-4">SCAT2GRID_BIN_XY and SCAT2GRID_BIN_XYT</a></li>
<li id="menu-1473-1" class="middle even sf-item-46 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/scatgrid_nbin_xyt.html" class="sf-depth-4">SCAT2GRID_NBIN_XY and SCAT2GRID_NBIN_XYT</a></li>
<li id="menu-1471-1" class="middle odd sf-item-47 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/scat2grid_nobs_xy.html" class="sf-depth-4">SCAT2GRID_NOBS_XY</a></li>
<li id="menu-1474-1" class="middle even sf-item-48 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/separate.html" class="sf-depth-4">SEPARATE</a></li>
<li id="menu-1475-1" class="middle odd sf-item-49 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/tax_datestring.html" class="sf-depth-4">TAX_DATESTRING</a></li>
<li id="menu-1477-1" class="middle even sf-item-50 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/TCAT.html" class="sf-depth-4">TCAT</a></li>
<li id="menu-1476-1" class="middle odd sf-item-51 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/test_opendap.html" class="sf-depth-4">TEST_OPENDAP</a></li>
<li id="menu-1599-1" class="middle even sf-item-52 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/TRANSPOSE.html" class="sf-depth-4">TRANSPOSE</a></li>
<li id="menu-1478-1" class="middle odd sf-item-53 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/WRITEV5D.html" class="sf-depth-4">WRITEV5D</a></li>
<li id="menu-1481-1" class="middle even sf-item-54 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/XCAT.html" class="sf-depth-4">XCAT</a></li>
<li id="menu-1482-1" class="middle odd sf-item-55 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/YCAT.html" class="sf-depth-4">YCAT</a></li>
<li id="menu-1479-1" class="middle even sf-item-56 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/ZAXREPLACE-AVG.html" class="sf-depth-4">ZAXREPLACE_AVG</a></li>
<li id="menu-1480-1" class="middle odd sf-item-57 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/ZAXREPLACE-BIN.html" class="sf-depth-4">ZAXREPLACE_BIN</a></li>
<li id="menu-1483-1" class="last even sf-item-58 sf-depth-4 sf-no-children"><a href="appendix-a-external-functions/ZCAT.html" class="sf-depth-4">ZCAT</a></li></ul></li>
<li id="menu-1168-1" class="middle even sf-item-16 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="appendix-b-pplus-guide/appendix-b-pplus-guide.html" class="sf-depth-3 menuparent">Appendix B: PPLUS Guide</a><ul><li id="menu-1311-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="appendix-b-pplus-guide/INTRODUCTION.html" class="sf-depth-4">INTRODUCTION</a></li>
<li id="menu-1312-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="appendix-b-pplus-guide/GETTING-STARTED.html" class="sf-depth-4">GETTING STARTED</a></li>
<li id="menu-1313-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="appendix-b-pplus-guide/COMMAND-FORMAT.html" class="sf-depth-4">COMMAND FORMAT</a></li>
<li id="menu-1314-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="appendix-b-pplus-guide/COMMAND-SYNOPSIS.html" class="sf-depth-4">COMMAND SYNOPSIS</a></li>
<li id="menu-1315-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="appendix-b-pplus-guide/BEGINNERS-GUIDE.html" class="sf-depth-4">BEGINNERS GUIDE</a></li>
<li id="menu-1316-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="appendix-b-pplus-guide/ROUTING-PLOT-FILES.html" class="sf-depth-4">ROUTING PLOT FILES</a></li>
<li id="menu-1317-1" class="middle odd sf-item-7 sf-depth-4 sf-total-children-2 sf-parent-children-0 sf-single-children-2 menuparent"><a href="appendix-b-pplus-guide/PPLUS-COMMAND-FILES" class="sf-depth-4 menuparent">PPLUS COMMAND FILES</a><ul><li id="menu-1324-1" class="first odd sf-item-1 sf-depth-5 sf-no-children"><a href="ferret-fonts/list-of-ferret-fonts" class="sf-depth-5">List of Ferret Symbol Fonts</a></li>
<li id="menu-1325-1" class="last even sf-item-2 sf-depth-5 sf-no-children"><a href="ferret-fonts/list-of-ferret-character-fonts" class="sf-depth-5">List of Ferret/PPLUS Character fonts</a></li></ul></li>
<li id="menu-1318-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="appendix-b-pplus-guide/PLOT5-PPLUS-DIFFERENCES.html" class="sf-depth-4">PLOT5, PPLUS DIFFERENCES</a></li>
<li id="menu-1319-1" class="last odd sf-item-9 sf-depth-4 sf-no-children"><a href="appendix-b-pplus-guide/COMMAND-DESCRIPTION.html" class="sf-depth-4">COMMAND DESCRIPTION</a></li></ul></li>
<li id="menu-1169-1" class="last odd sf-item-17 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="appendix-c-ferret-specific-pplus-enhancements/appendix-c-ferret-specific-pplus-enhancements.html" class="sf-depth-3 menuparent">Appendix C: Ferret-Specific PPLUS Enhancements</a><ul><li id="menu-1320-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="appendix-c-ferret-specific-pplus-enhancements/PLOTPLUS-HISTORY-EVOLUTION.html" class="sf-depth-4">PLOTPLUS HISTORY, EVOLUTION</a></li>
<li id="menu-1321-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="appendix-c-ferret-specific-pplus-enhancements/ENHANCED-COMMANDS-DESCRIPTION.html" class="sf-depth-4">ENHANCED COMMANDS DESCRIPTION</a></li>
<li id="menu-1322-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="appendix-c-ferret-specific-pplus-enhancements/GKS-LINE-BUNDLES.html" class="sf-depth-4">GKS LINE BUNDLES</a></li>
<li id="menu-1323-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="appendix-c-ferret-specific-pplus-enhancements/HARD-COPY.html" class="sf-depth-4">HARD COPY</a></li></ul></li></ul></li>
<li id="menu-1336-1" class="middle odd sf-item-3 sf-depth-2 sf-no-children"><a href="../all-release-notes.html" class="sf-depth-2">Previous Release Notes</a></li>
<li id="menu-1339-1" class="middle even sf-item-4 sf-depth-2 sf-total-children-15 sf-parent-children-1 sf-single-children-14 menuparent"><a href="../ferret-tutorials.html" class="sf-depth-2 menuparent">Tutorials and Demos</a><ul><li id="menu-1338-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../demos/ferret-tutorial-script.html" class="sf-depth-3">Ferret Tour</a></li>
<li id="menu-1618-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../demos/dsg-files-discrete-sampling-geometries-demo.html" class="sf-depth-3">DSG files: Discrete Sampling Geometries Demo</a></li>
<li id="menu-1337-1" class="middle odd sf-item-3 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="../ferret-tutorials.html" class="sf-depth-3 menuparent">External Function Examples</a><ul><li id="menu-1343-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../demos/sorting-demo.html" class="sf-depth-4">Ferret sorting demo (1)</a></li>
<li id="menu-1591-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../demos/ferret-sorting-demo.html" class="sf-depth-4">Ferret sorting demo (2)</a></li>
<li id="menu-1344-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../demos/how-to-use-ferret-external-functions-for-computing-ffts.html" class="sf-depth-4">Fast Fourier Transforms demo</a></li>
<li id="menu-1345-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../demos/ferret-eof-demo.html" class="sf-depth-4">Empirical Orthogonal Functions demo</a></li>
<li id="menu-1346-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="../demos/ferret-objective-analysis.html" class="sf-depth-4">Ferret objective analysis demo</a></li></ul></li>
<li id="menu-1353-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="../demos/ferret-palette-demo.html" class="sf-depth-3">Ferret Palette Demo</a></li>
<li id="menu-1350-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="../demos/ferret-map-projections-demo.html" class="sf-depth-3">Map projections</a></li>
<li id="menu-1354-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="../demos/ferret-polygon-vector-demo.html" class="sf-depth-3">Ferret polygon vector demo</a></li>
<li id="menu-1355-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="../demos/ferret-graticules-demo.html" class="sf-depth-3">Ferret Graticules demo</a></li>
<li id="menu-1352-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="../demos/ferret-polytube-demo.html" class="sf-depth-3">Ferret Polytube Demo</a></li>
<li id="menu-1351-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="../demos/ferret-polymark-demo.html" class="sf-depth-3">Ferret Polymark Demo</a></li>
<li id="menu-1349-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="../demos/ferret-constant-array-demo.html" class="sf-depth-3">Ferret Constant-Array demo</a></li>
<li id="menu-1356-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="../demos/ferret-land_detail-demo.html" class="sf-depth-3">Ferret land_detail demo</a></li>
<li id="menu-1340-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href=".../../demos/coads-tour.html" class="sf-depth-3">COADS Tour</a></li>
<li id="menu-1341-1" class="middle odd sf-item-13 sf-depth-3 sf-no-children"><a href="../demos/levitus-tour.html" class="sf-depth-3">Levitus Tour</a></li>
<li id="menu-1342-1" class="middle even sf-item-14 sf-depth-3 sf-no-children"><a href="../demos/how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1.html" class="sf-depth-3">Use OPeNDAP</a></li>
<li id="menu-1348-1" class="last odd sf-item-15 sf-depth-3 sf-no-children"><a href="../demos/ferret-binary-read-demo.html" class="sf-depth-3">Ferret binary read demo</a></li></ul></li>
<li id="menu-1333-1" class="middle odd sf-item-5 sf-depth-2 sf-total-children-13 sf-parent-children-1 sf-single-children-12 menuparent"><a href="../pyferret.html" class="sf-depth-2 menuparent">PyFerret</a><ul><li id="menu-1426-1" class="first odd sf-item-1 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="downloads.html" class="sf-depth-3 menuparent">PyFerret Downloads and Install</a><ul><li id="menu-1374-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="requirements.html" class="sf-depth-4">PyFerret requirements</a></li>
<li id="menu-1375-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../downloads/pyferret.html" class="sf-depth-4">PyFerret Downloads</a></li>
<li id="menu-1377-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="build-install.html" class="sf-depth-4">Installing or Building PyFerret</a></li>
<li id="menu-1376-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="known-issues.html" class="sf-depth-4">PyFerret Known Issues and Release Notes</a></li></ul></li>
<li id="menu-1359-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="what-is-pyferret.html" class="sf-depth-3">What is PyFerret?</a></li>
<li id="menu-1360-1" class="middle odd sf-item-3 sf-depth-3 sf-no-children"><a href="why-use-pyferret.html" class="sf-depth-3">Why use PyFerret?</a></li>
<li id="menu-1361-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="example-sessions-ferret.html" class="sf-depth-3">PyFerret for the Ferret user</a></li>
<li id="menu-1362-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="pyferret-quick-start-notes.html" class="sf-depth-3">PyFerret command syntax: quick-start notes</a></li>
<li id="menu-1364-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="example-sessions-python.html" class="sf-depth-3">PyFerret for the Python user</a></li>
<li id="menu-1365-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="graphics.html" class="sf-depth-3">Graphics in PyFerret ?</a></li>
<li id="menu-1366-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="ferret-functionality.html" class="sf-depth-3">New Ferret functionality</a></li>
<li id="menu-1367-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="python-functions.html" class="sf-depth-3">PyFerret Python functions and constants</a></li>
<li id="menu-1368-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="pyferret-python-objects.html" class="sf-depth-3">PyFerret Python objects and methods</a></li>
<li id="menu-1369-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="pyefs.html" class="sf-depth-3">Ferret external functions in Python</a></li>
<li id="menu-1371-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href="fortranefs.html" class="sf-depth-3">Ferret Fortran external functions</a></li>
<li id="menu-1373-1" class="last odd sf-item-13 sf-depth-3 sf-no-children"><a href="data-dictionaries.html" class="sf-depth-3">PyFerret metadata-and-data dictionaries</a></li></ul></li>
<li id="menu-1147-1" class="middle even sf-item-6 sf-depth-2 sf-total-children-3 sf-parent-children-0 sf-single-children-3 menuparent"><a href="../opendap/opendap-usage-in-ferret.html" class="sf-depth-2 menuparent">OPeNDAP</a><ul><li id="menu-1590-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../opendap/opendap-usage-in-ferret.html" class="sf-depth-3">OPeNDAP usage in Ferret</a></li>
<li id="menu-1489-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../demos/how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1.html" class="sf-depth-3">Use OPeNDAP Demo</a></li>
<li id="menu-1491-1" class="last odd sf-item-3 sf-depth-3 sf-no-children"><a href="appendix-a-external-functions/test_opendap.html" class="sf-depth-3">Test OPeNDAP</a></li></ul></li>
<li id="menu-1592-1" class="middle odd sf-item-7 sf-depth-2 sf-no-children"><a href="../ferret-publications.html" class="sf-depth-2">Ferret Publications</a></li>
<li id="menu-1389-1" class="last even sf-item-8 sf-depth-2 sf-no-children"><a href="../acknowledging-ferret.html" class="sf-depth-2">Acknowledging Ferret</a></li></ul>    </div>
  </div>
</div>  </div>
</aside><div class="grid-9 region region-content equal-height-element" id="region-content">
  <div class="region-inner region-content-inner">
<a id="main-content"></a>
<h1 class="title" id="page-title">Ferret external functions in Python</h1>
<div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
<div class="block-inner clearfix">
 
<div class="content clearfix">
<article about="/Ferret/documentation/pyferret/pyefs" typeof="sioc:Item foaf:Document" class="node node-documentation-page node-promoted node-published node-not-sticky author-kobrien odd clearfix" id="node-documentation-page-363">

<!-- add the following line to print out updated date -->
<!-- add the following line to print out the page description -->
 
<div class="field field-name-field-page-description field-type-text field-label-hidden">
<div class="field-items">
<div class="field-item even" property="schema:description">How to create a Ferret external function written in Python</div>
</div>
</div>

<div class="content clearfix">
 
<div class="field field-name-body field-type-text-with-summary field-label-hidden">
<div class="field-items">
<div class="field-item even" property="content:encoded"><p><a href="pyferret-python-objects.html">Previous</a> <a href="fortranefs.html">Next</a></p>
<p>Ferret external functions written in Python (PyEFs) are simply Python scripts that define a couple of required functions, which will be discussed below. This script is placed in a directory where Python will be able to find it. This can be the directory you are working in, a directory that is listed in the environment variable <i>PYTHONPATH</i> (such as <i>$FER_DIR/lib/python2.6/site-packages</i> for Python 2.6 using the default <i>pyferret</i> script) or it can be one of the standard directories searche                                                                                                                                                                                                                                                
<p></p>
<p>The Ferret command <i>DEFINE PYFUNCTION</i> tells PyFerret to find and import the indicated Python script for use as a Ferret external function. From that point on in the session, this Ferret external function will be available for you to use. Unlike traditional Ferret external functions written in Python, there is no automatic scanning and importing of PyEFs. If you wish to always import a given PyEF, you can add the <i>DEFINE PYFUNCTION</i> command in your <i>$HOME/.ferret</i> Ferret start-up file.</p>
<p>A PyEF requires the two function <a href="#PYEFS_FERRET_INIT"><i>ferret_init</i></a> and <a href="#PYEFS_FERRET_COMPUTE"><i>ferret_compute</i></a> to be defined in the Python script being used. If a new axis is used in the result array (referred to as a <i>grid-changing function</i> in Ferret), one of the functions <a href="#PYEFS_FERRET_CUSTOM_AXES"><i>ferret_custom_axes</i></a> or <a href="#PYEFS_FERRET_RESULT_LIMITS"><i>ferret_result_limits</i></a> must also be defined to describe the custom or abstra                                                                                                                         
<p>First shown is a very simple Python script meeting the minimal requirements for a PyEF. Then a somewhat more complicated PyEF is shown in the <a href="#PYEFS_GRID_CHANGING_EXAMPLE">grid-changing PyEF</a> section.</p>
<h3>A simple PyEF</h3>
<p>The following is a minimal Python script for a very simple PyEF.</p>
<pre>
'''
Example Ferret external function written in Python whose result array has values
that are twice that of the argument array, where they defined, and twenty elsewhere.
'''
import numpy
import pyferret
 
def ferret_init(id):
'''Creates and returns the initialization dictionary for this PyEF'''
initdict = { "numargs": 1, "descript": "Returns 2 * A where A is defined, and 20.0 elsewhere" }
return initdict
 
def ferret_compute(id, result, result_bad_flag, inputs, input_bad_flags):
'''Performs the computation for this PyEF'''
badmask = ( numpy.fabs(inputs[pyferret.ARG1] - input_bad_flags[pyferret.ARG1]) &lt; 1.0E-5 )
goodmask = numpy.logical_not(badmask)
result[badmask] = 20.0
result[goodmask] = 2.0 * inputs[pyferret.ARG1][goodmask]</pre><p>The <i>ferret_init</i> function returns a dictionary that defines properties of the PyEF. At a minimum, the key <i>"numargs"</i>, whose value is the number of arguments expected by the function, and the key <i>"descript"</i>, whose value is a function description shown to the user, must be defined in the dictionary. A number of other key:value pairs can be given customized the function further, and are described in the <a href="#PYEFS_FERRET_I                                                                                                                                                                                                                                                                                                                                                                                                       
<p>The <i>ferret_compute</i> function assigns the provided NumPy array <i>result</i> from the data provided in the list of input argument NumPy arrays <i>inputs</i>. The missing value to use for the result is <i>result_bad_flag</i> (which is a single-element NumPy array), and the missing values for each of the input argument arrays is <i>input_bad_flags</i>. In this trivial example, NumPy logical arrays are created to identify array locations where the (first, and only) argument data is missing and where da                                                                                                                                                                                        
<p>In a Ferret session in PyFerret, one can then use this script, saved as twiceortwenty.py, as a PyEF as follows:</p>
<pre>
! Create the PyEF function TWTW using the Python script twiceortwenty.py
def pyfunc /name=twtw twiceortwenty
 
! The following description was created from the dictionary of information
! returned by the ferret_init function in the twiceortwenty.py script.
! The default argument names are A, B, ...
show func twtw
TWTW(A)
Returns 2 * A where A is defined, and 20.0 elsewhere
 
! Use the function and plot the results
use coads_climatology
let twtwsst = twtw(sst)
 
! Plot some of the data, using the system's arial font for text,
! and save as a small PNG image.
set text /font=arial
shade twtwsst[Y=65S:65N,T=17-MAR]
frame /file=twtwsst.png /xpixels=600</pre><p>The following image is what was saved from the above:<br /><img class="image-inline" src="../../sites/default/files/images/documentation/pyferret/pyferret-images/twtwsst.png" /></p>
<p>
<a name="PYEFS_GRID_CHANGING_EXAMPLE" id="PYEFS_GRID_CHANGING_EXAMPLE"></a></p>
<h3>A grid-changing PyEF</h3>
<p>The following example shows a somewhat more complicated PyEF in which the fourth axis of the result is a frequency axis instead of the time axis given in the argument.</p>
<pre>
'''
FFT of a real 4D space-time grid to give a 4D space-frequency grid.
The results are returned in a single array, as (freq[i].real, freq[i].imag)
pairs of the non-negative frequencies. Uses a custom axis for the frequencies.
'''
import numpy
import numpy.fft as fft
import pyferret
 
def ferret_init(id):
'''Creates and returns the initialization dictionary for this PyEF'''
retdict = { "numargs": 1,
"descript": "FFT of X,Y,Z,T to return X,Y,Z,(F.real,F.imag) of non-neg freqs",
"axes": (pyferret.AXIS_IMPLIED_BY_ARGS, pyferret.AXIS_IMPLIED_BY_ARGS,
pyferret.AXIS_IMPLIED_BY_ARGS, pyferret.AXIS_CUSTOM),
"argnames": ("A",),
"argdescripts": ("X,Y,Z,T data with a regular bounded time axis",),
"influences": ((True,True,True,False),),
}
return retdict</pre><p>Again, the <a href="#PYEFS_FERRET_INIT"><i>ferret_init</i></a> function returns a dictionary that defines properties of the PyEF. In addition to providing the expected number of arguments with the <i>"numargs"</i> key and a function description with the <i>"descript"</i> key, the source of the result axes are given by the <i>"axes"</i> key, the argument names are explicitly named by the <i>"argnames"</i> key, and description of each argument is given with the <i>"argdescripts"</i> key                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
<p>Continuing the above Python script, the <i>ferret_custom_axes</i> function is defined:</p>
<pre>
def ferret_custom_axes(id):
'''Defines the frequency axis (derived from the time axis)'''
# Get the number of steps along the time axis of the first argument
# and check for some common errors
axis_info = pyferret.get_axis_info(id, pyferret.ARG1, pyferret.T_AXIS)
ntime = axis_info.get("size", -1)
if ntime &lt; 0:
raise ValueError("The time axis is not bounded (not pre-defined)")
if ntime &lt; 4:
raise ValueError("Unexpectedly small number of time steps (
regular = axis_info.get("regular", False)
if not regular:
raise ValueError("The time axis is not a regularly-spaced axis")
# The result will have (ntime // 2 + 1) complex values
# (only the non-negative frequencies are returned).
# The values are returned as the real (at 0.0, 1.0, 2.0, ...),
# then imaginary (at 0.5, 1.5, 2.5, ...) components.
low = 0.0
high = (ntime // 2) + 0.5
delta = 0.5
unit_name = "freqnum"
is_modulo = False
# The first three axes are inherited from the argument(s)
# so None is given for their descriptions.
#
# The fourth axis goes from low to high, with increments
# of delta, and units given by unit_name. It is not a
# modulo axis since is_modulo is False.
return (None, None, None, (low,high,delta,unit_name,is_modulo))</pre><p>The <i>ferret_custom_axes</i> function defines all axes that were designated as <i>AXIS_CUSTOM</i> by <i>ferret_init</i>. In this case, only the fourth axis needs to be defined. The <i>get_axis_info</i> function is used to obtain a dictionary of information about the <i>T_AXIS</i> of <i>ARG1</i>, primarily to get the number of time steps in the argument. The function returns a four-tuple of values, one element for each axis of the resul                                                                                                                                                                                                                                                                                                               
<p>Now that the result axes are all defined, the <a href="#PYEFS_FERRET_COMPUTE"><i>ferret_compute</i></a> function can be defined. Continuing the above Python script:</p>
<pre>
def ferret_compute(id, result, result_bad_flag, inputs, input_bad_flags):
''' Assigns result with the fft, as (real,imaginary) pairs, of the first inputs array along the time axis. '''
ntime = inputs[pyferret.ARG1].shape[pyferret.T_AXIS]
nfreq = (ntime // 2) + 1
# find locations that have values at every time step
inpdefd = ( numpy.fabs(inputs[pyferret.ARG1] - input_bad_flags[pyferret.ARG1]) &gt;= 1.0E-5 )
defdmask = numpy.logical_and.reduce(inpdefd, axis=pyferret.T_AXIS)
for t in xrange(ntime):
inpdefd[:,:,:,t] = defdmask
# convert to space-time (a 2-D array), eliminating locations with missing time steps
spacetime = inputs[pyferret.ARG1][inpdefd].reshape((-1, ntime))
# do the FFT along the time axis (the second axis of spacetime)
spacefreqs = fft.rfft(spacetime, axis=1)
if spacefreqs.shape[1] != nfreq:
raise ValueError("Unexpected shape of the frequencies returned from rfft:
# fill results with the real and imaginary parts of the frequencies
for f in xrange(nfreq):
result[:,:,:,2*f][defdmask] = spacefreqs[:,f].real
result[:,:,:,2*f+1][defdmask] = spacefreqs[:,f].imag
# assign the result bad value to positions not assigned
undefdmask = numpy.logical_not(defdmask)
for f in xrange(2*nfreq):
result[:,:,:,f][undefdmask] = result_bad_flag[0]</pre><p>After removing any locations with missing time steps, this function performs the Fast Fourier Transform of the real data by using the rfft function in the numpy.fft module. The resulting frequencies are then assigned to the appropriate locations in the result array, and unassigned locations are assigned the result's missing value.</p>
<p>This completes the Python script, which if saved as pyfft.py, can be used in a Ferret session in PyFerret as follows:</p>
<pre>
! define the PyEF pyfft using the pyfft.py script
def pyfunc pyfft
 
 
! the function and argument descriptions are generated
! from the information returned in ferret_init
show func pyfft
PYFFT(A)
FFT of X,Y,Z,T to return X,Y,Z,(F.real,F.imag) of non-neg freqs
A: X,Y,Z,T data with a regular bounded time axis
 
! Define an ordinary latitude axis on Y
def axis /y=90S:90N:1 stlat
 
! Create a regular time axis over a twenty-year period
def axis /t=1-jan-1990:1-jan-2010:1 /unit=day /t0=1-jan-1990 /edges sttime
 
! Synthesize some temperature data with using cosine functions of time
let /title="SYNTEMPS" syntemps = \ 27 * cos(Y[gy=stlat] * 3.141592653 / 180.0) \
- 0.05 * Y[gy=stlat] * cos(T[gt=sttime] * 2 * 3.14159265 / 365.2425) \
+ 0.03 * (abs(Y[gy=stlat]) - 90.0) * (cos(T[gt=sttime] * 2 * 3.141592653 / 365.2425))^2
show grid syntemps
 
......
 
! plot the synthesized temperatures
set text /font=arial
shade syntempsframe /file=syntemps.png /xpix=600 
 
! compute the frequencies from the synthetic tempartures
let /title="SYNFREQS" synfreqs = pyfft(syntemps)
 
! the Y axis of the result was inherited from syntemps,
! but the T axis is a new axes generated from the information
! returned by ferret_custom_axes
sh grid synfreqs
 
......
 
! in a new window plot the real parts of the first 61 frequencies at 60S on the left side of the page
set win 2
set view left
plot /vlimit=-4000:32000:4000 synfreqs[Y=60S,T=0.0:60.0:1.0]
 
! plot the real parts of the first 61 frequencies at 20N on the right side of the page
set view right
plot /vlimit=-4000:32000:4000 synfreqs[Y=20N,T=0.0:60.0:1.0]
 
! save the image
frame /file=synfreqs.png /xpix=600</pre><p>The synthesized temperatures plot show the sinusoidal behavior with respect to both latitude and time:<br /><img class="image-inline" src="../../sites/default/files/images/documentation/pyferret/pyferret-images/syntemps.png" /></p>
<p>The frequencies plot show a strong zero-frequency (peaks are truncated in these plots) due to the baseline value that does not depend on temperature (the <i>cos(Y)</i> term), then an annual frequency that varies with latitude, vanishing at the equator (the <i>Y * cos(T)</i> term, showing up at 20.0 for this 20-year collection of data), and finally a negative semiannual frequency that varies with latitude and is strongest at the equator (the <i>(|Y| - 90) * cos(T)</i> term, showing up at 40.0):<br />                                                                                                                             
<p>
<a name="PYEFS_FERRET_INIT" id="PYEFS_FERRET_INIT"></a></p>
<h3>ferret_init</h3>
<p>The ferret_init function of a PyEF has the following signature:</p>
<dl><dt>ferret_init(id)</dt>
</dl><p></p>
<p>The argument of the the function is:</p>
<p></p>
<dl><dt>id</dt>
<dd>Ferret's identification number for this external function</dd>
</dl><p></p>
<p>This functions returns a dictionary defining the following keys:</p>
<p></p>
<dl><dt>"numargs"</dt>
<dd>the number of input arguments (referred to a <i>N</i> below), an integer value from one to nine (required)</dd>
<dt>"descript"</dt>
<dd>a string description of the function (required)</dd>
<dt>"restype"</dt>
<dd>the type of the result (optional; the default is <i>FLOAT_ARRAY</i>.This result type value is one of:
<dl><dt>FLOAT_ARRAY</dt>
<dd>an array of floating-point values</dd>
<dt>STRING_ARRAY</dt>
<dd>an array of string values</dd>
</dl></dd>
<dt>"resstrlen"</dt>
<dd>the maximum length of the strings if the result type is an array of strings(optional; the default is 128)</dd>
<dt>"axes"</dt>
<dd>six-tuple (X,Y,Z,T,E,F) axis definitions for the grid of the result array(optional; the default is a six-tuple of <i>AXIS_IMPLIED_BY_ARGS</i>). These axis definition values are one of:
<dl><dt>AXIS_IMPLIED_BY_ARGS</dt>
<dd>result axis is the same as the corresponding axis in one or more arguments (default)</dd>
<dt>AXIS_ABSTRACT</dt>
<dd>result axis is an indexed axis whose limits are obtained by calling <i>ferret_result_limits</i></dd>
<dt>AXIS_CUSTOM</dt>
<dd>result axis is a custom axis defined by calling <i>ferret_custom_axes</i></dd>
<dt>AXIS_DOES_NOT_EXIST</dt>
<dd>axis does not exist in (is normal to) the results</dd>
<dt>AXIS_REDUCED</dt>
<dd>axis is reduced to a single point in the result</dd>
</dl></dd>
<dt>"argnames"</dt>
<dd>an N-tuple of names for the input arguments (optional; the default is <i>('A', 'B', 'C', ...)</i>,an N-tuple of single capital letters)</dd>
<dt>"argdescripts"</dt>
<dd>an N-tuple of descriptions for the input arguments (optional; the default is an N of empty strings,thus giving no argument descriptions)</dd>
<dt>"argtypes"</dt>
<dd>an N-tuple of argument types (optional; the default is an N-tuple of <i>FLOAT_ARRAY</i>).These argument types are one of:
<dl><dt>FLOAT_ARRAY</dt>
<dd>an array of floating-point values</dd>
<dt>FLOAT_ONEVAL</dt>
<dd>a single floating-point value</dd>
<dt>STRING_ARRAY</dt>
<dd>an array of string values</dd>
<dt>STRING_ONEVAL</dt>
<dd>a single string value</dd>
</dl></dd>
<dt>"influences"</dt>
<dd>an N-tuple of six-tuples of booleans indicating whether each of the corresponding input argument's(X,Y,Z,T,E,F) axis influences the result grid's (X,Y,Z,T,E,F) axis (optional; the default is True for everyaxis of every argument). If None is given for an argument's six-tuple, then True is assumes for everyaxis of that argument.<br />
	NOTE: If the <i>"influences"</i> value for an axis is True (which is the default),the <i>"axes"</i> value for this axis must be either <i>AXIS_IMPLIED_BY_ARGS</i> (the default)or <i>AXIS_REDUCED</i></dd>
<dt>"extends"</dt>
<dd>an N-tuple of six-tuples of pairs of integers (optional; the default is no extensions applied).Each six-tuple gives the (X,Y,Z,T,E,F) extension pairs for the corresponding argument.Each extension pair is the number of values to extend in the low and high indices of the axisbeyond that of the implied axis of the result. If a extension pair is None, no extensions are madefor that axis. If a six-tuple is None, no extensions are made for that argument.Thus, <i>(None, (None, None, None, (-1,1)), None)</i> me                                                                                                                                                                   
	NOTE: If an <i>"extends"</i> pair is given for an axis, the <i>"axes"</i> value for this axis mustbe <i>AXIS_IMPLIED_BY_ARGS</i> (the default value). The <i>"extends"</i> pair means more precisely that theaxis in the argument, exactly as provided in the Ferret command, is larger by the indicated amountfrom the implied axis of the result.</dd>
<dt>"piecemeal"</dt>
<dd>a six-tuple of booleans indicating whether the calculation can be broken up along the corresponding axisif necessary. In other words, if Ferret need to perform the calculation a piece at a time (probably due tomemory restrictions), this indicates which axes can split into pieces with separate calls on each pieceto perform the calculation. The default is False (no splitting allowed) for all axes.</dd>
</dl><p>
<a name="PYEFS_FERRET_COMPUTE" id="PYEFS_FERRET_COMPUTE"></a></p>
<h3>ferret_compute</h3>
<p>The ferret_compute function of a PyEF has the following signature:</p>
<dl><dt>ferret_compute(id, result, result_bad_flag, inputs, input_bad_flags)</dt>
</dl><p></p>
<p>The arguments of the the function are:</p>
<p></p>
<dl><dt>id</dt>
<dd>Ferret's identification number for this external function</dd>
<dt>result</dt>
<dd>a writeable NumPy array of six dimensions (X,Y,Z,T,E,F) to contain the results of this computation.The shape and strides of this array has been configured appropriately for this result.</dd>
<dt>result_bad_flag</dt>
<dd>a NumPy array of one dimension (and one value) containing the bad-data-flag value for the result array.(This bad-data-flag value is contained in a NumPy array to ensure the data type is identical to that of the result array.)</dd>
<dt>inputs</dt>
<dd>a tuple of read-only NumPy arrays of six dimensions (X,Y,Z,T,E,F) containing the given input data. The shapes and strides of these array have been configured appropriately for each input array.</dd>
<dt>input_bad_flags</dt>
<dd>a tuple of NumPy arrays of one dimension (each containing one value) containing the bad-data-flagvalue for each of the input arrays. (These bad-data-flag values are contained in a NumPy arrays to ensurethe data type is identical to that of the corresponding input array.)</dd>
</dl><p></p>
<p>Any return value is ignored. If an error is identified, an exception should be raised with aninformative message (for example, <i>raise ValueError("The time axis is not a regularly-spaced axis")</i>). If an exception is raised, Ferret is notified that an error occurred. The message of the exceptionobject will be used as the error message sent to Ferret.</p>
<p>
<a name="PYEFS_FERRET_CUSTOM_AXES" id="PYEFS_FERRET_CUSTOM_AXES"></a></p>
<p></p>
<h3>ferret_custom_axes</h3>
<p>The ferret_custom_axes function of a PyEF has the following signature:</p>
<dl><dt>ferret_custom_axes(id)</dt>
</dl><p>If the dictionary returned from <a href="#PYEFS_FERRET_INIT"><i>ferret_init</i></a> assigned a result axis as <i>AXIS_CUSTOM</i>, then the <i>ferret_custom_axes</i> function must also be defined. This function is used to defined all the axes that were designed as custom axes.</p>
<p></p>
<p>The argument of the the function is:</p>
<p></p>
<dl><dt>id</dt>
<dd>Ferret's identification number for this external function</dd>
</dl><p></p>
<p>This function should return an (X, Y, Z, T, E, F) six-tuple of data values describing each of the custom axes. The data value for each custom axis is a (low, high, delta, unit_name, is_modulo) tuple where:</p>
<p></p>
<dl><dt>low</dt>
<dd>the smallest "world" (floating-point) coordinates for this axis</dd>
<dt>high</dt>
<dd>the largest "world" (floating-point) coordinates for this axis</dd>
<dt>delta</dt>
<dd>the axis step increment in "world" (floating-point) coordinates for this axis</dd>
<dt>unit_name</dt>
<dd>a string used in describing the unit value of the "world" coordinates</dd>
<dt>is_modulo</dt>
<dd>indicates whether or not the axis is a modulo ("wrapping") axis</dd>
</dl><p>If an axis was not designated as <i>AXIS_CUSTOM</i>, then <i>None</i> should be given in the six-tuple for the data value for that axis.</p>
<p>
<a name="PYEFS_FERRET_RESULT_LIMITS" id="PYEFS_FERRET_RESULT_LIMITS"></a></p>
<h3>ferret_result_limits</h3>
<p>If the dictionary returned from <a href="#PYEFS_FERRET_INIT"><i>ferret_init</i></a> assigned a result axis as <i>AXIS_ABSTRACT</i>, then the <i>ferret_result_limits</i> function must also be defined. This function is used to defined all the axes that were designed as abstract axes.</p>
<p></p>
<p>The ferret_result_limits function of a PyEF has the following signature:</p>
<p></p>
<dl><dt>ferret_result_limits(id)</dt>
</dl><p></p>
<p>The argument of the the function is:</p>
<p></p>
<dl><dt>id</dt>
<dd>Ferret's identification number for this external function</dd>
</dl><p></p>
<p>This function returns an (X, Y, Z, T, E, F) six-tuple of data values describing each of the abstract axes.The data value for each abstract axis is a (low, high) pairs of integers, which specify the low and highFerret indices for that axis. The indices for this axis in the result NumPy array to be assigned, however,will range from zero to (high - low).</p>
<p></p>
<p>If an axis was not designated as <i>AXIS_ABSTRACT</i>, then <i>None</i> should be given in the six-tuple for the data value for that axis.</p>
<p></p>
<p><a href="pyferret-python-objects.html">Previous</a> <a href="fortranefs.html">Next</a></p>
<p></p>
</div>
</div>
</div>

</div>

<div class="clearfix">
<nav class="links node-links clearfix"></nav>

</div>
</article>
</div>
</div>
</div>      </div>
</div>  </div>
</div></section>    
 
<footer id="section-footer" class="section section-footer">

  <div id="zone-footer-wrapper" class="zone-wrapper zone-footer-wrapper clearfix">  
  <div id="zone-footer" class="zone zone-footer clearfix container-12">
    <div class="grid-8 region region-footer-first" id="region-footer-first">
  <div class="region-inner region-footer-first-inner">
    <div class="block block-block block-1 block-block-1 odd block-without-title" id="block-block-1">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-block block-2 block-block-2 even block-without-title" id="block-block-2">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-menu block-menu-footer-first-menu block-menu-menu-footer-first-menu odd block-without-title" id="block-menu-menu-footer-first-menu">

  </div>
</div>  </div>
</div><div class="grid-4 region region-footer-second" id="region-footer-second">
  <div class="region-inner region-footer-second-inner">
    <div class="block block-menu block-menu-footer-second-menu block-menu-menu-footer-second-menu odd block-without-title" id="block-menu-menu-footer-second-menu">
  <div class="block-inner clearfix">
                
  </div>
</div>  </div>
</div>  </div>
</div></footer>  </div>  <div class="region region-page-bottom" id="region-page-bottom">
  <div class="region-inner region-page-bottom-inner">
      </div>
</div>  <div id="body-bg-bottom"></div>
</body>
</html>
