 
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML+RDFa 1.1//EN">
<html lang="en" dir="ltr" version="HTML+RDFa 1.1"
xmlns:content="http://purl.org/rss/1.0/modules/content/"
xmlns:dc="http://purl.org/dc/terms/"
xmlns:foaf="http://xmlns.com/foaf/0.1/"
xmlns:og="http://ogp.me/ns#"
xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
xmlns:sioc="http://rdfs.org/sioc/ns#"
xmlns:sioct="http://rdfs.org/sioc/types#"
xmlns:skos="http://www.w3.org/2004/02/skos/core#"
xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
xmlns:schema="http://schema.org/">

<!-- Mirrored from ferret.pmel.noaa.gov/Ferret/documentation/users-guide/computing-environment/MEMORY-USE by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 15 Jun 2023 18:11:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://www.w3.org/1999/xhtml/vocab">
<title>9.3 MEMORY USE - Ferret/PyFerret Documentation</title>

<link rel="stylesheet" href="../../../modules/system/system.base.css">
<link rel="stylesheet" href="../../../modules/system/system.menus.css">
<link rel="stylesheet" href="../../../modules/system/system.messages.css">
<link rel="stylesheet" href="../../../modules/system/system.theme.css">

<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.core.min.css">
<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.theme.min.css">
<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.menu.min.css">
<link rel="stylesheet" href="../../../sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.autocomplete.min.css">

<link rel="stylesheet" href="../../../sites/all/modules/calendar/css/calendar_multiday.css">
<link rel="stylesheet" href="../../../modules/field/theme/field.css">
<link rel="stylesheet" href="../../../sites/all/modules/scald/modules/fields/mee/css/editor-global.css">
<link rel="stylesheet" href="../../../modules/node/node.css">
<link rel="stylesheet" href="../../../sites/all/modules/scald_file/scald_file.css">
<link rel="stylesheet" href="../../../modules/search/search.css">
<link rel="stylesheet" href="../../../modules/user/user.css">
<link rel="stylesheet" href="../../../sites/all/modules/views/css/views.css">
<link rel="stylesheet" href="../../../sites/all/modules/ckeditor/css/ckeditor.css">

<link rel="stylesheet" href="../../../sites/all/modules/ctools/css/ctools.css">
<link rel="stylesheet" href="../../../sites/all/modules/custom_search/custom_search.css">
<link rel="stylesheet" href="../../../sites/all/modules/search_autocomplete/css/themes/minimal.css">
<link rel="stylesheet" href="../../../sites/all/libraries/superfish/css/superfish.css">
<link rel="stylesheet" href="../../../sites/all/libraries/superfish/css/superfish-smallscreen.css">
<link rel="stylesheet" href="../../../sites/all/libraries/superfish/css/superfish-vertical.css">

<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/ckeditor_custom.css">

<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/alpha-reset.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/alpha-mobile.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/alpha-alpha.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/formalize.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-text.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-branding.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-menu.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-forms.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/omega/css/omega-visuals.css">
<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/global.css">



<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css">
<link rel="stylesheet" href="../../../sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-wide.css">
<link rel="stylesheet" href="../../../sites/all/themes/omega/alpha/css/grid/alpha_default/wide/alpha-default-wide-12.css">


</head>
<body class="html not-front not-logged-in page-node page-node- page-node-555 node-type-documentation-page context-documentation">
  <div id="body-bg-top"></div>
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div class="page clearfix" id="page">
      <header id="section-header" class="section section-header">
  <div id="zone-header-wrapper" class="zone-wrapper zone-header-wrapper clearfix">  
  <div id="zone-header" class="zone zone-header clearfix container-12">
    <div class="grid-7 region region-branding" id="region-branding">
  <div class="region-inner region-branding-inner">
        <div class="branding-data clearfix">
            <div class="logo-img">
        <a href="../../../index.html" rel="home" title=""><img src="../../../sites/all/themes/pacific_marine/images/ferret-banner.png" alt="" id="logo" /></a>
		</div>
                </div>
          </div>
</div><div class="grid-5 region region-header-first" id="region-header-first">
  <div class="region-inner region-header-first-inner">
    <div class="block block-block block-4 block-block-4 odd block-without-title" id="block-block-4">
  <div class="block-inner clearfix">

  </div>
</div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-menu-wrapper" class="zone-wrapper zone-menu-wrapper clearfix">  
  <div id="zone-menu" class="zone zone-menu clearfix container-12">
    <div class="grid-12 region region-menu" id="region-menu">
  <div class="region-inner region-menu-inner">
        <div class="block block-system block-menu block-main-menu block-system-main-menu odd block-without-title" id="block-system-main-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu">
	  <li class="first expanded"><a href="../../../index.html">Home</a>
	  <ul class="menu">
	  </li>-->
<li class="leaf"><a href="../../../index.html">Ferret/PyFerret Home</a></li>
</ul></li>
<li class="leaf"><a href="../../ferret-documentation.html">Documentation</a></li>
<li class="leaf"><a href="../../../faq/ferret-faqs.html">FAQ</a></li>
<li class="collapsed"><a href="../../pyferret/downloads.html">Downloads</a></li>
<li class="collapsed"><a href="../../pyferret-support.html">Support</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div>
  </div>
</div></header> 
<section id="section-content" class="section section-content">
<div id="zone-preface-wrapper" class="zone-wrapper zone-preface-wrapper clearfix">  
<div id="zone-preface" class="zone zone-preface clearfix equal-height-container container-12">
<div class="grid-3 region region-preface-first equal-height-element" id="region-preface-first">
<div class="region-inner region-preface-first-inner">
</div>
</div><div class="grid-9 region region-preface-second equal-height-element" id="region-preface-second">
<div class="region-inner region-preface-second-inner">
</div>
</div>  </div>
</div><div id="zone-content-wrapper" class="zone-wrapper zone-content-wrapper clearfix sidebar">  
<div id="zone-content" class="zone zone-content clearfix equal-height-container container-12">    

        <aside class="grid-3 region region-sidebar-first equal-height-element" id="region-sidebar-first">
  <div class="region-inner region-sidebar-first-inner">
    <div class="block block-superfish block-1 block-superfish-1 odd block-without-title" id="block-superfish-1">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul  id="superfish-1" class="menu sf-menu sf-main-menu sf-vertical sf-style-none sf-total-items-8 sf-parent-items-4 sf-single-items-4"><li id="menu-1620-1" class="first odd sf-item-1 sf-depth-2 sf-no-children"><a href="../../version-763-release-notes.html" class="sf-depth-2">Current Release Notes</a></li>
<li id="menu-1170-1" class="active-trail middle even sf-item-2 sf-depth-2 sf-total-children-17 sf-parent-children-15 sf-single-children-2 menuparent">
<a href="../users-guide.html" class="sf-depth-2 menuparent">Ferret Users Guide</a>

<ul>
<li id="menu-1613-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../full-index/index.html" class="sf-depth-3">Users Guide Index</a></li>
<li id="menu-1154-1" class="middle even sf-item-2 sf-depth-3 sf-total-children-41 sf-parent-children-0 sf-single-children-41 menuparent"><a href="../commands-reference/commands-reference.html" class="sf-depth-3 menuparent">Commands Reference</a>
	  
</li>
<li id="menu-1390-1" class="middle odd sf-item-3 sf-depth-3 sf-total-children-8 sf-parent-children-0 sf-single-children-8 menuparent"><a href="../introduction/introduction.html" class="sf-depth-3 menuparent">1. Introduction</a>
</li>
<li id="menu-1391-1" class="middle even sf-item-4 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="../data-set-basics/data-set-basics.html" class="sf-depth-3 menuparent">2. Data Set Basics</a>
</li>
<li id="menu-1392-1" class="middle odd sf-item-5 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="../variables-xpressions/variables-xpressions.html" class="sf-depth-3 menuparent">3. Variables &amp; Expressions</a>
	</li>
<li id="menu-1393-1" class="middle even sf-item-6 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../Grids-Regions/Grids-Regions.html" class="sf-depth-3 menuparent">4. Grids &amp; Regions</a>
</li>
<li id="menu-1394-1" class="middle odd sf-item-7 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="../animations-gif-images/animations-gif-images.html" class="sf-depth-3 menuparent">5. Animations &amp; Gif Images</a>
</li>
<li id="menu-1395-1" class="middle even sf-item-8 sf-depth-3 sf-total-children-12 sf-parent-children-0 sf-single-children-12 menuparent"><a href="../customizing-plots/customizing-plots.html" class="sf-depth-3 menuparent">6. Customizing Plots</a>
</li>
<li id="menu-1396-1" class="middle odd sf-item-9 sf-depth-3 sf-total-children-11 sf-parent-children-0 sf-single-children-11 menuparent"><a href="../handling-string-data-symbols.html" class="sf-depth-3 menuparent">7. Handing String Data Symbols</a>
</li>
<li id="menu-1397-1" class="middle even sf-item-10 sf-depth-3 sf-total-children-10 sf-parent-children-0 sf-single-children-10 menuparent"><a href="../working-with-special-data-sets/working-with-special-data-sets.html" class="sf-depth-3 menuparent">8. Working with Special Data Sets</a>
</li>
<li id="menu-1398-1" class="middle odd sf-item-11 sf-depth-3 sf-total-children-7 sf-parent-children-0 sf-single-children-7 menuparent"><a href="../computing-environment/computing-environment.html" class="sf-depth-3 menuparent">9. Computing Environment</a>
</li>
<li id="menu-1399-1" class="middle even sf-item-12 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../converting-to-netcdf/converting-to-netcdf.html" class="sf-depth-3 menuparent">10. Converting to NetCDF</a>
</li>
<li id="menu-1400-1" class="middle odd sf-item-13 sf-depth-3 sf-total-children-6 sf-parent-children-0 sf-single-children-6 menuparent"><a href="../writing-external-functions/writing-external-functions.html" class="sf-depth-3 menuparent">11. Writing External Functions</a>
</li>
<li id="menu-1166-1" class="active-trail middle even sf-item-14 sf-depth-3 sf-no-children"><a href="../glossary/glossary.html" class="sf-depth-3 active">Glossary</a></li>
<li id="menu-1427-1" class="middle odd sf-item-15 sf-depth-3 sf-total-children-58 sf-parent-children-0 sf-single-children-58 menuparent"><a href="../appendix-a-external-functions/appendix-a-external-functions.html" class="sf-depth-3 menuparent">Appendix A: Functions</a>
</li>
<li id="menu-1168-1" class="middle even sf-item-16 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="../appendix-b-pplus-guide/appendix-b-pplus-guide.html" class="sf-depth-3 menuparent">Appendix B: PPLUS Guide</a>
</li>
<li id="menu-1169-1" class="last odd sf-item-17 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../appendix-c-ferret-specific-pplus-enhancements/appendix-c-ferret-specific-pplus-enhancements.html" class="sf-depth-3 menuparent">Appendix C: Ferret-Specific PPLUS Enhancements</a>
</li>
</ul></li>
<li id="menu-1336-1" class="middle odd sf-item-3 sf-depth-2 sf-no-children"><a href="../../all-release-notes.html" class="sf-depth-2">Previous Release Notes</a></li>
<li id="menu-1339-1" class="middle even sf-item-4 sf-depth-2 sf-total-children-15 sf-parent-children-1 sf-single-children-14 menuparent"><a href="../../ferret-tutorials.html" class="sf-depth-2 menuparent">Tutorials and Demos</a>
<ul>
<li id="menu-1338-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../../demos/ferret-tutorial-script.html" class="sf-depth-3">Ferret Tour</a></li>
<li id="menu-1618-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../demos/dsg-files-discrete-sampling-geometries-demo.html" class="sf-depth-3">DSG files: Discrete Sampling Geometries Demo</a></li>
<li id="menu-1591-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../../demos/ferret-sorting-demo.html" class="sf-depth-4">Ferret sorting demo</a></li>
<li id="menu-1344-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../../demos/how-to-use-ferret-external-functions-for-computing-ffts.html" class="sf-depth-4">Fast Fourier Transforms demo</a></li>
<li id="menu-1345-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="../../demos/ferret-eof-demo.html" class="sf-depth-4">Empirical Orthogonal Functions demo</a></li>
<li id="menu-1346-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="../../demos/ferret-objective-analysis.html" class="sf-depth-4">Ferret objective analysis demo</a></li>

<li id="menu-1353-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="../../demos/ferret-palette-demo.html" class="sf-depth-3">Ferret Palette Demo</a></li>
<li id="menu-1350-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="../../demos/ferret-map-projections-demo.html" class="sf-depth-3">Map projections</a></li>
<li id="menu-1354-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="../../demos/ferret-polygon-vector-demo.html" class="sf-depth-3">Ferret polygon vector demo</a></li>
<li id="menu-1355-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="../../demos/ferret-graticules-demo.html" class="sf-depth-3">Ferret Graticules demo</a></li>
<li id="menu-1352-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="../../demos/ferret-polytube-demo.html" class="sf-depth-3">Ferret Polytube Demo</a></li>
<li id="menu-1351-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="../../demos/ferret-polymark-demo.html" class="sf-depth-3">Ferret Polymark Demo</a></li>
<li id="menu-1349-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="../../demos/ferret-constant-array-demo.html" class="sf-depth-3">Ferret Constant-Array demo</a></li>
<li id="menu-1356-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="../../demos/ferret-land_detail-demo.html" class="sf-depth-3">Ferret land_detail demo</a></li>
<li id="menu-1340-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href=".../../demos/coads-tour.html" class="sf-depth-3">COADS Tour</a></li>
<li id="menu-1341-1" class="middle odd sf-item-13 sf-depth-3 sf-no-children"><a href="../../demos/levitus-tour.html" class="sf-depth-3">Levitus Tour</a></li>
<li id="menu-1342-1" class="middle even sf-item-14 sf-depth-3 sf-no-children"><a href="../../demos/how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1.html" class="sf-depth-3">Use OPeNDAP</a></li>
<li id="menu-1348-1" class="last odd sf-item-15 sf-depth-3 sf-no-children"><a href="../../demos/ferret-binary-read-demo.html" class="sf-depth-3">Ferret binary read demo</a></li>
</ul></li>
<li id="menu-1333-1" class="middle odd sf-item-5 sf-depth-2 sf-total-children-13 sf-parent-children-1 sf-single-children-12 menuparent"><a href="../../pyferret.html" class="sf-depth-2 menuparent">PyFerret</a>
<ul>
<li id="menu-1426-1" class="first odd sf-item-1 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="../../pyferret/downloads.html" class="sf-depth-3 menuparent">PyFerret Downloads and Install</a>
<ul>
<li id="menu-1374-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="../../pyferret/requirements.html" class="sf-depth-4">PyFerret requirements</a></li>
<li id="menu-1375-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="../../downloads/pyferret.html" class="sf-depth-4">PyFerret Downloads</a></li>
<li id="menu-1377-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="../../pyferret/build-install.html" class="sf-depth-4">Installing or Building PyFerret</a></li>
<li id="menu-1376-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="../../pyferret/known-issues.html" class="sf-depth-4">PyFerret Known Issues and Release Notes</a></li>
</ul></li>
<li id="menu-1359-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../pyferret/what-is-pyferret.html" class="sf-depth-3">What is PyFerret?</a></li>
<li id="menu-1360-1" class="middle odd sf-item-3 sf-depth-3 sf-no-children"><a href="../../pyferret/why-use-pyferret.html" class="sf-depth-3">Why use PyFerret?</a></li>
<li id="menu-1361-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="../../pyferret/example-sessions-ferret.html" class="sf-depth-3">PyFerret for the Ferret user</a></li>
<li id="menu-1362-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="../../pyferret/pyferret-quick-start-notes.html" class="sf-depth-3">PyFerret command syntax: quick-start notes</a></li>
<li id="menu-1364-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="../../pyferret/example-sessions-python.html" class="sf-depth-3">PyFerret for the Python user</a></li>
<li id="menu-1365-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="../../pyferret/graphics.html" class="sf-depth-3">Graphics in PyFerret ?</a></li>
<li id="menu-1366-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="../../pyferret/ferret-functionality.html" class="sf-depth-3">New Ferret functionality</a></li>
<li id="menu-1367-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="../../pyferret/python-functions.html" class="sf-depth-3">PyFerret Python functions and constants</a></li>
<li id="menu-1368-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="../../pyferret/pyferret-python-objects.html" class="sf-depth-3">PyFerret Python objects and methods</a></li>
<li id="menu-1369-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="../../pyferret/pyefs.html" class="sf-depth-3">Ferret external functions in Python</a></li>
<li id="menu-1371-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href="../../pyferret/fortranefs.html" class="sf-depth-3">Ferret Fortran external functions</a></li>
<li id="menu-1373-1" class="last odd sf-item-13 sf-depth-3 sf-no-children"><a href="../../pyferret/data-dictionaries.html" class="sf-depth-3">PyFerret metadata-and-data dictionaries</a></li>
</ul></li>
<li id="menu-1147-1" class="middle even sf-item-6 sf-depth-2 sf-total-children-3 sf-parent-children-0 sf-single-children-3 menuparent"><a href="../../opendap/opendap-usage-in-ferret.html" class="sf-depth-2 menuparent">OPeNDAP</a>
<ul>
<li id="menu-1590-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="../../opendap/opendap-usage-in-ferret.html" class="sf-depth-3">OPeNDAP usage in Ferret</a></li>
<li id="menu-1489-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="../../demos/how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1.html" class="sf-depth-3">Use OPeNDAP Demo</a></li>
<li id="menu-1491-1" class="last odd sf-item-3 sf-depth-3 sf-no-children"><a href="../appendix-a-external-functions/test_opendap.html" class="sf-depth-3">Test OPeNDAP</a></li>
</ul></li>
<!-- <li id="menu-1592-1" class="middle odd sf-item-7 sf-depth-2 sf-no-children"><a href="../../ferret-publications.html" class="sf-depth-2">Ferret Publications</a></li>
<li id="menu-1389-1" class="last even sf-item-8 sf-depth-2 sf-no-children"><a href="../../acknowledging-ferret.html" class="sf-depth-2">Acknowledging Ferret</a></li> -->
</ul>    </div>
  </div>
</div>  </div>
</aside><div class="grid-9 region region-content equal-height-element" id="region-content">
  <div class="region-inner region-content-inner">
<a id="main-content"></a>
<h1 class="title" id="page-title">9.3 MEMORY USE</h1>
<div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
<div class="block-inner clearfix">
 
<div class="content clearfix">
<article about="/Ferret/documentation/users-guide/computing-environment/MEMORY-USE" typeof="sioc:Item foaf:Document" class="node node-documentation-page node-promoted node-published node-not-sticky author-burger odd clearfix" id="node-documentation-page-487">

<!-- add the following line to print out updated date -->
<!-- add the following line to print out the page description -->

<div class="content clearfix">
 
<div class="field field-name-body field-type-text-with-summary field-label-hidden">
<div class="field-items">
<div class="field-item even" property="content:encoded"><p><a id="Chapter9-Memory_use" name="Chapter9-Memory_use"></a><a name="_VPID_338" id="_VPID_338"></a> <a name="_VPINDEXENTRY_1027" id="_VPINDEXENTRY_1027"></a><a name="_VPINDEXENTRY_1024" id="_VPINDEXENTRY_1024"></a></p>
<p class="secHeader">9.3.1 Understanding Ferret Memory Management Concepts and Tools</p>
<p>With Ferret v7.2, significant enhancements were made to how Ferret manages memory. Information about memory management for Ferret versions prior to v7.2 is preserved in <a href="#_Sec9.3.3">section 9.3.3</a>, below.</p>
<p>The <strong><a href="../commands-reference/SET.html#_VPINDEXENTRY_set_memory">SET MEMORY/SIZE=&lt;size&gt;</a></strong> command tells Ferret how much memory it is allowed to use for accessing scientific grids of data.  The argument &lt;size&gt; is given in units of MegaWords, where each “word” is an 8-byte double.  Thus, SET MEMORY/SIZE=10 tells Ferret it is allowed to use up to 80 megaBytes of memory.  If Ferret is unable to complete a calculation within this memory limit it will return an “insufficient memory” error message.  See also <strong><a href="#_9.3.2">Strategies for Handling Insufficient Memory Errors</a></strong>, below.<br />
 <br />
For memory limits not quickly addressed through SET MEMORY/SIZE, an understanding Ferret’s memory management techniques may help in devising a solution.  Ferret memory usage can be thought of in three categories:</p>
<ul><li>Essential memory</li>
<li>Cache memory</li>
<li>Permanent memory</li>
</ul><p><strong>Essential memory</strong> is memory that is essential for the current command.  For example, in a multi-argument command such as  <span style="font-family:courier new,courier,monospace;">PLOT v1,v2,v3</span> memory equal to the sum of the sizes of the arguments v1, v2, and v3 is “essential”, because these three variables must be passed at the same time to the PLOT command.   For compressing calculations, such as averages (<span style="font-family:courier new,courier,monospace;">T=@AVE</span>) or modulo regridding (<span style="font-family:courier new,courier,monospace;">var[GT=month_reg@MOD</span>]) the data that serves as input to the calculation is fleeting essential memory.  In depth discussion of this topic follows below.  For user-defined variables (those defined with the LET command) essential memory also includes ephemeral results that exist during the calculation: algebraic operands and function arguments.  For example, in evaluating the definition <span style="font-family:courier new,courier,monospace;">LET C=A+B</span>, the variables A and B must exist simultaneously, as C is computed.  In evaluating the definition <span style="font-family:courier new,courier,monospace;">LET C=FCN(v1,v2,v3) </span>the variables v1, v2, and v3 will all fleetingly occupy memory simultaneously.  </p>
<p><strong>Cache memory</strong> holds the left-over results of previous disk reads and calculations. Frequently Ferret will re-use these results, avoiding the need to read from disk or perform calculations, improving performance.  For example if a global plot, <span style="font-family:courier new,courier,monospace;">SHADE temp</span>, is followed by the zoomed in plot, <span style="font-family:courier new,courier,monospace;">SHADE temp[X=130e:80w,y=20s:20n]</span>, the second command will likely re-use the cached result left from the first.  When the demand for essential memory grows high enough, cache memory will be deleted in order to free up needed memory space.  The order in which cached memory results will be deleted is based upon the time since a given cached object was last accessed.</p>
<p><strong>Permanent memory</strong> is memory occupied by the<strong> <a href="../commands-reference/LOAD.html#_VPINDEXENTRY_1445">LOAD/PERMANENT</a></strong> command. Permanent memory will not be deleted until the user manually issues a <strong><a href="../commands-reference/LOAD.html#_VPINDEXENTRY_1445">LOAD/TEMPORARY</a></strong> for the same memory object, or a CANCEL MEMORY/ALL or CANCEL MEMORY/PERMANENT is issued.   Designating memory as permanent can improve the performance under some circumstances.</p>
<p>It is during compressing calculations that the most complex memory management occurs. For example, in the computation of a 1D average such as <span style="font-family:courier new,courier,monospace;">L=1:1000@AVE</span>, the source data required for this calculation is roughly 1000 times larger than the result.  If the source data is too large to fit into memory, then Ferret must break the calculation into fragments in order to carry it to successful completion.</p>
<p>The nature of the algorithms that guide Ferret in breaking up the calculation are most clearly understood by looking at a concrete example.  (A Ferret session showing this example is visible under the <strong><a href="../commands-reference/SET.html#_mode_frugal">SET MODE FRUGAL</a></strong> entry of this Users’ Guide.)  Let's consider a file variable ‘V’ with no E or F axes; a new session, where no memory is yet in use; SET MEMORY/SIZE=10 has been specified; and the given command LOAD V[i=1:1000,j=1:1000,k=1,l=1:100@ave] has just been issued.  The result of this averaging calculation, L=1:100@ave,  will be a mere 1 MegaWord (1000x1000x1x1), but the source data needed to perform that calculation is 100 MegaWords (1000x1000x1x100). </p>
<p>The source data cannot fit into the set memory size of 10 MegaWords in a single block, so the calculation must be split into fragments for processing.  Because the speed of file IO differs greatly by axis, Ferret optimizes for performance by breaking the calculation along the slowest suitable axis. Typically, the order of axes from fast to slow will be X-Y-Z-T-E-F, but SET DATA/ORDER and the ordering of ENSEMBLE and FMRC aggregations may affect this.  So in our example, Ferret will first look to see if the T (L) axis is suitable for breaking up the calculation.  Since T is also the axis of the average, as the calculation proceeds essential memory will be required to store two components 
for the averaging calculation: the sum of data values and the sum of T-axis weights.  Managing two result-sized components will double the essential memory required to 2 MegaWords.   Since our assumed scenario is that nothing else is occupying memory, the memory available to hold source data is 10-2 = 8 megaWords. To split 100 Megawords of source data into fragments that will fit into 8 Megawords each fragment can be at most 8/100=.08 of the total.  With the L axis being 100 points long Ferret will split the calculation into fragments of length .08*100 = 8 points along the L axis.  Those fragments will be sequentially processed to compute the result.   The choice that Ferret has made to split up a calculation may be viewed by issuing the <strong><a href="../commands-reference/SHOW.html#_show_mem_diag">SHOW MEMORY/DIAGNOSTIC</a></strong> command after the calculation has completed.</p>
<p>In the preceding example, the fragment size calculation will be precisely as described if MODE FRUGAL is canceled and nothing else is occupying memory.  Using Ferret with MODE FRUGAL canceled makes maximum use of the SET MEMORY/SIZE limit that has been specified, but raises the chances that Ferret will run out of memory due to other factors.  By default MODE FRUGAL is SET and has an argument value of 30, meaning that 30% of the available memory will be held in reserve when calculations of fragment size are made.  The User Guide section on 
<strong><a href="../commands-reference/SET.html#_mode_frugal">SET MODE FRUGAL</a></strong> provides output of the example session discussed above to illustrate the effect of MODE FRUGAL.  Holding some memory in reserve is important because in a typical Ferret session precise essential memory needs are difficult to anticipate.  For example  LET-defined variables require additional buffers of essential memory.  (An additional factor of *0.25 would have been applied to the fragment size calculation of preceding calculation if ‘V’ had been a LET variable instead of a file variable.)  Ferret memory management is adaptive; the calculation of fragment size when splitting is based upon the reduced memory that is available at the moment the decision to split  occurs.</p>

<p>Each memory object in Ferret occupies a “slot”.  Under rare circumstances, when very large number of small sized objects must be held in essential memory at once, competition for memory slots will require the deletion of cached objects in order to free up slots. The command SHOW MEMORY/FREE can be used to see the level of memory slot usage.</p>
<p>By the way, underneath it all, Ferret allocates memory via a malloc in c, and in Pyferret the memory is allocated using Python memory management, but the use of memory for computation is the same in both.</p>
<p class="secHeader"><a id="_9.3.2" name="_9.3.2"></a><a id="_VPINDEXENTRY_1681" name="_VPINDEXENTRY_1681"></a>9.3.2 Strategies for Handling ‘Request Exceeds memory Setting’ Errors</p>
<p>
For further understanding of the recommendations to follow see  <strong><a href="#_VPID_338">Understanding Ferret Memory Management Concepts and Tools</a></strong>, above. This section describes Ferret/PyFerret v7.2 and later. For earlier Ferret versions see <strong><a href="#_Sec9.3.3">section 9.3.3</a></strong>, below.</p>
<p>
When an attempted calculation results in a “Request Exceeds Memory Setting” error, there are several actions that may yet enable the calculation to succeed:</p>
<ul><li>Increase the value given to SET MEMORY/SIZE=<br />
	 </li>
<li>Eliminate memory occupied by <strong><a href="../commands-reference/LOAD.html#_VPINDEXENTRY_1445">LOAD/PERMANENT</a></strong>.<br />
	 </li>
<li>Break up the argument list on the command.  For example, replace the command<span style="font-family:courier new,courier,monospace;"> SAVE/FILE=foo.nc V1,V2</span> with two commands<br /><span style="font-family:courier new,courier,monospace;">SAVE/FILE=foo.nc V1; SAVE/APPEND/FILE=foo.nc V2</span>   Similarly <span style="font-family:courier new,courier,monospace;">PLOT V1,V2</span> can be replaced by <span style="font-family:courier new,courier,monospace;">PLOT V1; PLOT/OVERLAY V2 </span><br />
	 </li>
<li>Manually break SAVE operations into fragments.
<ul><li>Example 1: exploit the netCDF record axis by replacing <span style="font-family:courier new,courier,monospace;">SAVE/file=foo.nc V[L=1:1000]</span> with <span style="font-family:courier new,courier,monospace;">REPEAT/L=1:1000 SAVE/APPEND/file=foo.nc V</span></li>
<li>Example 2: use the qualifiers <span style="font-family:courier new,courier,monospace;">/ILIMITS, /JLIMITS</span>, etc. to replace <span style="font-family:courier new,courier,monospace;">SAVE/file=foo.nc V[K=1:1000] with SAVE/file=foo.nc/KLIMITS=1000 V[K=1]; REPEAT/K=2:1000 SAVE/APPEND/FILE=foo.nc V</span><br />
		 </li>
</ul></li>
<li>Avoid limits embedded inside LET definitions.<br />
	Limits embedded within LET definitions can thwart the split/gather strategy that Ferret uses to derive the result of a large memory calculation using a relatively smaller memory footprint.  For example, consider a file variable, ‘v’, that has 1000 points on its time axis.  Suppose we want to find the T-axis average of the square of this variable, v_squared[L=1:1000@AVE]. Split/gather can function properly if the v_squared is defined using <span style="font-family:courier new,courier,monospace;">LET v_squared = v^2, </span>but it cannot function properly if limits are embedded inside the definition as in <span style="font-family:courier new,courier,monospace;">LET v_squared = v[L=1:1000]^2</span><br />
	With the embedded limits split/gather would fail because in an attempt to evaluate a single fragment of v_squared -- say a fragment of length 5, <span style="font-family:courier new,courier,monospace;">v_squared[L=1:5]</span> --  the embedded <span style="font-family:courier new,courier,monospace;">L=1:1000</span> limits would over-ride the attempt to acquire the smaller fragment of 5 points.<br />
	 </li>
<li>Try to group together calculations that are on smaller dimensioned objects. For example, the expression <span style="font-family:courier new,courier,monospace;">VAR[i=1:100, j=1:100]*2*PI</span> will make less efficient use of cpu and memory than the expression <span style="font-family:courier new,courier,monospace;">VAR[i=1:100, j=1:100]*(2*PI)</span>. The former multiplies each of the 10000 points of VAR by 2 and then performs a second multiplication of the 10000 result points by PI. The latter computes the scalar <span style="font-family:courier new,courier,monospace;">2*PI</span> and uses it only once in multiplying the 10000 points of VAR.<br />
	 </li>
<li>Pre-compute intermediate values needed for evaluation of LET-defined pyramids.<br />
	Locate the memory-intensive portions of a complex pyramid of LET definitions and pre-compute these.  If the intermediate result is small (e.g. the result of a huge volume average may be a single point) then LOAD/PERMANENT for this intermediate result may provide a simple solution.  Else pre-compute and save these intermediate variables to disk.  Either way, using the saved result to define a reduced pyramid will requires less memory.  For example, in calculations that involve deviations from a long-time mean, pre-computing the long-time mean and saving this to disk for reuse may greatly reduce the peak memory needs of the calculation.<br />
	 </li>
<li>Pre-compute the arguments to grid-changing functions.<br />
	Grid changing functions &lt;?link?&gt; are those for which the grid of the function result is not identical to the grids of the arguments.  The split/gather strategy that Ferret uses to derive the result of a large memory calculation using a relatively smaller memory footprint can only be transferred through a function to its arguments for those axes that are inferred from the arguments.  The command <strong><span style="font-family:courier new,courier,monospace;"><a href="../commands-reference/SHOW.html#_show_func_details">SHOW FUNCTION/DETAILS functionName</a></span></strong> will reveal which axes meet this test.  When the split/gather logic cannot be passed through the function, it may be necessary to pre-compute the function arguments, or the function, itself.<br />
	 </li>
<li>The RESHAPE function is a common culprit leading to Insufficient Memory errors.  For effective memory management use of the RESHAPE function should be minimized.  There are often alternative strategies which also shift between grids without altering data values, such as <span style="font-family:courier new,courier,monospace;">G=newAxis@ASN</span>.<br />
	 </li>
<li>Sometimes a higher value of <strong><a href="../commands-reference/SET.html#_mode_frugal">SET MODE FRUGAL</a></strong> will allow the calculation to succeed.</li>
</ul><p><a id="_Sec9.3.3" name="_Sec9.3.3"></a></p>
<p class="secHeader">9.3.3 Understanding Ferret Memory, for Ferret/PyFerret v7.1 and earlier</p>
<p align="left" class="discreet">This section describes Ferret Memory Management in Ferret v7.1 and earlier.</p>
<p align="left" class="discreet">Ferret indicates memory problems by issuing the error message "request exceeds memory setting" (or, in much-older versions of Ferret, "insufficient memory"). If memory is a problem running Ferret the following suggestions may help:</p>
<p class="discreet">1) Use the command SET MEMORY/SIZE=nnn to increase the memory cache region available to Ferret. The number of words listed in the memory error message is the size of the request which failed; the total requirement for memory may be larger than shown. nnn is expressed in MWords. For operations that just load the data, nnn will need to be approximately the size in words that is quoted in the message, divided by 1.e6. If some of the current memory storage is already allocated for other variables, then the amount of memory reported is the additional amount needed for the last command. Use SHOW MEMORY to get the current setting, and then use SET MEMORY with the current setting, plus nnn. When reading non-NetCDF data (ascii or binary) files, a command to load a variable from the file will load all of the variables in the file over their whole range. The message about insufficient memory reports the amount needed for one variable, at the point where the allocated memory has been used up, so you will need a value on the order of nvars*nnn.</p>
<p class="discreet">To increase memory every time you start Ferret, add a <b>SET MEMORY/SIZE=</b> command to your <a href="FILES-AND-ENVIRONMENT-VARIABLES-USED-BY-FERRET.html#_VPINDEXENTRY_1007">.ferret</a> startup file.  <strong>Caution:</strong> As an example, SET MEMORY /SIZE=200 allocates 200 * 8 * 1M = 1.6G of memory, so don't put that command in your $HOME/.ferret start-up file unless you have many gigabytes of memory on your system and regularly work with datasets of this size.  Ferret v7.1 and lower will allocate and hold onto that amount of memory for the duration of the Ferret session.</p>
<p class="discreet">2) Use the command SET MODE DESPERATE to determine the threshold size of memory objects at which Ferret will break a large calculation into fragments. A smaller argument value will induce stricter memory management but at a penalty in performance.</p>
<p class="discreet">3) Use CANCEL MEMORY whenever you are sure that the data referenced thus far by Ferret will not be referenced again. This is particularly appropriate to batch procedures that use Ferret. This eliminates any memory fragmentation that may be left by previous commands.</p>
<p class="discreet">4) Use CANCEL MODE SEGMENTS to minimize the memory usage by graphics (on a few X-window systems this may prevent windows from being restored after they are obscured).</p>
<p class="discreet">5) When using DEFINE VARIABLE (alias LET) avoid embedding upper and lower axis bounds within the variable definition. Ferret cannot split up large calculations along axes when the limits are fixed in the definition. For example,</p>
<p class="discreet">yes? LET V2=TEMP/10<br />
yes? PLOT/K=1:10 V2</p>
<p class="discreet">is preferable to</p>
<p class="discreet">yes? LET V2=TEMP[K=1:10]/10<br />
yes? PLOT V2</p>
<p class="discreet">6) Try to group together calculations that are on smaller dimensioned objects. For example, the expression VAR[i=1:100, j=1:100]*2*PI will make less efficient use of cpu and memory than the expression VAR[i=1:100, j=1:100]*(2*PI). The former multiplies each of the 10000 points of VAR by 2 and then performs a second multiplication of the 10000 result points by PI. The latter computes the scalar 2*PI and uses it only once in multiplying the 10000 points of VAR.</p>
<p class="discreet">7) After complex plots using viewports, use CANCEL VIEWPORTS to clear graphics memory.</p>
<p class="discreet">8) If one has SET MODE STUPID:weak_cache, then make sure that the region is fully defined (i.e., check SHOW REGION and check the region qualifiers of your command). When the <a name="_VPINDEXENTRY_1028" id="_VPINDEXENTRY_1028"></a>region along some axis is not specified Ferret defaults to the full span of the data along that axis and is unable to optimize memory usage.</p>
<p class="discreet"> </p>
<p class="discreet">Discussion of SHOW MEMORY outputs, for Ferret v7.1 and lower:</p>
<p class="discreet">
<strong>SHOW MEMORY/FREE</strong><br />
Cache memory is organized into "blocks." One block is the smallest unit that any variable stored in memory may allocate. The total number of variables that may be stored in memory cannot exceed the size of the memory table. The "largest free region" gives an indication of memory fragmentation. A typical SHOW MEMORY/FREE output looks as below:</p>
<p class="discreet">yes? show memory/free<br />
total memory table slots: 150<br />
total memory blocks: 500<br />
memory block size:1600</p>
<p class="discreet">number of free memory blocks: 439<br />
largest free region: 439<br />
number of free regions: 1<br />
free memory table slots: 149<br />
With new text:</p>
<p class="discreet"> </p>
<p class="discreet"><a id="_old_mode_desperate" name="_old_mode_desperate"></a>Discussion of MODE DESPERATE, Ferret v7.1 and earlier:</p>
<p align="left" class="discreet">Recall that MODE DESPERATE has no effect for Ferret/PyFerret version 7.2 and higher. Ferret checks the size of the component data required for a calculation in advance of performing the calculation. If the size of the component data exceeds the value of the MODE DESPERATE argument Ferret attempts to perform the calculation in pieces.</p>
<p align="left" class="discreet">For example, the calculation "LIST/I=1/J=1 U[K=1:100,L=1:1000@AVE]" requires 100*1000=100,000 points of component data although the result is only a line of 100 points on the K axis. If 100,000 exceeds the current value of the MODE DESPERATE argument Ferret splits this calculation into smaller sized chunks along the K axis, say, K=1:50 in the first chunk and K=51:100 in the second.</p>
<p align="left" class="discreet">Ferret is also sensitive to the performance penalties associated with reading data from the disk. Splitting the calculation along axis of the stored data records can require the data to be read many times in order to complete the calculation. Ferret attempts to split calculations along efficient axes, and will split along the axis of stored data only in desperation, if MODE DESPERATE is SET.</p>
<p align="left" class="discreet"><b>Example:</b><b> </b></p>
<p class="discreet">yes? SET MODE DESPERATE:5000</p>
<p align="left" class="discreet">default state: canceled (default argument: 80000)</p>
<p align="left" class="discreet"><b>Note:</b> Use MODE DIAGNOSTIC to see when splitting is occurring.</p>
<p align="left" class="discreet"><b>Arguments</b><b> </b></p>
<p align="left" class="discreet">Use SHOW MEMORY/FREE to see the total memory available (as set with SET MEMORY/SIZE).</p>
<p align="left" class="discreet">Whenever the size of memory is set using SET MEMORY the MODE DESPERATE argument is reset at one tenth of memory size. For most purposes this will be an appropriate value. The user may at his discretion raise or lower the MODE DESPERATE value based on the nature of a calculation. A complex calculation, with many intermediate variables, may require a smaller value of MODE DESPERATE to avoid an "insufficient memory" error. A simple calculation, such as the averaging operation described above, will typically run faster with a larger MODE DESPERATE value. The upper bound for the argument is the size of memory. The lower bound is "memory block size."</p>
</div>
</div>
</div>

</div>

<div class="clearfix">
<nav class="links node-links clearfix"></nav>

</div>
</article>
</div>
</div>
</div>      </div>
</div>  </div>
</div></section>    
 
<footer id="section-footer" class="section section-footer">

  <div id="zone-footer-wrapper" class="zone-wrapper zone-footer-wrapper clearfix">  
  <div id="zone-footer" class="zone zone-footer clearfix container-12">
    <div class="grid-8 region region-footer-first" id="region-footer-first">
  <div class="region-inner region-footer-first-inner">
    <div class="block block-block block-1 block-block-1 odd block-without-title" id="block-block-1">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-block block-2 block-block-2 even block-without-title" id="block-block-2">
  <div class="block-inner clearfix">
                
  </div>
</div><div class="block block-menu block-menu-footer-first-menu block-menu-menu-footer-first-menu odd block-without-title" id="block-menu-menu-footer-first-menu">

  </div>
</div>  </div>
</div><div class="grid-4 region region-footer-second" id="region-footer-second">
  <div class="region-inner region-footer-second-inner">
    <div class="block block-menu block-menu-footer-second-menu block-menu-menu-footer-second-menu odd block-without-title" id="block-menu-menu-footer-second-menu">
  <div class="block-inner clearfix">
                
  </div>
</div>  </div>
</div>  </div>
</div></footer>  </div>  <div class="region region-page-bottom" id="region-page-bottom">
  <div class="region-inner region-page-bottom-inner">
      </div>
</div>  <div id="body-bg-bottom"></div>
</body>
</html>
