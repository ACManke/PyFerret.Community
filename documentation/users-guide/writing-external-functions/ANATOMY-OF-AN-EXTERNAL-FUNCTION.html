<!DOCTYPE html PUBLIC "-//W3C//DTD HTML+RDFa 1.1//EN">
<html lang="en" dir="ltr" version="HTML+RDFa 1.1"
  xmlns:content="http://purl.org/rss/1.0/modules/content/"
  xmlns:dc="http://purl.org/dc/terms/"
  xmlns:foaf="http://xmlns.com/foaf/0.1/"
  xmlns:og="http://ogp.me/ns#"
  xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
  xmlns:sioc="http://rdfs.org/sioc/ns#"
  xmlns:sioct="http://rdfs.org/sioc/types#"
  xmlns:skos="http://www.w3.org/2004/02/skos/core#"
  xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
  xmlns:schema="http://schema.org/">
<head profile="http://www.w3.org/1999/xhtml/vocab">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="Generator" content="Drupal 7 (http://drupal.org)" />
<link rel="canonical" href="/Ferret/documentation/users-guide/writing-external-functions/ANATOMY-OF-AN-EXTERNAL-FUNCTION" />
<link rel="shortlink" href="/Ferret/node/436" />
<link rel="shortcut icon" href="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/images/favicon-32.png" type="image/png" />
<link rel="apple-touch-icon" href="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/images/apple-touch-icon-152x152.png" type="image/png" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
  <title>11.4 ANATOMY OF AN EXTERNAL FUNCTION | Science Data Integration Group - Ferret Support</title>  
  <style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/system/system.base.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/system/system.menus.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/system/system.messages.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/system/system.theme.css?rwj4yp");
</style>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.core.min.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.theme.min.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.menu.min.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/replace/ui/themes/base/minified/jquery.ui.autocomplete.min.css?rwj4yp");
</style>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/calendar/css/calendar_multiday.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/field/theme/field.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/scald/modules/fields/mee/css/editor-global.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/node/node.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/scald_file/scald_file.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/search/search.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/modules/user/user.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/views/css/views.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/ckeditor/css/ckeditor.css?rwj4yp");
</style>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/ctools/css/ctools.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/custom_search/custom_search.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/search_autocomplete/css/themes/minimal.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/css/superfish.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/css/superfish-smallscreen.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/css/superfish-vertical.css?rwj4yp");
</style>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/ckeditor_custom.css?rwj4yp");
</style>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/alpha-reset.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/alpha-mobile.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/alpha-alpha.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/formalize.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/omega-text.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/omega-branding.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/omega-menu.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/omega-forms.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/css/omega-visuals.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/global.css?rwj4yp");
</style>

<!--[if (lt IE 9)&(!IEMobile)]>
<style type="text/css" media="all">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-normal.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/grid/alpha_default/normal/alpha-default-normal-12.css?rwj4yp");
</style>
<![endif]-->

<!--[if gte IE 9]><!-->
<style type="text/css" media="all and (min-width: 740px) and (min-device-width: 740px), (max-device-width: 800px) and (min-width: 740px) and (orientation:landscape)">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-narrow.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/grid/alpha_default/narrow/alpha-default-narrow-12.css?rwj4yp");
</style>
<!--<![endif]-->

<!--[if gte IE 9]><!-->
<style type="text/css" media="all and (min-width: 980px) and (min-device-width: 980px), all and (max-device-width: 1024px) and (min-width: 1024px) and (orientation:landscape)">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-normal.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/grid/alpha_default/normal/alpha-default-normal-12.css?rwj4yp");
</style>
<!--<![endif]-->

<!--[if gte IE 9]><!-->
<style type="text/css" media="all and (min-width: 1220px)">
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/css/pacific-marine-alpha-default-wide.css?rwj4yp");
@import url("https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/alpha/css/grid/alpha_default/wide/alpha-default-wide-12.css?rwj4yp");
</style>
<!--<![endif]-->
	
	<script id="_fed_an_ua_tag" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=DOC&subagency=NOAA&pua=UA-96523701-1"></script>
	
  <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
window.jQuery || document.write("<script src='/Ferret/sites/all/modules/jquery_update/replace/jquery/1.12/jquery.min.js'>\x3C/script>")
//--><!]]>
</script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/misc/jquery-extend-3.4.0.js?v=1.12.4"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/misc/jquery-html-prefilter-3.5.0-backport.js?v=1.12.4"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/misc/jquery.once.js?v=1.2"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/misc/drupal.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/jquery_update/js/jquery_browser.js?v=0.0.1"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
window.jQuery.ui || document.write("<script src='/Ferret/sites/all/modules/jquery_update/replace/ui/ui/minified/jquery-ui.min.js'>\x3C/script>")
//--><!]]>
</script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/misc/ui/jquery.ui.position-1.13.0-backport.js?v=1.10.2"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/misc/form-single-submit.js?v=7.98"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/entityreference/js/entityreference.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/custom_search/js/custom_search.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/scald_file/scald_file.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/scald/modules/providers/scald_image/scald_image.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/search_autocomplete/js/jquery.autocomplete.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/jquery.hoverIntent.minified.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/sfsmallscreen.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/supposition.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/superfish.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/libraries/superfish/supersubs.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/modules/superfish/superfish.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/js/pacific_marine.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/js/jquery.formalize.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/js/omega-mediaqueries.js?rwj4yp"></script>
<script type="text/javascript" src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/omega/omega/js/omega-equalheights.js?rwj4yp"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, {"basePath":"\/Ferret\/","pathPrefix":"","setHasJsCookie":0,"ajaxPageState":{"theme":"pacific_marine","theme_token":"Xo74rp8EkEW1cIDNJz-UDW2AjuGLJ3H8cgSrterpRfk","js":{"\/\/ajax.googleapis.com\/ajax\/libs\/jquery\/1.12.4\/jquery.min.js":1,"0":1,"misc\/jquery-extend-3.4.0.js":1,"misc\/jquery-html-prefilter-3.5.0-backport.js":1,"misc\/jquery.once.js":1,"misc\/drupal.js":1,"sites\/all\/modules\/jquery_update\/js\/jquery_browser.js":1,"\/\/ajax.googleapis.com\/ajax\/libs\/jqueryui\/1.10.2\/jquery-ui.min.js":1,"1":1,"misc\/ui\/jquery.ui.position-1.13.0-backport.js":1,"misc\/form-single-submit.js":1,"sites\/all\/modules\/entityreference\/js\/entityreference.js":1,"sites\/all\/modules\/custom_search\/js\/custom_search.js":1,"sites\/all\/modules\/scald_file\/scald_file.js":1,"sites\/all\/modules\/scald\/modules\/providers\/scald_image\/scald_image.js":1,"sites\/all\/modules\/search_autocomplete\/js\/jquery.autocomplete.js":1,"sites\/all\/libraries\/superfish\/jquery.hoverIntent.minified.js":1,"sites\/all\/libraries\/superfish\/sfsmallscreen.js":1,"sites\/all\/libraries\/superfish\/supposition.js":1,"sites\/all\/libraries\/superfish\/superfish.js":1,"sites\/all\/libraries\/superfish\/supersubs.js":1,"sites\/all\/modules\/superfish\/superfish.js":1,"sites\/all\/themes\/pacific_marine\/js\/pacific_marine.js":1,"sites\/all\/themes\/omega\/omega\/js\/jquery.formalize.js":1,"sites\/all\/themes\/omega\/omega\/js\/omega-mediaqueries.js":1,"sites\/all\/themes\/omega\/omega\/js\/omega-equalheights.js":1},"css":{"modules\/system\/system.base.css":1,"modules\/system\/system.menus.css":1,"modules\/system\/system.messages.css":1,"modules\/system\/system.theme.css":1,"misc\/ui\/jquery.ui.core.css":1,"misc\/ui\/jquery.ui.theme.css":1,"misc\/ui\/jquery.ui.menu.css":1,"misc\/ui\/jquery.ui.autocomplete.css":1,"sites\/all\/modules\/calendar\/css\/calendar_multiday.css":1,"modules\/field\/theme\/field.css":1,"sites\/all\/modules\/scald\/modules\/fields\/mee\/css\/editor-global.css":1,"modules\/node\/node.css":1,"sites\/all\/modules\/scald_file\/scald_file.css":1,"modules\/search\/search.css":1,"modules\/user\/user.css":1,"sites\/all\/modules\/views\/css\/views.css":1,"sites\/all\/modules\/ckeditor\/css\/ckeditor.css":1,"sites\/all\/modules\/ctools\/css\/ctools.css":1,"sites\/all\/modules\/custom_search\/custom_search.css":1,"sites\/all\/modules\/search_autocomplete\/css\/themes\/minimal.css":1,"sites\/all\/libraries\/superfish\/css\/superfish.css":1,"sites\/all\/libraries\/superfish\/css\/superfish-smallscreen.css":1,"sites\/all\/libraries\/superfish\/css\/superfish-vertical.css":1,"sites\/all\/themes\/pacific_marine\/css\/ckeditor_custom.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-reset.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-mobile.css":1,"sites\/all\/themes\/omega\/alpha\/css\/alpha-alpha.css":1,"sites\/all\/themes\/omega\/omega\/css\/formalize.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-text.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-branding.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-menu.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-forms.css":1,"sites\/all\/themes\/omega\/omega\/css\/omega-visuals.css":1,"sites\/all\/themes\/pacific_marine\/css\/global.css":1,"ie::normal::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default.css":1,"ie::normal::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default-normal.css":1,"ie::normal::sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/normal\/alpha-default-normal-12.css":1,"narrow::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default.css":1,"narrow::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default-narrow.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/narrow\/alpha-default-narrow-12.css":1,"normal::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default.css":1,"normal::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default-normal.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/normal\/alpha-default-normal-12.css":1,"wide::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default.css":1,"wide::sites\/all\/themes\/pacific_marine\/css\/pacific-marine-alpha-default-wide.css":1,"sites\/all\/themes\/omega\/alpha\/css\/grid\/alpha_default\/wide\/alpha-default-wide-12.css":1}},"custom_search":{"form_target":"_self","solr":0},"scaldFile":{"path":"sites\/all\/modules\/scald_file\/scald_file.css"},"search_autocomplete":{"form3":{"selector":"#edit-search-block-form--2","minChars":"3","max_sug":"10","type":"internal","datas":"https:\/\/ferret.pmel.noaa.gov\/Ferret\/search_autocomplete\/autocomplete\/3\/","fid":"3","theme":"minimal","auto_submit":"1","auto_redirect":"1"}},"urlIsAjaxTrusted":{"\/Ferret\/documentation\/users-guide\/writing-external-functions\/ANATOMY-OF-AN-EXTERNAL-FUNCTION":true},"superfish":{"1":{"id":"1","sf":{"animation":{"opacity":"show","height":"show"},"speed":"fast"},"plugins":{"smallscreen":{"mode":"window_width","breakpointUnit":"px","title":"Documentation"},"supposition":true,"supersubs":true}}},"omega":{"layouts":{"primary":"normal","order":["narrow","normal","wide"],"queries":{"narrow":"all and (min-width: 740px) and (min-device-width: 740px), (max-device-width: 800px) and (min-width: 740px) and (orientation:landscape)","normal":"all and (min-width: 980px) and (min-device-width: 980px), all and (max-device-width: 1024px) and (min-width: 1024px) and (orientation:landscape)","wide":"all and (min-width: 1220px)"}}}});
//--><!]]>
</script>
  <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body class="html not-front not-logged-in page-node page-node- page-node-436 node-type-documentation-page context-documentation">
  <div id="body-bg-top"></div>
  <div id="skip-link">
    <a href="#main-content" class="element-invisible element-focusable">Skip to main content</a>
  </div>
    <div class="page clearfix" id="page">
      <header id="section-header" class="section section-header">
  <div id="zone-header-wrapper" class="zone-wrapper zone-header-wrapper clearfix">  
  <div id="zone-header" class="zone zone-header clearfix container-12">
    <div class="grid-7 region region-branding" id="region-branding">
  <div class="region-inner region-branding-inner">
        <div class="branding-data clearfix">
            <div class="logo-img">
        <a href="/Ferret/" rel="home" title=""><img src="https://ferret.pmel.noaa.gov/Ferret/sites/all/themes/pacific_marine/images/header-logo.png" alt="" id="logo" /></a>      </div>
                </div>
          </div>
</div><div class="grid-5 region region-header-first" id="region-header-first">
  <div class="region-inner region-header-first-inner">
    <div class="block block-block block-4 block-block-4 odd block-without-title" id="block-block-4">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <div id="noaa-doc">
<div class="logos">
<div class="logo" id="doc-logo"><a href="https://www.commerce.gov" target="_blank"><img alt="Department of Commerce logo" src="/Ferret/sites/all/themes/pacific_marine/images/doc_logo.png" style="width: 40px; height: 40px;" /></a></div>
<div class="logo" id="noaa-logo"><a href="https://www.noaa.gov" target="_blank"><img alt="National Oceanic and Atmospheric Administration logo" src="/Ferret/sites/all/themes/pacific_marine/images/noaa_logo.png" style="width: 40px; height: 40px;" /></a></div>
</div>
<div class="words">National Oceanic and<br />
Atmospheric Administration<br /><span id="doc">United States Department of Commerce</span></div>
</div>
    </div>
  </div>
</div><div class="block block-search block-form block-search-form even block-without-title" id="block-search-form">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <form class="search-form" role="search" action="/Ferret/documentation/users-guide/writing-external-functions/ANATOMY-OF-AN-EXTERNAL-FUNCTION" method="post" id="search-block-form" accept-charset="UTF-8"><div><div class="container-inline">
      <h2 class="element-invisible">Search form</h2>
    <div class="form-item form-type-textfield form-item-search-block-form">
  <label class="element-invisible" for="edit-search-block-form--2">Search PMEL </label>
 <input title="Enter the terms you wish to search for." class="custom-search-box form-text" placeholder="Search Ferret" type="text" id="edit-search-block-form--2" name="search_block_form" value="" size="15" maxlength="128" />
</div>
<div class="form-actions form-wrapper" id="edit-actions"><input style="display:none;" type="submit" id="edit-submit" name="op" value="" class="form-submit" /></div><input type="hidden" name="form_build_id" value="form-DwjRJO3m6IWg3oqWpbo7-esHgKO4rBNCsmLCgV2Puzw" />
<input type="hidden" name="form_id" value="search_block_form" />
</div>
</div></form>    </div>
  </div>
</div>  </div>
</div>  </div>
</div><div id="zone-menu-wrapper" class="zone-wrapper zone-menu-wrapper clearfix">  
  <div id="zone-menu" class="zone zone-menu clearfix container-12">
    <div class="grid-12 region region-menu" id="region-menu">
  <div class="region-inner region-menu-inner">
        <div class="block block-system block-menu block-main-menu block-system-main-menu odd block-without-title" id="block-system-main-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu"><li class="first expanded"><a href="/Ferret/">Home</a><ul class="menu"><li class="first leaf"><a href="http://www.pmel.noaa.gov/project/science-data-integration">SDIG Home</a></li>
<li class="leaf"><a href="/Ferret/">Ferret/PyFerret Home</a></li>
<li class="last leaf"><a href="http://ferret.pmel.noaa.gov/LAS">LAS Home</a></li>
</ul></li>
<li class="leaf"><a href="/Ferret/documentation/ferret-documentation">Documentation</a></li>
<li class="collapsed"><a href="/Ferret/downloads">Downloads</a></li>
<li class="leaf"><a href="/Ferret/faq">FAQ</a></li>
<li class="leaf"><a href="/Ferret/email-users-group">eMail Users Group</a></li>
<li class="last collapsed"><a href="/Ferret/support/ferret-support">Support</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div>
  </div>
</div></header>    
      <section id="section-content" class="section section-content">
  <div id="zone-preface-wrapper" class="zone-wrapper zone-preface-wrapper clearfix">  
  <div id="zone-preface" class="zone zone-preface clearfix equal-height-container container-12">
    <div class="grid-3 region region-preface-first equal-height-element" id="region-preface-first">
  <div class="region-inner region-preface-first-inner">
      </div>
</div><div class="grid-9 region region-preface-second equal-height-element" id="region-preface-second">
  <div class="region-inner region-preface-second-inner">
      </div>
</div>  </div>
</div><div id="zone-content-wrapper" class="zone-wrapper zone-content-wrapper clearfix sidebar">  
  <div id="zone-content" class="zone zone-content clearfix equal-height-container container-12">    
          <div id="breadcrumb" class="grid-12"><h2 class="element-invisible">You are here</h2><div class="breadcrumb"><a href="/Ferret/">Home</a> > <a href="/Ferret/documentation/ferret-documentation">Documentation</a> > <a href="/Ferret/documentation/users-guide">Ferret User&#039;s Guide</a> > <a href="/Ferret/documentation/users-guide/writing-external-functions">11. Writing External Functions</a> > 11.4 ANATOMY OF AN EXTERNAL FUNCTION</div></div>
        
        <aside class="grid-3 region region-sidebar-first equal-height-element" id="region-sidebar-first">
  <div class="region-inner region-sidebar-first-inner">
    <div class="block block-superfish block-1 block-superfish-1 odd block-without-title" id="block-superfish-1">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul  id="superfish-1" class="menu sf-menu sf-main-menu sf-vertical sf-style-none sf-total-items-8 sf-parent-items-4 sf-single-items-4"><li id="menu-1620-1" class="first odd sf-item-1 sf-depth-2 sf-no-children"><a href="/Ferret/documentation/version-763-release-notes" class="sf-depth-2">Current Release Notes</a></li><li id="menu-1170-1" class="active-trail middle even sf-item-2 sf-depth-2 sf-total-children-17 sf-parent-children-15 sf-single-children-2 menuparent"><a href="/Ferret/documentation/users-guide" class="sf-depth-2 menuparent">Ferret User&#039;s Guide</a><ul><li id="menu-1613-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/users-guide/full-index/index" class="sf-depth-3">Users Guide Index</a></li><li id="menu-1154-1" class="middle even sf-item-2 sf-depth-3 sf-total-children-41 sf-parent-children-0 sf-single-children-41 menuparent"><a href="/Ferret/documentation/users-guide/commands-reference/chapter-command-references" class="sf-depth-3 menuparent">Commands Reference</a><ul><li id="menu-1175-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/ALIAS" class="sf-depth-4">ALIAS</a></li><li id="menu-1176-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/CANCEL" class="sf-depth-4">CANCEL</a></li><li id="menu-1177-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/CONTOUR" class="sf-depth-4">CONTOUR</a></li><li id="menu-1178-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/DEFINE" class="sf-depth-4">DEFINE</a></li><li id="menu-1179-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/ELIF" class="sf-depth-4">ELIF</a></li><li id="menu-1180-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/ELSE" class="sf-depth-4">ELSE</a></li><li id="menu-1181-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/ENDIF" class="sf-depth-4">ENDIF</a></li><li id="menu-1182-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/EXIT" class="sf-depth-4">EXIT</a></li><li id="menu-1183-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/FILE" class="sf-depth-4">FILE</a></li><li id="menu-1184-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/FILL" class="sf-depth-4">FILL</a></li><li id="menu-1185-1" class="middle odd sf-item-11 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/FRAME" class="sf-depth-4">FRAME</a></li><li id="menu-1186-1" class="middle even sf-item-12 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/GO" class="sf-depth-4">GO</a></li><li id="menu-1187-1" class="middle odd sf-item-13 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/HELP" class="sf-depth-4">HELP</a></li><li id="menu-1188-1" class="middle even sf-item-14 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/IF" class="sf-depth-4">IF</a></li><li id="menu-1189-1" class="middle odd sf-item-15 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/LABEL" class="sf-depth-4">LABEL</a></li><li id="menu-1190-1" class="middle even sf-item-16 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/LET" class="sf-depth-4">LET</a></li><li id="menu-1191-1" class="middle odd sf-item-17 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/LIST" class="sf-depth-4">LIST</a></li><li id="menu-1192-1" class="middle even sf-item-18 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/LOAD" class="sf-depth-4">LOAD</a></li><li id="menu-1193-1" class="middle odd sf-item-19 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/MESSAGE" class="sf-depth-4">MESSAGE</a></li><li id="menu-1194-1" class="middle even sf-item-20 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/PALETTE" class="sf-depth-4">PALETTE</a></li><li id="menu-1195-1" class="middle odd sf-item-21 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/PATTERN" class="sf-depth-4">PATTERN</a></li><li id="menu-1196-1" class="middle even sf-item-22 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/PAUSE" class="sf-depth-4">PAUSE</a></li><li id="menu-1197-1" class="middle odd sf-item-23 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/PLOT" class="sf-depth-4">PLOT</a></li><li id="menu-1198-1" class="middle even sf-item-24 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/POLYGON" class="sf-depth-4">POLYGON</a></li><li id="menu-1199-1" class="middle odd sf-item-25 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/PPLUS" class="sf-depth-4">PPLUS</a></li><li id="menu-1200-1" class="middle even sf-item-26 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/QUERY" class="sf-depth-4">QUERY</a></li><li id="menu-1201-1" class="middle odd sf-item-27 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/QUIT" class="sf-depth-4">QUIT</a></li><li id="menu-1202-1" class="middle even sf-item-28 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/REPEAT" class="sf-depth-4">REPEAT</a></li><li id="menu-1203-1" class="middle odd sf-item-29 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/SAVE" class="sf-depth-4">SAVE</a></li><li id="menu-1204-1" class="middle even sf-item-30 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/SAY" class="sf-depth-4">SAY</a></li><li id="menu-1205-1" class="middle odd sf-item-31 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/SET" class="sf-depth-4">SET</a></li><li id="menu-1206-1" class="middle even sf-item-32 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/SHADE" class="sf-depth-4">SHADE</a></li><li id="menu-1207-1" class="middle odd sf-item-33 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/SHOW" class="sf-depth-4">SHOW</a></li><li id="menu-1208-1" class="middle even sf-item-34 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/SPAWN" class="sf-depth-4">SPAWN</a></li><li id="menu-1209-1" class="middle odd sf-item-35 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/STATISTICS" class="sf-depth-4">STATISTICS</a></li><li id="menu-1210-1" class="middle even sf-item-36 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/UNALIAS" class="sf-depth-4">UNALIAS</a></li><li id="menu-1211-1" class="middle odd sf-item-37 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/VECTOR" class="sf-depth-4">VECTOR</a></li><li id="menu-1212-1" class="middle even sf-item-38 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/USE" class="sf-depth-4">USE</a></li><li id="menu-1213-1" class="middle odd sf-item-39 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/USER" class="sf-depth-4">USER</a></li><li id="menu-1214-1" class="middle even sf-item-40 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/WI" class="sf-depth-4">WIRE</a></li><li id="menu-1215-1" class="last odd sf-item-41 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/commands-reference/WHERE" class="sf-depth-4">WHERE</a></li></ul></li><li id="menu-1390-1" class="middle odd sf-item-3 sf-depth-3 sf-total-children-8 sf-parent-children-0 sf-single-children-8 menuparent"><a href="/Ferret/documentation/users-guide/introduction" class="sf-depth-3 menuparent">1. Introduction</a><ul><li id="menu-1230-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/introduction/OVERVIEW" class="sf-depth-4">1.1 OVERVIEW</a></li><li id="menu-1231-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/introduction/GETTING-STARTED" class="sf-depth-4">1.2 GETTING STARTED</a></li><li id="menu-1232-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/introduction/COMMON-COMMANDS" class="sf-depth-4">1.3 COMMON COMMANDS</a></li><li id="menu-1233-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/introduction/COMMAND-SYNTAX" class="sf-depth-4">1.4 COMMAND SYNTAX</a></li><li id="menu-1234-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/introduction/GO-FILES" class="sf-depth-4">1.5 GO FILES</a></li><li id="menu-1235-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/introduction/SAMPLE-DATA-SETS" class="sf-depth-4">1.6 SAMPLE DATA SETS</a></li><li id="menu-1236-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/introduction/UNIX-TOOLS" class="sf-depth-4">1.7 UNIX TOOLS</a></li><li id="menu-1237-1" class="last even sf-item-8 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/introduction/HELP" class="sf-depth-4">1.8 HELP</a></li></ul></li><li id="menu-1391-1" class="middle even sf-item-4 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="/Ferret/documentation/users-guide/data-set-basics" class="sf-depth-3 menuparent">2. Data Set Basics</a><ul><li id="menu-1238-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/data-set-basics/OVERVIEW" class="sf-depth-4">2.1 OVERVIEW</a></li><li id="menu-1239-1" class="middle even sf-item-2 sf-depth-4 sf-total-children-1 sf-parent-children-0 sf-single-children-1 menuparent"><a href="/Ferret/documentation/users-guide/data-set-basics/NETCDF-DATA" class="sf-depth-4 menuparent">2.2 NETCDF DATA</a><ul><li id="menu-1593-1" class="firstandlast odd sf-item-1 sf-depth-5 sf-no-children"><a href="/Ferret/documentation/udunits.dat" class="sf-depth-5">udunits.dat</a></li></ul></li><li id="menu-1240-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/data-set-basics/TMAP-FORMATTED-DATA" class="sf-depth-4">2.3 TMAP-FORMATTED DATA</a></li><li id="menu-1241-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/data-set-basics/BINARY-DATA" class="sf-depth-4">2.4 BINARY DATA</a></li><li id="menu-1243-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/data-set-basics/ASCII-DATA" class="sf-depth-4">2.5 ASCII DATA</a></li><li id="menu-1242-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/data-set-basics/TRICKS-TO-READING-BINARY-AND-ASCII-FILES" class="sf-depth-4">2.6 TRICKS TO READING BINARY AND ASCII FILES</a></li><li id="menu-1244-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/data-set-basics/ACCESS-TO-REMOTE-DATA-SETS-WITH-DODS" class="sf-depth-4">2.7 ACCESS TO REMOTE DATA SETS WITH OPeNDAP</a></li><li id="menu-1246-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="/Ferret/" class="sf-depth-4">dsg_trajectories</a></li><li id="menu-1247-1" class="last odd sf-item-9 sf-depth-4 sf-no-children"><a href="/Ferret/" class="sf-depth-4">dsg_profiles</a></li></ul></li><li id="menu-1392-1" class="middle odd sf-item-5 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="/Ferret/documentation/users-guide/variables-xpressions" class="sf-depth-3 menuparent">3. Variables & Expressions</a><ul><li id="menu-1248-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/variables-xpressions/VARIABLES" class="sf-depth-4">3.1 VARIABLES</a></li><li id="menu-1249-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS" class="sf-depth-4">3.2 EXPRESSIONS</a></li><li id="menu-1250-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/variables-xpressions/EMBEDDED-XPRESSIONS" class="sf-depth-4">3.3 EMBEDDED EXPRESSIONS</a></li><li id="menu-1251-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/variables-xpressions/DEFINING-NEW-VARIABLES" class="sf-depth-4">3.4 DEFINING NEW VARIABLES</a></li><li id="menu-1252-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/variables-xpressions/DEBUGGING-COMPLEX-HIERARCHIES-OF-XPRESSIONS" class="sf-depth-4">3.5 DEBUGGING COMPLEX HIERARCHIES OF EXPRESSIONS</a></li></ul></li><li id="menu-1393-1" class="middle even sf-item-6 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="/Ferret/documentation/users-guide/Grids-Regions" class="sf-depth-3 menuparent">4. Grids & Regions</a><ul><li id="menu-1253-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/Grids-Regions/OVERVIEW" class="sf-depth-4">4.1 OVERVIEW</a></li><li id="menu-1254-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/Grids-Regions/GRIDS" class="sf-depth-4">4.2 GRIDS</a></li><li id="menu-1255-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/Grids-Regions/REGIONS" class="sf-depth-4">4.3 REGIONS</a></li><li id="menu-1256-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/Grids-Regions/FERRET-PROGRAM-LIMITS" class="sf-depth-4">4.4 FERRET PROGRAM LIMITS</a></li></ul></li><li id="menu-1394-1" class="middle odd sf-item-7 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="/Ferret/documentation/users-guide/animations-gif-images" class="sf-depth-3 menuparent">5. Animations & Gif Images</a><ul><li id="menu-1257-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/animations-gif-images/OVERVIEW" class="sf-depth-4">5.1 OVERVIEW</a></li><li id="menu-1258-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/animations-gif-images/CREATING-AN-HDF-MOVIE" class="sf-depth-4">5.2 CREATING AN HDF MOVIE</a></li><li id="menu-1259-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/animations-gif-images/DISPLAYING-AN-HDF-MOVIE" class="sf-depth-4">5.3 DISPLAYING AN HDF MOVIE</a></li><li id="menu-1260-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/animations-gif-images/ADVANCED-MOVIE-MAKING" class="sf-depth-4">5.4 ADVANCED MOVIE-MAKING</a></li><li id="menu-1261-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/animations-gif-images/CREATING-GIF-IMAGES" class="sf-depth-4">5.5 CREATING GIF IMAGES</a></li></ul></li><li id="menu-1395-1" class="middle even sf-item-8 sf-depth-3 sf-total-children-12 sf-parent-children-0 sf-single-children-12 menuparent"><a href="/Ferret/documentation/users-guide/customizing-plots" class="sf-depth-3 menuparent">6. Customizing Plots</a><ul><li id="menu-1262-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/OVERVIEW" class="sf-depth-4">6.1 OVERVIEW</a></li><li id="menu-1263-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/GRAPHICAL-OUTPUT" class="sf-depth-4">6.2 GRAPHICAL OUTPUT</a></li><li id="menu-1264-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/AXES" class="sf-depth-4">6.3 AXES</a></li><li id="menu-1265-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/LABELS" class="sf-depth-4">6.4 LABELS</a></li><li id="menu-1266-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/COLOR" class="sf-depth-4">6.5 COLOR</a></li><li id="menu-1267-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/FONTS" class="sf-depth-4">6.6 FONTS</a></li><li id="menu-1268-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/PLOT-LAYOUT" class="sf-depth-4">6.7 PLOT LAYOUT</a></li><li id="menu-1269-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/CONTOURING" class="sf-depth-4">6.8 CONTOURING</a></li><li id="menu-1270-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/SPECIAL-SYMBOLS" class="sf-depth-4">6.9 SPECIAL SYMBOLS</a></li><li id="menu-1617-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/MAP-PROJECTIONS-AND-CURVILINEAR-COORDINATES" class="sf-depth-4">6.10 MAP PROJECTIONS AND CURVILINEAR COORDINATES</a></li><li id="menu-1272-1" class="middle odd sf-item-11 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/linecolors.gif/view" class="sf-depth-4">LINECOLORS example</a></li><li id="menu-1273-1" class="last even sf-item-12 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/customizing-plots/Chapter6_plotuv.png/view" class="sf-depth-4">PLOTUV example</a></li></ul></li><li id="menu-1396-1" class="middle odd sf-item-9 sf-depth-3 sf-total-children-11 sf-parent-children-0 sf-single-children-11 menuparent"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols" class="sf-depth-3 menuparent">7. Handing String Data Symbols</a><ul><li id="menu-1274-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols/STRING-VARIABLES" class="sf-depth-4">7.1 STRING VARIABLES</a></li><li id="menu-1275-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols/STRING-FUNCTIONS" class="sf-depth-4">7.2 STRING FUNCTIONS</a></li><li id="menu-1276-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols/SYMBOL-COMMANDS" class="sf-depth-4">7.3 SYMBOL COMMANDS</a></li><li id="menu-1277-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols/AUTOMATICALLY-GENERATED-SYMBOLS" class="sf-depth-4">7.4 AUTOMATICALLY GENERATED SYMBOLS</a></li><li id="menu-1278-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols/USE-WITH-EMBEDDED-EXPRESSIONS" class="sf-depth-4">7.5 USE WITH EMBEDDED EXPRESSIONS</a></li><li id="menu-1279-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols/ORDER-OF-STRING-SUBSTITUTIONS" class="sf-depth-4">7.6 ORDER OF STRING SUBSTITUTIONS</a></li><li id="menu-1280-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols/CUSTOMIZING-THE-POSITION-AND-STYLE%20OF%20PLOT%20LABELS" class="sf-depth-4">7.7 CUSTOMIZING THE POSITION AND STYLE OF PLOT LABELS</a></li><li id="menu-1281-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols/USING-SYMBOLS-IN-COMMAND-FILES" class="sf-depth-4">7.8 USING SYMBOLS IN COMMAND FILES</a></li><li id="menu-1282-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols/PLOT-STRING-EDITING-TOOLS" class="sf-depth-4">7.9 PLOT+ STRING EDITING TOOLS</a></li><li id="menu-1283-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols/SYMBOL-EDITING" class="sf-depth-4">7.10 SYMBOL EDITING</a></li><li id="menu-1284-1" class="last odd sf-item-11 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/handing-string-data-symbols/SPECIAL-SYMBOLS" class="sf-depth-4">7.11 SPECIAL SYMBOLS</a></li></ul></li><li id="menu-1397-1" class="middle even sf-item-10 sf-depth-3 sf-total-children-10 sf-parent-children-0 sf-single-children-10 menuparent"><a href="/Ferret/documentation/users-guide/working-with-special-data-sets" class="sf-depth-3 menuparent">8. Working with Special Data Sets</a><ul><li id="menu-1285-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/working-with-special-data-sets/WHAT-IS-NON-GRIDDED-DATA" class="sf-depth-4">8.1 WHAT IS NON-GRIDDED DATA?</a></li><li id="menu-1286-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/working-with-special-data-sets/POINT-DATA" class="sf-depth-4">8.2 POINT DATA</a></li><li id="menu-1287-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/working-with-special-data-sets/VERTICAL-PROFILES" class="sf-depth-4">8.3 VERTICAL PROFILES</a></li><li id="menu-1288-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/working-with-special-data-sets/COLLECTIONS-OF-TIME-SERIES" class="sf-depth-4">8.4 COLLECTIONS OF TIME SERIES</a></li><li id="menu-1289-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/working-with-special-data-sets/COLLECTIONS-OF-2-DIMENSIONAL-GRIDS" class="sf-depth-4">8.5 COLLECTIONS OF 2-DIMENSIONAL GRIDS</a></li><li id="menu-1290-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/working-with-special-data-sets/LAGRANGIAN-DATA" class="sf-depth-4">8.6 LAGRANGIAN DATA</a></li><li id="menu-1291-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/working-with-special-data-sets/SIGMA-COORDINATE-DATA" class="sf-depth-4">8.7 SIGMA COORDINATE DATA</a></li><li id="menu-1292-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/working-with-special-data-sets/CURVILINEAR-COORDINATE-DATA" class="sf-depth-4">8.8 CURVILINEAR COORDINATE DATA</a></li><li id="menu-1293-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/working-with-special-data-sets/POLYGONAL-DATA" class="sf-depth-4">8.9 POLYGONAL DATA</a></li><li id="menu-1245-1" class="last even sf-item-10 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/working-with-special-data-sets/DSG_datasets" class="sf-depth-4">8.10 Discrete Geometries Datasets</a></li></ul></li><li id="menu-1398-1" class="middle odd sf-item-11 sf-depth-3 sf-total-children-7 sf-parent-children-0 sf-single-children-7 menuparent"><a href="/Ferret/documentation/users-guide/computing-environment" class="sf-depth-3 menuparent">9. Computing Environment</a><ul><li id="menu-1294-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/computing-environment/SETTING-UP-TO-RUN-FERRET" class="sf-depth-4">9.1 SETTING UP TO RUN FERRET</a></li><li id="menu-1295-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/computing-environment/FILES-AND-ENVIRONMENT-VARIABLES-USED-BY-FERRET" class="sf-depth-4">9.2 FILES AND ENVIRONMENT VARIABLES USED BY FERRET</a></li><li id="menu-1296-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/computing-environment/MEMORY-USE" class="sf-depth-4">9.3 MEMORY USE</a></li><li id="menu-1297-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/computing-environment/HARD-COPY-AND-METAFILE-TRANSLATION" class="sf-depth-4">9.4 HARD COPY AND METAFILE TRANSLATION</a></li><li id="menu-1298-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/computing-environment/OUTPUT-FILE-NAMING" class="sf-depth-4">9.5 OUTPUT FILE NAMING</a></li><li id="menu-1299-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/computing-environment/INPUT-FILE-NAMING" class="sf-depth-4">9.6 INPUT FILE NAMING</a></li><li id="menu-1300-1" class="last odd sf-item-7 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/computing-environment/my_ferret_paths_template" class="sf-depth-4">my_ferret_paths_template</a></li></ul></li><li id="menu-1399-1" class="middle even sf-item-12 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="/Ferret/documentation/users-guide/converting-to-netcdf" class="sf-depth-3 menuparent">10. Converting to NetCDF</a><ul><li id="menu-1301-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/converting-to-netcdf/OVERVIEW" class="sf-depth-4">10.1 OVERVIEW</a></li><li id="menu-1302-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/converting-to-netcdf/SIMPLE-CONVERSIONS-USING-FERRET" class="sf-depth-4">10.2 SIMPLE CONVERSIONS USING FERRET</a></li><li id="menu-1303-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/converting-to-netcdf/WRITING-A-CONVERSION-PROGRAM" class="sf-depth-4">10.3 WRITING A CONVERSION PROGRAM</a></li><li id="menu-1304-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/converting-to-netcdf/CREATING-A-MULTI-FILE-NETCDF-DATA-SET" class="sf-depth-4">10.4 CREATING A MULTI-FILE NETCDF DATA SET</a></li></ul></li><li id="menu-1400-1" class="active-trail middle odd sf-item-13 sf-depth-3 sf-total-children-6 sf-parent-children-0 sf-single-children-6 menuparent"><a href="/Ferret/documentation/users-guide/writing-external-functions" class="sf-depth-3 menuparent">11. Writing External Functions</a><ul><li id="menu-1305-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/writing-external-functions/OVERVIEW" class="sf-depth-4">11.1 OVERVIEW</a></li><li id="menu-1306-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/writing-external-functions/GETTING-STARTED" class="sf-depth-4">11.2 GETTING STARTED</a></li><li id="menu-1307-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/writing-external-functions/QUICK-START-EXAMPLE" class="sf-depth-4">11.3 QUICK START EXAMPLE</a></li><li id="menu-1308-1" class="active-trail middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/writing-external-functions/ANATOMY-OF-AN-EXTERNAL-FUNCTION" class="sf-depth-4 active">11.4 ANATOMY OF AN EXTERNAL FUNCTION</a></li><li id="menu-1309-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/writing-external-functions/NOTES-AND-SUGGESTIONS" class="sf-depth-4">11.5 NOTES AND SUGGESTIONS</a></li><li id="menu-1310-1" class="last even sf-item-6 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/writing-external-functions/UTILITY-FUNCTIONS" class="sf-depth-4">11.6 UTILITY FUNCTIONS</a></li></ul></li><li id="menu-1166-1" class="middle even sf-item-14 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/users-guide/glossary/glossary" class="sf-depth-3">Glossary</a></li><li id="menu-1427-1" class="middle odd sf-item-15 sf-depth-3 sf-total-children-58 sf-parent-children-0 sf-single-children-58 menuparent"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/appendix-a" class="sf-depth-3 menuparent">Appendix A: Functions</a><ul><li id="menu-1597-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/BIN_INDEX_WT" class="sf-depth-4">BIN_INDEX_WT</a></li><li id="menu-1430-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/COMPRESSI" class="sf-depth-4">COMPRESSI (and J,K,L,M,N)</a></li><li id="menu-1431-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/COMPRESSI-BY" class="sf-depth-4">COMPRESSI_BY (and J,K,L,M,N)</a></li><li id="menu-1432-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/CONVOLVEI" class="sf-depth-4">CONVOLVEI</a></li><li id="menu-1428-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/CURV-TO-RECT" class="sf-depth-4">CURV_TO_RECT</a></li><li id="menu-1429-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/CURV-TO-RECT-MAP" class="sf-depth-4">CURV_TO_RECT_MAP</a></li><li id="menu-1433-1" class="middle odd sf-item-7 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/DATE1900" class="sf-depth-4">DATE1900</a></li><li id="menu-1434-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/DAYS1900TOYMDHMS" class="sf-depth-4">DAYS1900TOYMDHMS</a></li><li id="menu-1601-1" class="middle odd sf-item-9 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/DOT" class="sf-depth-4">DOT</a></li><li id="menu-1437-1" class="middle even sf-item-10 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/ecat" class="sf-depth-4">ECAT and ECAT_STR</a></li><li id="menu-1438-1" class="middle odd sf-item-11 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/ELEMENT-INDEX" class="sf-depth-4">ELEMENT_INDEX</a></li><li id="menu-1439-1" class="middle even sf-item-12 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/ELEMENT-INDEX-STRING" class="sf-depth-4">ELEMENT_INDEX_STR</a></li><li id="menu-1440-1" class="middle odd sf-item-13 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/EOF-SPACE" class="sf-depth-4">EOF_SPACE and EOFSVD_SPACE</a></li><li id="menu-1441-1" class="middle even sf-item-14 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/EOF-STAT" class="sf-depth-4">EOF_STAT and EOFSVD_STAT</a></li><li id="menu-1442-1" class="middle odd sf-item-15 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/EOF-TFUNC" class="sf-depth-4">EOF_TFUNC and EOFSVD_TFUNC</a></li><li id="menu-1443-1" class="middle even sf-item-16 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/expnd_by_len" class="sf-depth-4">EXPND_BY_LEN and EXPND_BY_LEN_STR</a></li><li id="menu-1444-1" class="middle odd sf-item-17 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/expndi_by" class="sf-depth-4">EXPNDI_BY</a></li><li id="menu-1445-1" class="middle even sf-item-18 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/expndi_by_m_counts" class="sf-depth-4">EXPNDI_BY_M_COUNTS</a></li><li id="menu-1446-1" class="middle odd sf-item-19 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/expndi_by_t" class="sf-depth-4">EXPNDI_BY_T</a></li><li id="menu-1447-1" class="middle even sf-item-20 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/expndi_by_z" class="sf-depth-4">EXPNDI_BY_Z</a></li><li id="menu-1448-1" class="middle odd sf-item-21 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/expndi_by_z_counts-and-expndi_id_by_z_counts" class="sf-depth-4">EXPNDI_BY_Z_COUNTS</a></li><li id="menu-1449-1" class="middle even sf-item-22 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/expndi_id_by_z_counts" class="sf-depth-4">EXPNDI_ID_BY_Z_COUNTS</a></li><li id="menu-1436-1" class="middle odd sf-item-23 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/fcat" class="sf-depth-4">FCAT</a></li><li id="menu-1435-1" class="middle even sf-item-24 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/fc_isubset" class="sf-depth-4">FC_ISUBSET</a></li><li id="menu-1450-1" class="middle odd sf-item-25 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/FFT-IM" class="sf-depth-4">FFT_IM</a></li><li id="menu-1451-1" class="middle even sf-item-26 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/FFT-INVERSE" class="sf-depth-4">FFT_INVERSE</a></li><li id="menu-1453-1" class="middle odd sf-item-27 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/FFT-RE" class="sf-depth-4">FFT_RE</a></li><li id="menu-1452-1" class="middle even sf-item-28 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/fill_xy" class="sf-depth-4">FILL_XY</a></li><li id="menu-1454-1" class="middle odd sf-item-29 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/FINDHI" class="sf-depth-4">FINDHI</a></li><li id="menu-1455-1" class="middle even sf-item-30 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/FINDLO" class="sf-depth-4">FINDLO</a></li><li id="menu-1456-1" class="middle odd sf-item-31 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/IS-ELEMENT-OF" class="sf-depth-4">IS_ELEMENT_OF</a></li><li id="menu-1458-1" class="middle even sf-item-32 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/LANCZOS" class="sf-depth-4">LANCZOS</a></li><li id="menu-1459-1" class="middle odd sf-item-33 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/lon_lat_time_string" class="sf-depth-4">LON_LAT_TIME_STRING</a></li><li id="menu-1460-1" class="middle even sf-item-34 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/LSL-LOWPASS" class="sf-depth-4">LSL_LOWPASS</a></li><li id="menu-1461-1" class="middle odd sf-item-35 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/MINUTES24" class="sf-depth-4">MINUTES24</a></li><li id="menu-1462-1" class="middle even sf-item-36 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/NCO" class="sf-depth-4">NCO</a></li><li id="menu-1463-1" class="middle odd sf-item-37 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/NCO_ATTR" class="sf-depth-4">NCO_ATTR</a></li><li id="menu-1464-1" class="middle even sf-item-38 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/pt_in_poly" class="sf-depth-4">PT_IN_POLY</a></li><li id="menu-1465-1" class="middle odd sf-item-39 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/RECT-TO-CURV" class="sf-depth-4">RECT_TO_CURV</a></li><li id="menu-1466-1" class="middle even sf-item-40 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/samplexy_curv_avg" class="sf-depth-4">SAMPLEXY_CURV_AVG</a></li><li id="menu-1467-1" class="middle odd sf-item-41 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/samplexy_curv_nrst" class="sf-depth-4">SAMPLEXY_CURV_NRST</a></li><li id="menu-1468-1" class="middle even sf-item-42 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/samplexyt" class="sf-depth-4">SAMPLEXYT</a></li><li id="menu-1469-1" class="middle odd sf-item-43 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/samplexz" class="sf-depth-4">SAMPLEXZ</a></li><li id="menu-1470-1" class="middle even sf-item-44 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/sampleyz" class="sf-depth-4">SAMPLEYZ</a></li><li id="menu-1472-1" class="middle odd sf-item-45 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/scat2grid_bin_xy" class="sf-depth-4">SCAT2GRID_BIN_XY and SCAT2GRID_BIN_XYT</a></li><li id="menu-1473-1" class="middle even sf-item-46 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/scatgrid_nbin_xyt" class="sf-depth-4">SCAT2GRID_NBIN_XY and SCAT2GRID_NBIN_XYT</a></li><li id="menu-1471-1" class="middle odd sf-item-47 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/scat2grid_nobs_xy" class="sf-depth-4">SCAT2GRID_NOBS_XY</a></li><li id="menu-1474-1" class="middle even sf-item-48 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/separate" class="sf-depth-4">SEPARATE</a></li><li id="menu-1475-1" class="middle odd sf-item-49 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/tax_datestring" class="sf-depth-4">TAX_DATESTRING</a></li><li id="menu-1477-1" class="middle even sf-item-50 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/TCAT" class="sf-depth-4">TCAT</a></li><li id="menu-1476-1" class="middle odd sf-item-51 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/test_opendap" class="sf-depth-4">TEST_OPENDAP</a></li><li id="menu-1599-1" class="middle even sf-item-52 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/TRANSPOSE" class="sf-depth-4">TRANSPOSE</a></li><li id="menu-1478-1" class="middle odd sf-item-53 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/WRITEV5D" class="sf-depth-4">WRITEV5D</a></li><li id="menu-1481-1" class="middle even sf-item-54 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/XCAT" class="sf-depth-4">XCAT</a></li><li id="menu-1482-1" class="middle odd sf-item-55 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/YCAT" class="sf-depth-4">YCAT</a></li><li id="menu-1479-1" class="middle even sf-item-56 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/ZAXREPLACE-AVG" class="sf-depth-4">ZAXREPLACE_AVG</a></li><li id="menu-1480-1" class="middle odd sf-item-57 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/ZAXREPLACE-BIN" class="sf-depth-4">ZAXREPLACE_BIN</a></li><li id="menu-1483-1" class="last even sf-item-58 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/ZCAT" class="sf-depth-4">ZCAT</a></li></ul></li><li id="menu-1168-1" class="middle even sf-item-16 sf-depth-3 sf-total-children-9 sf-parent-children-1 sf-single-children-8 menuparent"><a href="/Ferret/documentation/users-guide/appendix-b-pplus-guide/appendix-b-pplus-guide" class="sf-depth-3 menuparent">Appendix B: PPLUS Guide</a><ul><li id="menu-1311-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-b-pplus-guide/INTRODUCTION" class="sf-depth-4">INTRODUCTION</a></li><li id="menu-1312-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-b-pplus-guide/GETTING-STARTED" class="sf-depth-4">GETTING STARTED</a></li><li id="menu-1313-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-b-pplus-guide/COMMAND-FORMAT" class="sf-depth-4">COMMAND FORMAT</a></li><li id="menu-1314-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-b-pplus-guide/COMMAND-SYNOPSIS" class="sf-depth-4">COMMAND SYNOPSIS</a></li><li id="menu-1315-1" class="middle odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-b-pplus-guide/BEGINNERS-GUIDE" class="sf-depth-4">BEGINNERS GUIDE</a></li><li id="menu-1316-1" class="middle even sf-item-6 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-b-pplus-guide/ROUTING-PLOT-FILES" class="sf-depth-4">ROUTING PLOT FILES</a></li><li id="menu-1317-1" class="middle odd sf-item-7 sf-depth-4 sf-total-children-2 sf-parent-children-0 sf-single-children-2 menuparent"><a href="/Ferret/documentation/users-guide/appendix-b-pplus-guide/PPLUS-COMMAND-FILES" class="sf-depth-4 menuparent">PPLUS COMMAND FILES</a><ul><li id="menu-1324-1" class="first odd sf-item-1 sf-depth-5 sf-no-children"><a href="/Ferret/documentation/users-guide/ferret-fonts/list-of-ferret-fonts" class="sf-depth-5">List of Ferret Symbol Fonts</a></li><li id="menu-1325-1" class="last even sf-item-2 sf-depth-5 sf-no-children"><a href="/Ferret/documentation/users-guide/ferret-fonts/list-of-ferret-character-fonts" class="sf-depth-5">List of Ferret/PPLUS Character fonts</a></li></ul></li><li id="menu-1318-1" class="middle even sf-item-8 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-b-pplus-guide/PLOT5-PPLUS-DIFFERENCES" class="sf-depth-4">PLOT5, PPLUS DIFFERENCES</a></li><li id="menu-1319-1" class="last odd sf-item-9 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-b-pplus-guide/COMMAND-DESCRIPTION" class="sf-depth-4">COMMAND DESCRIPTION</a></li></ul></li><li id="menu-1169-1" class="last odd sf-item-17 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="/Ferret/documentation/users-guide/appendix-c-ferret-specific-pplus-enhancements/appendix-c-ferret-specific-pplus-enhancements" class="sf-depth-3 menuparent">Appendix C: Ferret-Specific PPLUS Enhancements</a><ul><li id="menu-1320-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-c-ferret-specific-pplus-enhancements/PLOTPLUS-HISTORY-EVOLUTION" class="sf-depth-4">PLOTPLUS HISTORY, EVOLUTION</a></li><li id="menu-1321-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-c-ferret-specific-pplus-enhancements/ENHANCED-COMMANDS-DESCRIPTION" class="sf-depth-4">ENHANCED COMMANDS DESCRIPTION</a></li><li id="menu-1322-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-c-ferret-specific-pplus-enhancements/GKS-LINE-BUNDLES" class="sf-depth-4">GKS LINE BUNDLES</a></li><li id="menu-1323-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-c-ferret-specific-pplus-enhancements/HARD-COPY" class="sf-depth-4">HARD COPY</a></li></ul></li></ul></li><li id="menu-1336-1" class="middle odd sf-item-3 sf-depth-2 sf-no-children"><a href="/Ferret/documentation/all-release-notes" class="sf-depth-2">Previous Release Notes</a></li><li id="menu-1339-1" class="middle even sf-item-4 sf-depth-2 sf-total-children-15 sf-parent-children-1 sf-single-children-14 menuparent"><a href="/Ferret/documentation/ferret-tutorials" class="sf-depth-2 menuparent">Tutorials and Demos</a><ul><li id="menu-1338-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/ferret-tutorial-script" class="sf-depth-3">Ferret Tour</a></li><li id="menu-1618-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/dsg-files-discrete-sampling-geometries-demo" class="sf-depth-3">DSG files: Discrete Sampling Geometries Demo</a></li><li id="menu-1337-1" class="middle odd sf-item-3 sf-depth-3 sf-total-children-5 sf-parent-children-0 sf-single-children-5 menuparent"><a href="/Ferret/documentation/ferret-tutorials" class="sf-depth-3 menuparent">External Function Examples</a><ul><li id="menu-1343-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/sorting-demo" class="sf-depth-4">Ferret sorting demo (1)</a></li><li id="menu-1591-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/ferret-sorting-demo" class="sf-depth-4">Ferret sorting demo (2)</a></li><li id="menu-1344-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/how-to-use-ferret-external-functions-for-computing-ffts" class="sf-depth-4">Fast Fourier Transforms demo</a></li><li id="menu-1345-1" class="middle even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/ferret-eof-demo" class="sf-depth-4">Empirical Orthogonal Functions demo</a></li><li id="menu-1346-1" class="last odd sf-item-5 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/ferret-objective-analysis" class="sf-depth-4">Ferret objective analysis demo</a></li></ul></li><li id="menu-1353-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/ferret-palette-demo" class="sf-depth-3">Ferret Palette Demo</a></li><li id="menu-1350-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/ferret-map-projections-demo" class="sf-depth-3">Map projections</a></li><li id="menu-1354-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/ferret-polygon-vector-demo" class="sf-depth-3">Ferret polygon vector demo</a></li><li id="menu-1355-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/ferret-graticules-demo" class="sf-depth-3">Ferret Graticules demo</a></li><li id="menu-1352-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/ferret-polytube-demo" class="sf-depth-3">Ferret Polytube Demo</a></li><li id="menu-1351-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/ferret-polymark-demo" class="sf-depth-3">Ferret Polymark Demo</a></li><li id="menu-1349-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/ferret-constant-array-demo" class="sf-depth-3">Ferret Constant-Array demo</a></li><li id="menu-1356-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/ferret-land_detail-demo" class="sf-depth-3">Ferret land_detail demo</a></li><li id="menu-1340-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/coads-tour" class="sf-depth-3">COADS Tour</a></li><li id="menu-1341-1" class="middle odd sf-item-13 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/levitus-tour" class="sf-depth-3">Levitus Tour</a></li><li id="menu-1342-1" class="middle even sf-item-14 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1" class="sf-depth-3">Use OPeNDAP</a></li><li id="menu-1348-1" class="last odd sf-item-15 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/ferret-binary-read-demo" class="sf-depth-3">Ferret binary read demo</a></li></ul></li><li id="menu-1333-1" class="middle odd sf-item-5 sf-depth-2 sf-total-children-13 sf-parent-children-1 sf-single-children-12 menuparent"><a href="/Ferret/documentation/pyferret" class="sf-depth-2 menuparent">PyFerret</a><ul><li id="menu-1426-1" class="first odd sf-item-1 sf-depth-3 sf-total-children-4 sf-parent-children-0 sf-single-children-4 menuparent"><a href="/Ferret/documentation/pyferret/downloads" class="sf-depth-3 menuparent">PyFerret Downloads and Install</a><ul><li id="menu-1374-1" class="first odd sf-item-1 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/pyferret/requirements" class="sf-depth-4">PyFerret requirements</a></li><li id="menu-1375-1" class="middle even sf-item-2 sf-depth-4 sf-no-children"><a href="/Ferret/downloads/pyferret" class="sf-depth-4">PyFerret Downloads</a></li><li id="menu-1377-1" class="middle odd sf-item-3 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/pyferret/build-install" class="sf-depth-4">Installing or Building PyFerret</a></li><li id="menu-1376-1" class="last even sf-item-4 sf-depth-4 sf-no-children"><a href="/Ferret/documentation/pyferret/known-issues" class="sf-depth-4">PyFerret Known Issues and Release Notes</a></li></ul></li><li id="menu-1359-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/what-is-pyferret" class="sf-depth-3">What is PyFerret?</a></li><li id="menu-1360-1" class="middle odd sf-item-3 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/why-use-pyferret" class="sf-depth-3">Why use PyFerret?</a></li><li id="menu-1361-1" class="middle even sf-item-4 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/example-sessions-ferret" class="sf-depth-3">PyFerret for the Ferret user</a></li><li id="menu-1362-1" class="middle odd sf-item-5 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/pyferret-quick-start-notes" class="sf-depth-3">PyFerret command syntax: quick-start notes</a></li><li id="menu-1364-1" class="middle even sf-item-6 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/example-sessions-python" class="sf-depth-3">PyFerret for the Python user</a></li><li id="menu-1365-1" class="middle odd sf-item-7 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/graphics" class="sf-depth-3">Graphics in PyFerret </a></li><li id="menu-1366-1" class="middle even sf-item-8 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/ferret-functionality" class="sf-depth-3">New Ferret functionality</a></li><li id="menu-1367-1" class="middle odd sf-item-9 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/python-functions" class="sf-depth-3">PyFerret Python functions and constants</a></li><li id="menu-1368-1" class="middle even sf-item-10 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/pyferret-python-objects" class="sf-depth-3">PyFerret Python objects and methods</a></li><li id="menu-1369-1" class="middle odd sf-item-11 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/pyefs" class="sf-depth-3">Ferret external functions in Python</a></li><li id="menu-1371-1" class="middle even sf-item-12 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/fortranefs" class="sf-depth-3">Ferret Fortran external functions</a></li><li id="menu-1373-1" class="last odd sf-item-13 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/pyferret/data-dictionaries" class="sf-depth-3">PyFerret metadata-and-data dictionaries</a></li></ul></li><li id="menu-1147-1" class="middle even sf-item-6 sf-depth-2 sf-total-children-3 sf-parent-children-0 sf-single-children-3 menuparent"><a href="/Ferret/documentation/opendap/opendap-usage-in-ferret" class="sf-depth-2 menuparent">OPeNDAP</a><ul><li id="menu-1590-1" class="first odd sf-item-1 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/opendap/opendap-usage-in-ferret" class="sf-depth-3">OPeNDAP usage in Ferret</a></li><li id="menu-1489-1" class="middle even sf-item-2 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/how-to-use-ferret-and-opendap-to-access-and-analyze-remote-data-1" class="sf-depth-3">Use OPeNDAP Demo</a></li><li id="menu-1491-1" class="last odd sf-item-3 sf-depth-3 sf-no-children"><a href="/Ferret/documentation/users-guide/appendix-a-external-functions/test_opendap" class="sf-depth-3">Test OPeNDAP</a></li></ul></li><li id="menu-1592-1" class="middle odd sf-item-7 sf-depth-2 sf-no-children"><a href="/Ferret/documentation/ferret-publications" class="sf-depth-2">Ferret Publications</a></li><li id="menu-1389-1" class="last even sf-item-8 sf-depth-2 sf-no-children"><a href="/Ferret/documentation/acknowledging-ferret" class="sf-depth-2">Acknowledging Ferret</a></li></ul>    </div>
  </div>
</div>  </div>
</aside><div class="grid-9 region region-content equal-height-element" id="region-content">
  <div class="region-inner region-content-inner">
    <a id="main-content"></a>
                <h1 class="title" id="page-title">11.4 ANATOMY OF AN EXTERNAL FUNCTION</h1>
                        <div class="block block-system block-main block-system-main odd block-without-title" id="block-system-main">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <article about="/Ferret/documentation/users-guide/writing-external-functions/ANATOMY-OF-AN-EXTERNAL-FUNCTION" typeof="sioc:Item foaf:Document" class="node node-documentation-page node-promoted node-published node-not-sticky author-burger odd clearfix" id="node-documentation-page-436">
    
  <!-- add the following line to print out updated date -->
  <div class="modified-date">Last modified: Mon, 04/03/2017 - 17:31</div>
  <!-- add the following line to print out the page description -->
    
  <div class="content clearfix">
                
<div class="field field-name-body field-type-text-with-summary field-label-hidden">
    <div class="field-items">
          <div class="field-item even" property="content:encoded"><p><a name="_VPID_375" id="_VPID_375"></a><a name="_VPINDEXENTRY_1152" id="_VPINDEXENTRY_1152"></a><br /></p><p align="left">Every Ferret external function contains an <i><b>~_init</b></i> subroutine which describes the external function's arguments and result grid and a <i><b>~_compute</b></i> subroutine which actually performs the calculation. If the code you wish to implement is written in C, then the ~_compute function will be a Fortran wrapper that calls the C routine. Three other subroutines are available for requesting memory allocation; creating axis limits for the result variable which are extended with respect to the defined region (useful for derivative calculations, etc.); and creating custom axes for the result.</p>

<p align="left">For the following discussion we will assume that our external function is called efname (with source code in a file named efname.F). Examples are also taken from the external functions <i><b>examples/</b></i> directory which you installed when you downloaded the external functions code. This section will briefly describe the work done by the <i><b>~_init</b></i> and <i><b>~_compute</b></i> subroutines. The individual utility functions called by these subroutines are described in the section on Utility Functions below.</p>
<p align="left"><a name="_VPINDEXENTRY_1153" id="_VPINDEXENTRY_1153"></a>When you name your external functions, be aware that Ferret will search its internal function names before the external function names. So if you use a name that is already in use, your function will not be called. Use SHOW FUNCTION from Ferret to list the names that already are in use</p>
<p><a name="_VPID_376" id="_VPID_376"></a><a name="_VPINDEXENTRY_1154" id="_VPINDEXENTRY_1154"></a><br /></p><p align="left" class="secHeader">11.4.1 <b>The ~_init subroutine (required) </b></p>
<pre>subroutine efname_init (id)</pre><p align="left">This subroutine specifies basic information about the external function. This information is used when Ferret parses the command line and checks the number of arguments; when it generates the output of SHOW FUNCTION/EXTERNAL; and in determining the result grid.</p>
<p align="left">The following code from <i><b>examples/subtract.F</b></i> shows a typical example of an <i><b>~_init</b></i> subroutine. For an example with more arguments please look at <i><b>examples/add_9.F</b></i>. For an example where a result axis is reduced with respect to the equivalent input axis take a look at <i><b>examples/percent_good_t.F</b></i>.</p>
<pre>SUBROUTINE subtract_init(id)<br /><br />INCLUDE 'ferret_cmn/EF_Util.cmn'<br /><br />INTEGER id, arg<br /><br />* *************************<br />* USER CONFIGURABLE PORTION<br />*<br />CALL ef_set_desc(id,'(demonstration function) returns: A - B' )<br /><br />CALL ef_set_num_args(id, 2) ! Maximum allowed is 9<br />CALL ef_set_axis_inheritance(id, IMPLIED_BY_ARGS, <br />. IMPLIED_BY_ARGS, IMPLIED_BY_ARGS, IMPLIED_BY_ARGS)<br />CALL ef_set_piecemeal_ok(id, NO, NO, NO, NO)<br /><br />arg = 1<br />CALL ef_set_arg_name(id, arg, 'A')<br />CALL ef_set_axis_influence(id, arg, YES, YES, YES, YES)<br /><br />arg = 2<br />CALL ef_set_arg_name(id, arg, 'B')<br />CALL ef_set_axis_influence(id, arg, YES, YES, YES, YES)<br />*<br />* USER CONFIGURABLE PORTION<br />* *************************</pre><p align="left"><b><br /></b></p>
<p align="left"><b><br />RETURN <br />END </b></p>
<p align="left" class="secHeader">11.4.2 <a name="_VPID_377" id="_VPID_377"></a><b><a name="_VPINDEXENTRY_1155" id="_VPINDEXENTRY_1155"></a>The ~_compute subroutine (required) </b></p>
<pre>subroutine efname_compute (id, arg_1, arg_2, ..., result, wkr_1, wrk_2, ...)</pre><p align="left">This subroutine does the actual calculation. Arguments to the external function and any requested working storage arrays are passed in. Dimension information for the subroutine arguments is obtained from Ferret common blocks in <i><b>ferret_cmn/EF_mem_subsc.cmn</b></i>. The <i><b>mem1lox:mem1hix</b></i>, etc. values are determined by Ferret and correspond to the region requested for the <a href="mailto:calculation.@Body">calculation.@Body</a> Text = In the <i><b>~_compute</b></i> subroutine you may call other subroutines which are not part of the efname_compute.F source file.</p>
<pre>SUBROUTINE subtract_compute(id, arg_1, arg_2, result)<br /><br />INCLUDE 'ferret_cmn/EF_Util.cmn'<br />INCLUDE 'ferret_cmn/EF_mem_subsc.cmn'<br /><br />INTEGER id<br /><br />REAL bad_flag(EF_MAX_ARGS), bad_flag_result<br />REAL arg_1(mem1lox:mem1hix, mem1loy:mem1hiy,<br />. mem1loz:mem1hiz, mem1lot:mem1hit)<br />REAL arg_2(mem2lox:mem2hix, mem2loy:mem2hiy,<br />. mem2loz:mem2hiz, mem2lot:mem2hit)<br />REAL result(memreslox:memreshix, memresloy:memreshiy,<br />. memresloz:memreshiz, memreslot:memreshit)<br /><br />* After initialization, the 'res_' arrays contain indexing information <br />* for the result axes. The 'arg_' arrays will contain the indexing <br />* information for each variable's axes. <br /><br />INTEGER res_lo_ss(4), res_hi_ss(4), res_incr(4)<br />INTEGER arg_lo_ss(4,EF_MAX_ARGS), arg_hi_ss(4,EF_MAX_ARGS),<br />. arg_incr(4,EF_MAX_ARGS)<br /><br /><br />* **************************<br />* USER CONFIGURABLE PORTION<br />* <br /><br />INTEGER i,j,k,l<br />INTEGER i1, j1, k1, l1<br />INTEGER i2, j2, k2, l2<br /><br />CALL ef_get_res_subscripts(id, res_lo_ss, res_hi_ss, res_incr)<br />CALL ef_get_arg_subscripts(id, arg_lo_ss, arg_hi_ss, arg_incr)<br />CALL ef_get_bad_flags(id, bad_flag, bad_flag_result)<br /><br />...<br /><br />*<br />* USER CONFIGURABLE PORTION<br />* *************************<br />RETURN <br />END</pre><p align="left">Please see the "Loop Indices" section for the example calculation.4.3</p>
<p><a name="_VPID_378" id="_VPID_378"></a><a name="_VPINDEXENTRY_1156" id="_VPINDEXENTRY_1156"></a><br /></p><p align="left" class="secHeader">11.4.3 <b>The ~_work_size subroutine (required when work arrays are defined) </b></p>
<p align="left">This routine allows the external function author to request that Ferret allocate memory (working storage) for use by the external function. The memory allocated is passed to the external function when the <i><b>~compute</b></i> subroutine is called. The working storage arrays are assumed to be REAL*4 arrays; adjust the size of the arrays for other data types. See the sample code under <a title="11.6 UTILITY FUNCTIONS" href="UTILITY-FUNCTIONS#Chapter11--ef_get_coordinates">ef_get_coordinate</a>s for an example of allocating a REAL*8 work array. The working storage is deallocated after the <i><b>~compute</b></i> subroutine returns.</p>
<p align="left">When working storage is to be requested, a call to <i><b>ef_set_num_work_arrays</b></i> must be in the <i><b>~init</b></i> subroutine:</p>
<p align="left"><b>SUBROUTINE efname_init (id)<br />...<br />CALL ef_set_num_work_arrays (id,2) </b></p>
<p align="left">A maximum of 9 work arrays may be declared. At the time the <i><b>~work_size</b></i> subroutine is called by Ferret, any of the utility functions that retrieve information from Ferret may be used in the determination of the appropriate working storage size.</p>
<p align="left">Here is an example of a <i><b>~work_size</b></i> subroutine:</p>
<pre>SUBROUTINE efname_work_size(id)<br />INCLUDE 'ferret_cmn/EF_Util.cmn'<br />INCLUDE 'ferret_cmn/EF_mem_subsc.cmn'<br />INTEGER id<br />* <br />* ef_set_work_array_lens(id, array #, X len, Y len, Z len, T len)<br />*<br />INTEGER nx, ny, id<br />INTEGER arg_lo_ss(4,1:EF_MAX_ARGS), arg_hi_ss(4,1:EF_MAX_ARGS),<br />. arg_incr(4,1:EF_MAX_ARGS)<br />CALL ef_get_arg_subscripts(id, arg_lo_ss, arg_hi_ss, arg_incr)<br /><br />NX = 1 + (arg_hi_ss(X_AXIS,ARG1) - arg_lo_ss(X_AXIS,ARG1))<br />NY = 1 + (arg_hi_ss(Y_AXIS,ARG1) - arg_lo_ss(Y_AXIS,ARG1))<br /><br />CALL ef_set_work_array_lens(id,1,NX,NY,1,1)<br />CALL ef_set_work_array_lens(id,2,NX,NY,1,1)</pre><p align="left"><b><br /></b></p>
<p align="left"><b>RETURN </b></p>
<p align="left">In the argument list of the <i><b>~compute</b></i> subroutine, the work array(s) come after the result variable. Declare the workspace arrays using index bounds wrk1lox:wrk2hix, ... which were set by the ef_set_work_array_lens call above.</p>
<pre>SUBOUTINE efname_compute (arg_1, result, workspace1, workspace2)<br />...<br /><br />* Dimension the work arrays<br />REAL workspace1(wrk1lox:wrk1hix, wrk1loy:wrk1hiy,<br />. wrk1loz:wrk1hiz, wrk1lot:wrk1hit)<br />REAL workspace2(wrk2lox:wrk2hix, wrk2loy:wrk2hiy,<br />. wrk2loz:wrk2hiz, wrk2lot:wrk2hit)</pre><p align="left" class="secHeader">11.4.4 <a name="_VPID_379" id="_VPID_379"></a><b><a name="_VPINDEXENTRY_1157" id="_VPINDEXENTRY_1157"></a>The ~_result_limits subroutine (required if result has a custom or abstract axis) </b></p>
<p align="left">The result limits routine sets the limits on <i><b>ABSTRACT</b></i> and <i><b>CUSTOM</b></i> axes created by the external function.</p>
<p align="left">An example <i><b>~result_limits</b></i> routine might look like this:</p>
<pre>SUBROUTINE my_result_limits(id)<br />INCLUDE 'ferret_cmn/EF_Util.cmn'<br />INTEGER id, arg, NF<br />*<br />INTEGER arg_lo_ss(4,EF_MAX_ARGS), arg_hi_ss(4,EF_MAX_ARGS),<br />. arg_incr(4,EF_MAX_ARGS)<br />INTEGER lo, hi<br /><br />CALL ef_get_arg_subscripts(id, arg_lo_ss, arg_hi_ss, arg_incr)<br /><br />arg = 1<br />lo = 1<br />hi = (arg_hi_ss(T_AXIS,arg) - arg_lo_ss(T_AXIS,arg) + 1)/ 2<br />call ef_set_axis_limits(id, T_AXIS, lo, hi)<br /><br />RETURN<br />END</pre><p>
<a name="Chapter11-custom_axes" id="Chapter11-custom_axes"></a><a name="_VPID_380" id="_VPID_380"></a><a name="_VPINDEXENTRY_1158" id="_VPINDEXENTRY_1158"></a><br /></p><p align="left" class="secHeader">11.4.5 <b>The ~_custom_axes subroutine (required if result has a custom axis) </b></p>
<p align="left">The <i><b>~custom_axes</b></i> subroutine allows the external function author to create new axes that will be attached the the result of the <i><b>~compute</b></i> subroutine. An example of such a function might take time series data with a time axis and create, as a result, a Fourier transform with a frequency axis.</p>
<p align="left">The <i><b>~custom_axes</b></i> subroutine must be used with care because not all the Ferret internal information is available to the external function at the time Ferret calls this routine. Ferret must determine the grid on which a variable is defined before it actually evaluates the variable. This is fundamental to the delayed evaluation framework -- the aspect of Ferret that makes it possible to work with multi-gigabyte data sets while having minimal awareness of memory limitations. The ~custom_axes routines are called at the time that Ferret determines grid. Certain types of information are not available to Ferret (or to you, as author of an external function) during this time. The information which is not available is</p>
<p align="left">1. the values of arguments to the function (capability to get the value of a scalar argument is being implemented for a future version)</p>
<p align="left">2. context information specified with SET REGION</p>
<p align="left">3. context information set with command qualifiers such as</p>
<p align="left"><b>CONTOUR/X=130e:80w </b></p>
<p align="left">Items two and three are because this information is mutable -- it may be changed when the function is actually invoked.</p>
<p align="left">The context information which IS available is</p>
<p align="left">1. information that is actually contained in the function call, such as the X limits of</p>
<pre>LET myvar = MY_EFN(v[x=130e:80w])</pre><p align="left">2. information that is embedded in nested variable definitions, such as the X limits of</p>
<pre>LET tmp_var = v[x=130e:80w]<br />LET myvar = MY_EFN(tmp_var)</pre><p align="left">If no context information is available through these means then the context information supplied by the call to ef_get_arg_subscripts will be the full span (low and high limits) of the relevant axes.</p>
<p align="left">If your axis is a calendar time axis, the units that you specified in the call to ef_set_custom_axis should be the time-increment units only, e.g. "year", "month", "minute".  The time origin must be set after calling the function.  See the last example below.</p>
<p align="left"><b>Examples: </b></p>
<p align="left">You can set an axis explicitly in subroutine my_fcn_custom_axes:</p>
<pre>SUBROUTINE my_fcn_custom_axes(id)<br />INCLUDE 'ferret_cmn/EF_Util.cmn'<br />INTEGER id<br />CALL ef_set_custom_axis(id, T_AXIS, 0.0, 1000.0, 25.0, 'Hertz', NO)<br />RETURN<br />END</pre><p align="left"><b><br /></b></p>
<p align="left">Also, you can define an axis using information about the argument, as in the FFT functions which set up a frequency axis based on the input time axis (somewhat simplified here):</p>
<pre>SUBROUTINE ffta_sample_custom_axes(id)<br /><br />INCLUDE 'ferret_cmn/EF_Util.cmn'<br />INTEGER id<br />INTEGER nfreq_lo_l, nfreq_hi_l<br /><br />INTEGER arg_lo_ss(4,EF_MAX_ARGS), arg_hi_ss(4,EF_MAX_ARGS),<br />. arg_incr(4,EF_MAX_ARGS)<br />INTEGER arg<br />INTEGER nfreq, nd<br /><br />REAL yquist, freq1, freqn<br />REAL boxsize(1)<br /><br />arg = 1<br />CALL ef_get_arg_subscripts(id, arg_lo_ss, arg_hi_ss, arg_incr)<br /><br />CALL ef_get_box_size(id, arg, T_AXIS, arg_lo_ss(T_AXIS,arg), <br />. arg_lo_ss(T_AXIS,arg), boxsize)<br /><br />nfreq_lo_l = arg_lo_ss(T_AXIS,arg)<br />nfreq_hi_l = arg_hi_ss(T_AXIS,arg)<br /><br />nd = abs(nfreq_hi_l - nfreq_lo_l) + 1<br /><br />nfreq = nd/2<br />yquist = 1./(2.*boxsize(1)) ! Nyquist frequency<br /><br />freq1 = 1.* yquist/ float(nfreq)<br />freqn = 1.001*yquist<br /><br />C Set label for the frequency axis CYC/units.<br /><br />outunits = 'cyc/day'<br />CALL ef_set_custom_axis (id, T_AXIS, freq1, freqn, freq1, outunits, NO)<br /><br />RETURN <br />END</pre><p>If the function defines a time axis, then  the time origin may be defined after calling the function.</p>
<pre>SUBROUTINE my_fcn_custom_axes(id)<br />INCLUDE 'ferret_cmn/EF_Util.cmn'<br />INTEGER id<br />...<br />CALL ef_set_custom_axis(id, T_AXIS, loval, hival, del, 'days', NO)<br />RETURN<br />END<br /></pre><p>Then in the Ferret session, call the function to define a variable on this time axis, and then define its time origin.</p>
<pre>yes? LET var = my_fcn(arg1, arg2)<br />yes? SET AXIS/T0="1-jan-2000" `var,RETURN=taxis`<br /></pre><p></p>
</div>
      </div>
</div>
    
  </div>
  
  <div class="clearfix">
          <nav class="links node-links clearfix"></nav>
    
      </div>
</article>
    </div>
  </div>
</div>      </div>
</div>  </div>
</div></section>    
  
      <footer id="section-footer" class="section section-footer">
  <div id="zone-footer-wrapper" class="zone-wrapper zone-footer-wrapper clearfix">  
  <div id="zone-footer" class="zone zone-footer clearfix container-12">
    <div class="grid-8 region region-footer-first" id="region-footer-first">
  <div class="region-inner region-footer-first-inner">
    <div class="block block-block block-1 block-block-1 odd block-without-title" id="block-block-1">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <p><a href="https://www.pmel.noaa.gov"><img alt="PMEL logo" border="0" src="/Ferret/sites/all/themes/pacific_marine/images/PMEL-meatball-logo-sm.png" style="width: 110px; height: 110px;" /></a></p>
    </div>
  </div>
</div><div class="block block-block block-2 block-block-2 even block-without-title" id="block-block-2">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <p><a href="https://www.noaa.gov">National Oceanic and Atmospheric Administration</a><br /><a href="https://www.pmel.noaa.gov">Pacific Marine Environmental Laboratory</a> | <a href="https://ferret.pmel.noaa.gov/Ferret">Ferret Support</a><br /><a href="mailto:oar.pmel.contact_ferret@noaa.gov">oar.pmel.contact_ferret@noaa.gov </a></p>
    </div>
  </div>
</div><div class="block block-menu block-menu-footer-first-menu block-menu-menu-footer-first-menu odd block-without-title" id="block-menu-menu-footer-first-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu"><li class="first leaf"><a href="https://www.commerce.gov" title="The United States Department of Commerce">DOC</a></li>
<li class="leaf"><a href="https://www.noaa.gov" title="The National Oceanographic and Atmospheric Administration">NOAA</a></li>
<li class="leaf"><a href="https://www.research.noaa.gov/" title="Department of Commerce &gt; NOAA &gt; Office of Oceanic and Atmospheric Research">OAR</a></li>
<li class="leaf"><a href="https://www.pmel.noaa.gov">PMEL</a></li>
<li class="leaf"><a href="https://www.pmel.noaa.gov/project/science-data-integration" target="_blank">SDIG</a></li>
<li class="leaf"><a href="https://www.noaa.gov/protecting-your-privacy" target="_blank">Privacy Policy</a></li>
<li class="last leaf"><a href="https://www.noaa.gov/disclaimer" target="_blank">Disclaimer</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div><div class="grid-4 region region-footer-second" id="region-footer-second">
  <div class="region-inner region-footer-second-inner">
    <div class="block block-menu block-menu-footer-second-menu block-menu-menu-footer-second-menu odd block-without-title" id="block-menu-menu-footer-second-menu">
  <div class="block-inner clearfix">
                
    <div class="content clearfix">
      <ul class="menu"><li class="first last leaf"><a href="/Ferret/sitemap" title="Title of Site map page">Ferret Sitemap</a></li>
</ul>    </div>
  </div>
</div>  </div>
</div>  </div>
</div></footer>  </div>  <div class="region region-page-bottom" id="region-page-bottom">
  <div class="region-inner region-page-bottom-inner">
      </div>
</div>  <div id="body-bg-bottom"></div>
</body>
</html>