<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] different results from Ferret and Matlab -->
<!--X-From-R13: Vnznqn Pnqe <unznqn.f.onqeNtznvy.pbz> -->
<!--X-Date: Sun, 3 Feb 2013 19:26:40 &#45;0800 -->
<!--X-Message-Id: CD348997.98DF%hamada.s.badr@gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 1359944246.38928.YahooMailClassic@web163502.mail.gq1.yahoo.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] different results from Ferret and Matlab</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00091.html">Thread Prev</a>][<a href="msg00093.html">Thread Next</a>][<A HREF="threads.html#00092">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] different results from Ferret and Matlab</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;FISSEHA G. BERHANE&quot; &lt;<a href="mailto:fishcivilmu@DOMAIN.HIDDEN">fishcivilmu@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] different results from Ferret and Matlab</strong></li>
<li><strong>From</strong>: <strong>Hamada Badr &lt;<a href="mailto:hamada.s.badr@DOMAIN.HIDDEN">hamada.s.badr@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Sun, 03 Feb 2013 22:26:29 -0500</li>
<li>Cc: ferret &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=20120113;        h=x-received:x-beenthere:x-received:x-received:received-spf         :x-received:user-agent:date:subject:from:to:cc:message-id         :thread-topic:in-reply-to:mime-version:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :x-google-group-id:list-post:list-help:list-archive:list-unsubscribe         :content-type;        bh=CRqE4lbg7WAllqY8Qr9hU8llSe4o4E/vNZTqPsMIH6Y=;        b=kAfhVR5GhuwjrQxXgom61j+5pToTP8lPI1qGGAry75c6XbdZA7Nm9vBHwjz49zn0d5         hyVT7w4PpzBobgSBG0E4SF6/tl6tH4zD4n9W67CpAy7yTuhmxkQIAiE87PqQSokvMmKp         DS/twdsAq35D8G1PP+5L1CFiD62IziAo8ekcahtOiiXfXm9vssVj7Sprx0Dqs+Uz10Oi         58ax3DqvfSYDEx6hvT98fjLHknPdyMMDVQ9V32rD0Mz+mPGBzadz8JnE6sG0SKMpPU+N         GIjy3r0CARbyiUrN0QutPDlEd6/Q8PgdaguVWebvGVpTGps+hCr/qw/C7KhziWIhf7o3         FJiw==</li>
<li>In-reply-to: &lt;<a href="msg00091.html">1359944246.38928.YahooMailClassic@web163502.mail.gq1.yahoo.com</a>&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US</a>&gt;, &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-topic: [ferret_users] different results from Ferret and Matlab</li>
<li>User-agent: Microsoft-MacOutlook/14.2.5.121010</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style=""><div><div>Hi Fisseha,</div><div><div><br></div><div>The&nbsp;@AVE transformation in ferret computes a&nbsp;<b>weighted average&nbsp;</b>by SUM(weight_i * value_i)/SUM(weight_i).&nbsp;&nbsp;You could see the weighting used by setting the value at i=k to 1.0 and all others to 0.0 which will give you weight_k/SUM(weight_i).&nbsp;In your case, you could compute the region's average time series and, then, check the weights used in time and compare it to 1<span style="font-size: medium; ">/1830 constant weight used in Matlab</span>.</div><div><br></div><div>N.B.: When @AVE is applied simultaneously to the X and Y axes, where X and Y are longitude and latitude, respectively, an <b>area-weighted average</b> (weighted by cos(latitude)) is used.</div><div><br></div><div><div>Best Regards,</div><div><b style="font-family: 'Times New Roman'; "><font color="#292929">Hamada Badr</font></b></div><div><div class="MsoNormal" align="center" style="margin-top: 0cm; margin-right: 0cm; margin-left: 0cm; text-align: center; "><div class="MsoNormal" align="center" style="margin-top: 0cm; margin-right: 0cm; margin-left: 0cm; "><div class="MsoNormal" align="center" style="margin-top: 0cm; margin-right: 0cm; margin-left: 0cm; "><div style="text-align: -webkit-auto; "><div style="font-family: 'Times New Roman'; font-size: medium; "><div class="MsoNormal" align="center" style="margin-top: 0cm; margin-right: 0cm; margin-left: 0cm; text-align: center; "><font color="navy" face="Times New Roman"></font></div></div><div><div class="MsoNormal" align="center" style="margin-top: 0cm; margin-right: 0cm; margin-left: 0cm; text-align: center; "><font face="Times New Roman"><br></font></div></div></div></div></div></div></div></div></div></div><div><br></div><span id="OLK_SRC_BODY_SECTION"><div style="font-family:Calibri; font-size:11pt; text-align:left; color:black; BORDER-BOTTOM: medium none; BORDER-LEFT: medium none; PADDING-BOTTOM: 0in; PADDING-LEFT: 0in; PADDING-RIGHT: 0in; BORDER-TOP: #b5c4df 1pt solid; BORDER-RIGHT: medium none; PADDING-TOP: 3pt"><span style="font-weight:bold">From: </span> "FISSEHA G. BERHANE" &lt;<a rel="nofollow" href="mailto:fishcivilmu@xxxxxxxxx">fishcivilmu@xxxxxxxxx</a>&gt;<br><span style="font-weight:bold">Date: </span> Sunday, February 3, 2013 9:17 PM<br><span style="font-weight:bold">To: </span> "William S. Kessler" &lt;<a rel="nofollow" href="mailto:william.s.kessler@xxxxxxxx">william.s.kessler@xxxxxxxx</a>&gt;<br><span style="font-weight:bold">Cc: </span> ferret &lt;<a rel="nofollow" href="mailto:ferret_users@xxxxxxxx">ferret_users@xxxxxxxx</a>&gt;<br><span style="font-weight:bold">Subject: </span> Re: [ferret_users] different results from Ferret and Matlab<br></div><div><br></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td valign="top" style="font: inherit;">Dear William thank you a lot for your tips.<br><br><br>The data I have is daily concatenated precipitation of 1830 days. <br><br>When
 I use "list pre[x = x1:x2@ave,&nbsp; y = y1:y2@ave, l=@sum]/1830" gives the
same answer with Matlab but when I use "list
pre[x=x1:x2@ave,y=y1:y2@ave, l=@ave]" , it gives a much smaller value.
Any one who can help with why this is happening would be highly
appreciated as it helps me to know which kinds of analyses are handled
in what why in ferret.<br><br><br><font color="#8b8b8b" face="bookman old style,new york,times,serif">Thank you,<br>Fisseha <br></font><br><br>--- On <b>Sun, 2/3/13, William S. Kessler <i>&lt;<a rel="nofollow" href="mailto:william.s.kessler@xxxxxxxx">william.s.kessler@xxxxxxxx</a>&gt;</i></b> wrote:<br><blockquote style="border-left: 2px solid rgb(16, 16, 255); margin-left: 5px; padding-left: 5px;"><br>From: William S. Kessler &lt;<a rel="nofollow" href="mailto:william.s.kessler@xxxxxxxx">william.s.kessler@xxxxxxxx</a>&gt;<br>Subject: Re: [ferret_users] different results from Ferret and Matlab<br>To: "FISSEHA G. BERHANE" &lt;<a rel="nofollow" href="mailto:fishcivilmu@xxxxxxxxx">fishcivilmu@xxxxxxxxx</a>&gt;<br>Cc: "Ferret" &lt;<a rel="nofollow" href="mailto:ferret_users@xxxxxxxx">ferret_users@xxxxxxxx</a>&gt;<br>Date: Sunday, February 3, 2013, 1:37 AM<br><br><div class="plainMail"><br>On Feb 2, 2013, at 9:23 PM, FISSEHA G. BERHANE wrote:<br><br>&gt; Dear Ferreters,<br>&gt; <br>&gt; I have daily precipitation data over a given geographic location. I am getting different mean values of the data in Ferret and in Matlab (5.7mm/day and 7.0 mm/day, respectively). Which is correct, may some one
 help me with what is the cause of the difference?<br>&gt; <br>&gt; Thank you,<br>&gt; Fisseha <br><br>Are the timesteps regular? Ferret will recognize if they are not, and @ave will correctly weight the time ranges.<br><br>Try plotting the time series with each tool (with the same plot ranges and aspect ratio). Are there differences?<br><br>With a simple time series like this, you could simply list a small subset of values (say 10). Compute the mean by hand, then (over the same time range) from Ferret and Matlab. Are these 3 identical? If not, can you see the problem looking at a manageable number of points?<br><br>BK</div></blockquote></td></tr></tbody></table></span>
</td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00091" href="msg00091.html">Re: [ferret_users] different results from Ferret and Matlab</a></strong>
<ul><li><em>From:</em> FISSEHA G. BERHANE</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00091.html">Re: [ferret_users] different results from Ferret and Matlab</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00093.html">Re: [ferret_users] different results from Ferret and Matlab</a></strong>
</li>

</UL>
<center>[<a href="msg00091.html">Thread Prev</a>][<a href="msg00093.html">Thread Next</a>][<A HREF="threads.html#00092">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
