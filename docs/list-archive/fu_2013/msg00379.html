<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Reading text file and creating netcdf file by using define axis from variable -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 5 Jun 2013 09:35:51 &#45;0700 -->
<!--X-Message-Id: 51AF68E0.8030106@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1370007849.44914.YahooMailNeo@web164004.mail.gq1.yahoo.com -->
<!--X-Reference: 51A8D33C.6000704@noaa.gov -->
<!--X-Reference: 1370068943.91093.YahooMailNeo@web164005.mail.gq1.yahoo.com -->
<!--X-Reference: CAH1tzCQW&#45;vS2JwD=BLEdMV72yV4Yr4RzG7wukO=0T_Ji=x_LcA@mail.gmail.com -->
<!--X-Reference: 1370193571.10958.YahooMailNeo@web164006.mail.gq1.yahoo.com -->
<!--X-Reference: 51ACC653.7080209@noaa.gov -->
<!--X-Reference: 51AF385A.20208@mpic.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Reading text file and creating netcdf file by using define axis from variable</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00378.html">Thread Prev</a>][<a href="msg00374.html">Thread Next</a>][<A HREF="threads.html#00379">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Reading text file and creating netcdf file by using define axis from variable</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Hella Riede &lt;<a href="mailto:hella.riede@DOMAIN.HIDDEN">hella.riede@xxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Reading text file and creating netcdf file by using define axis from variable</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 05 Jun 2013 09:35:44 -0700</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00378.html">51AF385A.20208@mpic.de</a>&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US</a>&gt;, &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00366.html">1370007849.44914.YahooMailNeo@web164004.mail.gq1.yahoo.com</a>&gt; &lt;<a href="msg00367.html">51A8D33C.6000704@noaa.gov</a>&gt; &lt;<a href="msg00371.html">1370068943.91093.YahooMailNeo@web164005.mail.gq1.yahoo.com</a>&gt; &lt;CAH1tzCQW-vS2JwD=BLEdMV72yV4Yr4RzG7wukO=0T_Ji=x_LcA@mail.gmail.com&gt; &lt;<a href="msg00373.html">1370193571.10958.YahooMailNeo@web164006.mail.gq1.yahoo.com</a>&gt; &lt;<a href="msg00377.html">51ACC653.7080209@noaa.gov</a>&gt; &lt;<a href="msg00378.html">51AF385A.20208@mpic.de</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/20130509 Thunderbird/17.0.6</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi,
</pre><tt>Yes of course, we'll get this fixed. We definitely want to know if 
</tt><tt>anyone runs into broken links in the documentation, so I appreciate your 
</tt><tt>writing.
</tt><pre style="margin: 0em;">

</pre><tt>The search capability in the documentation isn't as flexible as we'd 
</tt><tt>like.  It only returns results on an exact word match, so a search for 
</tt><tt>scat2grid doesn't return pages with scat2gridgauss_xy, 
</tt><tt>scat2gridlaplace_xy, and so forth.
</tt><pre style="margin: 0em;">

Ansley

On 6/5/2013 6:08 AM, Hella Riede wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi Ansley,

</pre><tt>by chance I was just looking for the online scat2grid documentation as 
</tt><tt>well. I didn't remember the full names of the functions exactly, so I 
</tt><tt>just searched for 'scat2grid'. This yields only one page: 
</tt><tt><a  rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/USER/?searchterm=SCAT2GRID">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/USER/?searchterm=SCAT2GRID</a>
</tt><pre style="margin: 0em;">

</pre><tt>The link at the end of &quot;See the description of these functions 
</tt><tt>starting at p. 95.&quot; doesn't work. Is it possible to fix this link to 
</tt><tt>point to the detailed description 
</tt><tt><a  rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPINDEXENTRY_371">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPINDEXENTRY_371</a>?
</tt><pre style="margin: 0em;">

</pre><tt>I'm aware all of this can also be found by index or by waiting for 
</tt><tt>search field suggestions, but fixing the link would be very helpful.
</tt><pre style="margin: 0em;">

Thank you for all your work and best wishes,
Hella



On 03/06/13 18:37, Ansley Manke wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi Don,
Have you read the documentation?  What I do is bookmark the Users Guide
Index in my browser,
</pre><tt><a  rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/index-1/index/">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/index-1/index/</a> 
</tt><tt>
</tt><pre style="margin: 0em;">

and then either browse through it or use the browser search function to
look for things (in this instance, look for SCAT2GRID).  You want
documentation for scat2gridgauss_xy, and you might also want to read
about scat2gridlaplace_xy which uses different methods to interpolate
the data to a grid.  Under the documentation for scat2gridgauss_xy, read
down below the examples for a discussion of the radius and cutoff
parameters.  The other thing to think about is the coarseness of the
output grid that you define.  This will depend on your particular
dataset; how much data you have and how it is distributed.

Here in the Ferret list we like to respond to questions first by
pointing people to the resources such as documentation, FAQ's, scripts
that come with Ferret; and then as you start trying the ideas, you are
always welcome to ask more questions.

-Ansley

On 6/2/2013 10:19 AM, Don DNA wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Thank you Ansley and Akshay, I could able to plot from your script but
I didn't understand about radius and cutoff, please anyone explain
about these two, and what this function exactly does, whether 0.1
interval is necessary in define axis field ?

awaiting for answer

- Dona Clara

</pre><tt>------------------------------------------------------------------------ 
</tt><tt>
</tt><pre style="margin: 0em;">
*From:* Akshay Hegde &lt;akshay.k.hegde@xxxxxxxxx&gt;
*To:* Don DNA &lt;don_vbe@xxxxxxxxx&gt;
*Cc:* Ansley Manke &lt;ansley.b.manke@xxxxxxxx&gt;; &quot;ferret_users@xxxxxxxx&quot;
&lt;ferret_users@xxxxxxxx&gt;
*Sent:* Saturday, June 1, 2013 6:24 PM
*Subject:* Re: [ferret_users] Reading text file and creating netcdf
file by using define axis from variable

Hi Dona as  Ansley sir suggested you could use scat2gridgauss_xy
function for more detail go through
</pre><tt><a  rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/appendix-a-external-functions/scat2grid_nobs_xy/">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/appendix-a-external-functions/scat2grid_nobs_xy/</a> 
</tt><tt>
</tt><pre style="margin: 0em;">

for usage of function and to save variable as netcdf have a look on
sample script I just played little bit with your data,other may give
better solution to you

copy below script and save as jnl file
just run on terminal

go filename.jnl


! Memory setting it depends on your system
set mem/size=800

! Define axis here
define axis/x=40:100:0.1/units=longitudes xlon
define axis/y=0:25:0.1/units=latitudes ylat

! Define Grid
define grid/x=xlon/y=ylat fun

! Read File Here....
file/skip=1/grid=fun/var=&quot;lat,lon,grd&quot; Data.txt

! Regrid your variable into the grid fun
let Grad_1 = grd[g=fun@asn]

! Define limits here for scat2grid function
! Play with radius and cuttoff

define symbol radius = 1
define symbol cutoff = 4.0

let lon_1D = XSEQUENCE(lon)
let lat_1D = XSEQUENCE(lat)
let Grad_1D = XSEQUENCE(Grad_1)

</pre><tt>!************************************************************************************************************************ 
</tt><tt>
</tt><pre style="margin: 0em;">
! Call scat2gridgauss_xy function
! for more detail go through
</pre><tt><a  rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/appendix-a-external-functions/scat2grid_nobs_xy/">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/appendix-a-external-functions/scat2grid_nobs_xy/</a> 
</tt><tt>
</tt><tt>!************************************************************************************************************************ 
</tt><tt>
</tt><pre style="margin: 0em;">

let Grad_2 = scat2gridgauss_xy(lon_1D,lat_1D,Grad_1D,\
x[gx=fun],y[gy=fun],($radius),($radius),($cutoff),($cutoff))

! If required then set title and units
set var/title=&quot;My title &quot;/units=&quot;my units&quot; Grad_2

! Have a look on grid
sh grid Grad_2

contour/fill/key/line/lev=(0,4,0.25) grad_2
go fland 20
go land thick

! For saving use either save

save/file=myfile_1.nc/clobber &lt;<a  rel="nofollow" href="http://myfile_1.nc/clobber">http://myfile_1.nc/clobber</a>&gt; grad_2

! OR list

list/file=myfile_2.nc/clobber &lt;<a  rel="nofollow" href="http://myfile_2.nc/clobber">http://myfile_2.nc/clobber</a>&gt; grad_2

frame/file=test.gif




Akshay Hegde,
National Institue of Oceanography
Dona Paula, Goa







On Sat, Jun 1, 2013 at 12:12 PM, Don DNA &lt;don_vbe@xxxxxxxxx
&lt;<a  rel="nofollow" href="mailto:don_vbe@xxxxxxxxx">mailto:don_vbe@xxxxxxxxx</a>&gt;&gt; wrote:

     Yes, Ansley what you said is right, points are scattered, but I
     don't understand scat2grid function usage, and how much accurate
     it is, which interpolation I need to use, is there any functions
     for interpolation ? In fact right now I am completely depending on
     forum

     - Dona Clara


</pre><tt>------------------------------------------------------------------------ 
</tt><tt>
</tt><pre style="margin: 0em;">
     *From:* Ansley Manke &lt;ansley.b.manke@xxxxxxxx
     &lt;<a  rel="nofollow" href="mailto:ansley.b.manke@xxxxxxxx">mailto:ansley.b.manke@xxxxxxxx</a>&gt;&gt;
     *To:* Don DNA &lt;don_vbe@xxxxxxxxx &lt;<a  rel="nofollow" href="mailto:don_vbe@xxxxxxxxx">mailto:don_vbe@xxxxxxxxx</a>&gt;&gt;
     *Cc:* &quot;ferret_users@xxxxxxxx &lt;<a  rel="nofollow" href="mailto:ferret_users@xxxxxxxx">mailto:ferret_users@xxxxxxxx</a>&gt;&quot;
     &lt;ferret_users@xxxxxxxx &lt;<a  rel="nofollow" href="mailto:ferret_users@xxxxxxxx">mailto:ferret_users@xxxxxxxx</a>&gt;&gt;
     *Sent:* Friday, May 31, 2013 10:13 PM
     *Subject:* Re: [ferret_users] Reading text file and creating
     netcdf file by using define axis from variable

     Hi Don,
     Defining an axis directly from the data only makes sense if the
     data is actually organized as a grid.

     Your data looks like it's at a set of scattered points. Is that
     the case? To check what the distribution of the points looks like,
     you can plot them as marks on a map

       yes? file/skip=1/var=&quot;lat,lon,grd&quot; Data.txt
        yes? go basemap
        yes? plot/vs lon, lat

     If the points are scattered, you could use one of the SCAT2GRID
     functions. Define a grid,  and call the function to interpolate
     the variable GRD onto the grid.

     --Ansley

     On 5/31/2013 6:44 AM, Don DNA wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">


     Please anyone help me, I am having text file, I could able to
     read it using following command

     yes? file/skip=1/var=&quot;lat,lon,grd&quot; Data.txt
     yes? sh d
          currently SET data sets:
         1&gt; ./Data.txt (default)
      name title I         J K         L M         N
      LAT LAT 1:20480   ... ...       ... ...       ...
      LON LON 1:20480   ... ...       ... ...       ...
      GRD GRD 1:20480   ... ...       ... ...       ...


      list /i=1:10 lat,lon,grd
                  DATA SET: ./Data.txt
                  X: 0.5 to 10.5
      Column  1: LAT
      Column  2: LON
      Column  3: GRD
                  LAT    LON GRD
     1    /  1:  11.83  88.93 0.3000
     2    /  2:  11.95  87.95 0.1000
     3    /  3:  12.10  86.98 0.3000
     4    /  4:  17.67  40.43 0.3000
     5    /  5:  24.82  57.92 0.3000
     6    /  6:  13.28  42.93 0.0500
     7    /  7:   7.93  73.32 0.1800
     8    /  8:   7.25  72.00 0.2400
     9    /  9:   4.33  67.43 0.0600
     10   / 10:  24.07  57.59 0.0200


     define axis/X/units=Degrees_East xaxis=lon[i=1:2791]
      **ERROR: improper grid or axis definition: data for DEFINE
     AXIS/FROM_VARIABLE is not monotonic at index 2

     define axis/Y/units=Degrees_north yaxis=lat[i=1:2791]
      **ERROR: improper grid or axis definition: data for DEFINE
     AXIS/FROM_VARIABLE is not monotonic at index 6

     Now I want to create netcdf file, I searched in user list and in
     ferret website, in that I found that axis can be defined by using
     variable, but in my case I am unable to define axis from
     variable, I don't have much idea about ferret programming, please
     those who know kindly help me, and please go through attachment.


     - Dona Clara.
</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00366" href="msg00366.html">[ferret_users] Reading text file and creating netcdf file by using define axis from variable</a></strong>
<ul><li><em>From:</em> Don DNA</li></ul></li>
<li><strong><a name="00367" href="msg00367.html">Re: [ferret_users] Reading text file and creating netcdf file by using define axis from variable</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00371" href="msg00371.html">Re: [ferret_users] Reading text file and creating netcdf file by using define axis from variable</a></strong>
<ul><li><em>From:</em> Don DNA</li></ul></li>
<li><strong><a name="00372" href="msg00372.html">Re: [ferret_users] Reading text file and creating netcdf file by using define axis from variable</a></strong>
<ul><li><em>From:</em> Akshay Hegde</li></ul></li>
<li><strong><a name="00373" href="msg00373.html">Re: [ferret_users] Reading text file and creating netcdf file by using define axis from variable</a></strong>
<ul><li><em>From:</em> Don DNA</li></ul></li>
<li><strong><a name="00377" href="msg00377.html">Re: [ferret_users] Reading text file and creating netcdf file by using define axis from variable</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00378" href="msg00378.html">Re: [ferret_users] Reading text file and creating netcdf file by using define axis from variable</a></strong>
<ul><li><em>From:</em> Hella Riede</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00378.html">Re: [ferret_users] Reading text file and creating netcdf file by using define axis from variable</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00374.html">[ferret_users] Mask Greenland out of Dataset</a></strong>
</li>

</UL>
<center>[<a href="msg00378.html">Thread Prev</a>][<a href="msg00374.html">Thread Next</a>][<A HREF="threads.html#00379">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
