<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] Viewport and color_vector.jnl -->
<!--X-From-R13: Agnpvyvb Zrnaqeb <bgnpvyvbzargbNtznvy.pbz> -->
<!--X-Date: Mon, 4 Mar 2013 04:34:22 &#45;0800 -->
<!--X-Message-Id: CAKiwd6vrObTQ9su3Ua=eswwQ5teHgHn&#45;M3qFebcO9k3TZFWUtw@mail.gmail.com -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Derived: gif3uW2wolw_O.gif -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] Viewport and color_vector.jnl</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00162.html">Thread Prev</a>][<a href="msg00166.html">Thread Next</a>][<A HREF="threads.html#00165">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] Viewport and color_vector.jnl</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ferret user group &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] Viewport and color_vector.jnl</strong></li>
<li><strong>From</strong>: <strong>Otacilio Leandro &lt;<a href="mailto:otaciliomneto@DOMAIN.HIDDEN">otaciliomneto@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 4 Mar 2013 09:34:17 -0300</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=20120113;        h=x-received:x-beenthere:x-received:x-received:received-spf         :mime-version:x-received:date:message-id:subject:from:to         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:x-google-group-id:list-post:list-help         :list-archive:list-unsubscribe:content-type;        bh=S3ysOiSWZ2X2tXXjzVg+r2orZ/QStOzNfEqNBVe7tck=;        b=TA0kbGbP9AMVA7l0CVw/UGHs68AihN2ue+xiUx1PnGR4N2xqG2Fs65VpLkXhLTfEGz         z1cp0D/eMJ0++ZTEtY5i/aTxvjp8mUt+tMbzuNWlGXopajpjloKlBAReVFhdufI5PNAm         JwZnEeaVFpJxASD8vvLFXoZFsWzvx5HcyAcua55ZUYmCzDPRNJP8AoCxSKzJlbt9N3AJ         BQS9VveAlt/6HF0devlLwjrIuHchVoUU/Ee9qaJ1RiulHqHcO5eCkvwJ8AUoLGSRgO5Q         DPPOVbM+s/MwZXSzLQK4/daXvYY3Ma24ARNdu59lozVSd1rnjVI7Ks41AKFkvKbHdpfy         sqQw==</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US</a>&gt;, &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><span style="color:rgb(0,0,0)"><font face="arial narrow, sans-serif">Dear ferret users,</font></span><div><font color="#000000" face="arial narrow, sans-serif"><br></font></div><div><font color="#000000"><font face="arial narrow, sans-serif">I am trying to analise a six month wind climatlogy over South America.&#xA0;</font></font></div>
<div><font color="#000000"><font face="arial narrow, sans-serif"><br></font></font></div><div><font color="#000000"><font face="arial narrow, sans-serif">For this i made a loop to make easy to make the figures for several experiments that i&#39;m runing.&#xA0;</font></font></div>
<div><font color="#000000"><font face="arial narrow, sans-serif"><br></font></font></div><div><font color="#000000"><font face="arial narrow, sans-serif">The problem is:&#xA0;</font></font></div><div><font color="#000000"><font face="arial narrow, sans-serif"><br>
</font></font></div><div><font color="#000000"><font face="arial narrow, sans-serif">When combining viewport with the script color_vector, Ferret is clearing the first viewport when the second is filled and so on and the result is attached.<br clear="all">
</font></font><div><br></div><div><br></div><div style>Thank you!</div><div><br></div><div style>==================== &#xA0;My script &#xA0; =============</div><div style><br></div><div style><br></div><div><div>! Script to analise the wind speed at pressure levels</div>
<div><br></div><div>!go startup.jnl</div><div><br></div><div>set window/aspect=.8</div><div><br></div><div>let modo = &quot;$1&quot;</div><div><br></div><div>IF `$1 eq 200` THEN</div><div><span class="" style="white-space:pre">	</span>let alt = 8&#xA0;</div>
<div>ELIF `$1 eq 500` THEN</div><div><span class="" style="white-space:pre">	</span>let alt = 12</div><div>ELIF `$1 eq 700` THEN</div><div><span class="" style="white-space:pre">	</span>let alt = 14</div><div>ELIF `$1 eq 850` THEN</div>
<div><span class="" style="white-space:pre">	</span>let alt = 15</div><div>ELIF `$1 eq 925` THEN</div><div><span class="" style="white-space:pre">	</span>let alt = 16</div><div>ELIF `$1 eq 1000` THEN</div><div><span class="" style="white-space:pre">	</span>let alt = 17</div>
<div>else&#xA0;</div><div>say &quot;Inform the correct level.... quitting&quot;&#xA0;</div><div>exit</div><div>ENDIF</div><div><br></div><div><br></div><div>use <a rel="nofollow" href="http://uv_aabnra.pm.nc">uv_aabnra.pm.nc</a><span class="" style="white-space:pre">		</span>! HPR 50%</div>
<div>use <a rel="nofollow" href="http://uv_aabnxa.pm.nc">uv_aabnxa.pm.nc</a><span class="" style="white-space:pre">		</span>! HPR 100%</div><div>use <a rel="nofollow" href="http://uv_aabnva.pm.nc">uv_aabnva.pm.nc</a><span class="" style="white-space:pre">		</span>! HPR OFF</div>
<div>use <a rel="nofollow" href="http://uv_aabnsa.pm.nc">uv_aabnsa.pm.nc</a><span class="" style="white-space:pre">		</span>! CONTROLE</div><div>use <a rel="nofollow" href="http://uv_aabwua.pm.nc">uv_aabwua.pm.nc</a><span class="" style="white-space:pre">		</span>! BIOMASS OFF 50%</div>
<div><br></div><div><br></div><div>let imes = {&quot;JAN&quot;, &quot;FEB&quot;, &quot;MAR&quot;, &quot;APR&quot;, &quot;MAY&quot;, &quot;JUN&quot;, &quot;JUL&quot;, &quot;AUG&quot;, &quot;SEP&quot;, &quot;OCT&quot;, &quot;NOV&quot;, &quot;DEC&quot;}</div>
<div><br></div><div>define region/x=85W:32W/y=15N:55S/k=`alt` SA</div><div>set region/@SA</div><div><br></div><div>def axis/calendar=360_day/t=&quot;16-JAN-1979&quot;:&quot;16-NOV-2005&quot;:1/unit=month tax</div><div><br>
</div><div>! Several experiments</div><div><br></div><div>let exp_name = {&quot;hpr_50&quot;,&quot;hpr_100&quot;,&quot;hpr_off&quot;,&quot;control&quot;,&quot;biomass_off&quot;}</div><div><br></div><div>repeat/range=1:5/name=a (\</div>
<div><span class="" style="white-space:pre">	</span>let var = exp_name[i=`a`] ;\</div><div><span class="" style="white-space:pre">	</span>let u_`var` = u_1[d=`a`,gt=tax] ;\</div><div><span class="" style="white-space:pre">	</span>let v_`var` = v_1[d=`a`,gt=tax,gxy=u_1] ;\</div>
<div>)</div><div><br></div><div>! Climatologies</div><div><br></div><div>use climatological_axes</div><div><br></div><div>repeat/range=1:5/name=a (\</div><div><span class="" style="white-space:pre">	</span>let var = exp_name[i=`a`] ;\</div>
<div><span class="" style="white-space:pre">	</span>let u_`var`_clim = u_`var`[gt=month_360_day@mod] ;\</div><div><span class="" style="white-space:pre">	</span>let v_`var`_clim = v_`var`[gt=month_360_day@mod] ;\</div><div>
)</div><div><br></div><div><br></div><div>go landscape3x2.jnl</div><div>let posicao = {&quot;ul6&quot;, &quot;um6&quot;, &quot;ur6&quot;,&quot;ll6&quot;, &quot;lm6&quot;, &quot;lr6&quot;}</div><div><br></div><div>ppl color,6,80,80,80&#xA0;</div>
<div>ppl axlsze .16 .16</div><div><br></div><div>let marg = &quot;1 &#xA0; 1.2 &#xA0; 1.2 &#xA0; .4&quot;<br></div><div><br></div><div><br></div><div>let variavel1 = {&quot;HPR_50&quot;,&quot;HPR_100&quot;,&quot;HPR_OFF&quot;,&quot;CONTROL&quot;,&quot;BIOMASS_OFF&quot;}</div>
<div>let nome_var1 = {&quot;HPR 50&quot;,&quot;HPR 100&quot;,&quot;HPR OFF&quot;,&quot;CONTROL&quot;,&quot;BIOMASS OFF&quot;}</div><div><br></div><div><br></div><div>! COLOR VECTOR</div><div><br></div><div><br></div><div>
define symbol vec_cmd &#xA0; &#xA0; &#xA0;= VECTOR/nolab/set</div><div>define symbol vec_u &#xA0; &#xA0; &#xA0; &#xA0;= uu</div><div>define symbol vec_v &#xA0; &#xA0; &#xA0; &#xA0;= vv</div><div>define symbol vec_len &#xA0; &#xA0; &#xA0;= 10</div><div>define symbol vec_xskip &#xA0; &#xA0;= 1</div><div>
define symbol vec_yskip &#xA0; &#xA0;= 1</div><div>define symbol vec_arrowkey = YES</div><div>!define symbol vec_veckey &#xA0; = 325,78,(f4.1, &quot; m/s&quot;)</div><div>define symbol vec_veckey &#xA0; = 310,19,,(f4.1, &quot; m s^-^1&quot;)</div>
<div>define symbol vec_lo &#xA0; &#xA0; &#xA0; = 0</div><div>define symbol vec_hi &#xA0; &#xA0; &#xA0; = 20</div><div>define symbol vec_delta &#xA0; &#xA0;= 1</div><div>define symbol vec_pal &#xA0; &#xA0; &#xA0;= padrao</div><div>define symbol vec_colorkey = YES</div><div>define symbol vec_shakey &#xA0; = 1,1,0.12,2</div>
<div>define symbol vec_otherppl = none</div><div>&#xA0; &#xA0;PPL AXNMTC 3,3</div><div>&#xA0; &#xA0;PPL AXLINT 2,2</div><div><br></div><div><br></div><div>! Test for the 1st experiment &#xA0; &#xA0;===&gt; &quot;m&quot; loop on experiments and &quot;a&quot; loop for months</div>
<div>repeat/range=1:1/name=m ( \</div><div>repeat/range=6:11/name=a ( \</div><div><span class="" style="white-space:pre">	</span>let var1 = variavel1[i=`m`] ;\</div><div><span class="" style="white-space:pre">	</span>let nome1 = nome_var1[i=`m`] ;\</div>
<div>;\</div><div><span class="" style="white-space:pre">	</span>let mes = imes[i=`a`] ;\</div><div><span class="" style="white-space:pre">	</span>let pos = posicao[i=`a-5`] ;\</div><div>;\ ! MONTH ;\&#xA0;</div><div><span class="" style="white-space:pre">	</span>set view `pos` ; go margins 1 .9 .9 1.2 ;\</div>
<div>;\</div><div><span class="" style="white-space:pre">	</span>let uu=U_`var1`_CLIM[l=`a`] ; let vv=V_`var1`_CLIM[l=`a`] ;\</div><div><span class="" style="white-space:pre">	</span>go color_vector ; go brasil ; go land 1 &quot; &quot; 1 ;\</div>
<div><span class="" style="white-space:pre">	</span>label/nou `($PPL$XLEN)/2`, -.8, 0, 0, .2, @AS`mes` ;\</div><div>;\</div><div>set view full ;\</div><div><span class="" style="white-space:pre">	</span>label/nou `($PPL$XLEN)/2`, 7.3, 0, 0, .18, @C07 &#xA0;Wind Speed `modo` mbar ;\&#xA0;</div>
<div>;\&#xA0;</div><div>frame/file=color-vec-exemple.gif ;\&#xA0;</div><div>&#xA0;))</div><div><br></div><div><br></div><div>exit</div><div><br></div><div><br></div></div><div><br></div><div><br></div>-- <br>Otacilio Leandro de Menezes Neto<br>
Instituto Nacional de Pesquisas Espaciais<br>Doutorando em Meteorologia<br>Contato: (12) 3186-9537 / (12) 8194-1455<br>Email alternativo: <a rel="nofollow" href="mailto:otacilio.neto@xxxxxxxxxxxxx" target="_blank">otacilio.neto@xxxxxxxxxxxxx</a><br>

</div></div>
<p><strong>Attachment:
<a href="gif3uW2wolw_O.gif" ><tt>color-vec-exemple.gif</tt></a></strong><br>
<em>Description:</em> GIF image</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00166" href="msg00166.html">Re: [ferret_users] Viewport and color_vector.jnl</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00162.html">[ferret_users] Problem with E and F dimensions</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00166.html">Re: [ferret_users] Viewport and color_vector.jnl</a></strong>
</li>

</UL>
<center>[<a href="msg00162.html">Thread Prev</a>][<a href="msg00166.html">Thread Next</a>][<A HREF="threads.html#00165">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
