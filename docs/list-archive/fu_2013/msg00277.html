<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Re: handling data -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 23 Apr 2013 11:21:00 &#45;0700 -->
<!--X-Message-Id: 5176D107.1000103@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAKoYCvyb&#45;BTLthu=scPTiUC8BJBAv9GQc&#45;ekJ&#45;FebR+ba8nY2w@mail.gmail.com -->
<!--X-Reference: CAKoYCvyF5OB5zjDe2SPczquV6ezBDqb59JNaKAh2pc0gcQyLpA@mail.gmail.com -->
<!--X-Reference: 516EEC7D.3090602@noaa.gov -->
<!--X-Reference: CAKoYCvy1kN8_eAy6iMbCWUOMFgmKUh81gwVvH&#45;Cs9kB0J48t8w@mail.gmail.com -->
<!--X-Reference: 517038C5.4080808@noaa.gov -->
<!--X-Reference: CAKoYCvwBNAoovB6192U_6M0_yrokmJ_=Vc_4EUmBprif+PDVSA@mail.gmail.com -->
<!--X-Reference: 51716AAD.4090003@noaa.gov -->
<!--X-Reference: CAKoYCvwi2CZShBZJBAqhjU&#45;QL0eXUihMwKPDdvMj++zLer7jUw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Re: handling data</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00270.html">Thread Prev</a>][<a href="msg00267.html">Thread Next</a>][<A HREF="threads.html#00277">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Re: handling data</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>golla nageswararao &lt;<a href="mailto:ezeenag4u@DOMAIN.HIDDEN">ezeenag4u@xxxxxxxxx</a>&gt;,        Ferret users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Re: handling data</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 23 Apr 2013 11:20:55 -0700</li>
<li>In-reply-to: &lt;CAKoYCvwi2CZShBZJBAqhjU-QL0eXUihMwKPDdvMj++zLer7jUw@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US</a>&gt;, &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CAKoYCvyb-BTLthu=scPTiUC8BJBAv9GQc-ekJ-FebR+ba8nY2w@mail.gmail.com&gt; &lt;<a href="msg00266.html">CAKoYCvyF5OB5zjDe2SPczquV6ezBDqb59JNaKAh2pc0gcQyLpA@mail.gmail.com</a>&gt; &lt;516EEC7D.3090602@noaa.gov&gt; &lt;CAKoYCvy1kN8_eAy6iMbCWUOMFgmKUh81gwVvH-Cs9kB0J48t8w@mail.gmail.com&gt; &lt;517038C5.4080808@noaa.gov&gt; &lt;CAKoYCvwBNAoovB6192U_6M0_yrokmJ_=Vc_4EUmBprif+PDVSA@mail.gmail.com&gt; &lt;51716AAD.4090003@noaa.gov&gt; &lt;CAKoYCvwi2CZShBZJBAqhjU-QL0eXUihMwKPDdvMj++zLer7jUw@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/20130328 Thunderbird/17.0.5</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi,<br>
    The question is how to take an ID number and turn it into a sequence
    number.&nbsp; See just below for an example of the ascii data.<br>
    <br>
    We can use transformations to define a new ID, that is a variable
    "new_id" with values of 1, 2, 3, ... representing the sequence
    number of each profile in the dataset.<tt> </tt>For the short file
    example below, it would look like this,<tt> &nbsp; </tt><tt><br>
    </tt>
    <blockquote><tt>! initialize the dataset<br>
        define axis/x=1:15:1 xaxis</tt><tt><br>
      </tt><tt>define grid/x=xaxis xgrid</tt><tt><br>
      </tt><tt>file/skip=1/var="id_in, dep, temp, sal</tt><tt>"</tt><tt>/grid=xgrid&nbsp;
        file.dat</tt><tt><br>
      </tt><tt><br>
      </tt><tt>! variable marking the first element of each profile with
        1</tt><tt><br>
      </tt><tt>let pstart = if i eq 1 or id_in[x=@ddf] GT 0 then 1</tt><tt><br>
      </tt><tt><br>
      </tt><tt>! Now usethe @EVNT transformation, increase the count
        every time </tt><tt><br>
      </tt><tt>! a value of 1 is encountered</tt><tt><br>
      </tt><tt><br>
      </tt><tt>let new_id = pstart[i=@evnt:1]<br>
      </tt><tt><br>
        list id_in, pstart, new_id</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DATA SET: ./id_z.dat</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X: 0.5 to 15.5</tt><tt><br>
      </tt><tt>&nbsp;Column&nbsp; 1: ID_IN</tt><tt><br>
      </tt><tt>&nbsp;Column&nbsp; 2: PSTART is IF I EQ 1 OR ID_IN[X=@DDF] GT 0
        THEN 1</tt><tt><br>
      </tt><tt>&nbsp;Column&nbsp; 3: NEW_ID is PSTART[I=@EVNT:1]</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ID_IN&nbsp; PSTART NEW_ID</tt><tt><br>
      </tt><tt>1&nbsp;&nbsp;&nbsp; /&nbsp; 1:&nbsp; 30.00&nbsp; 1.000&nbsp; 1.000</tt><tt><br>
      </tt><tt>2&nbsp;&nbsp;&nbsp; /&nbsp; 2:&nbsp; 30.00&nbsp;&nbsp; ....&nbsp; 1.000</tt><tt><br>
      </tt><tt>3&nbsp;&nbsp;&nbsp; /&nbsp; 3:&nbsp; 30.00&nbsp;&nbsp; ....&nbsp; 1.000</tt><tt><br>
      </tt><tt>4&nbsp;&nbsp;&nbsp; /&nbsp; 4:&nbsp; 30.00&nbsp; 1.000&nbsp; 2.000</tt><tt><br>
      </tt><tt>5&nbsp;&nbsp;&nbsp; /&nbsp; 5:&nbsp; 50.00&nbsp;&nbsp; ....&nbsp; 2.000</tt><tt><br>
      </tt><tt>6&nbsp;&nbsp;&nbsp; /&nbsp; 6:&nbsp; 50.00&nbsp;&nbsp; ....&nbsp; 2.000</tt><tt><br>
      </tt><tt>7&nbsp;&nbsp;&nbsp; /&nbsp; 7:&nbsp; 50.00&nbsp;&nbsp; ....&nbsp; 2.000</tt><tt><br>
      </tt><tt>8&nbsp;&nbsp;&nbsp; /&nbsp; 8:&nbsp; 50.00&nbsp; 1.000&nbsp; 3.000</tt><tt><br>
      </tt><tt>9&nbsp;&nbsp;&nbsp; /&nbsp; 9:&nbsp; 60.00&nbsp;&nbsp; ....&nbsp; 3.000</tt><tt><br>
      </tt><tt>10&nbsp;&nbsp; / 10:&nbsp; 60.00&nbsp;&nbsp; ....&nbsp; 3.000</tt><tt><br>
      </tt><tt>11&nbsp;&nbsp; / 11:&nbsp; 60.00&nbsp;&nbsp; ....&nbsp; 3.000</tt><tt><br>
      </tt><tt>12&nbsp;&nbsp; / 12:&nbsp; 60.00&nbsp;&nbsp; ....&nbsp; 3.000</tt><tt><br>
      </tt><tt>13&nbsp;&nbsp; / 13:&nbsp; 60.00&nbsp;&nbsp; ....&nbsp; 3.000</tt><tt><br>
      </tt><tt>14&nbsp;&nbsp; / 14:&nbsp; 60.00&nbsp;&nbsp; ....&nbsp; 3.000</tt><tt><br>
      </tt><tt>15&nbsp;&nbsp; / 15:&nbsp; 60.00&nbsp;&nbsp; ....&nbsp; 3.000</tt><tt><br>
      </tt><tt><br>
      </tt><tt><br>
      </tt></blockquote>
    <br>
    <br>
    <div class="moz-cite-prefix">On 4/20/2013 3:05 AM, golla
      nageswararao wrote:<br>
    </div>
    <blockquote
cite=""
      type="cite">
      <div dir="ltr">
        <div>
          <div>
            <div>
              <div>
                <div>Hi,<br>
                </div>
                &nbsp;The profile id are not 1,2,3,4,...<br>
              </div>
              Now the profile ids are random like <br>
            </div>
            <div>id&nbsp; dep temp sal<br>
            </div>
            <div>30, 0&nbsp;&nbsp; temp1 sal1<br>
            </div>
            <div>30, 20 temp1 sal1<br>
              30, 50 temp1 sal1<br>
              30, 50 temp1 sal1<br>
              50, 0<br>
              50, 10<br>
              50, 40<br>
              50, 45<br>
              60, 0<br>
              60, 25<br>
              60, 30<br>
              60, 35<br>
              60, 40<br>
              60, 45<br>
              60, 90<br>
              .........<br>
            </div>
            If this is the scenario how can the above command work? My
            problem is to change the id no. like it should be<br>
            <div>id&nbsp; dep temp sal<br>
            </div>
            <div>1, 0&nbsp;&nbsp; temp1 sal1<br>
            </div>
            1, 20 temp1 sal1<br>
            1, 50 temp1 sal1<br>
            1, 50 temp1 sal1<br>
            2, 0<br>
            2, 10<br>
            2, 40<br>
            2, 45<br>
            3, 0<br>
            3, 25<br>
            3, 30<br>
            3, 35<br>
            3, 40<br>
            3, 45<br>
            3, 90<br>
            .........<br>
          </div>
          After that I will do the scat2gridgauss_xz command to make it
          regular depths of choice. Before that I want to make the
          profile id no. in sequence.<br>
          <br>
        </div>
        Thanks in advance<br>
      </div>
      <div class="gmail_extra"><br>
        <br>
        <div class="gmail_quote">On Fri, Apr 19, 2013 at 9:32 PM, Ansley
          Manke <span dir="ltr">&lt;<a rel="nofollow" moz-do-not-send="true"
              href="mailto:ansley.b.manke@xxxxxxxx" target="_blank">ansley.b.manke@xxxxxxxx</a>&gt;</span>
          wrote:<br>
          <blockquote class="gmail_quote" style="margin:0 0 0
            .8ex;border-left:1px #ccc solid;padding-left:1ex">
            <div text="#000000" bgcolor="#FFFFFF"> Hi,<br>
              You could create a new ID variable which is just a
              sequence number of the remaining points.&nbsp; What is the grid
              of the variables you are working with?&nbsp; If it is XZ, then
              you could use<br>
              <br>
              &nbsp;&nbsp; let&nbsp; id = i[gx=var]<br>
              <br>
              I would be interested to hear what you did with to handle
              the depths.<span class="HOEnZb"><font color="#888888"><br>
                  <br>
                  Ansley</font></span>
              <div>
                <div class="h5"><br>
                  <br>
                  <div>On 4/19/2013 12:14 AM, golla nageswararao wrote:<br>
                  </div>
                  <blockquote type="cite">
                    <div dir="ltr">
                      <div>Now my problem is not with the depths. Now my
                        problem is to assign the profile id to regular
                        number instead of random numbers which came
                        because of the extraction. Can u help me in this
                        regard.<br>
                      </div>
                      Thanks in advance.<br>
                    </div>
                    <div class="gmail_extra"><br>
                      <br>
                      <div class="gmail_quote">On Thu, Apr 18, 2013 at
                        11:47 PM, Ansley Manke <span dir="ltr">&lt;<a rel="nofollow"
                            moz-do-not-send="true"
                            href="mailto:ansley.b.manke@xxxxxxxx"
                            target="_blank">ansley.b.manke@xxxxxxxx</a>&gt;</span>
                        wrote:<br>
                        <blockquote class="gmail_quote" style="margin:0
                          0 0 .8ex;border-left:1px #ccc
                          solid;padding-left:1ex">
                          <div text="#000000" bgcolor="#FFFFFF"> Hi,<br>
                            Yes, I understand the problem. More and more
                            people seem to be trying to deal with data
                            like this. We don't really have tools to
                            work with sets of scattered profiles taken
                            at different depths. This data is not on any
                            kind of grid and Ferret's design is to
                            handle data that is already on a grid, with
                            some tools for putting it onto grids.<br>
                            <br>
                            I do not have an answer for you right now.<span><font
                                color="#888888"><br>
                                <br>
                                Ansley</font></span>
                            <div>
                              <div><br>
                                <br>
                                <div>On 4/18/2013 5:24 AM, golla
                                  nageswararao wrote:<br>
                                </div>
                                <blockquote type="cite">
                                  <div dir="ltr">
                                    <div>
                                      <div>
                                        <div>
                                          <div>
                                            <div>
                                              <div>
                                                <div>
                                                  <div>Hi Ansley,<br>
                                                  </div>
                                                  &nbsp;Thank you. I could
                                                  solve the problem. But
                                                  I got new problem. Now
                                                  I had extracted the
                                                  data only for Indian
                                                  Ocean with l=1:16000.
                                                  But only 15300
                                                  profiles are there. I
                                                  want map the data over
                                                  profile numbers and
                                                  depth values. But here
                                                  the problem is the
                                                  profile numbers are
                                                  random. If they are
                                                  continuous, I could
                                                  have used that
                                                  scat2gridgauss_xy
                                                  command. How can bring
                                                  the profile number
                                                  continuous? The show
                                                  data command of my
                                                  extracted data set is
                                                  some thing like below.<br>
                                                </div>
                                                profid&nbsp;&nbsp; 1:16000<br>
                                              </div>
                                              dep&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:16000<br>
                                            </div>
                                            temp&nbsp;&nbsp;&nbsp; 1:16000<br>
                                          </div>
                                          salt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:16000<br>
                                        </div>
                                        profid values are
                                        25,25,25,25,252,252,252,252,252,500,500,500,500,500,500,500,500,500,
                                        etc....<br>
                                        <br>
                                      </div>
                                      How can i fix this problem?<br>
                                    </div>
                                    Thanks in advance.<br>
                                  </div>
                                  <div class="gmail_extra"><br>
                                    <br>
                                    <div class="gmail_quote">On Thu, Apr
                                      18, 2013 at 12:09 AM, Ansley Manke
                                      <span dir="ltr">&lt;<a rel="nofollow"
                                          moz-do-not-send="true"
                                          href="mailto:ansley.b.manke@xxxxxxxx"
                                          target="_blank">ansley.b.manke@xxxxxxxx</a>&gt;</span>
                                      wrote:<br>
                                      <blockquote class="gmail_quote"
                                        style="margin:0 0 0
                                        .8ex;border-left:1px #ccc
                                        solid;padding-left:1ex">
                                        <div text="#000000"
                                          bgcolor="#FFFFFF"> Hi,<br>
                                          Is this ascii data? I think
                                          you can do the sampling step
                                          first using a mask.&nbsp; Let's see
                                          if we can work it out, then
                                          write back to the list. <br>
                                          <br>
                                          I think it's best to read the
                                          data in sections, and save
                                          just the data at the locations
                                          you want. <br>
                                          <br>
                                          The idea is:<br>
                                          <br>
                                          Read in 26000 points. See
                                          which are in the region you
                                          want, using a mask based on
                                          the lon and lat variables.
                                          Apply the mask to all the
                                          variables including temp and
                                          salt, and write out only the
                                          Indian Ocean ones to a file.&nbsp;
                                          Now read the next 26000
                                          points.&nbsp; You should define the
                                          variable "mask" the way you
                                          want to, and you may need to
                                          change the "file" command to
                                          match what is in your input
                                          data.<br>
                                          <br>
                                          The observations are just a
                                          list. They don't have to be
                                          organized in any particular
                                          direction. Let's write in the
                                          T direction because then we
                                          can append to the file more
                                          easily.<br>
                                          <blockquote><tt>! read_all.jnl</tt><br>
                                            <tt>set mem/siz=500</tt><br>
                                            <br>
                                            <tt>! Define variables to
                                              loop over the
                                              observations, reading it
                                              in 100 sections</tt><br>
                                            <tt>let nbig = 2600000</tt><br>
                                            <tt>let read1 = 1</tt><br>
                                            <tt>let </tt><tt><tt>npts </tt>=
                                              `nbig/100`</tt><br>
                                            <br>
                                            <tt>! Read and write along
                                              the T axis, because we can
                                              append to a netCDF file in
                                              T.</tt><br>
                                            <br>
                                            <tt>def
                                              axis/t=`read1`:`read2`:1
                                              taxis</tt><br>
                                            <tt>def grid/t=taxis tgrid</tt><br>
                                            <br>
                                            <tt>! This should be the
                                              number of lines to skip at
                                              the start of your file.</tt><br>
                                            <tt>let iskip=1</tt><br>
                                            <br>
                                            <tt>! Will write data only
                                              if it lies in this
                                              latitude-longitude box</tt><br>
                                            <tt>let mask = if lat ge -75
                                              and lat le 30 and lon ge
                                              20 and lon le 120 then 1</tt><br>
                                            <br>
                                            <tt>! This variable will
                                              control writing </tt><br>
                                            <tt>let out1 = 1</tt><br>
                                            <br>
                                            <tt>sp rm <a rel="nofollow"
                                                moz-do-not-send="true"
                                                href="http://indian_ocean_profiles.nc"
                                                target="_blank">indian_ocean_profiles.nc</a></tt><br>
                                            <tt>repeat/range=1:100 (go
                                              read_section)</tt><br>
                                            <br>
                                            <tt>! end of read_all.jnl</tt><br>
                                          </blockquote>
                                          <br>
                                          which calls this script,<br>
                                          <br>
                                          <blockquote><tt>! </tt><tt>read_section.jnl</tt><tt><br>
                                            </tt><tt>! call from
                                              read_all, which defines
                                              the mask and index
                                              variables.</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>file/grid=tgrid/skip=`iskip+read1-1`/var="index,


                                              dep, lat, lon, tmp, slt "
                                              "file.txt"</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>! How many points
                                              in the masked region?</tt><tt><br>
                                            </tt><tt>let n_out =
                                              `mask[t=@ngd]`</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>! Set up to read
                                              the next&nbsp; section</tt><tt><br>
                                            </tt><tt>let read1 = `read1
                                              + npts`</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>! If no points in
                                              the masked region, just
                                              exit</tt><tt><br>
                                            </tt><tt>IF `n_out EQ 0`
                                              THEN exit/script</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>! Compress the data
                                              in the L direction to
                                              write</tt><tt><br>
                                            </tt><tt>! just the data in
                                              the masked region.</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>let mask_lon =
                                              compressL(lon*mask)</tt><tt><br>
                                            </tt><tt>let mask_lat =
                                              compressL(lat*mask)</tt><tt><br>
                                            </tt><tt> let mask_dep =
                                              compressL(id*depth)</tt><tt><br>
                                            </tt><tt> let mask_temp =
                                              compressL(id*tmp)</tt><tt><br>
                                            </tt><tt> let mask_salt =
                                              compressL(id*slt)</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>! The output axis
                                              with the next n_out points</tt><tt><br>
                                            </tt><tt>! Set up output
                                              variables with units and
                                              title</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>def
                                              axis/t=`out1`:`out1+n_out-1`:1
                                              t_out_ax</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>let/title="longitude"/units="degrees_east"


                                              longitude =
                                              mask_lon[gt=t_out_ax@asn]</tt><tt><br>
                                            </tt><tt>
                                              let/title="longitude"/units="degrees_east"
                                              latitude =
                                              mask_lat[gt=t_out_ax@asn]</tt><tt><br>
                                            </tt><tt>
                                              let/title="Depth"/units="m"
                                              depth=
                                              mask_dep[gt=t_out_ax@asn]</tt><tt><br>
                                            </tt><tt>
                                              let/title="salinity"/units="&nbsp;
                                              " salt=
                                              mask_salt[gt=t_out_ax@asn]</tt><tt><br>
                                            </tt><tt>
                                              let/title="temperature"/units="degrees
                                              C" temp=
                                              mask_temp[gt=t_out_ax@asn]</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>! Write all
                                              variables as the next
                                              n_out points in our output
                                              file</tt><tt><br>
                                            </tt><tt>save/append/t=`out1`:`out1+n_out-1`/file=<a rel="nofollow"
                                                moz-do-not-send="true"
                                                href="http://indian_ocean_profiles.nc"
                                                target="_blank">indian_ocean_profiles.nc</a>
                                              latitude,longitude,
                                              id_ocean</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>! The start of the
                                              next output axis</tt><tt><br>
                                            </tt><tt><br>
                                            </tt><tt>let out1 =
                                              `out1+n_out`</tt><tt><br>
                                              <br>
                                              ! end of read_section.jnl<br>
                                            </tt></blockquote>
                                          <br>
                                          Now, in a new Ferret session,
                                          we can open up the dataset.&nbsp;
                                          Because of the way we wrote
                                          out the data on a time axis,
                                          Ferret doesn't know if it's a
                                          regularly-spaced axis, so it's
                                          a good idea to set the axis
                                          that way.<br>
                                          <br>
                                          <blockquote><tt>yes?
                                              use/regulart <a rel="nofollow"
                                                moz-do-not-send="true"
                                                href="http://indian_ocean_profiles.nc"
                                                target="_blank">indian_ocean_profiles.nc</a></tt><br>
                                          </blockquote>
                                          <br>
                                          <br>
                                          and finally, this is scattered
                                          data in XY with profiles at
                                          various levels.&nbsp; We do not
                                          have a function to put this
                                          data onto an XYZ grid. <br>
                                          <div>
                                            <div> <br>
                                              <br>
                                              <div>On 4/17/2013 4:36 AM,
                                                golla nageswararao
                                                wrote:<br>
                                              </div>
                                              <blockquote type="cite">
                                                <div dir="ltr">
                                                  <div>
                                                    <div>
                                                      <div>
                                                        <div>
                                                          <div>
                                                          <div>
                                                          <div>Hi all,<br>
                                                          </div>
                                                          I could solve
                                                          this problem
                                                          to some extent
                                                          by doing
                                                          gaussian
                                                          interpolation
                                                          technique<br>
                                                          </div>
                                                          I used
                                                          scat2gridgauss_xy
                                                          function to
                                                          map the data
                                                          on profile
                                                          number and
                                                          depths.<br>
                                                          </div>
                                                          But now the
                                                          problem is
                                                          data size.<br>
                                                        </div>
                                                        I going to get
                                                        dimension size
                                                        of 202670x293.<br>
                                                      </div>
                                                      <div>I tried to
                                                        split the data
                                                        also, it is
                                                        giving the
                                                        following error.<br>
                                                        **ERROR in
                                                        efcn_compute()
                                                        allocating
                                                        475058480 bytes
                                                        of memory<br>
                                                        &nbsp;&nbsp;&nbsp; work array
                                                        3:&nbsp; X=1:202670,
                                                        Y=1:293, Z=1:1,
                                                        T=1:1, E=1:1,
                                                        F=1:1<br>
                                                        &nbsp;**ERROR: error
                                                        in external
                                                        function<br>
                                                      </div>
                                                      <div>The only way
                                                        to decrease the
                                                        data size is to
                                                        extract the data
                                                        for Indian Ocean
                                                        domain (original
                                                        is world oceans)<br>
                                                      </div>
                                                      Can anybody
                                                      suggest me how to
                                                      extract for my
                                                      domain interest
                                                      (data set is also
                                                      having longitude
                                                      and latitude as
                                                      variables), and
                                                      compress the data
                                                      into the
                                                      reasonable size.<br>
                                                    </div>
                                                    Thanks in advance<br>
                                                  </div>
                                                  <br>
                                                  <div>
                                                    <div>
                                                      <div><br>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                                <div class="gmail_extra"><br>
                                                  <br>
                                                  <div
                                                    class="gmail_quote">On
                                                    Tue, Apr 16, 2013 at
                                                    8:59 PM, golla
                                                    nageswararao <span
                                                      dir="ltr">&lt;<a rel="nofollow"
                                                        moz-do-not-send="true"
href="mailto:ezeenag4u@xxxxxxxxx" target="_blank">ezeenag4u@xxxxxxxxx</a>&gt;</span>
                                                    wrote:<br>
                                                    <blockquote
                                                      class="gmail_quote"
                                                      style="margin:0 0
                                                      0
                                                      .8ex;border-left:1px
                                                      #ccc
                                                      solid;padding-left:1ex">
                                                      <div dir="ltr">
                                                        <div>
                                                          <div>
                                                          <div>
                                                          <div>Hi all,<br>
                                                          <br>
                                                          </div>
                                                          I am having a
                                                          dataset with
                                                          variables
                                                          depth,
                                                          latitude,
                                                          longitude,
                                                          temp, salt in
                                                          only one
                                                          dimension
                                                          (i.e.,
                                                          i=1:2600000).
                                                          Actually the
                                                          data consists
                                                          of profiles at
                                                          different
                                                          locations. <br>
                                                          </div>
                                                          i=1 z=0 temp1
                                                          salt1 lat1
                                                          lon1<br>
                                                          i=2 z=20 temp1
                                                          salt1 lat1
                                                          lon1<br>
                                                          i=3 z=50 temp1
                                                          salt1 lat1
                                                          lon1<br>
                                                          i=4 z=100
                                                          temp1 salt1
                                                          lat1 lon1<br>
                                                          i=5 z=250
                                                          temp1 salt1
                                                          lat1 lon1</div>
                                                          <div>i=6 z=0
                                                          temp2 salt2
                                                          lat2 lon2</div>
                                                          <div> i=7 z=15
                                                          temp2 salt2
                                                          lat2 lon2<br>
                                                          i=8 z=25 temp2
                                                          salt2 lat2
                                                          lon2<br>
                                                          i=9 z=45 temp2
                                                          salt2 lat2
                                                          lon2<br>
                                                          i=10 z=65
                                                          temp2 salt2
                                                          lat2 lon2<br>
                                                          .<br>
                                                          .<br>
                                                          .<br>
                                                          .<br>
                                                          </div>
                                                          How to handle
                                                          this type of
                                                          data? I want
                                                          to extract
                                                          profiles in
                                                          Indian Ocean.
                                                          I tried to do
                                                          with "if"
                                                          command. But
                                                          the program is
                                                          coming out of
                                                          ferret after
                                                          i=53. I dont
                                                          know whats the
                                                          problem. Can
                                                          anybody help
                                                          me in this
                                                          regard.<br>
                                                          <br>
                                                        </div>
                                                        <div>Thanks in
                                                          advance.<span><font
color="#888888"><br>
                                                          </font></span></div>
                                                        <span><font
                                                          color="#888888">
                                                          <div>
                                                          <div>
                                                          <div>
                                                          <div>
                                                          <div>
                                                          <div><br>
                                                          -- <br>
                                                          <font
                                                          color="#999999">With


                                                          Best regards,<br>
G.NageswaraRao,</font> </div>
                                                          </div>
                                                          </div>
                                                          </div>
                                                          </div>
                                                          </div>
                                                          </font></span></div>
                                                    </blockquote>
                                                  </div>
                                                  <br>
                                                  <br clear="all">
                                                  <br>
                                                  -- <br>
                                                  <font color="#999999">With
                                                    Best regards,<br>
                                                    G.NageswaraRao,</font>
                                                </div>
                                              </blockquote>
                                              <br>
                                            </div>
                                          </div>
                                        </div>
                                      </blockquote>
                                    </div>
                                    <br>
                                    <br clear="all">
                                    <br>
                                    -- <br>
                                    <font color="#999999">With Best
                                      regards,<br>
                                      G.NageswaraRao,</font> </div>
                                </blockquote>
                                <br>
                              </div>
                            </div>
                          </div>
                        </blockquote>
                      </div>
                      <br>
                      <br clear="all">
                      <br>
                      -- <br>
                      <font color="#999999">With Best regards,<br>
                        G.NageswaraRao,</font> </div>
                  </blockquote>
                  <br>
                </div>
              </div>
            </div>
          </blockquote>
        </div>
        <br>
        <br clear="all">
        <br>
        -- <br>
        <font color="#999999">With Best regards,<br>
          G.NageswaraRao,</font>
      </div>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00265" href="msg00265.html">[ferret_users] handling data</a></strong>
<ul><li><em>From:</em> golla nageswararao</li></ul></li>
<li><strong><a name="00266" href="msg00266.html">[ferret_users] Re: handling data</a></strong>
<ul><li><em>From:</em> golla nageswararao</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00270.html">Re: [ferret_users] Re: handling data</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00267.html">[ferret_users] Interpolating to another depth axis</a></strong>
</li>

</UL>
<center>[<a href="msg00270.html">Thread Prev</a>][<a href="msg00267.html">Thread Next</a>][<A HREF="threads.html#00277">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
