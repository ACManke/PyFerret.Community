<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Trying to visualize data on cubed&#45;sphere grid -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 9 Apr 2013 12:41:31 &#45;0700 -->
<!--X-Message-Id: 51646ED9.4060908@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 2F753239&#45;21FD&#45;46C3&#45;9A74&#45;1624206ED519@ucar.edu -->
<!--X-Reference: 51644524.7060500@lsce.ipsl.fr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Trying to visualize data on cubed-sphere grid</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00256.html">Thread Prev</a>][<a href="msg00258.html">Thread Next</a>][<A HREF="threads.html#00257">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Trying to visualize data on cubed-sphere grid</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Patrick Brockmann &lt;<a href="mailto:Patrick.Brockmann@DOMAIN.HIDDEN">Patrick.Brockmann@xxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Trying to visualize data on cubed-sphere grid</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 09 Apr 2013 12:41:13 -0700</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00256.html">51644524.7060500@lsce.ipsl.fr</a>&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US</a>&gt;, &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00251.html">2F753239-21FD-46C3-9A74-1624206ED519@ucar.edu</a>&gt; &lt;<a href="msg00256.html">51644524.7060500@lsce.ipsl.fr</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/20130307 Thunderbird/17.0.4</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi Patrick,<br>
    In recent Ferret versions we tried to make sure axes have the same
    direction in all grids, and no longer use dimension names to set the
    direction of an axis, instead using the attributes of coordinate
    variables for determining directions. This hasn't been completely
    successful especially when the dimensions are not associated with
    coordinate variables but are given in the file only as dimensions.&nbsp;
    It should do better, particularly putting the dimension that's
    marked as UNLIMITED in the time direction.<br>
    <br>
    You have had trouble with these versions of Ferret and some of your
    datasets. Some of this we've discussed before; a vertex dimension is
    logically placed in these datasets "before" the X axis, which is not
    consistent with Ferret's grid.<br>
    <br>
    For the Ki_cellsZT.nc dataset, we can open it as follows and I think
    use it successfully:<br>
    <br>
    <tt>&gt; ferret_v6842</tt><tt><br>
      <br>
    </tt><tt>yes? use/order=yzt Ki_cellsZT.nc</tt><tt><br>
    </tt><tt>&nbsp;*** NOTE:</tt><tt><br>
    </tt><tt>&nbsp;*** NOTE: Could not adjust grid for variable bounds_lon</tt><tt><br>
    </tt><tt>&nbsp;*** NOTE: Axes in grids may be inconsistent.</tt><tt><br>
    </tt><tt>yes? sh dat</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp; currently SET data sets:</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp; 1&gt; ./Ki_cellsZT.nc&nbsp; (default)</tt><tt><br>
    </tt><tt>&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp; title&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      J&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; N</tt><tt><br>
    </tt><tt>&nbsp;LON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; longitude&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      1:3612&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
    </tt><tt>&nbsp;LAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; latitude&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      1:3612&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
    </tt><tt>&nbsp;BOUNDS_LON</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      1:6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:3612&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
    </tt><tt>&nbsp;BOUNDS_LAT</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      1:6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:3612&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
    </tt><tt>&nbsp;KI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      1:3612&nbsp;&nbsp;&nbsp; 1:19&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:120&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><br>
    &nbsp;
    <br>
    <br>
    Patrick's dataset looks like this, with dimensions not coordinate
    axes for dimensions cell, Z, and time_counter:<br>
    <tt><br>
    </tt><tt>&gt; ncdump -h Ki_cellsZT.nc</tt><tt><br>
    </tt><tt>netcdf Ki_cellsZT {</tt><tt><br>
    </tt><tt>dimensions:</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cell = 3612 ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nvert = 6 ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Z = 19 ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; time_counter = UNLIMITED ; // (120 currently)</tt><tt><br>
    </tt><tt>variables:</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double lon(cell) ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lon:long_name = "longitude" ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lon:units = "degrees_east" ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lon:bounds = "bounds_lon" ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double lat(cell) ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lat:long_name = "latitude" ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lat:units = "degrees_north" ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lat:bounds = "bounds_lat" ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double bounds_lon(cell, nvert) ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double bounds_lat(cell, nvert) ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double Ki(time_counter, Z, cell) ;</tt><tt><br>
    </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ki:coordinates = "lon lat" ;</tt><tt><br>
    </tt><tt>}</tt><tt><br>
    </tt><br>
    <br>
    <div class="moz-forward-container"> <br>
    </div>
    <div class="moz-cite-prefix">On 4/9/2013 9:43 AM, Patrick Brockmann
      wrote:<br>
    </div>
    <blockquote cite="" type="cite">
      
      <div class="moz-cite-prefix">Hi all,<br>
        <br>
        I come back on this issue because a solution is reachable <br>
        if you accept to see your map made with polygons.<br>
        Metadata has to be properly set as in the sampleGenGrid3.nc
        file.<br>
        <br>
        Here is the simplest call.<br>
        <br>
        yes? use sampleGenGrid3.nc<br>
        yes? set variable/units="degrees_east" BOUNDS_LON<br>
        yes? set variable/units="degrees_north" BOUNDS_LAT<br>
        yes? polygon/MODULO/COORD_AX=Y/line/fill/hlim=0:360 BOUNDS_LON,
        BOUNDS_LAT, SAMPLE<br>
        <br>
        You get the attached image.<br>
        Not bad...<br>
        <br>
        But now many problems occurs because ferret at version 6.84 does
        <br>
        mistakes when it sets the dimensions or is not consistent in its
        detection<br>
        depending there is or not a dimension Z or/and T.<br>
        <br>
        Try : <br>
        <tt>yes? use Ki_cellsT.nc </tt><tt><br>
        </tt><tt>yes? show data</tt><tt><br>
        </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp; currently SET data sets:</tt><tt><br>
        </tt><tt>&nbsp;&nbsp;&nbsp; 1&gt; ./Ki</tt><tt><tt>_cellsT</tt>.nc&nbsp; (default)</tt><tt><br>
        </tt><tt>&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp; title&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          J&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; N</tt><tt><br>
        </tt><tt>&nbsp;KI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:120&nbsp;&nbsp;&nbsp;&nbsp;
          ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
        </tt><tt>&nbsp;BOUNDS_LAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          1:3612&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
        </tt><tt>&nbsp;BOUNDS_LON &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:3612&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
        </tt><tt> LAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; latitude&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          1:3612&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
        </tt><tt> LON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; longitude&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          1:3612&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><br>
        <br>
        --&gt; KI variable has no time dimension !!<br>
        <br>
        <tt>yes? use Ki_cellsZT.nc</tt><tt><br>
        </tt><tt>yes? show data </tt><tt><br>
        </tt><tt>&nbsp;*** NOTE:</tt><tt><br>
        </tt><tt>&nbsp;*** NOTE: Could not adjust grid for variable
          bounds_lon</tt><tt><br>
        </tt><tt>&nbsp;*** NOTE: Axes in grids may be inconsistent.</tt><tt><br>
        </tt><tt>&nbsp;&nbsp; 2&gt; ./Ki_cellsZT.nc&nbsp; (default)</tt><tt><br>
        </tt><tt>&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp; title&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          J&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; N</tt><tt><br>
        </tt><tt>&nbsp;LON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; longitude&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:3612&nbsp;&nbsp;&nbsp;
          ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
        </tt><tt>&nbsp;LAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; latitude&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:3612&nbsp;&nbsp;&nbsp;
          ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
        </tt><tt>&nbsp;BOUNDS_LON</tt><tt><br>
        </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          1:3612&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
        </tt><tt>&nbsp;BOUNDS_LAT</tt><tt><br>
        </tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          1:3612&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
        </tt><tt>&nbsp;KI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:3612&nbsp;&nbsp;&nbsp;
          1:19&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:120&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...</tt><br>
        <br>
        --&gt; See now how dimension have been set (different as
        previous with )<br>
        <br>
        And a last problem that occurs with excursion of polygons
        boundaries <br>
        because they may not set close to the center of the cell. It is
        not handle by ferret and<br>
        it is painfull to correct.<br>
        <br>
        yes? use KI_cells.nc<br>
        yes? set variable/units="degrees_east" BOUNDS_LON<br>
        yes? set variable/units="degrees_north" BOUNDS_LAT<br>
        yes? polygon/MODULO/COORD_AX=Y/line/fill/hlim=0:360 BOUNDS_LON,
        BOUNDS_LAT, KI<br>
        yes? frame/file=Ki_cells.gif<br>
        <br>
        --&gt; See overlaps in attached image<br>
        <br>
        All materials can be found from<br>
        <a rel="nofollow" moz-do-not-send="true" class="moz-txt-link-freetext"
          href="http://dods.ipsl.jussieu.fr/brocksce/ferret_unstructuredgrid">http://dods.ipsl.jussieu.fr/brocksce/ferret_unstructuredgrid</a><br>
        <br>
        Let me know if things are going better on those problems<br>
        or if I can correct then on my side by additionnal metadata.<br>
        <br>
        Thanks<br>
        Patrick<br>
        <br>
        <br>
        <br>
      </div>
      <blockquote
        cite=""
        type="cite">
        
        <div><br>
        </div>
        I'm playing around with some data that's on a cubed-sphere grid,
        and am wondering if the description of the grid is causing the
        usual "Y coord field lies&nbsp;in different plane from data to be
        plotted" error when using the "shade ts,lon,lat" command.
        <div><br>
        </div>
        <div>The data of interest and the longitudes and latitudes are
          all described as one-dimensional vectors, i.e., a 1-D array of
          N points:</div>
        <div><br>
        </div>
        <div><font face="Courier New">yes? use test.nc&nbsp;<br>
            yes? show data<br>
            &nbsp; &nbsp; &nbsp;currently SET data sets:<br>
            &nbsp; &nbsp; 1&gt; ./test.nc &nbsp;(default)<br>
            &nbsp;name &nbsp; &nbsp; title &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; I &nbsp; &nbsp; &nbsp; &nbsp; J &nbsp; &nbsp;
            &nbsp; &nbsp; K &nbsp; &nbsp; &nbsp; &nbsp; L &nbsp; &nbsp; &nbsp; &nbsp; M &nbsp; &nbsp; &nbsp; &nbsp; N<br>
            &nbsp;TS &nbsp; &nbsp; &nbsp; Surface temperature (radiative) &nbsp;1:777602 &nbsp;... &nbsp; &nbsp;
            &nbsp; ... &nbsp; &nbsp; &nbsp; 1:1 &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ...<br>
            &nbsp;LAT &nbsp; &nbsp; &nbsp;latitude &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1:777602 &nbsp;... &nbsp; &nbsp;
            &nbsp; ... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ...<br>
            &nbsp;LON &nbsp; &nbsp; &nbsp;longitude &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1:777602 &nbsp;... &nbsp; &nbsp;
            &nbsp; ... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; &#8230;</font></div>
        <div><br>
        </div>
        <div>and 'ncdump -h' shows:</div>
        <div><br>
        </div>
        <div><font face="Courier New">prompt&gt; ncdump -h test.nc |
            egrep "(lon|lat|TS)"<br>
          </font>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; float TS(time, ncol) ;</font></div>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TS:units = "K" ;</font></div>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TS:long_name =
              "Surface temperature (radiative)" ;</font></div>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TS:cell_methods
              = "time: mean" ;</font></div>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; double lat(ncol) ;</font></div>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lat:long_name =
              "latitude" ;</font></div>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lat:units =
              "degrees_north" ;</font></div>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lat:axis = "Y" ;</font></div>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; double lon(ncol) ;</font></div>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lon:long_name =
              "longitude" ;</font></div>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lon:units =
              "degrees_east" ;</font></div>
          <div><font face="Courier New">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lon:axis = "X" ;</font></div>
          <div><br>
          </div>
          Giving lon and lat the appropriate "axis" attributes doesn't
          change anything about how FERRET sees the data.</div>
        <div><br>
        </div>
        <div>Any suggestions appreciated!</div>
        <div><br>
          <div apple-content-edited="true">Gary Strand<br>
            <a rel="nofollow" moz-do-not-send="true" href="mailto:strandwg@xxxxxxxx">strandwg@xxxxxxxx</a><br>
            <br>
            <br>
          </div>
          <br>
        </div>
      </blockquote>
      <br>
      <br>
      <pre class="moz-signature" cols="72">-- 
LSCE/IPSL, Laboratoire CEA-CNRS-UVSQ
Data Analysis and Visualization Engineer
ICMC - IPSL Climate Modelling Centre
--
</pre>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00251" href="msg00251.html">[ferret_users] Trying to visualize data on cubed-sphere grid</a></strong>
<ul><li><em>From:</em> Gary Strand</li></ul></li>
<li><strong><a name="00256" href="msg00256.html">Re: [ferret_users] Trying to visualize data on cubed-sphere grid</a></strong>
<ul><li><em>From:</em> Patrick Brockmann</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00256.html">Re: [ferret_users] Trying to visualize data on cubed-sphere grid</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00258.html">Re: [ferret_users] Trying to visualize data on cubed-sphere grid</a></strong>
</li>

</UL>
<center>[<a href="msg00256.html">Thread Prev</a>][<a href="msg00258.html">Thread Next</a>][<A HREF="threads.html#00257">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
