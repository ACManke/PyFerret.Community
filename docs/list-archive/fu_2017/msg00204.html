<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Reduce the size of the data -->
<!--X-From-R13: [negva Epuzvqg <znegva.fpuzvqgNvb&#45;jnearzhraqr.qr> -->
<!--X-Date: Fri, 17 Mar 2017 09:11:35 &#45;0700 -->
<!--X-Message-Id: 9a0812ff&#45;8022&#45;28ff&#45;ae67&#45;6aeecb0ab2c6@io&#45;warnemuende.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAPTKT0e2KhnLwpNoY9wBTHHniK&#45;0mTnsjrfW1wLYfUCTJJADaQ@mail.gmail.com -->
<!--X-Reference: CAMazgKj_2NUFERh8z=34G+ro99UhNYTzvNcdjS6aCjw+DpZXgw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Reduce the size of the data</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00203.html">Thread Prev</a>][<a href="msg00205.html">Thread Next</a>][<A HREF="threads.html#00204">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Reduce the size of the data</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Reduce the size of the data</strong></li>
<li><strong>From</strong>: <strong>Martin Schmidt &lt;<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 17 Mar 2017 17:11:15 +0100</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-transfer-encoding:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive:list-unsubscribe;        bh=gLekc26S73ezrtqQd22pqqOMJ7JmYZ6ChVt9HrJa9l0=;        b=usUEEtLc0BFzSij++IT4cTojFNosLzt0SYs4RZuz2jzHXee1JoleN4rqDdXAVX8XcD         yqv1JFkqrXtIyKMwHhiEFYRijljQoLGqS7VhjQqXnb1/0gw66/vrMGGw5tevOSirrrdy         Uiuf6mLKSSzLxB3LxNKfGSLpjArb/HZmz6hc3vyhvadvwLF79diOcMNGcPfAj1/rhF7+         J++4iD2p1fUIcL3cxge3EyJ9Rbu6Q+Yrj2JSrOMF78gLu4NhL8zT3jbM1cpYrqLNWxlc         55x1rBOgP31BAao0N8zYOrG8sYqg0zEOorSfMLp6Eg4RZOMKa2XdXg0t1Q90kzU63Xn0         2qwA==</li>
<li>In-reply-to: &lt;CAMazgKj_2NUFERh8z=34G+ro99UhNYTzvNcdjS6aCjw+DpZXgw@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00199.html">CAPTKT0e2KhnLwpNoY9wBTHHniK-0mTnsjrfW1wLYfUCTJJADaQ@mail.gmail.com</a>&gt; &lt;CAMazgKj_2NUFERh8z=34G+ro99UhNYTzvNcdjS6aCjw+DpZXgw@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (X11; Linux x86_64; rv:45.0) Gecko/20100101 Thunderbird/45.6.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi,
</pre><tt>ferret saves variables with full accuracy, i.e., 8 byte per number. You 
</tt><tt>may reduce the file size by using another variable type. For example
</tt><pre style="margin: 0em;">

save/clobber/outtype=float /file= ....

save with 4 byte accuracy.

</pre><tt>More reduction can be achieved using internal file compression. Please 
</tt><tt>see for examples:
</tt><pre style="margin: 0em;">
<a  rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SET">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SET</a>

and other ferret manual pages related to netcdf and deflate.

Best,
Martin


On 03/17/2017 03:13 PM, Peter Szabo wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Dear Nicolas,

I also wonder why my file sizes always become way (usually double or 4
times) larger than the original ones even if they share still the same
dimensions.

The original file is 1.5 MB, while the saved out one with just values
masked out are 6.0 MB. It is the simplest operation with a short
formula and still making the file size way larger.

Regards,
Peter Szabo

!FERRET v6.9
!Linux 2.6.32-431.5.1.el6.x86_64 32-bit - 04/03/14

use TMAX7100mon_14_CCLIM.nc
use NATER_mask.nc !THIS CONSISTS OF 1 TIME DIMENSION AND 1s WHERE THE
MASK IS VALID
let maszkHU=mask[d=2,gx=longitude,gy=latitude,l=1]
let txHU=maszkHU*tx[d=1]
save/.. txHU

2017-03-17 11:26 GMT+01:00, Nicolas Freychet &lt;nicolas.freychet@xxxxxxxxx&gt;:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi all,

I computed the daily minimum of temperature based on 3h datasets (8
values/day), using the methodology (by steps of 8, I pick up the minimum
temperature, and associate it to the first step to record it)


define axis/calendar=julian/t=01-jan-1979:31-dec-1995:3/units=hours tmodel
repeat/range=1:49672:8/name=it (  let
tmin=temp[l=`it`]*0+tmin[l=`it`:`it+7`@min] ; save/append/file=Output.nc
Tmin[l=`it`,gt=tmodel@asn] )

The problem is my output file is much bigger than it should. I got the
impression that Ferret is recording the whole &quot;formula&quot; and not just the
value of Tmin. Is there a way to solve that?

(my way to define Tmin may not be optimal though, that may cause the
problem...)

Thanks,
Nicolas



----------------------------------------------------
Nicolas Freychet
PDRA, School of Geosciences
University of Edinburgh
----------------------------------------------------

</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00199" href="msg00199.html">[ferret_users] Reduce the size of the data</a></strong>
<ul><li><em>From:</em> Nicolas Freychet</li></ul></li>
<li><strong><a name="00200" href="msg00200.html">Re: [ferret_users] Reduce the size of the data</a></strong>
<ul><li><em>From:</em> Peter Szabo</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00203.html">Re: [ferret_users] Reduce the size of the data</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00205.html">Re: [ferret_users] Reduce the size of the data</a></strong>
</li>

</UL>
<center>[<a href="msg00203.html">Thread Prev</a>][<a href="msg00205.html">Thread Next</a>][<A HREF="threads.html#00204">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
