<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Averaging Values are Mismatching -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Thu, 9 Mar 2017 09:56:05 &#45;0800 -->
<!--X-Message-Id: c7329b1b&#45;36a8&#45;03f6&#45;5e74&#45;6419ab3ef3e4@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CADnPaJnDi4OtkKCTQhVAYRjPX&#45;JNYssFm=U8AqaCNpOBwkb4uA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Averaging Values are Mismatching</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00174.html">Thread Prev</a>][<a href="msg00182.html">Thread Next</a>][<A HREF="threads.html#00179">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Averaging Values are Mismatching</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Averaging Values are Mismatching</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 9 Mar 2017 09:55:53 -0800</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive         :list-unsubscribe;        bh=qv9h8ZqGYQrSDSClYwK68OfwaM9sn3xj+eRb38pkDNw=;        b=q91W9hEjng7dc+zuvkCjQv+b1XOzCRDPGdy3lPyc7QrO8hOUDTh7ANR14GZfVfu+gt         MJRN5yWN8oeBBfvj2fjzJHifwOv03NonA3kNKy5v8/Pl2yxgC4VQj1K9eHqVmFIu4PTv         fZW2q6++6MskEAN45+cKRgdYAB+plgeLbmm+3kACvXB7qYtLWQaUhPJgKkycw262tsXb         yCGId2nCUxjY9MP+HMO7Sa9pyAsZSwQtbrK7E7PqC11jsomy+al/skOAwNPW0SrKrenS         mZAronnBx1R21/TIiCQkAtMbupH9DMcNNXJG630Fxe/YXHH2HgEEIrYwG7gUB50YUxZ3         607w==</li>
<li>In-reply-to: &lt;CADnPaJnDi4OtkKCTQhVAYRjPX-JNYssFm=U8AqaCNpOBwkb4uA@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CADnPaJnDi4OtkKCTQhVAYRjPX-JNYssFm=U8AqaCNpOBwkb4uA@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:45.0) Gecko/20100101 Thunderbird/45.7.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    <p>Hi,</p>
    <p>Ferret computes averages as a weighted average, so the result
      will not in general be the same as a computing it as a sum divided
      by count.<br>
    </p>
    <p>In this case the weights are a 2-dimensional area of each grid
      cell. If the region you have specified cuts across grid cells, the
      weighting will take the area of those partial grid cells into
      account. When the computation is on the surface of the earth,
      Ferret also accounts for different size of longitude/latitude grid
      cells at different latitudes. That won't affect this calculation
      much since you are working near the equator.&#xA0; Please see <a rel="nofollow"
href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPINDEXENTRY_439">this
        discussion about averaging</a> in the Ferret documentation, and
      follow the links in that section to the topics of "General
      Information on transformations" and the @WGT transformation which
      will let you look at the weights used in the calculation.<br>
    </p>
    <p>-Ansley<br>
    </p>
    <p><br>
    </p>
    <br>
    <div class="moz-cite-prefix">On 3/9/2017 5:24 AM, Abhishek Savita
      wrote:<br>
    </div>
    <blockquote
cite=""
      type="cite">
      <div dir="ltr">
        <div>
          <div>
            <div>
              <div>
                <div>Dear Ferreters,<br>
                  <br>
                </div>
                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; I am using Pyferret and&#xA0; getting some
                error when averaging the values. it is mismatching with
                the ferret calculation. Suppose I have average the
                values like <br>
                <br>
                list/precision=7 D20[<a rel="nofollow" class="moz-txt-link-abbreviated" href="mailto:x=60.25:61.25@ave,y=-6.25">x=60.25:61.25@ave,y=-6.25</a>:<wbr>-5.25@ave,l=1]<br>
              </div>
              &#xA0;its value has come <span style="color:rgb(255,0,0)"><b>60.39426<br>
                </b></span><br>
              when I have listed the values as <br>
              <div>list/precision=7/x=60.25:61.<wbr>25/y=-6.25:-5.25
                D20[l=1]<br>
                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : TEMP[Z=@LOC:20]<br>
                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Z=-0.02:5500<br>
                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILENAME : <a rel="nofollow" moz-do-not-send="true"
                  target="_blank"
                  href="http://soda_d20_1958_2010_indpac.nc">soda_d20_1958_2010_indpac.nc</a><br>
                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SUBSET&#xA0;&#xA0; : 3 by 3 points
                (LONGITUDE-LATITUDE)<br>
                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TIME&#xA0;&#xA0;&#xA0;&#xA0; : 15-JAN-1958 00:00<br>
                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 60.25E&#xA0;&#xA0;&#xA0; 60.75E&#xA0;&#xA0;&#xA0; 61.25E&#xA0; <br>
                &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 61&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 62&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 63<br>
                &#xA0;5.25S / 70:&#xA0; 64.47244&#xA0; 65.52505&#xA0; 67.76488<br>
                &#xA0;5.75S / 69:&#xA0; 59.62996&#xA0; 59.87644&#xA0; 61.27785<br>
                &#xA0;6.25S / 68:&#xA0; 55.80148&#xA0; 55.17461&#xA0; 55.52123<br>
                <br>
              </div>
              I&#xA0; calculated analytical and It is giving&#xA0; <span
                style="color:rgb(255,0,0)"><b>60.56349<br>
                  <br>
                </b></span></div>
            When I have taken corresponding I and J values, I got as<br>
            <br>
            list/precision=7 D20[i=61:63@ave,j=68:70@ave,l=<wbr>1]<br>
          </div>
          Its values has come&#xA0;&#xA0; <span style="color:rgb(255,0,0)"><b>60.56349</b></span><br>
          <br>
        </div>
        <span style="color:rgb(255,0,0)"></span><b>&#xA0;</b><span
          style="background-color:rgb(255,0,0)"></span>
        <div><br>
        </div>
        <div>Could you please suggest me, how to solve this problem<br>
          <br>
        </div>
        With regards
        <div class="gmail-yj6qo gmail-ajU">
          <div tabindex="0" class="gmail-ajR" id="gmail-:14q"><img
              moz-do-not-send="true"
              src=""
              class="gmail-ajT">Abhishek</div>
        </div>
        <br clear="all">
        <br>
        -- <br>
        <div class="gmail_signature">
          <div dir="ltr">
            <div>
              <div dir="ltr">
                <div>
                  <div dir="ltr">
                    <div>
                      <div dir="ltr"><span
                          style="color:rgb(0,0,127);font-family:&quot;times
                          new roman&quot;,&quot;new
                          york&quot;,times,serif;font-size:16px;font-weight:bold">Regards</span><br
style="color:rgb(0,0,127);font-family:&quot;times new
                          roman&quot;,&quot;new
                          york&quot;,times,serif;font-size:16px;font-weight:bold">
                        <font face="times new roman, new york, times,
                          serif" color="#00007f" size="3"><b>Abhishek
                            Savita</b></font></div>
                      <div dir="ltr"><font face="times new roman, new
                          york, times, serif" color="#00007f" size="3"><b><br>
                          </b></font></div>
                      <div dir="ltr"><span
                          style="color:rgb(0,0,127);font-family:&quot;times
                          new roman&quot;,&quot;new
                          york&quot;,times,serif;font-size:16px;font-weight:bold">Research
                          Scholar (Earth&#xA0;</span><span
                          style="color:rgb(0,0,127);font-family:&quot;times
                          new roman&quot;,&quot;new
                          york&quot;,times,serif;font-size:16px;font-weight:bold">System
                          Science Technology)</span></div>
                      <div dir="ltr"><font face="times new roman, new
                          york, times, serif" color="#00007f" size="3"><b>Center&#xA0;For
                            Oceans, Rivers, Atmosphere &amp; Land
                            Science Technology</b></font><br
                          style="color:rgb(0,0,127);font-family:&quot;times
                          new roman&quot;,&quot;new
                          york&quot;,times,serif;font-size:16px;font-weight:bold">
                        <span
                          style="color:rgb(0,0,127);font-family:&quot;times
                          new roman&quot;,&quot;new
                          york&quot;,times,serif;font-size:16px;font-weight:bold">Indian
                          Institute of Technology, Kharagpur</span><br
                          style="color:rgb(0,0,127);font-family:&quot;times
                          new roman&quot;,&quot;new
                          york&quot;,times,serif;font-size:16px;font-weight:bold">
                        <span
                          style="color:rgb(0,0,127);font-family:&quot;times
                          new roman&quot;,&quot;new
                          york&quot;,times,serif;font-size:16px;font-weight:bold">+91-8609704619</span>
                        <div><font face="times new roman, new york,
                            times, serif" color="#00007f" size="3"><b><br>
                            </b></font>
                          <div><span
                              style="color:rgb(0,0,127);font-family:&quot;times
                              new roman&quot;,&quot;new
                              york&quot;,times,serif;font-size:16px;font-weight:bold">&#xA0;</span></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00174" href="msg00174.html">[ferret_users] Averaging Values are Mismatching</a></strong>
<ul><li><em>From:</em> Abhishek Savita</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00174.html">[ferret_users] Averaging Values are Mismatching</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00182.html">[ferret_users] significance of slope</a></strong>
</li>

</UL>
<center>[<a href="msg00174.html">Thread Prev</a>][<a href="msg00182.html">Thread Next</a>][<A HREF="threads.html#00179">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
