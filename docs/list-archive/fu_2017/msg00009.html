<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] gray points in ribbon plot -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 4 Jan 2017 14:16:41 &#45;0800 -->
<!--X-Message-Id: 7e5bb9fc&#45;9732&#45;28ce&#45;dac7&#45;595839dcb457@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAP_hJL5qdSxg_GiGsrJmz2eHbZMTOOp0zWknpGCdNsaL8Qn22g@mail.gmail.com -->
<!--X-Reference: 9e8ad317&#45;8a41&#45;226c&#45;bf40&#45;2d892330cfb5@noaa.gov -->
<!--X-Reference: CAP_hJL7POJ5B8JBYZcd&#45;H&#45;pYwZq=Btw687GN+w80EBMp0cHEmw@mail.gmail.com -->
<!--X-Derived: gifsOfQ0fKDXo.gif -->
<!--X-Derived: gif2MjfLvO1Ho.gif -->
<!--X-Derived: gifnAPf7oZmq4.gif -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] gray points in ribbon plot</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00007.html">Thread Prev</a>][<a href="msg00013.html">Thread Next</a>][<A HREF="threads.html#00009">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] gray points in ribbon plot</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Nancy Williams &lt;<a href="mailto:nancy.williams@DOMAIN.HIDDEN">nancy.williams@xxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] gray points in ribbon plot</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 4 Jan 2017 14:16:36 -0800</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=subject:to:references:cc:from:message-id:date:user-agent         :mime-version:in-reply-to:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive:list-unsubscribe;        bh=3U0yXrI3qV4Hv5cwueK4rc11JF2vzLdUKglHXPhu/Z8=;        b=c8ccI5MOrGxDODgHu49n96rZuFStpdH2EiubKjcQhh2ayPGGi5yLm3vX0JxgAHXobQ         RAdrgyQ7JB4HaVgctQVxOq8aTK5Agfkh7RZRGCbS5jRx7lQpDBsu3uNveTBuC8TCvfad         /dgR9qIg25pveMBJpByDwRHaRsYl8e3WP3hxHFD5rpSith6PTGZUYs9i8gyHP47ztC7y         kXEwrG82F7nQs8oBGcsCYCyACnmetytT6qk5iMuPKcXrn6xSM2lm6SmV3VLR73+cVkyt         F+9IrDDYo3d7Udb9cp7F+d0OeG3VriGQlaX2mKk4cTQ9F9dcCNIk6UdoDUYI4/z2Ful4         d2IQ==</li>
<li>In-reply-to: &lt;CAP_hJL7POJ5B8JBYZcd-H-pYwZq=Btw687GN+w80EBMp0cHEmw@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00004.html">CAP_hJL5qdSxg_GiGsrJmz2eHbZMTOOp0zWknpGCdNsaL8Qn22g@mail.gmail.com</a>&gt; &lt;<a href="msg00005.html">9e8ad317-8a41-226c-bf40-2d892330cfb5@noaa.gov</a>&gt; &lt;CAP_hJL7POJ5B8JBYZcd-H-pYwZq=Btw687GN+w80EBMp0cHEmw@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:45.0) Gecko/20100101 Thunderbird/45.6.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    <p>Hi all,</p>
    <p>Nancy and I looked into this some more, and it seems to be an
      issue with the PLOT/RIBBON plots in our Mac version of Ferret
      v7.0, which aren't working correctly with /MISSING=blank. We'll be
      looking into that. <br>
    </p>
    <p>A good workaround is to mask the longitude and latitude variables
      as well as the color-by variable.</p>
    <blockquote>
      <div><tt>let winter=if month gt6 and month lt 10 then 1</tt></div>
      <div><tt>let wintermonth=month*winter</tt><tt><br>
        </tt><tt><br>
        </tt><tt>
          let/units=degrees_east winterlon = longitude*winter</tt><tt><br>
        </tt><tt>
          let/units=degrees_north winterlat = latitude*winter</tt><tt><br>
        </tt><tt><br>
        </tt><tt>go basemap x=-180:180 y=-80:-30 </tt><tt><br>
        </tt></div>
      <div><tt>plot/vs/over/ribbon</tt><tt>/key/lev=(1,12,1) </tt><tt>winterlon</tt><tt>,
        </tt><tt>winterlat</tt><tt>, wintermonth</tt></div>
    </blockquote>
    <p>-Ansley<br>
    </p>
    <br>
    <div class="moz-cite-prefix">On 1/4/2017 11:06 AM, Nancy Williams
      wrote:<br>
    </div>
    <blockquote
cite=""
      type="cite">
      <div dir="ltr">Hi Ansley,
        <div><br>
        </div>
        <div>I am using version 7 : (<span
style="font-variant-ligatures:no-common-ligatures;background-color:rgb(44,103,200);color:rgb(255,255,255);font-family:menlo;font-size:11px">FERRET
            v7 (optimized)</span></div>
        <p class="m_3464872176970929289gmail-p1"><span
            class="m_3464872176970929289gmail-s1">&#xA0;<span
              class="m_3464872176970929289gmail-Apple-tab-span"> </span>Darwin
            15.6.0 64-bit - 07/26/16</span></p>
        <p class="m_3464872176970929289gmail-p1"><span
            class="m_3464872176970929289gmail-s1">&#xA0;<span
              class="m_3464872176970929289gmail-Apple-tab-span"> </span>
            4-Jan-17 08:28)</span></p>
        <div>plot wintermonth yields:</div>
        <div><img src="gifsOfQ0fKDXo.gif"
            height="205" width="513"></div>
        <div>When I plot var2 using the code you provided the plot looks
          correct (no gray values):</div>
        <div><img src="gif2MjfLvO1Ho.gif"
            height="205" width="513"></div>
        <div><br>
        </div>
        <div>Do you have any other ideas? Thanks,<br>
          <br>
          Nancy<br>
          &#x200B;<br>
          &#x200B;<br>
        </div>
      </div>
      <div class="gmail_extra"><br>
        <div class="gmail_quote">On Wed, Jan 4, 2017 at 10:20 AM, Ansley
          C. Manke <span dir="ltr">&lt;<a rel="nofollow" moz-do-not-send="true"
              href="mailto:ansley.b.manke@xxxxxxxx" target="_blank">ansley.b.manke@xxxxxxxx</a>&gt;</span>
          wrote:<br>
          <blockquote class="gmail_quote" style="margin:0 0 0
            .8ex;border-left:1px #ccc solid;padding-left:1ex">
            <div bgcolor="#FFFFFF" text="#000000">
              <p>Hi Nancy,</p>
              <p>That sounds correct.&#xA0; A couple of ideas:<br>
              </p>
              <p>Your definitions look fine to me, but test your
                definition of wintermonth, maybe by plotting just a line
                plot of that variable, "plot wintermonth".<br>
              </p>
              <p> What version of Ferret are you running? Try this
                little test script of the ribbon/missing=blank
                qualifier, using a mask similar to yours.<br>
              </p>
              <blockquote>
                <p><tt>let/title="xpts"/units=<wbr>degrees_east xpts =
                    {\</tt><tt><br>
                  </tt><tt>151.0,153.0,155.0,157.0,159.0,<wbr>161.0,163.0,165.0,167.0,169.0,<wbr>171.0,173.0,175.0,\</tt><tt><br>
                  </tt><tt>177.0,179.0,181.0,183.0,185.0,<wbr>187.0,189.0}</tt></p>
                <p><tt>let/title="ypts"/units="<wbr>degrees_north" ypts
                    = {\</tt><tt><br>
                  </tt><tt>29.42,29.43,29.33,29.19,29.22,<wbr>29.12,29.36,29.22,29.04,28.92,<wbr>29.00,28.59,28.31,\</tt><tt><br>
                  </tt><tt>28.69,28.20,28.86,27.98,27.80,<wbr>28.29,27.94}</tt></p>
                <p><tt>let/title="VAR" var =&#xA0; {\<br>
                    14.16,14.31,13.34,11.90,12.19,<wbr>11.20,13.57,12.25,9.3,11.12,4.<wbr>95,
                    5.91, \<br>
                    3.13, 6.88, 2.02, -8.63,-0.23,-1.97, 7.94,9.65}</tt></p>
                <p><tt>let mask = if var gt 0 then 1<br>
                    let var2 = mask*var</tt></p>
                <p><tt>go basemap x=120e:150w/y=20:50</tt><br>
                </p>
                <tt>plot/vs/over/ribbon/missing=<wbr>blank&#xA0;
                  xpts,ypts,var2</tt><span class="HOEnZb"><font
                    color="#888888"><br>
                  </font></span></blockquote>
              <span class="HOEnZb"><font color="#888888">
                  <p><br>
                  </p>
                  <p>-Ansley<br>
                  </p>
                </font></span>
              <div>
                <div class="h5"> <br>
                  <div class="m_-465387498497311150moz-cite-prefix">On
                    1/4/2017 8:49 AM, Nancy Williams wrote:<br>
                  </div>
                  <blockquote type="cite">
                    <div dir="ltr">Hello all,
                      <div><br>
                      </div>
                      <div>New ferret user here.&#xA0; How do I force a
                        ribbon plot to NOT plot the gray dots for the
                        values I have filtered out? In this case i'm
                        filtering the SOCATv4 data by month.&#xA0; I only
                        want to plot months 7, 8, and 9 (Austral winter)
                        and for them to be colored by month (or all the
                        same color would be fine).</div>
                      <div><br>
                      </div>
                      <div>let winter=if month gt6 and month lt 10 then
                        1</div>
                      <div>let wintermonth=month*winter</div>
                      <div>plot/vs/over/ribbon/missing=<wbr>blank
                        longitude, latitude, wintermonth</div>
                      <div><img
                          src="gifnAPf7oZmq4.gif"
                          class="m_-465387498497311150CToWUd
                          m_-465387498497311150a6T" height="217"
                          width="541"></div>
                      <div><br>
                      </div>
                      <div>Thanks for your help!<br clear="all">
                        <div><br>
                        </div>
                        -- <br>
                        <div
                          class="m_-465387498497311150gmail_signature"
                          data-smartmail="gmail_signature">
                          <div dir="ltr">
                            <div>
                              <div dir="ltr">
                                <div dir="ltr"
                                  style="font-size:12.8000001907349px">Nancy
                                  Williams</div>
                                <div dir="ltr"
                                  style="font-size:12.8000001907349px"><a rel="nofollow"
                                    moz-do-not-send="true"
                                    href="mailto:Nancy.Williams@xxxxxxxxxxxxxxx"
                                    style="font-size:12.8000001907349px"
                                    target="_blank">Nancy.Williams@xxxxxxxxxxxxxxx</a><br>
                                  <div>Graduate Student</div>
                                  <div>College of Earth, Ocean, and
                                    Atmospheric Sciences</div>
                                  <div>Oregon State University</div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </blockquote>
                  <br>
                </div>
              </div>
            </div>
          </blockquote>
        </div>
        <br>
        <br clear="all">
        <div><br>
        </div>
        -- <br>
        <div class="gmail_signature" data-smartmail="gmail_signature">
          <div dir="ltr">
            <div>
              <div dir="ltr">
                <div dir="ltr" style="font-size:12.8000001907349px">Nancy
                  Williams</div>
                <div dir="ltr" style="font-size:12.8000001907349px"><a rel="nofollow"
                    moz-do-not-send="true"
                    href="mailto:Nancy.Williams@xxxxxxxxxxxxxxx"
                    style="font-size:12.8000001907349px" target="_blank">Nancy.Williams@xxxxxxxxxxxxxxx</a><br>
                  <div>Graduate Student</div>
                  <div>College of Earth, Ocean, and Atmospheric Sciences</div>
                  <div>Oregon State University</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">[ferret_users] gray points in ribbon plot</a></strong>
<ul><li><em>From:</em> Nancy Williams</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: [ferret_users] gray points in ribbon plot</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">Re: [ferret_users] gray points in ribbon plot</a></strong>
<ul><li><em>From:</em> Nancy Williams</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00007.html">Re: [ferret_users] gray points in ribbon plot</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00013.html">[ferret_users] defining time axis</a></strong>
</li>

</UL>
<center>[<a href="msg00007.html">Thread Prev</a>][<a href="msg00013.html">Thread Next</a>][<A HREF="threads.html#00009">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
