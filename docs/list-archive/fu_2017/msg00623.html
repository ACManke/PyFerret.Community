<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] BUG REPORT: TSERIES creates spurious modulo axes -->
<!--X-From-R13: Dhff Tvrqyre <ehffryy.svrqyreNpfveb.nh> -->
<!--X-Date: Tue, 5 Sep 2017 01:01:17 &#45;0700 -->
<!--X-Message-Id: 43c0e2eb&#45;7ec5&#45;6866&#45;4400&#45;17a88ad1503a@csiro.au -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] BUG REPORT: TSERIES creates spurious modulo axes</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00619.html">Thread Prev</a>][<a href="msg00624.html">Thread Next</a>][<A HREF="threads.html#00623">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] BUG REPORT: TSERIES creates spurious modulo axes</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] BUG REPORT: TSERIES creates spurious modulo axes</strong></li>
<li><strong>From</strong>: <strong>Russ Fiedler &lt;<a href="mailto:russell.fiedler@DOMAIN.HIDDEN">russell.fiedler@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 5 Sep 2017 18:00:37 +1000</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@csiro.au header.s=dkim header.b=kVmC5sgD;       arc=pass (i=2 dkim=pass dkdomain=csiro.au);       spf=fail (google.com: domain of prvs=414db925f=<a href="mailto:russell.fiedler@DOMAIN.HIDDEN">russell.fiedler@xxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=prvs=414db925f=<a href="mailto:russell.fiedler@DOMAIN.HIDDEN">russell.fiedler@xxxxxxxx</a>;       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=csiro.au</li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@csiro.au header.s=dkim header.b=kVmC5sgD;       arc=pass (i=2 dkim=pass dkdomain=csiro.au);       spf=fail (google.com: domain of prvs=414db925f=<a href="mailto:russell.fiedler@DOMAIN.HIDDEN">russell.fiedler@xxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=prvs=414db925f=<a href="mailto:russell.fiedler@DOMAIN.HIDDEN">russell.fiedler@xxxxxxxx</a>;       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=csiro.au</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@csiro.au header.s=dkim header.b=kVmC5sgD;       arc=pass (i=1 spf=pass spfdomain=csiro.au dkim=pass dkdomain=csiro.au dmarc=pass fromdomain=csiro.au);       spf=fail (google.com: domain of prvs=414db925f=<a href="mailto:russell.fiedler@DOMAIN.HIDDEN">russell.fiedler@xxxxxxxx</a> does not designate 65.127.216.229 as permitted sender) smtp.mailfrom=prvs=414db925f=<a href="mailto:russell.fiedler@DOMAIN.HIDDEN">russell.fiedler@xxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@csiro.au header.s=dkim header.b=kVmC5sgD;       spf=pass (google.com: domain of prvs=414db925f=<a href="mailto:russell.fiedler@DOMAIN.HIDDEN">russell.fiedler@xxxxxxxx</a> designates 2405:b000:e00:257::7:43 as permitted sender) smtp.mailfrom=prvs=414db925f=<a href="mailto:russell.fiedler@DOMAIN.HIDDEN">russell.fiedler@xxxxxxxx</a>;       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=csiro.au</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:content-transfer-encoding:mime-version:user-agent         :date:subject:from:to:arc-authentication-results         :arc-message-signature:arc-authentication-results         :arc-message-signature:message-id:arc-authentication-results         :arc-message-signature:dkim-signature:arc-authentication-results;        bh=lVLM7Ba7YLLPT8M+X1XrKmOUjJdlgb31EiDB1iEadlc=;        b=VgFCkSZcg7SAJWGCq2pssrZVVZVmrEcnGjAGWbCTdu+DmTkz6pHFVtk7NY2N36uEOx         aV2pC7hTeP7YgWeU1vm2uERDkavm4MqIZRjw6fU0R8csfLjbe8tP2vbc4Ar9B2ZaRLeN         dW291hRz9gTny/92N+8KXbpB5l4ta4m4vbMv+H8dI7cMSTs+V2JLGXhRxuSq1nbg4b6K         7/qd4CUII+ps2K9BO3+KSFsZ9b5PrLoEi6UYQltZRRxGTFqZ6GzaEbHPclIKpABLQGif         cZm+0yRdApo9s3o7DadSnS29ejOB/HL0pHEMpnIIyUOoL26cDV26BXKbCDoNkjQt0Bww         7Tww==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:mime-version:user-agent         :date:subject:from:to:dkim-signature:arc-authentication-results         :arc-message-signature:arc-authentication-results         :arc-message-signature:message-id:arc-authentication-results;        bh=lVLM7Ba7YLLPT8M+X1XrKmOUjJdlgb31EiDB1iEadlc=;        b=cjQ7WIXTFPwvJt8oFR9z70k2ExQxsqftiPrxbpeBPGLupZBoLVWFnXX6vZo0irZqNm         3k3Vop/tStnOgrowtRfSLqJxG3bIUqtni9uZvmUll8ymiTSCn20EfCoZi/nK8rj17X6m         zYRZf4ygF+NRFzFnqi3pzgkMNMvmYP9rvzEhOlAmhoqCz4ZHkz+gQPQfTevzL3Tk3jES         96fk/ahAYSHqXD0Toi5vYg0Xx6eN8hr6l+rwnlBOANdUlMJZ0dLrt/MuTHEToZkAetk0         ald5AJZzxRKbOE4Sq3sQ1urgnuWOPZrsfR8VQc/szeps7uVtAA8CioLDlNflOXRx3yVt         2LEw==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:mime-version:user-agent         :date:message-id:subject:from:to:dkim-signature         :arc-authentication-results:arc-message-signature         :arc-authentication-results;        bh=lVLM7Ba7YLLPT8M+X1XrKmOUjJdlgb31EiDB1iEadlc=;        b=sXFer8Noy7qzyrIxtFa0DaPPrAzUfhEAIeXJGJKUjjiuvSriecnv/BeH08GwDBhGM0         l739lUG3SSlkWxYDAIa5Oim/NDzvrgvixdm6ForjC6a+H5CFbkDFTSMLN4fudBKlENLW         s64lNoEuqApT7n4mgyy/8XewjFbuuvI+2c2LjRYlf4gLWZDMgOz01cDpa3+yx6H3kS0T         QCjVQwYcP3sjXFJiUPW2plz3TKtDuW99/DbVS+BWCvaKVZOxmVUNqSIgHqd5rP8cAdv2         gzfg/fNJfCrcPqDAnmoBDm5NCiSHsclSAMSDT/pwc+xWp8rizLt7h7XMcWysQH7M2zUG         83dg==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:mime-version:user-agent         :date:message-id:subject:from:to:dkim-signature         :arc-authentication-results;        bh=lVLM7Ba7YLLPT8M+X1XrKmOUjJdlgb31EiDB1iEadlc=;        b=fDJjcXgRMRW7560eIfiBR79JpmxqeiLtvJgL++GfQslfwYsxPLSpK0YeKZLN8957du         XBOQ3jGzvh9gaB4XYj6+RpqP4IgVw6ss8US0w8bmsooFjgYUk0NXQxCeSxrwGiRL0iij         LJibfbvwS9DNt0kodBJkWVX+l6yn6qAbgeoJ4DkMhXrc4ktBqOFSuP3oHC3lbdJJsO6/         0ijzyd1nsZvMAkRh7JbLkRRVihL5CKlC9Py6JbGr7ZKJ10PeGEVCDy0SVyO0HLp3AaYi         aDRgquULywWioTM+i1fye9zH70SZ1k+kA60GUlk/CIXqY8qGe1cdf/gtDI2LKOlBR9L6         HsSQ==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1504598476; cv=pass;        d=google.com; s=arc-20160816;        b=CReq7C3WHYfbgZ0jg7SWdhxLusPbRxoxhd7PKb84GaZTGsYMJU/izjbpmPI2pFgqRG         u0/nAkNHERnc6EwZungG7SbUn39deoXFwcR3FASSa/BN7MZ+9uTfqJYpBYj6chBztbHs         5m0FFV3KEyaNJ0AbPcHFNy7UIMuixB4JV0PJC9tkieB5RzIdSfTs/qoxPwx9xvAQxQYF         3NTFhT6A/VbVM9+s8jwIU8cxeVV3V2hkzuS5+zTjm732FVtUqFsFNrQnDcjCrCQrhpfA         TQLyQy3xmmZvbB/H8kOY90jJOz7kem2Np2DO1ODKqi8ssCQbPBJd9SA6BZOwqm/KLlOm         POjQ==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1504598476; cv=pass;        d=google.com; s=arc-20160816;        b=JT26EpiY1MxPy6c29kC8CcNRvziVhenAZOtzb0pmA+htveezwonfLadf6/mGZZnjkc         vWHgHFv0q4RZcP756nklgX0JdT/TcZ8GqvURnr545VAdmqlyKG773sBFE8qYY+AW4hh4         64uEV5u8+Vy8AJK3OuwMpzCqmxea/1j0951dUHuTjTvk6Ses4Zm1HF9Abl7enfPjMxLi         yCms7nDU9QNnll2bND24Q1NEI9IuX/N9sE+uTYplLl+YQoqHls1u4hKzxYGV7A83J49Z         e8/cSqMgFSXeqbhL0xTKil2EQPja4SC4wrjoUJtHE3CnvrN8NORE4PooR8WUCQ6+zvrJ         ZzZA==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1504598473; cv=pass;        d=google.com; s=arc-20160816;        b=m4GrDZ6t4M58ndhKaZCaSzIxBD2eT8PmUV+znHJT+BF3yLaE1otfLOStZPkQNqnrlC         LEG125GFs48TRMBkSPpNYlElQh64KElvrB6b8Gthss00pvHISHusirkmbhJzNqlxR9mB         3H6QDmohAK+/6py1wasQ0Z0MhRKD9VvIc04dsFr1epQKpxnifZDEP4hM3bJtZTWTIYU2         2XOevEnV5I+zNKgMg15dNgGCj4iXDCiDRFXS4qDOQC/lbDPxMfULX5vlazK0maIkzJYD         1hXTORb5U8u9TQ/GPQpD28qWT8Qe/Xa1dnLgvw2CWj/xd80mnfh0Uv9Y4Pp2SShf+g+V         M+jw==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1504598467; cv=none;        d=google.com; s=arc-20160816;        b=oJhHeJbe6K8L1fbBc+kNsBBgv1IwyPtPJjU2USrcv+Po55HID+GCK69kAWdkglzTPo         +M+jztPs/4V56Ec6n1m8DCMGedAE/cNDN4cMxtlFKb52Z3F5FXVIaHm+xT8yfmBa7hV8         RJH7Q5eDFxW6yZa6VhQ6+nUYdNgqAhmK6uhXNw11rTGxuVgwXtZgw6HVoPCeQHocHGPU         qwqiQ725AcNJIv7gdaxJYS3uJAJaHZ+FKHpB+u63YPDUv53lU4pRkNSGypC9ydclCdeW         hPnFRlu0ogFJcDUqmq2Q5cd/ubE4nM0jo6flv5cqaM2kPShzNkhMcijU8bxnXKR8a33s         E1Sg==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=message-id:to:from:subject:date:user-agent:mime-version         :content-transfer-encoding:content-language:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=lVLM7Ba7YLLPT8M+X1XrKmOUjJdlgb31EiDB1iEadlc=;        b=nI1Y/fFMfRvmgHcJbCIOc7iJ8noqMGMFger9vXAvxlSMsR83VIE2nVYZiAwhtr5cs5         q5nce80SxJ4F2Nl2v7K8XXpO/J3DwukPYICDdq79TiEJz4suDTXBdF6JhzWaqW0EkkEY         HnFlb03T0pfv/9IYo18nTCbcSc9XIolCREaOUL7VnoRMZxcE4qSwJz/RgtD0gjlYPFWE         kC62a0A2H/AZ+MGvT54ZOIHLvm0wNB7q8fWPbUqv36VxyXiuRTWLA38ofO+e/CUQE+rL         Qg8JfwEbzSnHEWtewu/HLeLToR+sruZyviJ71b5z+UtaaxCtfVyokC1DcWANaobShSP9         yjcw==</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Thunderbird/52.2.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">

Hi,


</pre><tt>I'm aggregating some files from MOM output data with TSERIES but Ferret 
</tt><tt>insists on making the time axis &quot;modulo&quot; for some reason.
</tt><pre style="margin: 0em;">

Issuing &quot;CAN AXIS/MOD time&quot;  fixes things but it's a pain.

Each file has 12 months of data

From an ncdump on a file

...

    time = UNLIMITED ; // (12 currently)
...

    double time(time) ;
        time:long_name = &quot;time&quot; ;
        time:units = &quot;days since 0001-01-01 00:00:00&quot; ;
        time:cartesian_axis = &quot;T&quot; ;
        time:calendar_type = &quot;NOLEAP&quot; ;
        time:calendar = &quot;NOLEAP&quot; ;
        time:bounds = &quot;time_bounds&quot; ;


There's no modulo attribute here.

But SHOW AXIS

</pre><tt> time      TIME                24mi   16-JAN 12:00 16-DEC-0002 
</tt><tt>12:00         &lt;---- start time has no year!
</tt><pre style="margin: 0em;">

It looks to be a problem when the base year is 0001.

When I changed the base year in the units string to 0010 it looks fine

 time      TIME                24 i   16-JAN-0010 12:00 16-DEC-0011 12:00


</pre><tt>On further investigation it looks like a general problem with having a 
</tt><tt>file with data only in the year 0001. Ferret seems to get a bit too 
</tt><tt>frisky and wants to make climatologies no matter what.
</tt><pre style="margin: 0em;">


If I load only the first year a climatology is automatically made

 time      TIME                12mi   16-JAN 12:00         16-DEC 12:00

if I load the second year by itself it's fine

 time      TIME                12 i   16-JAN-0002 12:00 16-DEC-0002 12:00


If I concatenate the two files using ncrcat no climatology is made.

 time      TIME                24 i   16-JAN-0001 12:00 16-DEC-0002 12:00

Cheers,

Russ




</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00624" href="msg00624.html">Re: [ferret_users] BUG REPORT: TSERIES creates spurious modulo axes</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00619.html">[ferret_users] running sum with restart after a missing value</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00624.html">Re: [ferret_users] BUG REPORT: TSERIES creates spurious modulo axes</a></strong>
</li>

</UL>
<center>[<a href="msg00619.html">Thread Prev</a>][<a href="msg00624.html">Thread Next</a>][<A HREF="threads.html#00623">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
