<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Set memory command not working -->
<!--X-From-R13: fnhenou enguber <ebuvgfeo2020Ntznvy.pbz> -->
<!--X-Date: Tue, 6 Jun 2017 15:57:39 &#45;0700 -->
<!--X-Message-Id: CAFXLzPh2Ag4mhPpSEC0H7gdEkorKx64WbTrSOFOKbu3NOuou6A@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAFXLzPgUW_J3opFpzx8m0mbhuOS7OZdqfMvzt9b0=&#45;f_86F8&#45;g@mail.gmail.com -->
<!--X-Reference: 0406c115&#45;fca2&#45;fa41&#45;b5ea&#45;04bbdf2289e8@noaa.gov -->
<!--X-Reference: CAELLC7U+EahOV6TrcSB_4fFbjDqyLKgVUUwgGBU&#45;1iMeP8KZVg@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Set memory command not working</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00393.html">Thread Prev</a>][<a href="msg00395.html">Thread Next</a>][<A HREF="threads.html#00394">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Set memory command not working</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Karl Smith - NOAA Affiliate &lt;<a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a>&gt;,        <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Set memory command not working</strong></li>
<li><strong>From</strong>: <strong>saurabh rathore &lt;<a href="mailto:rohitsrb2020@DOMAIN.HIDDEN">rohitsrb2020@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 7 Jun 2017 08:57:36 +1000</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@gmail.com;       spf=pass (google.com: domain of <a href="mailto:rohitsrb2020@DOMAIN.HIDDEN">rohitsrb2020@xxxxxxxxx</a> designates 2a00:1450:400c:c09::22a as permitted sender) smtp.mailfrom=<a href="mailto:rohitsrb2020@DOMAIN.HIDDEN">rohitsrb2020@xxxxxxxxx</a>;       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=gmail.com</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@gmail.com;       spf=pass (google.com: domain of <a href="mailto:rohitsrb2020@DOMAIN.HIDDEN">rohitsrb2020@xxxxxxxxx</a> designates 2a00:1450:400c:c09::22a as permitted sender) smtp.mailfrom=<a href="mailto:rohitsrb2020@DOMAIN.HIDDEN">rohitsrb2020@xxxxxxxxx</a>;       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=gmail.com</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-unsubscribe:list-archive:list-help:list-post:list-id         :mailing-list:precedence:cc:to:subject:message-id:date:from         :references:in-reply-to:mime-version:arc-authentication-results         :arc-message-signature:dkim-signature:arc-authentication-results;        bh=dKFpDBbPOg6F96qQBy7dyONWUcv75kQqxwTJgdAfjZ0=;        b=bnn8XpRwQwHCGJKqzJPzCjrVwy2KcfByTuSe/1KYL0yJhCiDizVfxaRUG7weG4egSZ         9uEtikQ+ovnYr97jBXMBg1Qum4D7+4TsDMD0xdwAzTdP+K0+CUt1PDDUr8WcZ5Cr+PJZ         VcLHiOXC+aPv/U8CK1CdzM6PaYvaQQulpYp2B6XYsk3F4+uGIJ8cdurFtlj1Qjx1IDTr         N0RmQkWiBLAJvkbmdDW1CVF/SjJVlexeccGmpckqeAf0ivUm/5butZsJfDaoRn6yBGSz         4U8IQAIUJsRZO0iJtvtW5OcvJJ5CBeuQ6iq/uk697LJlkKFUovOYTBXwgTtqocvhAc2Z         MJCQ==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:references:in-reply-to         :mime-version:dkim-signature:arc-authentication-results;        bh=dKFpDBbPOg6F96qQBy7dyONWUcv75kQqxwTJgdAfjZ0=;        b=NJ+ZMcSAdUGgQQRk0jbVY9WhFeV+qkDkawZ0yZ+CvD0VlbS2n4bRo7zO2VjgT7cNJC         XZydkaAUAJZeKgmNenDCDk/iXjnQdcrirdroF5Gp8RRMnn4nyj+sm3XbbX4sKhGxM6yX         xtnT5P5y7np0nz25Tptro+Wtza8tDBuc6WlvXPJjPXjH/UUIK+RIrEk0v23/5SlfFDIW         84mJKu+KWcDqoR5IzPXFjmubGq9r2ctaPubDU/6jpugrhzKeu0zkGXOMNZttKaGhbPP2         9UcLo+wjwPEaAykCr+BrGOsxhCLYmewDruhmBeGEvx7OY8NFAK0D/acDR/QiHvTePVd3         vwLA==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1496789858; cv=pass;        d=google.com; s=arc-20160816;        b=Y3uNvUCacEtzHHHPFc+EgPK+YjigiSJGVoKTS82Oe1t72+8ZKeWwe09pCB4HqCePmI         GPhNo7ffnfczc+Wyhzd6q5u9XSYuqyp9rpIJmMadE5Vi72x6rg7PTcU3bBV7lYjl+yd2         g1GYFQrR0Faqdw/yUi8DvJHzNJOBoz3wm9qbUrKBJxevdb5zIrfKENT1m410CTLMxH9z         nG+oZBTiMexI39B3qfetOA1cHJN2hJsZXUm7oKZx3Hh8hWknN7+DVWWXznm5I7l1K6ex         LCijnLbkASZDQFmOfSTEMBnVsM3yyMZBoZsD/WH5CnIIYjg3sENbxlBIn6i8GVG0k19L         Xizw==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1496789857; cv=none;        d=google.com; s=arc-20160816;        b=CuPTFTbeNVzFwGY/tATfMfnB+p7ezdXdctFHeYR1djBAtDKYci2uVOHbb8+N+scGZs         eP6LOH+7Acf5UtfbdG3ML5frVsllBw+hnhlMBfJ/lSlt49tfVwqhn68XzAsX4m1kKD3q         Sa2ofBnGP4cXTDz94vTDsw5VVOXNkxDLIZKHKQuWsUPjjUpSkL8sVQO4QuQYVGz8F4wT         gHgzinAmcqcJXzwcRDT9PWAN+wpNeAzkSpkmMRQ/fAkOVeFrXoIKzEzI3irWV5MKx6MQ         2pwDJOCrvwnplLKlBMB4PNadbNzxUS2L156qhYOsM5GNgl2yjaLg36PHoFNK5BQkKr1z         G91Q==</li>
<li>Cc: &quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;,        &quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=mime-version:in-reply-to:references:from:date:message-id:subject:to         :cc:x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive         :list-unsubscribe;        bh=dKFpDBbPOg6F96qQBy7dyONWUcv75kQqxwTJgdAfjZ0=;        b=o+FDyFFhK9k3EfpA4pCtBO8WJTSxgB+tiVtGl/Amf9340Yzks0aV5XZpmpFLpSTSBx         qTpwSJsouR7kOb1CpmlDaXy2MbhPAOmSDPwQjvWPZ5gRYSVwB5zhofIPU+o+Bbnl9Sz6         5IinzzJrFxITCcaQAz0Cj1Ij03FbBCtbq3d8TSxIoz3rOPHC10lA8eywc+MB7HjjZMHQ         gd3N/keQuIo581AhOisbzfpPgKTxtJaHqHqQN29pUF4CYe5M7NVYCMR7Hi1GD67ZO/zD         756CWl5C8UrLauk9KzYgNcbkILgVY91Uq0HCe/Dsd+S/PIWw3qFnZCtXtH7N2z7Y7hfN         Vx0A==</li>
<li>In-reply-to: &lt;<a href="msg00393.html">CAELLC7U+EahOV6TrcSB_4fFbjDqyLKgVUUwgGBU-1iMeP8KZVg@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CAFXLzPgUW_J3opFpzx8m0mbhuOS7OZdqfMvzt9b0=-f_86F8-g@mail.gmail.com&gt; &lt;<a href="msg00391.html">0406c115-fca2-fa41-b5ea-04bbdf2289e8@noaa.gov</a>&gt; &lt;<a href="msg00393.html">CAELLC7U+EahOV6TrcSB_4fFbjDqyLKgVUUwgGBU-1iMeP8KZVg@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><div class="gmail_default" style="color:rgb(0,0,0)">Thanks you all for your quick reply and best usage of memory management. I was unable to figure it out why the set mem/size=nnn command was not working as I was working with pyferret version 7.1. So I did the whole reinstallation from python to pyferret. Now its working fine. One thing I noted is that I was having a huge 4 dimensional data set of multiple files loaded and saving at once so it might created some problem with the memory allocation in processing the data.<br><br></div><div class="gmail_default" style="color:rgb(0,0,0)">But after the reinstallation every thing is working fine and I will break my script into separate saving files so in future it wont happen.<br><br></div><div class="gmail_default" style="color:rgb(0,0,0)">regards, saurabh &#xA0; <br></div></div><div class="gmail_extra"><br><div class="gmail_quote">On Wed, Jun 7, 2017 at 4:12 AM, Karl Smith - NOAA Affiliate <span dir="ltr">&lt;<a rel="nofollow" href="mailto:karl.smith@xxxxxxxx" target="_blank">karl.smith@xxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">For Ferret and PyFerret, the SET MEM /SIZE=... command will immediate allocate that amount of system memory to Ferret or PyFerret. &#xA0;(The updated memory management that will be in the next release will only allocate memory as needed for each variable, so this should be less of an issue in the future.)<div><br></div><div>Because of this, if you ask Ferret or PyFerret for most (or even more) of the memory on your system, your system may start &#39;swapping&#39;, where it starts using your hard drive to temporary store some of that data that should be in memory.&#xA0; Swapping greatly slows down your system, or at least any process - which might be Ferret or PyFerret - that needs the memory temporarily swapped to disk.&#xA0; So only request a huge amount of memory in Ferret/PyFerret if you really need that much memory to do what you need to do.</div><div><br></div><div>Note that SET MEM /SIZE=200 allocates 200 * 8 * 1M = 1.6G of memory, so don&#39;t put that command in your $HOME/.ferret start-up file unless you have many gigabytes of memory on your system and regularly work with datasets of this size.</div><div><br></div><div>Karl</div><div><br></div><div class="gmail_extra"><div><div class="h5"><br><div class="gmail_quote">On Tue, Jun 6, 2017 at 9:48 AM, Ansley C. Manke <span dir="ltr">&lt;<a rel="nofollow" href="mailto:ansley.b.manke@xxxxxxxx" target="_blank">ansley.b.manke@xxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex">
  
    
  
  <div bgcolor="#FFFFFF">
    <p>Hi,</p>
    <p>What version of PyFerret are you running?<br>
      <br>
      Memory allocation does not affect processing speed, but only the
      size of grids that can be loaded into memory.&#xA0; PyFerret and Ferret
      automatically do some operations, particularly transformations, in
      &quot;chunks&quot;, so that you don&#39;t need to allocate larger amounts for
      those tasks.&#xA0; It also automatically saves data in memory cache for
      efficiency, so as not to have to re-read data all the time, but
      will re-use memory space as needed. The next release has some
      updates to memory management and does this chunking <br>
    </p>
    <p>What response do you see when you try set memory/size=nnn?&#xA0; If it
      is successful, Ferret will say, for instance,<br>
    </p>
    <blockquote><tt>yes? set mem/siz=200</tt><br>
      <tt>&#xA0;Cached data cleared from memory</tt><br>
      <tt>&#xA0;yes? show memory</tt><br>
      <tt>&#xA0;Current size of FERRET memory cache: 200 MegaWords&#xA0; (1 word =
        8 bytes)</tt><br>
    </blockquote>
    If it is unable to allocate the amount of memory, it will say so,<br>
    <blockquote><tt>yes?&#xA0; set mem/siz=200000</tt><tt><br>
      </tt><tt>&#xA0;Cached data cleared from memory</tt><tt><br>
      </tt><tt>Unable to allocate 200000.0 Mwords of memory.</tt><tt><br>
      </tt><tt>Restoring previous memory of 200.0 Mwords.</tt><tt><br>
      </tt></blockquote>
    <br>
    You can also issue the &quot;CANCEL MEMORY&quot; command which removes data
    that is stored in memory but does not affect the amount of memory
    allocated.&#xA0; <br><span class="m_-7493821835874751573gmail-m_6589451686490394209HOEnZb"><font color="#888888">
    <br>
    Ansley</font></span><div><div class="m_-7493821835874751573gmail-m_6589451686490394209h5"><br>
    <br>
    <div class="m_-7493821835874751573gmail-m_6589451686490394209m_6043761780851857356moz-cite-prefix">On 6/6/2017 3:12 AM, saurabh rathore
      wrote:<br>
    </div>
    <blockquote type="cite">
      <div dir="ltr">
        <div class="gmail_default" style="color:rgb(0,0,0)">Dear
          ferreters
          <div dir="auto">I am facing a problem that in pyferret set
            memory/size=nnn not working for me.&#xA0;</div>
          <div dir="auto">It is unable to clear the memory. So the
            processing speed is too low. It suddenly stop working in
            latest version of pyferret for me. I did the reinstallation
            also but it is still not working.&#xA0;</div>
          <div dir="auto">Any help for this ?</div>
          <div dir="auto"><br>
          </div>
          <div dir="auto">Regards Saurabh</div>
        </div>
        <br>
        -- <br>
        <div class="m_-7493821835874751573gmail-m_6589451686490394209m_6043761780851857356gmail_signature">
          <div dir="ltr">
            <div>
              <div dir="ltr">
                <div><font size="4" color="#0000ff"><b><br>
                    </b></font></div>
                <div><font size="4" color="#0000ff"><b><br>
                    </b></font></div>
                <font size="4" color="#0000ff" face="times new roman, serif"><b>REGARDS</b></font>
                <div><font size="4" color="#0000ff" face="times new roman, serif"><b><br>
                    </b></font>
                  <div><font size="4" color="#0000ff" face="times new roman, serif"><b>Saurabh Rathore</b></font></div>
                  <div><font size="4" color="#0000ff" face="times new roman, serif"><b>Research Scholar (PhD.)</b></font></div>
                  <div><font size="4" color="#0000ff" face="times new roman, serif"><b>Centre For Oceans, Rivers,
                        Atmosphere &amp; Land Science Technology</b></font></div>
                  <div><font size="4" color="#0000ff" face="times new roman, serif"><b>Indian Institute Of Technology,
                        Kharagpur</b></font></div>
                  <div><font size="4" color="#0000ff" face="times new roman, serif"><b>contact :- 91- 8345984434</b></font></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </blockquote>
    <br>
  </div></div></div>

</blockquote></div><br><br clear="all"><div><br></div></div></div><span class="HOEnZb"><font color="#888888">-- <br><div class="m_-7493821835874751573gmail-m_6589451686490394209gmail_signature"><div dir="ltr">Karl M. Smith, Ph.D.<br>JISAO Univ. Wash. and PMEL NOAA<br>&quot;The contents of this message are mine personally and do<br>not necessarily reflect any position of the Government<br>or the National Oceanic and Atmospheric Administration.&quot;<br></div></div>
</font></span></div></div>
</blockquote></div><br><br clear="all"><br>-- <br><div class="gmail_signature" data-smartmail="gmail_signature"><div dir="ltr"><div><div dir="ltr"><div><font color="#0000ff" size="4"><b><br></b></font></div><div><font color="#0000ff" size="4"><b><br></b></font></div><font color="#0000ff" size="4" face="times new roman, serif"><b>REGARDS</b></font><div><font color="#0000ff" size="4" face="times new roman, serif"><b><br></b></font><div><font color="#0000ff" size="4" face="times new roman, serif"><b>Saurabh Rathore</b></font></div><div><font color="#0000ff" size="4" face="times new roman, serif"><b>Research Scholar (PhD.)</b></font></div><div><font color="#0000ff" size="4" face="times new roman, serif"><b>Centre For Oceans, Rivers, Atmosphere &amp; Land Science Technology</b></font></div><div><font color="#0000ff" size="4" face="times new roman, serif"><b>Indian Institute Of Technology, Kharagpur</b></font></div><div><font color="#0000ff" size="4" face="times new roman, serif"><b>contact :- 91- 8345984434</b></font></div></div></div></div></div></div>
</div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00389" href="msg00389.html">[ferret_users] Set memory command not working</a></strong>
<ul><li><em>From:</em> saurabh rathore</li></ul></li>
<li><strong><a name="00391" href="msg00391.html">Re: [ferret_users] Set memory command not working</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
<li><strong><a name="00393" href="msg00393.html">Re: [ferret_users] Set memory command not working</a></strong>
<ul><li><em>From:</em> Karl Smith - NOAA Affiliate</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00393.html">Re: [ferret_users] Set memory command not working</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00395.html">[ferret_users] sp ps2pdf ($ofname).pdf</a></strong>
</li>

</UL>
<center>[<a href="msg00393.html">Thread Prev</a>][<a href="msg00395.html">Thread Next</a>][<A HREF="threads.html#00394">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
