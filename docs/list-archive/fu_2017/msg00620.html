<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] running sum with restart after a missing value -->
<!--X-From-R13: Dlb Thehr <shehrNunjnvv.rqh> -->
<!--X-Date: Sun, 3 Sep 2017 23:28:06 &#45;0700 -->
<!--X-Message-Id: CAEwQpaJ1iCcRTZLMVX&#45;SaHYL8Sc6uX4tNKCOM+jLvHP6nQNgaQ@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: B34D41A4&#45;68F8&#45;40B9&#45;A68D&#45;C7A411568C13@usys.ethz.ch -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] running sum with restart after a missing value</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00619.html">Thread Prev</a>][<a href="msg00621.html">Thread Next</a>][<A HREF="threads.html#00620">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] running sum with restart after a missing value</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Thomas Froelicher &lt;<a href="mailto:thomas.froelicher@DOMAIN.HIDDEN">thomas.froelicher@xxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] running sum with restart after a missing value</strong></li>
<li><strong>From</strong>: <strong>Ryo Furue &lt;<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 4 Sep 2017 15:27:56 +0900</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=jnkA27Wd;       arc=pass (i=2 dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=jnkA27Wd;       arc=pass (i=2 dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=jnkA27Wd;       arc=pass (i=1 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> does not designate 65.127.216.226 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=jnkA27Wd;       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 2607:f8b0:400c:c08::22b as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence:cc         :to:subject:date:from:references:in-reply-to:mime-version         :arc-authentication-results:arc-message-signature         :arc-authentication-results:arc-message-signature:message-id         :arc-authentication-results:arc-message-signature:dkim-signature         :arc-authentication-results;        bh=7BliowIu/oRckHZxr7rH2iewMwkUILcpffPyQTMmq3E=;        b=qgfc2eSWfWbcLuKBVowepL7WJbZNFMYoP7Lwc6akjm+L5e6aG2aFwpcdk9hXxqNNlw         pnHSogx4D0yLLHBPLVitdotXuEfCbYXhuZKBowESt/0NUSKDIyGDCyeByeFchYnmVOpl         /vQQzCExxB73qeNvDlP4Qu2Rka3K5BoYSTFd/nvirt4WVmj/cfqtQ7xEDA5ob1AmLVRX         abmXiwZGgww77/+P03O5c68SMm8//Fo5s6G/01Y4lFxhlBec/ICcH9uybQD2xwkmUATc         ir+kUpww/DZh2p+085HDYNpYIDgFEDWiPJSRhfYtnIaJ5J6OhRrK3Vs5E6x6qsuz7+Gj         0Opw==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:date:from:references:in-reply-to:mime-version         :dkim-signature:arc-authentication-results:arc-message-signature         :arc-authentication-results:arc-message-signature:message-id         :arc-authentication-results;        bh=7BliowIu/oRckHZxr7rH2iewMwkUILcpffPyQTMmq3E=;        b=jyL8YExDqGfRBkouc53d2HH8u/7tlzN/Jy7GSWTzWqGtgDNAErIbupsUxeRmEvZSRu         k0ohRW3atFxmx9se0Qyo6hcz+PQp47oE0DRIfOGB1xv4iN+C4/8sFFP5TYZ9eaTnQuxI         fSfnHxqe5AXXfp7UVLIrLJ3kx4lD3LVQ+0NqOHMCscxNpS2WbOtKfdXM2duwr6SKElZ7         RzgJOp0sYifqON9f3tjLVC+vK2qPrYt/s5Bt/42SAmCw/DV3Ny8H2iIvVBLuRk8KhTt8         3PCL8IZhv/CfrcC6uq1d9VQ0aLUz348XKZifzHN5vIMg9WWdaOvv4pjDdOwLUsOfhdPX         aIRQ==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:references:in-reply-to         :mime-version:dkim-signature:arc-authentication-results         :arc-message-signature:arc-authentication-results;        bh=7BliowIu/oRckHZxr7rH2iewMwkUILcpffPyQTMmq3E=;        b=UScQsJiVZF+jx1cStFon1EItUgfbmaSlXL4JK7bXC0Zs3jsmlxo0Tli13cyj8sp0zl         WjN0qZAnfUgt4YQd8yyJkRFbzBGLeSAEfHspOAH88x1yuVSGh/0ztB9BjV2+j3+FGLpP         dYE9PPMI2GX2YKmaWIuzqnaNDwWEHnms2Rml5BTtEqgb84VdiedhMytgvGgGZfQzuePL         l2cCRGEu/RONOJrO4rI+IMAbfXEGV5aDuUFvFcuw4rRTFP796VfrBtqpSVId5eUx6d9E         a4KCYzsTGfWvtgdn7fc+JkxDgkRPqQpS+HsDgJHKslAddosF9aW8/EKgePSCcyqZhpK4         eEcw==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:references:in-reply-to         :mime-version:dkim-signature:arc-authentication-results;        bh=7BliowIu/oRckHZxr7rH2iewMwkUILcpffPyQTMmq3E=;        b=YkBwey7nyzkyKbzT7hyET6k4syyKyV4NF3w21UHQ773CARslm57fWdBnZM1eP3TGdg         y1nnBm6UPLf2Hl4K9o+DPIbLxYlLh2yhsy3qWHdNQ4PNsNAxGp2v4e+SjobUUcICUsu1         t2XTvajWHhYxfBBuddQBUHmzRbsCslU0reCdqL95xrlcPPCM+HBfwx9kArDljWAsdLbB         nhcwDxRpfZ/a+AlKY4KRgeI7KQWzTqzY+8EKVh0koDP3DSfoq1hQ2280M9P4baDS/+sf         HMffyGWOGouQBrr0YigCBJ/Xyp1W5fhX1c5CRxf/pDY8ljhr0gtQSo18tVUvHlEbBW5i         tDhw==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1504506485; cv=pass;        d=google.com; s=arc-20160816;        b=Gl1Zkd925zu9nhY+KIzGewxGdXsS+WlNQkcr8SHSU1b0Jh6S1jeMNUh4tGI21BqNwg         oLcRbKSCzG5cW+NFNujcxGdeMM0nmyqNePWCD5eYGADSXC0/l10FAmL0EE+9wMQaizfb         TKWjOvvcQA2OshXLuYSZbqJEbpJ3MprD8qBh16TToRblhErOpF0+aIfMZZc4pxfIM4sn         n3wGfXJcy8DzoPLpakYMG6hnE75BjszRiahenp1gX/bvN60aowmIGQxrDgAILQGu9/1h         fn6I8Ko2FWib+g+TiH5Er0TC6sRJ5FeQSdZszgkw77ypLtz9/UYCpPvkKnItbfgJBj9G         bpdQ==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1504506485; cv=pass;        d=google.com; s=arc-20160816;        b=vN6dFsy9x6W+vYcXQbQ/cTirDaiZnYNQcjYe0SUC/dmmlklJ9p0IgQEW3//PgWAHHV         A+lz/Z3mCZM/it+WZ3/OO7SP8h61I7KLQ+iknfv1wfq7jsBAKmWzrHzLeh29mloXZGfY         XSCKf1WwyuDTm/1ZAh5ujNpY1aYj0TR2tTvFYYYhC0z8aYAocn1clhVZzW9Oqa7HpKPR         PME2yWyDBp5BO2hHyS0pyBUUD/+/q5uFuP+d3gh7OmZoCo7gIkqjoJ8c+1X6Pa8bfJSB         cc0fJs6S+heMBXtbaFwhMsFm/w5sW3qqeR1ZIjehxxbHBZGnfg3sc5+ElTfp2yJy92Xl         0bNw==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1504506482; cv=pass;        d=google.com; s=arc-20160816;        b=ICy021n9s7K7tRs4pVsIPb6KT+6JfhvNCJK7mRssffo+ALpHd1xdRPad+EXK166XOx         DmjUbQulUs0geKRDFMAlb9uLyaOEFqCNw697CM48ALJ2pC7NmxsBoaeAmMzRTTf2k6UB         x8vcOEnUTMlx0JbjD5eP+fFiiKiR5r+XnGtvSpmi07si2EyRuXMfyNLmWFKLjB7ubTmr         QeMYKeKgemtGvIgOl4Yxo7CXscpSlISI417KQWCL7q2KSvYhHQrBgsBWb9ohooRvUsL1         Hi2BPsgI8MD2NnEyKUMBUAwjbnZU6zcOQc45VkfZvB1ES/p6hU2R7xUxJusvBxTWPHld         uRDQ==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1504506477; cv=none;        d=google.com; s=arc-20160816;        b=dqs4mfIeSoQSNy4UvNMjUUtQifnBbz8f6dcChPH8Dw6S7+IGsMjh8nQlKT8x+26SYm         KxkhXbLIipVw3QRG+6qCzQQHakZjlMknQH7Fa1SqbIeZpEMgLgpLTirxRvvi5vNISnR7         cK54qqKvTPwrpmmNvDI8I5d0VQOBngK1Vw/DHiV1tvXGm+MF80vnxET+a4gSv5Phijgg         hdqyGCM2pfTObm0pETF07F5S84T0yLs7hM8ajo6KOFdOA0cNDcYwWJdiYu6ZoKdkSWwy         oko2aRMAuSd6b7kKro+fLz252BsRPqeN65dTrc3NkDqtmo7vKaMV6v96ArJa5K3TtDED         M8zA==</li>
<li>Cc: ferret users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=message-id:mime-version:in-reply-to:references:from:date:subject:to         :cc:x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=7BliowIu/oRckHZxr7rH2iewMwkUILcpffPyQTMmq3E=;        b=ObkmzBPx5WrWh+T7nJg9gfh0RfZ64Vg+BbYz/NMoH0X8WIPlq1ZYUdV6+aKxR6NptE         PHSqO+IYz45SW5npP4KtXjFlaRtVlVAvvaeKCPMCYmq+2/3A0ebtWYQ+QGXqZaw4qOY7         vcDZSH2PLIKQQCxWm82ZjulcKC0xa0pBKWg5cYxGXJhbSTplzAPSL68tVXS3J8mmTNdS         IV+UxeFI3ipoabXJvTgD5Mwp7oSKiL8VQ5dIJg/YjCO/r7QCT5uSSjMXOoN2rfNCoPVZ         eUr3gzTUICjRVpWNSScGwPmTZPcD+w0dzcRJTIoBDdkVZ+zmNNNcAidad6sy3Aq6EQyQ         99qg==</li>
<li>In-reply-to: &lt;<a href="msg00619.html">B34D41A4-68F8-40B9-A68D-C7A411568C13@usys.ethz.ch</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00619.html">B34D41A4-68F8-40B9-A68D-C7A411568C13@usys.ethz.ch</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Hi Thomas,<div><br><div class="gmail_extra"><div class="gmail_quote"><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div style="word-wrap:break-word">I would like to calculate a running sum over multiple time step, which however restarts after a missing value.<br></div></blockquote><div><br></div><div>That behavior seems to me to be inconsistent; that is, @SUM skips missing values and gives a sum of valid values, whereas @RSUM stops when it finds a missing value.</div><div>&#xA0;</div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div style="word-wrap:break-word">Is there a simple solutions in ferret?<br></div></blockquote><div><br></div><div>If you just want to skip the missing values in your running sum, you want to assign zeros to them. This is a contrived, simple example:</div><div><br></div><div>&#xA0; &#xA0; let var = TSEQUENCE({1,2,-1.0e34,4,5,6})</div><div>&#xA0;&#xA0; &#xA0;let var2 = ifv var then var else 0<br></div><div>&#xA0; &#xA0; plot/line/symbol var2[t=@RSUM], var[t=@RSUM]</div><div><br></div><div>Hope this helps.</div><div><br></div><div>Ryo</div></div></div></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00621" href="msg00621.html">RE: [ferret_users] running sum with restart after a missing value</a></strong>
<ul><li><em>From:</em> Fr&#xF6;licher  Thomas</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00619" href="msg00619.html">[ferret_users] running sum with restart after a missing value</a></strong>
<ul><li><em>From:</em> Thomas Froelicher</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00619.html">[ferret_users] running sum with restart after a missing value</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00621.html">RE: [ferret_users] running sum with restart after a missing value</a></strong>
</li>

</UL>
<center>[<a href="msg00619.html">Thread Prev</a>][<a href="msg00621.html">Thread Next</a>][<A HREF="threads.html#00620">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
