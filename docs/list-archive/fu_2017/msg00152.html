<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] build pyferret_v710 -->
<!--X-From-R13: Yney Ezvgu &#45; @AOO Ossvyvngr <xney.fzvguNabnn.tbi> -->
<!--X-Date: Wed, 1 Mar 2017 11:11:48 &#45;0800 -->
<!--X-Message-Id: CAELLC7WNJnnstvRWJ3nqb0v2fr=spSMAajYzdYwA7&#45;r1tb2cCA@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 0905da04&#45;e348&#45;9480&#45;72ac&#45;820694a74dd0@legos.obs&#45;mip.fr -->
<!--X-Reference: e7d5c6a2&#45;918a&#45;3463&#45;8788&#45;442ee8b1c0d8@noaa.gov -->
<!--X-Reference: a82228e5&#45;3688&#45;3d07&#45;25f8&#45;aa2b3e706449@noaa.gov -->
<!--X-Reference: ab4ec326&#45;1acb&#45;f51c&#45;e157&#45;e21ba3183fec@io&#45;warnemuende.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] build pyferret_v710</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00150.html">Thread Prev</a>][<a href="msg00130.html">Thread Next</a>][<A HREF="threads.html#00152">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] build pyferret_v710</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Martin Schmidt &lt;<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] build pyferret_v710</strong></li>
<li><strong>From</strong>: <strong>Karl Smith - NOAA Affiliate &lt;<a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 1 Mar 2017 11:11:45 -0800</li>
<li>Cc: ferret &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=mime-version:in-reply-to:references:from:date:message-id:subject:to         :cc:x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive         :list-unsubscribe;        bh=NYNpFZwOkm5wFoTNn9lcZki/0P5/5ufMG5+X5UKi1YY=;        b=hKO+lYiIhqTlp9+kuywoF2lKxJw4xIbzBj+DOSPKe1JIaQdzcqA1Pl5arxIMsmjPEi         kTJWZoTyqHliksxZVmz4Z26AGqHdUZfCF+29StxKcoG4M1/c6TbnPfpQnPsiRcEdBddm         +aflfSlaxtmuRoMWVdPunVqqbUL51ZErcEU25BYax9FY3HtBSgDQDhLMDEfEJpRIuybO         NvfAzuYNRk1XDjyfmcvSbsKyTYQh1QmIcy3S22iqYGcp7ae+nl9psKmEfGSAQugOpi0F         M7i1Q6pC/qMzyf67IvnnhJGKAIeAtUefJZLH4osL9+kB22NLDD95X7b+bnt6V3EizTJC         b5fg==</li>
<li>In-reply-to: &lt;<a href="msg00150.html">ab4ec326-1acb-f51c-e157-e21ba3183fec@io-warnemuende.de</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;0905da04-e348-9480-72ac-820694a74dd0@legos.obs-mip.fr&gt; &lt;e7d5c6a2-918a-3463-8788-442ee8b1c0d8@noaa.gov&gt; &lt;<a href="msg00129.html">a82228e5-3688-3d07-25f8-aa2b3e706449@noaa.gov</a>&gt; &lt;<a href="msg00150.html">ab4ec326-1acb-f51c-e157-e21ba3183fec@io-warnemuende.de</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><div><div><div><div><div><div><div><div>Hi Martin,<br><br></div>Since you are getting to the &#39;yes? &#39; prompt, it appears the main pyferret module itself is not the source of the problem.&#xA0; Since it appears it is when you try to open a displayed window, it probably is the pipedviewer python code (which is part of PyFerret) causing the error.<br><br>In this release, all the python code was updated to work under either Python2.x or Python3.x, and use PyQt5, if available, otherwise PyQt4.&#xA0; So one thing to see is if PyQt5 happens to be installed in your python2.7, something like:<br></div><br>$ python2.7<br></div>&gt;&gt;&gt; import PyQt5<br></div>&gt;&gt;&gt; ^D<br><br></div>If the import was successful (no ImportError raised) then that would be one difference from earlier code.&#xA0; My understanding is that PyQt5 really needs Python3.x, so this combination could be the problem.&#xA0; There were also some changes to the python code for the 2.x and 3.x compatibility, but I am not sure why those changes would give the error message you show.&#xA0; <br><br>The viewers have little tests that are easily run:<br><br></div>$ cd $FER_DIR/lib/python2.7/site-packages/pipedviewer/<br></div>$ python2.7 pipedviewerpq.py<br></div><div>(This will display a little dialog box with a button.&#xA0; Every time you press the button it will print a drawing command to the terminal as well as issue that command to the viewer.&#xA0; It should display a window, draw various things to that window, save the final plot as a PDF and PNG, and exit.)<br><br></div><div>I suspect that when you run this test you will immediately get the error message.&#xA0; If you do have both PyQt5 and PyQt4 in Python2.7, you might try commenting out the attempt to import PyQt5, and just import PyQt4 instead (in all the .py files in the directory).<br><br></div><div>Karl<br><br></div></div><div class="gmail_extra"><br><div class="gmail_quote">On Wed, Mar 1, 2017 at 9:18 AM, Martin Schmidt <span dir="ltr">&lt;<a rel="nofollow" href="mailto:martin.schmidt@xxxxxxxxxxxxxxxxx" target="_blank">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Hi,<br>
I am trying to build the new pyferret. The machine is the data processing server of a compute center. Hence, the linux release is not the most recent one and many libraries and python are not in the system path but are available via a &quot;modules&quot; environment.<br>
<br>
Anyway, with gcc-49 and python-2.7.6 I could build pyferret_v700, which works very well. But trying to repeat the compilation with the new ferret release I end up with<br>
&#xA0; &#xA0; &#xA0; &#xA0; NOAA/PMEL TMAP<br>
&#xA0; &#xA0; &#xA0; &#xA0; PyFerret v7.1 (optimized)<br>
&#xA0; &#xA0; &#xA0; &#xA0; Linux 3.0.101-0.47.86.1.11753.0.PTF-<wbr>defa - 03/01/17<br>
&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;1-Mar-17 18:07<br>
<br>
yes? set win 1<br>
/sw/tools/python/2.7.6/generic<wbr>/bin/python: symbol lookup error: /sw/tools/python/2.7.6/generic<wbr>/lib/libxcb-xkb.so.1: undefined symbol: xcb_sumof<br>
<br>
Before I pack and send the <a rel="nofollow" href="http://site_specific.mk" rel="noreferrer" target="_blank">site_specific.mk</a>, platform_specific.mk.x86_64-li<wbr>nux and the Makefile, which are mostly unchanged, I would like to ask, if there are changes in pyferret which may explain the failure. Is there eventually a workaround?<br>
<br>
Best,<br>
Martin Schmidt<br>
</blockquote></div><br><br clear="all"><br>-- <br><div class="gmail_signature" data-smartmail="gmail_signature"><div dir="ltr">Karl M. Smith, Ph.D.<br>JISAO Univ. Wash. and PMEL NOAA<br>&quot;The contents of this message are mine personally and do<br>not necessarily reflect any position of the Government<br>or the National Oceanic and Atmospheric Administration.&quot;<br></div></div>
</div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00129" href="msg00129.html">Re: [ferret_users] land_detail confuses boundary and river</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
<li><strong><a name="00150" href="msg00150.html">[ferret_users] build pyferret_v710</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00150.html">[ferret_users] build pyferret_v710</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00130.html">[ferret_users] specifying plot line colors</a></strong>
</li>

</UL>
<center>[<a href="msg00150.html">Thread Prev</a>][<a href="msg00130.html">Thread Next</a>][<A HREF="threads.html#00152">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
