<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] additional ')' in repeat loop does not lead to error but wrong values -->
<!--X-From-R13: "Dvrqr, Vryyn" <uryyn.evrqrNzcvp.qr> -->
<!--X-Date: Mon, 3 Jul 2017 12:50:02 &#45;0700 -->
<!--X-Message-Id: a1b22554&#45;927f&#45;917d&#45;b11e&#45;d6acd1697fe0@mpic.de -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] additional ')' in repeat loop does not lead to error but wrong values</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00468.html">Thread Prev</a>][<a href="msg00476.html">Thread Next</a>][<A HREF="threads.html#00469">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] additional ')' in repeat loop does not lead to error but wrong values</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>ferret users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] additional ')' in repeat loop does not lead to error but wrong values</strong></li>
<li><strong>From</strong>: <strong>&quot;Riede, Hella&quot; &lt;<a href="mailto:hella.riede@DOMAIN.HIDDEN">hella.riede@xxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 3 Jul 2017 19:49:52 +0000</li>
<li>Accept-language: en-US, de-DE</li>
<li>Arc-authentication-results: i=1; mx.google.com;       spf=pass (google.com: best guess record for domain of <a href="mailto:hella.riede@DOMAIN.HIDDEN">hella.riede@xxxxxxx</a> designates 192.67.218.51 as permitted sender) smtp.mailfrom=<a href="mailto:hella.riede@DOMAIN.HIDDEN">hella.riede@xxxxxxx</a></li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:content-transfer-encoding:content-id:fcc:user-agent         :content-language:accept-language:message-id:date:thread-index         :thread-topic:subject:to:from:arc-authentication-results;        bh=C7E24LRNsK9ST5XZBu1Zq3pg4O0X/icXc0fA06mOleY=;        b=BrNbAe1vt0UvLrplXYEZ1r92eFvZ7ms1HgnSrhEo7m+uJHfa4JB41shaFaLhBtBXXk         /vorZ9ByRduMvMIw9SF4jGg9vz/pEq+LrY6RVywlMivu++BB00J+OOaMeJdzYT1OmURo         16ORYpQA7kfK+Wk2N8ub4r6Cm7Rizhnua/8c1CBsf3JvKv19xOiK/KfVKT8tTfruZGOv         9u3jPZ1DSSSZiJGsGvsqLkA6jygjQwGUjNVz7WbaJK9w7/dkm+ylaVLRvIQRVdyNqSNC         envh1tcWCTjkSnMaoSchzgAlknFt+WEPOe0NIGLaTiV0hvs46mK870tM2MM2UpoJK6rc         JjRw==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1499111400; cv=none;        d=google.com; s=arc-20160816;        b=lJAJ7tsZ+ot5x7FphXzPR9ddl8ARiwFOsbzrIzncH1kas+c+wlOGqj3ecHmVsTJty1         WK+vzfx2N3jFGHTXjs/wp0hq4Kw/WfXdIBkeXCt+2oNxsFACx4lGSxDqyFpQvqoeriNV         /IiPH15MIejJYQATz3eziCNoXs/VC9qmw9g8g32xb1IRk8t+vS9IEbKDdSvFuc1jm3U2         K9Rs5Wg3m5gkTraeXxaVU1JPaOJi0oIdpt0I+f77v0s4hS/+LFpQbq7GR+Mr0cMfYG8D         aaIhZXIXlu8KZHx61gMY9tnyDe1Ww+sp5XfhvrT9U3gZtGYV7jy4uTEjSrbYSV0TTZ9t         woUw==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=from:to:subject:thread-topic:thread-index:date:message-id         :accept-language:content-language:user-agent:fcc:content-id         :content-transfer-encoding:mime-version:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=C7E24LRNsK9ST5XZBu1Zq3pg4O0X/icXc0fA06mOleY=;        b=aS/pB5zgYgxUZqIm8EvelkeCJQKRpOt4dGUkLDXTSgVtWtneLx79i4icTd2gVsErAJ         cEEXg+2IlEdYuIcDyHHzLqhkhqeJ0xORoC/pklFChmJVQSec6oxloOZv2ToEnfRKm5gD         lpBi2PlWrhxboV6V1g7GkGl7+y8trrDWk2Tc8Xwoly1tkAhqpG4psT+6riT8+yL9lFHE         vO+Lubw3HwBzHkS7gG8UmGHrtwixW56Aj7VyfT1YAjdSszqN17u1C5wqUFPwQMAqyRjV         Pglnp25jeBp7fY587xyiaKEDRmnrDCKgw+QPp/TUv/mw/7sbaTL6vr+bnktN2Fp+1jhP         VuvA==</li>
<li>Fcc: imap://<a href="mailto:hella.riede@DOMAIN.HIDDEN">hella.riede@xxxxxxxxxxxx</a>/Sent Items</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-index: AQHS9DB8ySIIvBmpI0+bKZkniB4qxg==</li>
<li>Thread-topic: additional ')' in repeat loop does not lead to error but wrong values</li>
<li>User-agent: Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Thunderbird/52.1.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Dear ferreters,


I discovered that an additional round bracket at the end of a repeat statement does not lead to an error that exits the command but instead carries on with wrong / old values. Some statements within the loop are apparently then not executed anymore. 


Here's an example where the loop works as expected:

 	NOAA/PMEL TMAP
 	FERRET v7.1 (optimized)
 	Linux 2.6.32-642.13.1.el6.x86_64 64-bit - 02/15/17
 	 3-Jul-17 17:53     
yes? repeat/range=1:3:1/name=count (def sym count = `count`; say ($count); message)
1
  Hit Carriage Return to continue
 
2
  Hit Carriage Return to continue
 
3
  Hit Carriage Return to continue



Here's an example where the loop has an additional round bracket at the end. The value of the ($count) symbol is not reassigned anymore despite 'def sym count = `count`':

yes? repeat/range=1:3:1/name=count (def sym count = `count`; say ($count); message))
4
  Hit Carriage Return to continue
 
4
  Hit Carriage Return to continue
 
4
  Hit Carriage Return to continue



Listing the variable 'count' as well shows that this values changes within the repeat loop as expected, so just the symbol statement seems to be skipped:

yes? repeat/range=1:3:1/name=count (list count; def sym count = `count`; say ($count); message))
             VARIABLE : constant
          1.000
4
  Hit Carriage Return to continue
 
             VARIABLE : constant
          2.000
4
  Hit Carriage Return to continue
 
             VARIABLE : constant
          3.000
4
  Hit Carriage Return to continue
 


So in this way one might inadvertently end up with wrong values assigned to a symbol, or at least other values than expected.



Best wishes,
Hella



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00476" href="msg00476.html">Re: [ferret_users] additional ')' in repeat loop does not lead to error but wrong values</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00468.html">[ferret_users] glitch in automatic shade color levels</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00476.html">Re: [ferret_users] additional ')' in repeat loop does not lead to error but wrong values</a></strong>
</li>

</UL>
<center>[<a href="msg00468.html">Thread Prev</a>][<a href="msg00476.html">Thread Next</a>][<A HREF="threads.html#00469">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
