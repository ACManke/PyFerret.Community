<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Change K to L axis -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Thu, 9 Feb 2017 09:55:39 &#45;0800 -->
<!--X-Message-Id: 1eeb79b1&#45;8321&#45;badf&#45;c0ce&#45;50f33f79088b@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 7E3928A2&#45;269A&#45;405C&#45;AAC3&#45;672BC5E1D093@geomar.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Change K to L axis</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00083.html">Thread Prev</a>][<a href="msg00084.html">Thread Next</a>][<A HREF="threads.html#00085">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Change K to L axis</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Change K to L axis</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 9 Feb 2017 09:55:36 -0800</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive         :list-unsubscribe;        bh=qSMbgsgSgAS6lsoyr8CUj3qbqt8fRVHBgY2BX9X2YLg=;        b=XzmbK77vTwaWJAmnFBMO6I43aazhjJuX9ustHUUwARcF81qhJX0p46gMS+a4Y1ATsF         5gZCtzYamFgEzuIr2HN8iExHiGzw43yWGI4nAvWp7dhKd78RnLchsIHd7XbUsn0cLbJS         OqL2YdZ6JM4Yfzij9rSXGacVwUvNmTkS8RGRwOW6XMNgKj0e1s9L2AFxxiUwID8wY5hH         g9pOHEKJEKiFwI3dVB99/QpFM5gb1Tab7bnotUAc1L5JtgsuINvyyEESBRcH7UpA0+EA         NOCwCQwrtJP7l+C2zEC9xLnz39p2OfkVH1odk1Yk+XVFSs5d4QNdX6jwNNbiCylswPqG         A72Q==</li>
<li>In-reply-to: &lt;<a href="msg00083.html">7E3928A2-269A-405C-AAC3-672BC5E1D093@geomar.de</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00083.html">7E3928A2-269A-405C-AAC3-672BC5E1D093@geomar.de</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:45.0) Gecko/20100101 Thunderbird/45.7.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    <p>Hi Patricia,</p>
    <p>If you execute the unix command,</p>
    <tt>&gt; ncdump -h myfile.nc</tt>
    <p>that will list the netcdf header for the file.&#xA0; It may show
      something that looks like this:<br>
    </p>
    <tt>netcdf myfile {</tt><tt><br>
    </tt><tt><font size="+1"><b>dimensions</b></font>:</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; dim1= 180;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; dim2= 190;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; dim3= 133;</tt><tt><br>
    </tt><tt><b><font size="+1">variables</font></b>:</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; double dim1(dim1) ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; dim1:units = "degrees_east" ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; double dim2(dim2) ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; dim2:units = "degrees_north" ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; double dim3(dim3) ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; dim3:units = "day</tt><tt>";<br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; float var(dim1, dim2, dim3) ;</tt><tt><br>
    </tt><tt>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; var:_FillValue = -99.9f ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; var:long_name = "Geo variable" ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; var:units = "xxx" ;</tt><tt><br>
    </tt><tt><br>
    </tt><tt>// global attributes:</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; :history = "written by ..." ;</tt><tt><br>
    </tt><tt>}</tt><br>
    <br>
    In this example, the <b><font size="+1">dimensions </font></b>are
    also <b><font size="+1">coordinate variables</font></b>, that is,
    in addition to being dimensions of the grids of the data, they are
    also defined as variables with attributes. The units attributes
    would be enough to tell Ferret that these are X, Y, and T
    dimensions. Attributes "standard_name", "long_name", or "axis" would
    also tell it the correct direction. If variables corresponding to
    the dimensions are listed, then the third dimension needs an
    attribute that Ferret and other software would use to determine that
    it is a time dimension.<br>
    <br>
    Some files have dimensions, but no coordinate variables. I suspect
    this may be the case with your file. In the example above, if dim1,
    dim2, dim3 would not be listed under the variables section. For this
    file you are correct to try USE/ORDER=xyt which tells Ferret to
    define the grid for the variables with directions x,y,t.&#xA0; You can
    use the data in your Ferret session, and it would behave as you
    would like. But as you found, when the data is written out it is
    unchanged.<br>
    <br>
    You can change the definition of the coordinate axes of a grid in
    the Ferret session.&#xA0; The most simple case just nails down the
    definition as a T axis.&#xA0; You could also give it units, such as
    /UNITS=days/T0=1-jan-2012, and even change the values of the
    coordinates if you wanted to.<br>
    <br>
    <tt>yes? use/order=xyt my_data.nc</tt><tt><br>
    </tt><tt>yes? show data</tt><tt><br>
      &#xA0;&#xA0;&#xA0;&#xA0; currently SET data sets:<br>
      &#xA0;&#xA0;&#xA0; 1&gt; ./</tt><tt><tt>my_dat</tt>.nc&#xA0; (default)<br>
      &#xA0;name&#xA0;&#xA0;&#xA0;&#xA0; title&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; I&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; J&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
      K&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; L&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; M&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; N<br>
      &#xA0;VAR&#xA0; &#xA0;&#xA0;&#xA0; </tt><tt><tt>Geo variable</tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
      1:180 &#xA0;&#xA0;&#xA0; 1:90 &#xA0;&#xA0;&#xA0;&#xA0; ...&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1:133 &#xA0;&#xA0;&#xA0; ...&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ...<br>
    </tt><tt><br>
    </tt><tt>yes? define axis/t=1:133:1 dim3</tt><tt><br>
    </tt><tt>Replacing definition of axis DIM3</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; *** NOTE: grid GHU1 used by data set my_data</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; *** NOTE: Redefinition may alter apparent
      contents of data set</tt><tt><br>
    </tt><tt><br>
    </tt><tt>
      yes? save/file=new_file.nc var</tt><br>
    <br>
    In the warning message, Ferret is telling you you're making a change
    to the grid of the data.&#xA0; But that's what you want to do.<br>
    <br>
    Now, from the Unix prompt,<br>
    <br>
    &gt; ncdump -h new_file.nc<br>
    <tt><br>
    </tt><tt>netcdf a {</tt><tt><br>
    </tt><tt>dimensions:</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; dim1 = 144 ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; dim2= 73 ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; dim3 = UNLIMITED ; // (132 currently)</tt><tt><br>
    </tt><tt>variables:</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; double dim3 (dim3 ) ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; dim3 :axis = "T" ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </tt><tt>var(dim1, dim2, dim3) ;</tt><tt><br>
    </tt><tt>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; var:_FillValue = -99.9f ;</tt><tt><br>
    </tt><tt>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; var:long_name = "Geo variable" ;</tt><tt><br>
    </tt><tt>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; var:units = "xxx" ;</tt><tt><br>
    </tt><tt><br>
    </tt><tt>// global attributes:</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; :history = "FERRET V7.032 (optimized)&#xA0;
      9-Feb-17" ;</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; :Conventions = "CF-1.6" ;</tt><tt><br>
    </tt><tt>}</tt><tt><br>
    </tt><br>
    <br>
    Ferret uses the CF conventions for netCDF files, and there's much
    more about that here:<br>
    <a rel="nofollow" class="moz-txt-link-freetext" href="http://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html">http://cfconventions.org/cf-conventions/v1.6.0/cf-conventions.html</a>&#xA0;
    Look at the sections about Coordinate Types, section 4.<br>
    <br>
    <br>
    -Ansley<br>
    <br>
    <br>
    <div class="moz-cite-prefix">On 2/9/2017 12:58 AM, Patricia Handmann
      wrote:<br>
    </div>
    <blockquote
      cite=""
      type="cite">
      
      Dear ferreters,
      <div><br>
      </div>
      <div>I was using the cdfgeo-uv tool.</div>
      <div>It saves the ugeo and vgeo files with the time axis in K
        instead of L.</div>
      <div>Is there a way to change the K axis back to the L axis in
        order to use other cdo tools afterwards.</div>
      <div>I already tried&#xA0;use/order=XYT &#xA0;and then saved the file - it
        did not help me a lot since</div>
      <div>apparently the axis is not changed for real.</div>
      <div>Is the only way to define a new grid?</div>
      <div><br>
      </div>
      <div>I would really appreciate your help.<br>
        <div><br class="webkit-block-placeholder">
        </div>
        <div apple-content-edited="true">
          <div style="color: rgb(0, 0, 0); letter-spacing: normal;
            orphans: auto; text-align: start; text-indent: 0px;
            text-transform: none; white-space: normal; widows: auto;
            word-spacing: 0px; -webkit-text-stroke-width: 0px;
            word-wrap: break-word; -webkit-nbsp-mode: space;
            -webkit-line-break: after-white-space;">
            <div style="color: rgb(0, 0, 0); letter-spacing: normal;
              orphans: auto; text-align: start; text-indent: 0px;
              text-transform: none; white-space: normal; widows: auto;
              word-spacing: 0px; -webkit-text-stroke-width: 0px;
              word-wrap: break-word; -webkit-nbsp-mode: space;
              -webkit-line-break: after-white-space;">
              <div style="color: rgb(0, 0, 0); letter-spacing: normal;
                orphans: auto; text-align: start; text-indent: 0px;
                text-transform: none; white-space: normal; widows: auto;
                word-spacing: 0px; -webkit-text-stroke-width: 0px;
                word-wrap: break-word; -webkit-nbsp-mode: space;
                -webkit-line-break: after-white-space;">Patricia<br>
              </div>
            </div>
          </div>
        </div>
      </div>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00083" href="msg00083.html">[ferret_users] Change K to L axis</a></strong>
<ul><li><em>From:</em> Patricia Handmann</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00083.html">[ferret_users] Change K to L axis</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00084.html">[ferret_users] calculating intra-seasonal rainfall characteristics</a></strong>
</li>

</UL>
<center>[<a href="msg00083.html">Thread Prev</a>][<a href="msg00084.html">Thread Next</a>][<A HREF="threads.html#00085">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
