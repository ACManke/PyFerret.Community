<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] memory problems in ferret 7.20 (pyferret) -->
<!--X-From-R13: [negva Epuzvqg <znegva.fpuzvqgNvb&#45;jnearzhraqr.qr> -->
<!--X-Date: Tue, 19 Sep 2017 15:33:58 &#45;0700 -->
<!--X-Message-Id: 85011cbf&#45;739d&#45;c69a&#45;5d66&#45;a72611e3aef2@io&#45;warnemuende.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAORxmhuDzG858S8HUnNzfEVMskemtzxX7BgQiPe&#45;bunN2zR+ag@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] memory problems in ferret 7.20 (pyferret)</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00637.html">Thread Prev</a>][<a href="msg00639.html">Thread Next</a>][<A HREF="threads.html#00638">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] memory problems in ferret 7.20 (pyferret)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] memory problems in ferret 7.20 (pyferret)</strong></li>
<li><strong>From</strong>: <strong>Martin Schmidt &lt;<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 20 Sep 2017 00:33:12 +0200</li>
<li>Arc-authentication-results: i=3; mx.google.com;       arc=pass (i=2);       spf=neutral (google.com: 52.222.5.176 is neither permitted nor denied by domain of <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>) smtp.mailfrom=<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       arc=pass (i=1 spf=pass spfdomain=io-warnemuende.de);       spf=neutral (google.com: 65.127.216.230 is neither permitted nor denied by domain of <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>) smtp.mailfrom=<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       spf=pass (google.com: domain of <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a> designates 192.124.245.147 as permitted sender) smtp.mailfrom=<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:from:references:to:subject         :arc-authentication-results:arc-message-signature         :arc-authentication-results:arc-message-signature:message-id         :arc-authentication-results;        bh=7z2dWlKcZA+mC0AborfuKhPxdjE8rwrznI/c/p5pA0Y=;        b=DQj2WONtGsDdqU0RMI94aJnjTnMcC7Wh5pd7ZeLKVMk9MYp8deald1koGQRLbVSsS5         F7MzjrvzunRiRaQcgT7893MbpVUPe00vMLdHQ/6GqIM2rgyU9Ge3E6dhvjiEOukf3HX1         pEZXMJMuU5zmKW7BQ0o85AbnDGQqOR7PhS74NhGBfbhEEIHvSliKGsb0bEQJnw3ZJVld         yh3ojwRySzKklTH5hqqDXkkeaqHZaU9BiOp3xneVrtB3InmoyJ3dzkU+jihuw3Z4Zfmy         41oTI6eUfr2zuqpl2dRO/85vpDdhG7wSWjGyy1r4wzhhkLREKTAxQms08VCOb72xIE3h         Iwmg==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:message-id:from:references:to:subject         :arc-authentication-results:arc-message-signature         :arc-authentication-results;        bh=7z2dWlKcZA+mC0AborfuKhPxdjE8rwrznI/c/p5pA0Y=;        b=iJpPXn3H9LugxeOD33qAOpdCc4XaPdqfsHpfiHQbuWhj9gEMZ8ysC4KEQXk3ZS8yn0         VgjM41HRPJ26UWUrSCHZ6tb/YHY1U26jtkTcgtgdaPXVgR2ngzJTEEsCymcwMC0av/nn         Z9WRUuYGNpuNqHbn9jyQDicZoktDjgpG+pHuAXuh4O7XluezTATctZvfaDwfA3pSmxA/         ZGyL+WqHGpGGj/KYuVBMqQMU5pl085R+2VjIZHQZq97yMHjiRCCl4wM8hPzmn3VLmdbA         gcCzx3VRuLK3GbkpxD1NfFhTTOiWHhQLdUMy+naWE7ELJY4lqSTe8fsrx7Ak0Ymm+2UP         7fXQ==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:message-id:from:references:to:subject         :arc-authentication-results;        bh=7z2dWlKcZA+mC0AborfuKhPxdjE8rwrznI/c/p5pA0Y=;        b=a7tPKGObfdpx1g+sAIzfvW6g4YJVWvcnEEs2J0xwga+TX3AFG3uR+ocQodXcp4M2v+         N4dRGE0F+sthf9oBCIP3IbBZiQwU1BCEepFi/2aOtcy5MtFxS+8JHFIJ7wKaL8LfFed1         HljLkPWiNCnnWlj9rI5UG02N4PbGqdNLp+83xHmUvgvQx7+MTcjmXO3qEDLzOC0XTG4f         jNXewfP2j0DDyh+l3uPpZS3+Ulp9Cbd0ci8Yf8GEuR4iR7pPiHokkKBjbm2EtXw5mgRb         F4940e2IUxVmuXEO7H4Jq8AmlsLPu+F4X1uKD/bL3C6mmQ/JdPxw/FjBFs45JQ/bY2V5         2jzQ==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1505860436; cv=pass;        d=google.com; s=arc-20160816;        b=cXxhzp/XBkoClfRzw3LJS3Hsky//zx6XR+IoJSn0eu2SKCkT2bQ/GX3HKRuMnqQlvf         taWgnqpXggm40xl+DP1OXAmq8nTze/hwT8jJ8dZYP1i4Q2bAEzwAPGcSWe1+Nw5fDJ/G         O8bIpvSml3WEeEoNPm51vyNZauOgP2QfCrbncude8yEhJysZAFjIIYHpokU8RTLUJkHW         ZQxb70vwAciXHGYaJH52d934e+pf8pH6fYVYA48fXKA7KgMkYX5PhM1/9YYCAAsgIQqY         YRfeg8Hv/t+rukGZHwB0ZU8o+6YLEipE1aBMJ2RTe4G5AxocbeAxfE3hKvQ9NyzKGHmY         RrXg==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1505860429; cv=pass;        d=google.com; s=arc-20160816;        b=F3BerQrPt0zwDKVkuZdELstPHzNxXoWi0xex6bPnIz8BCJjOvI3Gzt59LgISL1a8aG         Zk81lHYxWjzfLarBGBTYdOUIDkFzNfHzP0L8NXKVm5mBL9DlCb4CvbLtk1gj0+7Za7Ta         gz9NeqS8k/rnJv7ZNXnfjYlVlNOLZz0TYzhbTkQ7k5W7uUctKJN2RP842PRwdBOV7LKj         B/wxupadBSvUr/Vw735o7ihluFIXCpV8q7HXn2K4nK/ZVUUkGuHAwk1CEjRf9O3i3x8k         VhWO5o0OLXuoOjv5sw91MlxvWfDYN2QInHBfFWyr4lrgB6N9XO7Ko7VFPY2H/401UXn7         tRuA==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1505860423; cv=none;        d=google.com; s=arc-20160816;        b=oIKg23pR+KqAFKVQULijK2/RFlP9Xov4phFbuxKl/AhEa4G3dc5RehIvEmZmIu3/ce         co5+UkR8/u4p9p3Zjbw2/+mOVK0012M1Dw9yCtf8OL5B53eBubvkJbFX6zp8lUGryYjZ         KyokoKrlMwEyw3E7P+V7ojXMTz6XXYEGuStsXunnPnM9s5M3SAE5FQVPmWD9SlcnrdI6         dA7hTKyVBeGMzmAB6Tcz5uVlytxFqw8IiEeTchBPOwtMLpLDxuLS/W9vPrC/jDlg/txT         mk/J7ZOboOa7bHR4hjAZ6FRSB/zS1mUeZqgf49lj12uSNgD4q1SK9W/JTdf1O+6o0YBf         L1vQ==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=message-id:subject:to:references:from:date:user-agent:mime-version         :in-reply-to:content-transfer-encoding:content-language         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=7z2dWlKcZA+mC0AborfuKhPxdjE8rwrznI/c/p5pA0Y=;        b=ulFMklSWbcQ6fWG0Aa8BlWHZCkzQ0p/x7inrTEZgSea/Xuqi+HVeb81nVujp5EK3Ex         NwO2w61dW/OCqLBaVbE737/LHsNBjEPM8tq041owYVLa8nXRI0Yev9IUJcvqYjtIm1X5         45lehcntNthZEZCaEvGZ32Xl8TNQxV1MS1Y2SCdzFtNqtMmr7A7OF6r6BdEXOeygnz/9         gMwxNJ/98QRrP2KbHq4Z+K3s9dO0a05mcmkaFJUDI5ee8X9/pM4NJ5tBSVhnvwuxnMaK         uUM6Ru78GXsRvww8KuoEoa0gXBBRgoQEEPITuLCMMxj7ZWsE6hBNdbT/AqGGfAdUYpkd         o/dg==</li>
<li>In-reply-to: &lt;<a href="msg00637.html">CAORxmhuDzG858S8HUnNzfEVMskemtzxX7BgQiPe-bunN2zR+ag@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00637.html">CAORxmhuDzG858S8HUnNzfEVMskemtzxX7BgQiPe-bunN2zR+ag@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Thunderbird/52.3.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi,

I find a strange behaviour with pyferret 7.20

&lt;phy-8:mschmidt&gt;ferret
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; NOAA/PMEL TMAP
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; PyFerret v7.2 (optimized)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Linux 4.4.85-22-default - 09/19/17
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 19-Sep-17 23:27

</pre><tt>the binary is build on openSuse 42.3. netcdf/hdf/szip are build 
</tt><tt>separately, all other ingredients come from the system. The compiler is 
</tt><tt>gcc-5, python is 2.7.13.
</tt><pre style="margin: 0em;">

</pre><tt>The following example illustrates the problem. Averaging and integrating 
</tt><tt>a bigger dataset. Data are model results kept on a public THREDDS, so it 
</tt><tt>should be reproducable. I leave things as they are without streamlining. 
</tt><tt>Don't ask for the meaning ...
</tt><pre style="margin: 0em;">

</pre><tt>use 
</tt><tt><a  rel="nofollow" href="http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/genus_run_88_5day_ocean.nc">http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/genus_run_88_5day_ocean.nc</a>
</tt><pre style="margin: 0em;">
set region/t=1-jan-2010:31-dec-2010/x=13.5:14.7/y=-23.5:-22.5

let n2_prod_anamm = P_DET_ANAM_N2 * 13.25
let n2_prod_denit = P_DET_DENIT_NH4 * 5.3/2
let n2_prod_h2s&#xA0;&#xA0; = P_H2S_OXNO3_SUL * 0.2
let n2_prod_sul&#xA0;&#xA0; = P_SUL_OXNO3_SO4*3/5
let n2_prod = (n2_prod_anamm + n2_prod_denit + n2_prod_h2s + n2_prod_sul)

list n2_prod[x=@din,y=@din,k=@sum,t=@sum]

yes? list n2_prod[x=@din,y=@din,k=@sum,t=@sum]
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : (N2_PROD_ANAMM + N2_PROD_DENIT + N2_PROD_H2S + 
</tt><tt>N2_PROD_SUL)
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DATA SET : MOM4 Baltic Sea 3 n.m.
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILENAME : genus_run_88_5day_ocean.nc
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILEPATH : 
</tt><tt><a  rel="nofollow" href="http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/">http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/</a>
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LONGITUDE: 13.5E to 14.7E (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LATITUDE : 23.5S to 22.5S (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DEPTH (m): -0.0009867 to 5700 (ZT summed)
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TIME&#xA0;&#xA0;&#xA0;&#xA0; : 01-JAN-2010 00:00 to 31-DEC-2010 00:00 (ZT 
</tt><tt>summed) JULIAN
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1.263E+09

Now increase the region, the result should be growing significantly

set region/t=1-jan-2010:31-dec-2010/x=13.5:14.7/y=-28:-22.5 ! Note y!

list n2_prod[x=@din,y=@din,k=@sum,t=@sum]

yes? list n2_prod[x=@din,y=@din,k=@sum,t=@sum]
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : (N2_PROD_ANAMM + N2_PROD_DENIT + N2_PROD_H2S + 
</tt><tt>N2_PROD_SUL)
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DATA SET : MOM4 Baltic Sea 3 n.m.
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILENAME : genus_run_88_5day_ocean.nc
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILEPATH : 
</tt><tt><a  rel="nofollow" href="http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/">http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/</a>
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LONGITUDE: 13.5E to 14.7E (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LATITUDE : 28S to 22.5S (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DEPTH (m): -0.0009867 to 5700 (ZT summed)
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TIME&#xA0;&#xA0;&#xA0;&#xA0; : 01-JAN-2010 00:00 to 31-DEC-2010 00:00 (ZT 
</tt><tt>summed) JULIAN
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 8.011E+08

</pre><tt>This is strange, since the quantity is positive everywhere. Check with 
</tt><tt>stats (not shown).
</tt><pre style="margin: 0em;">

Now play with the memory size:

set memory/size=30 ---&gt; 3.244E+08

set memory/size=50 ---&gt; 3.244E+08 ! Is this stable? No!

can memory

set memory/size=50 ---&gt; 8.262E+08

can memory

set memory/size=300 ---&gt; 4.973E+09

I think, this is enough to show, that something does not work correctly.

</pre><tt>The classical ferret shows similar results. Aggregating withouth THREDDS 
</tt><tt>gives 4.973E+09 for the larger region without increasing the memory size!
</tt><pre style="margin: 0em;">

Now a previous ferret version:

ferret
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; NOAA/PMEL TMAP
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; PyFERRET v7 (opt)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Linux 2.6.32-642.1.1.el6.x86_64 - 07/01/16
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 20-Sep-17 00:02

CAN MODE LOGO
SET MEM /SIZE=25.6
&#xA0;Cached data cleared from memory
SET MODE VERIFY
yes? list n2_prod[x=@din,y=@din,k=@sum,t=@sum]
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : (N2_PROD_ANAMM + N2_PROD_DENIT + N2_PROD_H2S + 
</tt><tt>N2_PROD_SUL)
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DATA SET : MOM4 Baltic Sea 3 n.m.
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILENAME : genus_run_88_5day_ocean.nc
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILEPATH : 
</tt><tt><a  rel="nofollow" href="http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/">http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/</a>
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LONGITUDE: 13.5E to 14.7E (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LATITUDE : 23.5S to 22.5S (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DEPTH (m): -0.0009867 to 5700 (ZT summed)
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TIME&#xA0;&#xA0;&#xA0;&#xA0; : 01-JAN-2010 00:00 to 31-DEC-2010 00:00 (ZT 
</tt><tt>summed) JULIAN
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1.232E+09

Similar, but not the same as before! Make the region bigger now.

set region/t=1-jan-2010:31-dec-2010/x=13.5:14.7/y=-28:-22.5

list n2_prod[x=@din,y=@din,k=@sum,t=@sum]

yes? list n2_prod[x=@din,y=@din,k=@sum,t=@sum]
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : (N2_PROD_ANAMM + N2_PROD_DENIT + N2_PROD_H2S + 
</tt><tt>N2_PROD_SUL)
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DATA SET : MOM4 Baltic Sea 3 n.m.
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILENAME : genus_run_88_5day_ocean.nc
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILEPATH : 
</tt><tt><a  rel="nofollow" href="http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/">http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/</a>
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LONGITUDE: 13.5E to 14.7E (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LATITUDE : 28S to 22.5S (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DEPTH (m): -0.0009867 to 5700 (ZT summed)
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TIME&#xA0;&#xA0;&#xA0;&#xA0; : 01-JAN-2010 00:00 to 31-DEC-2010 00:00 (ZT 
</tt><tt>summed) JULIAN
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4.760E+09

Not in spectrum of the previous results!

Now with another elder ferret:

ferret
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; NOAA/PMEL TMAP
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FERRET v6.96
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Linux 2.6.18-406.el5 64-bit - 12/02/15
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 20-Sep-17 00:09

CAN MODE LOGO
SET MEM /SIZE=25.6
&#xA0;Cached data cleared from memory
SET MODE VERIFY

</pre><tt>use 
</tt><tt>&quot;<a  rel="nofollow" href="http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/genus_run_88_5day_ocean.nc&quot">http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/genus_run_88_5day_ocean.nc&quot</a>;
</tt><pre style="margin: 0em;">
....

list n2_prod[x=@din,y=@din,k=@sum,t=@sum]
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : (N2_PROD_ANAMM + N2_PROD_DENIT + N2_PROD_H2S + 
</tt><tt>N2_PROD_SUL)
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DATA SET : MOM4 Baltic Sea 3 n.m.
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILENAME : genus_run_88_5day_ocean.nc
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILEPATH : 
</tt><tt><a  rel="nofollow" href="http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/">http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/</a>
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LONGITUDE: 13.5E to 14.7E (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LATITUDE : 23.5S to 22.5S (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DEPTH (m): -0.0009867 to 5700 (ZT summed)
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TIME&#xA0;&#xA0;&#xA0;&#xA0; : 01-JAN-2010 00:00 to 31-DEC-2010 00:00 (ZT 
</tt><tt>summed) JULIAN
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1.232E+09

!The same as with 7.0

set region/t=1-jan-2010:31-dec-2010/x=13.5:14.7/y=-28:-22.5

yes? list n2_prod[x=@din,y=@din,k=@sum,t=@sum]
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : (N2_PROD_ANAMM + N2_PROD_DENIT + N2_PROD_H2S + 
</tt><tt>N2_PROD_SUL)
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DATA SET : MOM4 Baltic Sea 3 n.m.
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILENAME : genus_run_88_5day_ocean.nc
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILEPATH : 
</tt><tt><a  rel="nofollow" href="http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/">http://phy-50.io-warnemuende.de:8080/thredds/dodsC/genus/</a>
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LONGITUDE: 13.5E to 14.7E (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LATITUDE : 28S to 22.5S (XY integ.)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; DEPTH (m): -0.0009867 to 5700 (ZT summed)
</pre><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TIME&#xA0;&#xA0;&#xA0;&#xA0; : 01-JAN-2010 00:00 to 31-DEC-2010 00:00 (ZT 
</tt><tt>summed) JULIAN
</tt><pre style="margin: 0em;">
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4.759E+09

</pre><tt>Again another result - with higher precision the difference does not 
</tt><tt>become small.
</tt><pre style="margin: 0em;">

</pre><tt>Is it possible to reproduce this finding, or is this specific for my 
</tt><tt>build? Any help is very welcome!
</tt><pre style="margin: 0em;">

Greetings,

Martin






</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00639" href="msg00639.html">Re: [ferret_users] memory problems in ferret 7.20 (pyferret)</a></strong>
<ul><li><em>From:</em> Karl Smith - NOAA Affiliate</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00637" href="msg00637.html">[ferret_users] error when saving a .ps figure</a></strong>
<ul><li><em>From:</em> karen guihou</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00637.html">[ferret_users] error when saving a .ps figure</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00639.html">Re: [ferret_users] memory problems in ferret 7.20 (pyferret)</a></strong>
</li>

</UL>
<center>[<a href="msg00637.html">Thread Prev</a>][<a href="msg00639.html">Thread Next</a>][<A HREF="threads.html#00638">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
