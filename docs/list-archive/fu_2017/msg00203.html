<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Reduce the size of the data -->
<!--X-From-R13: Pehab Zrivre <oehab.yrivreNzrepngbe&#45;bprna.se> -->
<!--X-Date: Fri, 17 Mar 2017 08:48:43 &#45;0700 -->
<!--X-Message-Id: 58CC0552.7090804@mercator&#45;ocean.fr -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAPTKT0e2KhnLwpNoY9wBTHHniK&#45;0mTnsjrfW1wLYfUCTJJADaQ@mail.gmail.com -->
<!--X-Reference: CAMazgKj_2NUFERh8z=34G+ro99UhNYTzvNcdjS6aCjw+DpZXgw@mail.gmail.com -->
<!--X-Derived: jpgT_mar73DWj.jpg -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Reduce the size of the data</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00202.html">Thread Prev</a>][<a href="msg00204.html">Thread Next</a>][<A HREF="threads.html#00203">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Reduce the size of the data</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Reduce the size of the data</strong></li>
<li><strong>From</strong>: <strong>Bruno Levier &lt;<a href="mailto:bruno.levier@DOMAIN.HIDDEN">bruno.levier@xxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 17 Mar 2017 16:48:34 +0100</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=message-id:date:from:organization:user-agent:mime-version:to         :subject:references:in-reply-to:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive:list-unsubscribe;        bh=CYjKM4guQvxYnjWvTXBsZ2uubiS8Vzmtb/kl49t2M2w=;        b=YLq0qJFOEJBGfMz0BjOfChQOWQBn6d5QF3TS3zmGmKkWuYkfBstTq9QzXKq+sd7cw8         tLj/2MLKAVmUiJagDmjXXmwaGgkz5INW69f3EYdRBRttxYSmT9UyiBJWckPVwCI/bxBr         II4CK9sU9fZOacG0qqNwGu2FsaJSLFaVeTptm1yqbJQX4lKktcP5VyBmtA6Dh25WTqMD         dBNF4mtmg4jy9m4+Bw/+Z07+1fKP1F/wlTooarIl4lijJo7iAB6TBVZnmgBUKwX8y4QL         nkQKrCum+yccpFpCQCyzaJL6yZIiD4sd4Hr0wkilYsdJw1IZsC/6QruBjH0EED4geDyf         6LBA==</li>
<li>In-reply-to: &lt;CAMazgKj_2NUFERh8z=34G+ro99UhNYTzvNcdjS6aCjw+DpZXgw@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Organization: Mercator Ocean</li>
<li>References: &lt;<a href="msg00199.html">CAPTKT0e2KhnLwpNoY9wBTHHniK-0mTnsjrfW1wLYfUCTJJADaQ@mail.gmail.com</a>&gt; &lt;CAMazgKj_2NUFERh8z=34G+ro99UhNYTzvNcdjS6aCjw+DpZXgw@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Thunderbird/31.4.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<address>Title: <strong>Signature</strong></address>
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    <div class="moz-cite-prefix">Hi<br>
      <br>
      Perhaps it is due to the fact that Ferret saves the user-defined
      variable (and also the coordinates) in double precision. You can
      control the type of the variable with the "Set Var /Outtype="
      command.<br>
      <br>
      From the documentation: "For user-defined variables and variables
      from non-NetCDF files, the data type is double precision"<br>
      <a rel="nofollow"
href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SAVE#SAVE_OUTPUT_TYPE">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SAVE#SAVE_OUTPUT_TYPE</a><br>
      <br>
      Regards,<br>
      Bruno<br>
      <br>
      On 03/17/2017 03:13 PM, Peter Szabo wrote:<br>
    </div>
    <blockquote
cite=""
      type="cite">
      <pre wrap="">Dear Nicolas,

I also wonder why my file sizes always become way (usually double or 4
times) larger than the original ones even if they share still the same
dimensions.

The original file is 1.5 MB, while the saved out one with just values
masked out are 6.0 MB. It is the simplest operation with a short
formula and still making the file size way larger.

Regards,
Peter Szabo

!FERRET v6.9
!Linux 2.6.32-431.5.1.el6.x86_64 32-bit - 04/03/14

use TMAX7100mon_14_CCLIM.nc
use NATER_mask.nc !THIS CONSISTS OF 1 TIME DIMENSION AND 1s WHERE THE
MASK IS VALID
let maszkHU=mask[d=2,gx=longitude,gy=latitude,l=1]
let txHU=maszkHU*tx[d=1]
save/.. txHU

2017-03-17 11:26 GMT+01:00, Nicolas Freychet <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:nicolas.freychet@xxxxxxxxx">&lt;nicolas.freychet@xxxxxxxxx&gt;</a>:
</pre>
      <blockquote type="cite">
        <pre wrap="">Hi all,

I computed the daily minimum of temperature based on 3h datasets (8
values/day), using the methodology (by steps of 8, I pick up the minimum
temperature, and associate it to the first step to record it)


define axis/calendar=julian/t=01-jan-1979:31-dec-1995:3/units=hours tmodel
repeat/range=1:49672:8/name=it (  let
tmin=temp[l=`it`]*0+tmin[l=`it`:`it+7`@min] ; save/append/file=Output.nc
Tmin[l=`it`,gt=tmodel@asn] )

The problem is my output file is much bigger than it should. I got the
impression that Ferret is recording the whole "formula" and not just the
value of Tmin. Is there a way to solve that?

(my way to define Tmin may not be optimal though, that may cause the
problem...)

Thanks,
Nicolas



----------------------------------------------------
Nicolas Freychet
PDRA, School of Geosciences
University of Edinburgh
----------------------------------------------------

</pre>
      </blockquote>
      <pre wrap="">
</pre>
    </blockquote>
    <br>
    <br>
    <div class="moz-signature">-- <br>
      
      
      
      <table border="0" cellpadding="10" cellspacing="0" width="450px">
        <tbody>
          <tr>
            <td width="90px"><img
                src="jpgT_mar73DWj.jpg"
                alt="Mercator Ocean"></td>
            <td>
              <p class="signature"> <span class="name">Bruno LEVIER</span><br>
                <br>
                <span class="title">Monitoring and Forecasting Systems
                  Evaluation Team</span><br>
                <br>
                <span class="phone">+33 5 61 39 38 51</span><br>
                <a rel="nofollow" href="mailto:adressemail@xxxxxxxxxxxxxxxxx"><font
                    color="#3d7fc2">bruno.levier@xxxxxxxxxxxxxxxxx</font></a><br>
                <a rel="nofollow" href="http://www.mercator-ocean.eu"><font
                    color="#3d7fc2">mercator-ocean.eu</font></a>&#xA0;&#xA0;&#xA0;<a rel="nofollow"
                  href="http://marine.copernicus.eu"><font
                    color="#3d7fc2">marine.copernicus.eu</font></a> </p>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00199" href="msg00199.html">[ferret_users] Reduce the size of the data</a></strong>
<ul><li><em>From:</em> Nicolas Freychet</li></ul></li>
<li><strong><a name="00200" href="msg00200.html">Re: [ferret_users] Reduce the size of the data</a></strong>
<ul><li><em>From:</em> Peter Szabo</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00202.html">Re: [ferret_users] Reduce the size of the data</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00204.html">Re: [ferret_users] Reduce the size of the data</a></strong>
</li>

</UL>
<center>[<a href="msg00202.html">Thread Prev</a>][<a href="msg00204.html">Thread Next</a>][<A HREF="threads.html#00203">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
