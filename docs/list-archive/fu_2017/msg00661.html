<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] data size estimation is not unique -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 25 Oct 2017 09:58:03 &#45;0700 -->
<!--X-Message-Id: 0506c178&#45;b5b8&#45;3e46&#45;2b26&#45;0cb3d5311bfe@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 3f5631bcf4614785a04e689e330a6dc5@INCOISEXCMB01.incois.gov.in -->
<!--X-Reference: 426bdded&#45;ef22&#45;3ebc&#45;465b&#45;9cdf3138f3a7@noaa.gov -->
<!--X-Reference: 1b7e10a0&#45;037d&#45;7ac6&#45;7155&#45;027cefe6c7b8@io&#45;warnemuende.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] data size estimation is not unique</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00660.html">Thread Prev</a>][<a href="msg00644.html">Thread Next</a>][<A HREF="threads.html#00661">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] data size estimation is not unique</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Martin Schmidt &lt;<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;, <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] data size estimation is not unique</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 25 Oct 2017 09:57:59 -0700</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa-gov.20150623.gappssmtp.com header.s=20150623 header.b=Z6/7Cw+h;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa-gov.20150623.gappssmtp.com header.s=20150623 header.b=Z6/7Cw+h;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a></li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:arc-authentication-results         :arc-message-signature:dkim-signature:arc-authentication-results;        bh=6U6qAJBhJWDN0oIFfyHpmUxAWZSHHlbu3lyNYfCtrOs=;        b=Ti6B16JNP3HSP0YvfzNl0GVkG5tCElFgjyC6C6FPFDeq3NbJUBzwYoQ2ebgibzohAt         vwZuJYyawzFWtgEtb9iio8kQJG8FvYc1WqLXMJ4uUdLI/4T1tN1QNxb0H8TUi/z2SCH+         muF0wTiMaiEiy43QVjcHe8imo2gOg0v8AiXd2D/lmByHiuN31uyS/CJa+qLAoBU0r5PH         nzg3yhcocPscWFnw/0eJRBqORshy6aS++ghN6k/7C/DhFqi7yiRTz+GlUQAuvoZrwULy         lxfv4gAUfjExxZWWMDv1eNMmY5l8cluOI8dzqxYe4D6IxHW9ODp7ylzDTgzpF5LrLTAL         TLkQ==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature         :arc-authentication-results;        bh=6U6qAJBhJWDN0oIFfyHpmUxAWZSHHlbu3lyNYfCtrOs=;        b=RSz4L7C4sNvKQDJXhlxuS3x5+b6gx/33HA4LNe6n+Ojxh06lhLD7XTukcRud1CSA/P         Wf29AY93D6VBKzjurU3rEW9G9pdnR7rohFGPblNZ7vjU0zeKr2tl3HoerDq3Mtttm9Tb         ZRUgFBaamctOmHyZGoTKEiDXNQWsNj07xrdcO5J8SM7Vfc+Ei8I7fS61UQuFWfG0UbDP         gUyXoHPXC3+8uJUBnOYiAKOiBj8vMaxTBSMN7IugP/s0LhJOR43cp9dSCiOqOmm2sHin         3IknPplT86QKVDlgGxb/zUK5jPMr+32lsXvqnOk88tyI0ihhWfsCn8ZUt+63kntnuY9/         jHug==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1508950682; cv=pass;        d=google.com; s=arc-20160816;        b=ksE3r54gbRMThg+y71NTFFzFnBaVvEh1EyOg74UJhT+M9sx+Q4jGYy6XWXR2YTTqYE         z5tNf5vxo9UZ4a5wRw9ZTqWflEOfln/NdCdmhaTBJKeahbX3ls+Dzz48nyz7LAdHHzGB         zgkZqK6RlVssbkfZq7ud+hStO0LvxHjYYxHx/ZyNd0RfS2Qhc4SqM4vS5ywqw3UAelxy         ob818xgoZQdfPWTTgjAgzfIiViH6hNsTbN2cYyhC4yPUttR4eTES3f4ITTbM/jMwA9kB         6uRzhlI4pqDQJ7tJm7PW3/JCqfG8JjrcwTz0uBTGit+9vH7lr1sTS3eFkVSsR64IHXgx         s6BA==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1508950681; cv=none;        d=google.com; s=arc-20160816;        b=jvWtGpRv1tfaLQujTHjI5yUpjwBhWdNjpe7rUahAnG982UdbC4wypkCVPcF/c+DPz6         K0MTQUBKDVPKaSej8msW4O7QupLcr9VKLew8zOVmVx1loivO943EZUBOed64UnHkYuVb         RXEGpk0UTz3Ef4NLAgBhEvkLiKJ/Xdj+9iQLrNAwH2GWtKncyuLEfwKfXKBaBfMMAyqD         ebZrUjqEVHzK++cUTwu6uK9BdFQYfPk2bFNGcqUbLLUdAuAzDmdLl04W1CTqNBrTpaOp         q583A0DTLQdJAYKCRPSIDe+14yzitryOWp2AwfV29y+pTmFX13zt1RSRceRxRetdkqPN         Hutw==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-language:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=6U6qAJBhJWDN0oIFfyHpmUxAWZSHHlbu3lyNYfCtrOs=;        b=PO0pfZDOoIlANpny3ocQxGUe+HVgk7Jl1I8bePbN5yT0YrxZVuF73sA3WU8QE8ZjFz         a9fuOgb+Rcqtp5/tiz6uxIrxfkH9LtXbNSF96nrfge0W543aPk6HtvXLogNyYn/NLIYf         qf6Q78NSeiE4RfZamL7ZYIazTKju6if+a9Gvdteggre0b/sdjXcaTrV/GxaN+Uw8WMG/         14XDtmFbWQAqWXVu99gFRg1sM4GVURBvbKKBcb3heGzR+nHUfdTgiYdBqRQkFJdJUdj9         1uYF2LuZxX/ptFATjMo/K0IdNw6A3FJE3ZxpSXkdoCMSXGEvFkxsOEA7CJPNwsASYOzP         7g+A==</li>
<li>In-reply-to: &lt;<a href="msg00660.html">1b7e10a0-037d-7ac6-7155-027cefe6c7b8@io-warnemuende.de</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;3f5631bcf4614785a04e689e330a6dc5@INCOISEXCMB01.incois.gov.in&gt; &lt;<a href="msg00643.html">426bdded-ef22-3ebc-465b-9cdf3138f3a7@noaa.gov</a>&gt; &lt;<a href="msg00660.html">1b7e10a0-037d-7ac6-7155-027cefe6c7b8@io-warnemuende.de</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:52.0) Gecko/20100101 Thunderbird/52.4.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    <p>Hi Martin,</p>
    <p>Thank you for the report.&#xA0; In very old versions of Ferret, the
      reported size was the size of the abstract axis used to read ascii
      data with SET DATA/EZ</p>
    <blockquote>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; NOAA/PMEL TMAP<br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FERRET v6.72&#xA0; <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Linux 2.6.32-131.12.1.el6.x86_64 64-bit - 09/13/11<br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 25-Oct-17 09:49&#xA0;&#xA0;&#xA0;&#xA0; <br>
      <br>
      yes?&#xA0; file/var="t1,t2"/skip=1 test.data<br>
      yes? say `t1,return=iend`<br>
      &#xA0;!-&gt; MESSAGE/CONTINUE 20480<br>
      20480<br>
      yes? load t1<br>
      yes? say `t1,return=iend`<br>
      &#xA0;!-&gt; MESSAGE/CONTINUE 3<br>
      3<br>
      <br>
    </blockquote>
    We've improved upon that, but it seems Ferret is counting the number
    of header lines.&#xA0; If there are no header lines, the value is
    correct; if I add more lines, the reported size increases
    accordingly.&#xA0;The `var,return=`&#xA0; commands give information about
    variables and grids as stored by Ferret, generally without reading
    data.&#xA0; When the data has been loaded, information about the grid has
    been updated.&#xA0; This should be simple to track down and fix.<br>
    <br>
    Ansley<br>
    <br>
    <br>
    <div class="moz-cite-prefix">On 10/24/2017 8:29 AM, Martin Schmidt
      wrote:<br>
    </div>
    <blockquote type="cite"
      cite="">Hi,
      <br>
      reading ascii data, I encountered the following problem. The
      estimated length of an input field depends on the history of
      operations.
      <br>
      <br>
      My data file test.data looks like this
      <br>
      <br>
      header
      <br>
      1,&#xA0;&#xA0; 1
      <br>
      2,&#xA0;&#xA0; 2
      <br>
      3,&#xA0;&#xA0; 3
      <br>
      <br>
      The script to read the data and to estimate the length of the
      field is
      <br>
      <br>
      set data/ez/skip=1/var=t1,t2/format=delim/type=numeric&#xA0; test.data
      <br>
      let imax=`t1,return=iend`
      <br>
      list imax
      <br>
      <br>
      ferret
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; NOAA/PMEL TMAP
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; PyFerret v7.22 (optimized)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Linux 4.4.87-25-default - 10/05/17
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 24-Oct-17 17:12
      <br>
      <br>
      CAN MODE LOGO
      <br>
      SET MEM /SIZE=25.6
      <br>
      SET MODE VERIFY
      <br>
      yes? set data/ez/skip=1/var=t1,t2/format=delim/type=numeric
      test.data
      <br>
      yes? let imax=`t1,return=iend`
      <br>
      &#xA0;!-&gt; DEFINE VARIABLE imax=4
      <br>
      yes? list imax
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : 4
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 4.000
      <br>
      yes?
      <br>
      I would say, the result for imax is wrong.
      <br>
      <br>
      Modifying the script, just by&#xA0; adding a 'list' command gives the
      correct (or a more likely) result:
      <br>
      yes? set data/ez/skip=1/var=t1,t2/format=delim/type=numeric
      test.data
      <br>
      yes? list t1
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : t1
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FILENAME : test.data
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SUBSET&#xA0;&#xA0; : 3 points (X)
      <br>
      &#xA0;1&#xA0;&#xA0; / 1:&#xA0; 1.000
      <br>
      &#xA0;2&#xA0;&#xA0; / 2:&#xA0; 2.000
      <br>
      &#xA0;3&#xA0;&#xA0; / 3:&#xA0; 3.000
      <br>
      yes? let imax=`t1,return=iend`
      <br>
      &#xA0;!-&gt; DEFINE VARIABLE imax=3
      <br>
      yes? list imax
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : 3
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 3.000
      <br>
      yes?
      <br>
      <br>
      This dependence of the variable size estimate on the history of
      operations seems to be inherited over generations of ferret. I
      have very old scripts, where some 'list' or 'shade' was added to
      get them running.
      <br>
      <br>
      May be, the report helps.
      <br>
      <br>
      Best,
      <br>
      Martin
      <br>
      <br>
      <br>
      <br>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00643" href="msg00643.html">[ferret_users] Re: ensembling datasets of different models</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
<li><strong><a name="00660" href="msg00660.html">[ferret_users] data size estimation is not unique</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00660.html">[ferret_users] data size estimation is not unique</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00644.html">[ferret_users] Making a plot with right side Y axis</a></strong>
</li>

</UL>
<center>[<a href="msg00660.html">Thread Prev</a>][<a href="msg00644.html">Thread Next</a>][<A HREF="threads.html#00661">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
