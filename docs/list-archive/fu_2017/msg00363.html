<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] Re: Violin plotting -->
<!--X-From-R13: @vpbynf Terlpurg <avpbynf.serlpurgNtznvy.pbz> -->
<!--X-Date: Mon, 22 May 2017 05:32:14 &#45;0700 -->
<!--X-Message-Id: CAPTKT0cCDfZXCg&#45;&#45;EV01=yQkjp&#45;PutBmLjZxJRnMBX6mSD0BXg@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAPTKT0cw3LzfvsF4nsPLcjxMQJmDj1&#45;p6Q1xg&#45;4DwbzziCx96g@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] Re: Violin plotting</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00350.html">Thread Prev</a>][<a href="msg00386.html">Thread Next</a>][<A HREF="threads.html#00363">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] Re: Violin plotting</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>ferret_users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] Re: Violin plotting</strong></li>
<li><strong>From</strong>: <strong>Nicolas Freychet &lt;<a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 22 May 2017 13:32:04 +0100</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@gmail.com;       spf=pass (google.com: domain of <a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a> designates 2607:f8b0:4001:c0b::229 as permitted sender) smtp.mailfrom=<a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a>;       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=gmail.com</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@gmail.com;       spf=pass (google.com: domain of <a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a> designates 2607:f8b0:4001:c0b::229 as permitted sender) smtp.mailfrom=<a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a>;       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=gmail.com</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-unsubscribe:list-archive:list-help:list-post:list-id         :mailing-list:precedence:to:subject:message-id:date:from:references         :in-reply-to:mime-version:arc-authentication-results         :arc-message-signature:dkim-signature:arc-authentication-results;        bh=Oz4PV6puWTD3elKJNkEvyEBlyQHvHN/av1ThEuTpkwI=;        b=aZilJKaBERAtIkBeyC66/emiFry4tGVBarhlyBGPrv5OECxadV6e6MRLemLiuEf//J         S3L0rbe4HIxI5FBf7Tlod4qb1QR0oaa14dkJBG7M1TKOH3YAw9JuV8JoBCOF7dC4irjt         aOer1B20sILseUguybFJplw3ePCoFHf9vYWhxsZKW0D0UsS+LYDTXaehYq6nhegYGQ3E         J75IDSHmcGaFnfH/c2R5IwDwegIytamC2gT37sWvTQP9XrihqPUYaS+FEtULg2I0Y1J+         Ku+cAcC0CGCew2gnjbiuRAYJSVH77+oQ1zMQxX6PAWdK45FwWm3hoOIYH47Bx5DH7Ibl         Eh1g==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:subject:message-id:date:from:references:in-reply-to:mime-version         :dkim-signature:arc-authentication-results;        bh=Oz4PV6puWTD3elKJNkEvyEBlyQHvHN/av1ThEuTpkwI=;        b=FsoxLo+E14AZkyZxxncHmpK8qoqKbkLCCAG0ovgDA7Sn0IM6A+MC3+EiBZ8fJ3vGZ3         VXlQrNlAvi85ul4PoREaS0GHKF6KHfDrwm86Hlw8zHXPy+nd0vBhQ8nDWlGf4vTvdTHy         B8xlKY67QXyO3/wYSC53N8Nb5P1WpwHQYEp3pdH3mGLjHCJeN93a2bSGzRm1hsCHKfoO         pPutd5mIIeVN0C1P9MapLisWCcjqHzXY4TRgUoAUfen8OU0HgPdkFSDyIlgUFHG110nK         8moHIkkgiMJ08I18t+7JmynL7rr89ReC3oUc+Pa4LXitZatiN/mOUsW1TU/cF6uTGO0X         LmeA==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1495456326; cv=pass;        d=google.com; s=arc-20160816;        b=Q6/iZtSt06daX6ppWiBNvF50d02BUjkniAjSwWUsiAzmqp/eDdFoCex0CE2p/XtcFb         5Ln72H57fo9yvsg0fxBZpcaRaazNDfOCFNZ0W8pwzbbeg3q//YVIqcPx0TuSmWAqyqJA         UlQE/AdCXpykOe04/WE4B4YArVm1rwqpUYFFyWG9yGbQS5M0wt9lE+/xJ0kTeGWjgU39         A737Ugt6ylv1Y7IrvftMNh4URbNyNU74F1EL6k7m4I070/UotR5rWInyitnUiVOHt1FX         nkBFgZHi603hOqSjrN0TYRwlGmBrMFVVnJddhmfm/sJH7psPzgE/up/3kHCby0K8RQ2x         HvBw==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1495456325; cv=none;        d=google.com; s=arc-20160816;        b=VgQiUahCVj+SJ4tjDLELO2JWKo3fGcNrE6dPCU4wfEXz9h3uEc6zSQ6QG5VvuK/xP+         fIEsurdOBz2evBqRhjuwIQ6METF3YeOYC1E4u0I41r6gCrn/VoJsyPN9ATs00c9i88f3         aFPtlHfiiuBz8fUGT7xPYEtdhZYxcX7TIqp5dfhFm+ca1XgQgiZX6nLh9CxDaksPhEPT         pS2sz0B1mFjh68xc33o+ImH4T7QRCEQyAA2tnl/mPFAAgvWCXmfu1pFZFFrFPYaIW6dy         WYCaZUBQ64r4HUCCsQ/olhkz4u9lW+FzTz9Udppc7WhBzh8Ffyi3KbfXJPsPERI8GWdf         bMNQ==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=mime-version:in-reply-to:references:from:date:message-id:subject:to         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive         :list-unsubscribe;        bh=Oz4PV6puWTD3elKJNkEvyEBlyQHvHN/av1ThEuTpkwI=;        b=fI/rQpMgXjWTXNGNNfv41VaOF7nIC0iWazSrN19/ATsMS6bQcYlqdF5Yr89+J6Uh2R         outcMmAsQnxuDKYX8KJmex36REPBObkPbErB+6QHDksYZ0F2nDdYKwGTZyNwJRfT1SDV         DUUZ3fFa+Oped4seOYSMsTiPyefbjV+eom53WFFKsh1nmRzFK2+mmDVMHB/pAGLuDbnN         00hz7HX3uV+jsWV47OPHI9yQ2ejf5c2F4ylnUPjvYni09R9jjMiBFw9inBerXfQltLtk         5oYvyC6dgCXf8O5B83F1zLcjh7mS3fkFlcxLkjSd0UwC7arLOVvbXHhGctSAlZmtGJoL         sksQ==</li>
<li>In-reply-to: &lt;<a href="msg00350.html">CAPTKT0cw3LzfvsF4nsPLcjxMQJmDj1-p6Q1xg-4DwbzziCx96g@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00350.html">CAPTKT0cw3LzfvsF4nsPLcjxMQJmDj1-p6Q1xg-4DwbzziCx96g@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><div><div><div>hi again,<br><br></div>So I managed to do something, but I still need one extra step to get the good plot.<br><br></div>So for instance I have a list like that: <br><br>let list1 = {0,40,24,15,10,0,0,57,63,14,16,80,10,20,0,0,0,0,0}<br><br></div>!!Compute pdf stats:<br><div>LET hsort =&#xA0; SAMPLEI(XSEQUENCE((list1)), SORTI(XSEQUENCE((list1)) )) <br>LET ns = `hsort[i=@ngd]` <br>LET hval = hsort[i=1:`ns`] <br>LET hcount = i[gx=hval,i=1:`ns`] <br>LET hpdf = 2/((hval[i=@shf:+1]-hval[i=@shf:-1])*hcount[x=@max]) <br>let pdfstat=if hpdf then hpdf else 0&#xA0; !!!!change masked values to 0<br><br><br></div><div>Then I can do a violin plot-type simply with that:<br></div><div><br>plot/vs/line=1/hlim=-0.04:0.04/vlim=-1:80 pdfstat,hval<br>plot/vs/line=1/hlim=-0.04:0.04/vlim=-1:80 pdfstat*-1,hval<div><div><br></div><div>Now the problem is I&#39;d like to fill the space between the 2 curves. <br></div><div>I tried to use the fill_between function but it seems that the axes are wrong, probably because it&#39;s a versus plot. <br><br>GO fill_between POLY/Pattern=lite_vertical/OVER/NOLABEL/PALETTE=blue pdfstat*-1 pdfstat*-1 pdfstat<br><br></div><div>But I have the error &quot;dimensions improperly specified&quot;<br></div><div><br></div><div><br><br></div><div>Nicolas<br><br><br></div><div><br></div></div></div></div><div class="gmail_extra"><br><div class="gmail_quote">2017-05-17 17:54 GMT+01:00 Nicolas Freychet <span dir="ltr">&lt;<a rel="nofollow" href="mailto:nicolas.freychet@xxxxxxxxx" target="_blank">nicolas.freychet@xxxxxxxxx</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div><div><div><div><div>Hello,<br><br></div>Did anyone ever plotted a violin diagram using Ferret? <br><br></div>I have 20 categories on the X-axis, and an intensity on the Y-axis.&#xA0; Because I have 40 different models, I&#39;d like to represent for each category how the ensemble of the model is distributed in terms of intensity. <br><br></div>If anyone ever did something similar, it would be great. <br></div><span class="HOEnZb"><font color="#888888"><br></font></span></div><span class="HOEnZb"><font color="#888888">Nicolas<br><div><div><div><div><br><br clear="all"><div><div><br>-- <br><div class="m_-6298204905360239039gmail_signature" data-smartmail="gmail_signature"><div dir="ltr"><div><div dir="ltr">------------------------------<wbr>----------------------<br><div>Nicolas Freychet<br></div>PDRA, School of Geosciences<br>University of Edinburgh<br>------------------------------<wbr>----------------------</div></div></div></div>
</div></div></div></div></div></div></font></span></div>
</blockquote></div><br><br clear="all"><br>-- <br><div class="gmail_signature" data-smartmail="gmail_signature"><div dir="ltr"><div><div dir="ltr">----------------------------------------------------<br><div>Nicolas Freychet<br></div>PDRA, School of Geosciences<br>University of Edinburgh<br>----------------------------------------------------</div></div></div></div>
</div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00386" href="msg00386.html">Re: [ferret_users] Re: Violin plotting</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00350" href="msg00350.html">[ferret_users] Violin plotting</a></strong>
<ul><li><em>From:</em> Nicolas Freychet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00350.html">[ferret_users] Violin plotting</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00386.html">Re: [ferret_users] Re: Violin plotting</a></strong>
</li>

</UL>
<center>[<a href="msg00350.html">Thread Prev</a>][<a href="msg00386.html">Thread Next</a>][<A HREF="threads.html#00363">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
