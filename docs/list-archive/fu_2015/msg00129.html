<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Append one time step -->
<!--X-From-R13: Enz Dnova <fnzenovofghssNtznvy.pbz> -->
<!--X-Date: Wed, 8 Apr 2015 06:40:11 &#45;0700 -->
<!--X-Message-Id: BB25EDB0&#45;13BA&#45;4219&#45;B3D4&#45;DC712B26A7C3@gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 957A6BF7&#45;443F&#45;4621&#45;8DFF&#45;4C5F7A05FAD5@gmail.com -->
<!--X-Reference: 55245769.3010501@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Append one time step</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00128.html">Thread Prev</a>][<a href="msg00130.html">Thread Next</a>][<A HREF="threads.html#00129">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Append one time step</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Append one time step</strong></li>
<li><strong>From</strong>: <strong>Sam Rabin &lt;<a href="mailto:samrabibstuff@DOMAIN.HIDDEN">samrabibstuff@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 8 Apr 2015 09:40:05 -0400</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00128.html">55245769.3010501@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/">http://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post">http://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00127.html">957A6BF7-443F-4621-8DFF-4C5F7A05FAD5@gmail.com</a>&gt; &lt;<a href="msg00128.html">55245769.3010501@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style="">Ah, makes sense. And good point about the terminology. Thanks!<div class=""><br class=""></div><div class=""><span class="Apple-tab-span" style="white-space:pre">	</span>Sam</div><div class=""><br class=""></div><div class=""><br class=""></div><div class=""><br class=""><div class=""><div><blockquote type="cite" class=""><div class="">On Apr 7, 2015, at 6:17 PM, Ansley Manke &lt;<a rel="nofollow" href="mailto:ansley.b.manke@xxxxxxxx" class="">ansley.b.manke@xxxxxxxx</a>&gt; wrote:</div><br class="Apple-interchange-newline"><div class="">
  
    
  
  <div bgcolor="#FFFFFF" text="#000000" class="">
    Hi Sam,<br class="">
    It sounds as if you've defined the grid you want, and defined a
    variable which is the original variable on your new grid<tt class="">.<br class="">
      <br class="">
    </tt>The thing to do next is to define expressions to do the
    operation on the variables/grids. Here's a variable with the data
    shifted so that the data that was at timestep 52 will be in timestep
    53:<br class="">
    <br class="">
    <tt class="">&nbsp;&nbsp; let varshift = newvar[L=@shf</tt><tt class="">:-1]</tt><br class="">
    <br class="">
    This variable keeps what was in the original variable for 52
    timesteps, and uses the shifted data in that last timestep.<br class="">
    <br class="">
    <tt class="">&nbsp;&nbsp; let var_final = if L LE 52 then newvar else varshift</tt><br class="">
    <br class="">
    (By the way, this isn' really "appending" here, in the sense that we
    append when writing out data to a file. Instead it's defining a
    variable that has the desired grid and data once some or all of it
    is loaded into memory.)<br class="">
    <br class="">
    --Ansley<br class="">
    <br class="">
    <br class="">
    <div class="moz-cite-prefix">On 4/7/2015 11:40 AM, Sam Rabin wrote:<br class="">
    </div>
    <blockquote cite="" type="cite" class="">
      
      
      <div class="">[Sorry if this double-posts; I think I used the
        wrong email address before.]</div>
      <div class=""><br class="">
      </div>
      All &#x2014;
      <div class=""><br class="">
      </div>
      <div class="">I have a 3-D variable whose time axis is irregular
        (January 1 of each year: 1500, 1600, 1700:1980:10, 1990:2010:1).
        I would like to simply copy the values for each grid cell in
        2010 and set that as the value for some arbitrary future date
        (e.g., 2011). Of course, nothing is ever so simple.</div>
      <div class=""><br class="">
      </div>
      <div class="">I&#x2019;ve already managed to create a new grid (GMH1),
        based on the old grid (GRS1), that has an extra (empty) time
        step at 01-JAN-2011 00:00. What I&#x2019;m having trouble with now is
        saving the L=52 value as L=53. How would I do this?</div>
      <div class=""><br class="">
      </div>
      <div class="">Relevant info (?):</div>
      <div class=""><font class="" face="Courier"><span style="font-size: 12px;" class=""><br class="">
          </span></font></div>
      <blockquote style="margin: 0 0 0 40px; border: none; padding:
        0px;" class="">
        <div class=""><font class="" face="Courier"><span style="font-size: 12px;" class="">&nbsp; &nbsp;&nbsp;GRID GRS1<br class="">
              &nbsp;name&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;axis&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;# pts&nbsp;&nbsp;&nbsp;start&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
              &nbsp;&nbsp;end<br class="">
              &nbsp;LON&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;LONGITUDE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;720mr&nbsp;&nbsp;&nbsp;179.75W(-179.75)&nbsp;&nbsp;
              &nbsp;&nbsp;179.75E<br class="">
              &nbsp;LAT&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;LATITUDE&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;360 r&nbsp;&nbsp;&nbsp;89.75S&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
              &nbsp;&nbsp;89.75N<br class="">
              &nbsp;normal&nbsp; &nbsp;&nbsp;Z<br class="">
              &nbsp;TIME1&nbsp;&nbsp; &nbsp;&nbsp;TIME&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;52 i&nbsp;&nbsp;&nbsp;01-JAN-1500 00:00&nbsp;
              &nbsp;&nbsp;01-JAN-2010 00:00</span></font></div>
        <div class=""><font class="" face="Courier"><span style="font-size: 12px;" class=""><br class="">
            </span></font></div>
        <div class=""><font class="" face="Courier"><span style="font-size: 12px;" class="">&nbsp; &nbsp;&nbsp;GRID GMH1<br class="">
              &nbsp;name&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;axis&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;# pts&nbsp;&nbsp;&nbsp;start&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
              &nbsp;&nbsp;end<br class="">
              &nbsp;LON&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;LONGITUDE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;720mr&nbsp;&nbsp;&nbsp;179.75W(-179.75)&nbsp;&nbsp;
              &nbsp;&nbsp;179.75E<br class="">
              &nbsp;LAT&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;LATITUDE&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;360 r&nbsp;&nbsp;&nbsp;89.75S&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
              &nbsp;&nbsp;89.75N<br class="">
              &nbsp;normal&nbsp; &nbsp;&nbsp;Z<br class="">
              &nbsp;TIME2&nbsp;&nbsp; &nbsp;&nbsp;TIME&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;53 i&nbsp;&nbsp;&nbsp;01-JAN-1500 00:00&nbsp;
              &nbsp;&nbsp;01-JAN-2011 00:00</span></font></div>
      </blockquote>
      <div class="">
        <div class=""><br class="webkit-block-placeholder">
        </div>
        <div class="">And here are the last four lines of LIST
          NEWVAR[I=@SUM,J=@SUM), to show that the last (new) point is
          indeed empty:</div>
        <div class=""><br class="">
        </div>
      </div>
      <blockquote style="margin: 0 0 0 40px; border: none; padding:
        0px;" class="">
        <div class="">
          <div class=""><font class="" face="Courier"><span style="font-size: 12px;" class="">&nbsp;JAN-2008 /
                50:&nbsp;&nbsp;3580402.<br class="">
                &nbsp;JAN-2009 / 51:&nbsp;&nbsp;3622055.<br class="">
                &nbsp;JAN-2010 / 52:&nbsp;&nbsp;3663709.<br class="">
                &nbsp;JAN-2011 / 53:&nbsp; &nbsp; &nbsp;&nbsp;....</span></font></div>
        </div>
      </blockquote>
      <div class="">
        <div apple-content-edited="true" class="">
          <span class="Apple-style-span" style="border-collapse:
            separate; border-spacing: 0px;">
              <div style="word-wrap: break-word; -webkit-nbsp-mode:
                space; -webkit-line-break: after-white-space; " class=""><span class="Apple-style-span" style="border-collapse: separate; font-family: Helvetica; font-variant: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: -webkit-auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; border-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-stroke-width: 0px;">
                  <div style="word-wrap: break-word; -webkit-nbsp-mode:
                    space; -webkit-line-break: after-white-space; " class="">
                    <div style="font-weight: normal; font-style: normal;
                      " class="">&nbsp;</div>
                    <div style="font-weight: normal; font-style: normal;
                      " class="">Thanks in advance.</div>
                    <div style="font-weight: normal; font-style: normal;
                      " class=""><br class="">
                    </div>
                    <div style="font-weight: normal; font-style: normal;
                      " class=""><br class="">
                    </div>
                    <div style="font-weight: normal; font-style: normal;
                      " class=""><br class="">
                    </div>
                    <div style="font-weight: normal; font-style: normal;
                      " class="">- - - - - - - - - - - - - - - - - -&nbsp;- -
                      - - - - - - - - - - - - - - - - - - -</div>
                    <b class=""><u class="">Sam Rabin</u></b><br class="">
                    PhD student,&nbsp;Ecology &amp; Evolutionary Biology<br class="">
                    Princeton University&nbsp;
                    <div style="font-weight: normal; font-style: normal;
                      " class=""><a rel="nofollow" moz-do-not-send="true" href="mailto:srabin@xxxxxxxxxxxxx" class="">srabin@xxxxxxxxxxxxx</a></div>
                    <div style="font-weight: normal; font-style: normal;
                      " class="">&nbsp;</div>
                    <div style="font-weight: normal; font-style: normal;
                      " class="">&nbsp;</div>
                  </div>
                </span></div>
            </span>
        </div>
        <br class="">
      </div>
    </blockquote>
    <br class="">
  </div>

</div></blockquote></div><br class=""></div></div></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00127" href="msg00127.html">[ferret_users] Append one time step</a></strong>
<ul><li><em>From:</em> Sam Rabin</li></ul></li>
<li><strong><a name="00128" href="msg00128.html">Re: [ferret_users] Append one time step</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00128.html">Re: [ferret_users] Append one time step</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00130.html">[ferret_users] subplot.</a></strong>
</li>

</UL>
<center>[<a href="msg00128.html">Thread Prev</a>][<a href="msg00130.html">Thread Next</a>][<A HREF="threads.html#00129">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
