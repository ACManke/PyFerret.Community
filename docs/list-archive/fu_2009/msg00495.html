<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] slanted domain selection -->
<!--X-From-R13: Xnvfba Yhevna <wnvfbaNngzbf.hpyn.rqh> -->
<!--X-Date: Wed, 12 Aug 2009 09:36:40 &#45;0700 -->
<!--X-Message-Id: 6501ecd10908120936k13698177g3081df86286e2744@mail.gmail.com -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 20090807.162615.51262152.furue@hawaii.edu -->
<!--X-Reference: 1249903761.8974.84.camel@prescy.ees.hokudai.ac.jp -->
<!--X-Reference: 20090809.201659.152629376.furue@hawaii.edu -->
<!--X-Reference: 1250086991.13950.25.camel@prescy.ees.hokudai.ac.jp -->
<!--X-Derived: binA13FHY50ES.bin -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] slanted domain selection</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00493.html">Thread Prev</a>][<a href="msg00484.html">Thread Next</a>][<A HREF="threads.html#00495">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] slanted domain selection</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>prescilla kurien &lt;<a href="mailto:prescy@DOMAIN.HIDDEN">prescy@xxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] slanted domain selection</strong></li>
<li><strong>From</strong>: <strong>Jaison Kurian &lt;<a href="mailto:jaison@DOMAIN.HIDDEN">jaison@xxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 12 Aug 2009 09:36:38 -0700</li>
<li>Cc: Ryo Furue &lt;<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>&gt;, <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:mime-version:sender:received:in-reply-to         :references:date:x-google-sender-auth:message-id:subject:from:to:cc :content-type;        bh=cwPDDOsKx3HTdEgmTlYqfBmnsfl0NTY8XmzDWcbCbSo=; b=nD70/VEtngKSHUKMuubwCBjVuNhhwUPm6GkaRa2jrUyjeLRmPNWrQdBIe/TGokaVRo 5BexFMtoGFTcS0ckNPFov4NJA3j0e3G0ie7AICy3orSMbqR/Uy1kHM3DV5LsETRYtLte qvPskyh+EqAfUynQFI+BiayEyBMuTXpy35La4=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:sender:in-reply-to:references:date :x-google-sender-auth:message-id:subject:from:to:cc:content-type; b=ZgrshSxL+d5AULxigQWO2w57aPeixWUm6PKADZZBPGI9bAWWBhfvyj3P31xnoNrWTh mbFrqE1RXfcB3+P7W1DSZpO7sLQ6Uh6/WZTNAfnOCSv+38dYYq7gA6P7JhNprgfnt7lo wIEg/QHoiJvu15U+YxVOD2pkrEuvggNDx/J/M=</li>
<li>In-reply-to: &lt;<a href="mailto:1250086991.13950.25.camel@DOMAIN.HIDDEN">1250086991.13950.25.camel@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:20090807.162615.51262152.furue@DOMAIN.HIDDEN">20090807.162615.51262152.furue@xxxxxxxxxx</a>&gt; &lt;<a href="mailto:1249903761.8974.84.camel@DOMAIN.HIDDEN">1249903761.8974.84.camel@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20090809.201659.152629376.furue@DOMAIN.HIDDEN">20090809.201659.152629376.furue@xxxxxxxxxx</a>&gt; &lt;<a href="mailto:1250086991.13950.25.camel@DOMAIN.HIDDEN">1250086991.13950.25.camel@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi Prescilla,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; I guess your question is not clear enough. What kind of calculation are you<br>planning on the slanted (to be correct, rotated) grid?<br><br>Anyway, here is a simple method to define a subgrid, rotate it, and then regrid the original<br>
data on to this rotated grid. Please go through the attached jnl file and give a try. Please let<br>me know if you have any questions.<br><br>Please note that there are a handful of external functions available in Ferret, to do different<br>
sampling/regridding operations. You could use &quot;show function&quot; command to see a list<br>(ref sec 33.7)<br><br>Thanks and Regards,<br><br>Jaison<br><p align="left"><font size="3" color="#1f1a17" face="Times"><font size="4" color="#1f1a17" face="Palatino">
</font></font></p><br><div class="gmail_quote">On Wed, Aug 12, 2009 at 7:23 AM, prescilla kurien <span dir="ltr">&lt;<a rel="nofollow" href="mailto:prescy@xxxxxxxxxxxxxxxxx">prescy@xxxxxxxxxxxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
Hi Ryo and other ferreters..<br>
<br>
My problem is not solved yet. Since i wanted to make calculations along<br>
a slanted axis, i required to change my original model X and Y axis as a<br>
slanted one.<br>
So I divided my section into a number of lines(12) as shown in the<br>
attached figure (ofcourse, i need more sections to take all the points..<br>
this is just a sample) using samplexy command like this<br>
<br>
let xlon0=80.5+0.25*I[I=1:30]<br>
let ylat0=14+0.25*I[I=1:30]<br>
...<br>
....<br>
<br>
let xlon12=80.5+0.25*I[I=1:32]<br>
let ylat12=11.0+0.25*I[I=1:32]<br>
<br>
let new_temp1=samplexy(SST,xlon0,ylat0)<br>
......<br>
......<br>
let new_temp12=samplexy(SST,xlon12,ylat12)<br>
<br>
As a result, i will get a 1D array like<br>
(1,1),(1,2).......(1,30) &#xA0; &#xA0;for new_temp1<br>
.................<br>
..................<br>
(1,1),(1,2).......(1,30) &#xA0; &#xA0;for new_temp12<br>
<br>
As a result i cannot make a 2D(in newX and newY) plot from my above<br>
values. I want to regrid the above as a 2D array having the value of SST<br>
like below with a single variable name &quot;TEMP&quot;<br>
<br>
&#xA0;(1,1),(1,2).......(1,30) &#xA0; &#xA0;var=TEMP &#xA0; &#xA0;! in the first section<br>
.................<br>
..................<br>
(12,1),(12,2).......(12,30) &#xA0; var=TEMP &#xA0; ! in the 12th section.<br>
<br>
is it possible with ferret? If any of you know this.. could you please<br>
<div class="im">teach me..?<br>
Thanks in advance<br>
Prescilla<br>
<br>
<br>
<br>
<br>
<br>
</div><div><div></div><div class="h5">On Sun, 2009-08-09 at 20:16 -1000, Ryo Furue wrote:<br>
&gt; Hi Prescilla,<br>
&gt;<br>
&gt; | I am in need to select a slanted domain as my region, as in the<br>
&gt; | attached figure.I wanted to to do my calculations within that domain<br>
&gt; | only. If any of you know how to manage a slanted domain(is there any<br>
&gt; | command?) selection using ferret, kindly teach me.<br>
&gt;<br>
&gt; Your domain seems to have a simple analytical definition using<br>
&gt; a set of inequalities such as &#xA0;&quot;y - 2 * x + 30 &gt; 0&quot;,<br>
&gt; where x is longitude and y is latitude.<br>
&gt; (This equality is just for an illustration purpose. Don&#39;t use it.)<br>
&gt; If so, you can &quot;mask&quot; your variables according to<br>
&gt; those inequalities. &#xA0;For example, if you want<br>
&gt; to extract the domain &quot;(x + 2*y -100 &gt; 0) and (x + 2*y -300 &lt; 0)&quot;,<br>
&gt;<br>
&gt; yes? set data levitus_climatology<br>
&gt; yes? let masked_temp \<br>
&gt; &#xA0; &#xA0; &#xA0; = if (x + 2*y -300 lt 0 and x + 2*y -100 gt 0) then temp<br>
&gt; yes? fill/k=1 masked_temp<br>
&gt;<br>
&gt; Hope this helps,<br>
&gt; Ryo<br>
</div></div></blockquote></div><br>
<p><strong>Attachment:
<a href="binA13FHY50ES.bin" ><tt>rotate_regrid.jnl</tt></a></strong><br>
<em>Description:</em> Binary data</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00478" href="msg00478.html">[ferret_users] NaN handled?</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="00480" href="msg00480.html">[ferret_users] slanted domain selection</a></strong>
<ul><li><em>From:</em> prescilla kurien</li></ul></li>
<li><strong><a name="00481" href="msg00481.html">Re: [ferret_users] slanted domain selection</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="00493" href="msg00493.html">Re: [ferret_users] slanted domain selection</a></strong>
<ul><li><em>From:</em> prescilla kurien</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00493.html">Re: [ferret_users] slanted domain selection</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00484.html">Re: [ferret_users] NaN handled?</a></strong>
</li>

</UL>
<center>[<a href="msg00493.html">Thread Prev</a>][<a href="msg00484.html">Thread Next</a>][<A HREF="threads.html#00495">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
