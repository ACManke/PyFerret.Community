<!-- MHonArc v2.6.16 -->
<!--X-Subject: Fwd: [ferret_users] Time Series Plot with variability -->
<!--X-From-R13: nt <ntqp2005Ntznvy.pbz> -->
<!--X-Date: Fri, 17 Apr 2009 15:09:05 &#45;0700 -->
<!--X-Message-Id: a0350d590904171509hafabc72if66886d4f4908552@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: a0350d590904101400x429a2a32y1ddabb020d1fde32@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Fwd: [ferret_users] Time Series Plot with variability</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00226.html">Thread Prev</a>][<a href="msg00230.html">Thread Next</a>][<A HREF="threads.html#00227">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Fwd: [ferret_users] Time Series Plot with variability</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Fwd: [ferret_users] Time Series Plot with variability</strong></li>
<li><strong>From</strong>: <strong>ag &lt;<a href="mailto:agdc2005@DOMAIN.HIDDEN">agdc2005@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 17 Apr 2009 18:09:02 -0400</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma; h=domainkey-signature:mime-version:received:in-reply-to:references :date:message-id:subject:from:to:content-type; bh=HPv4RVBR2N9punFn3LE4nPENtRkbw5hvGdyhgYfqlGU=; b=FhZIC+XPeMoLsI+O0zvmmOhpSme9cT44rmRgieDx54vyNIol0//0q2dbhqQLYnx9nN yDPbzpLDa2kHTWMYQMyL51GXrdYh1BjJ6MBtp7E7d5feKf1gSKXfVQNgN0rfNG3ea6fj paqXOOpNBQhHCVHGBGm0o8KjmY8iRhfKOSFLI=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :content-type; b=EEW9SWXNU7Tp9K8DnRzrh6bRztfl9I2Llf17GHM4WzgdKVaGx+8Qtyxo3E3C9A6LFk G8sb23ffZFFW/7nk2VHCBrVtb5mBhgiomgZ+umyPJv/NaXwR6iFYCpUMkLU4IGXC+qiF FDpfoWsbJxWpRG2eIphJx4l7efoC/5gjtCiGE=</li>
<li>In-reply-to: &lt;<a href="mailto:a0350d590904101400x429a2a32y1ddabb020d1fde32@DOMAIN.HIDDEN">a0350d590904101400x429a2a32y1ddabb020d1fde32@xxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:a0350d590904101400x429a2a32y1ddabb020d1fde32@DOMAIN.HIDDEN">a0350d590904101400x429a2a32y1ddabb020d1fde32@xxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Dear Ferret Usergroup<br><br><div class="gmail_quote">Many thanks for the ferret support I have received in the past on this Usergroup.<br><br>I am stuck on problem with Ferret that I (after spending some time on it and trying various options) appear unable to solve, so your suggestions are greatly appreciated.<br>

<br>I am trying to add variability to a dependent variable (plotted on Y-axis) with X-axis being a Time axis. I am using the go script error_bars.jnl but am having some problems.&#xA0; A sample of the data file appears at the end of this email. Using FERRET v6.1&#xA0; on Linux(g77) 2.6.9-22. - 03/26/08<br>
<br>Ascii File is read in using<br>SET DATA/FORM=DELIM/SKIP=1 .....<br><br>Initially I have to grid the &quot;mean&quot; along the properly setup time-axis which I am able to do using <br>LET days_2001 = DAYS1900(2001,1,1)<br>
LET day_frac&#xA0; = (var_hour + var_minute/60 ) / 24<br>LET tstep&#xA0;&#xA0;&#xA0;&#xA0; = DAYS1900(var_year,var_month,var_day) - days_2001 + day_frac<br>

LET ntime = `begindatetime,return=isize`<br>LET dummy&#xA0;&#xA0; = t[GT=ttaxis]<br>LET new_var = RESHAPE(mean,dummy)<br><br>Then I also grid the &quot;sdev&quot; variable along the same time axis using<br>LET new_err = RESHAPE(sdev,dummy)<br>


<br>Then when I issue the following commands..I get a Time Series plot that has all the values bunched up one end (basically the time axis is expanded for some reason). This does not happen if I omit the GO script call below. Any ideas?&#xA0; Am I doing something wrong?<br>


<br>PLOT /SYMBOL=17/SIZE=0.07/Line=2/NOLABELS new_var<br>
GO error_bars polygon/color=blue/thickness=1/nolab new_var new_err<br><br>Here is a file sample of the ASCCII<br><br>filename&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; begindatetime&#xA0;&#xA0; location&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SolarZenith&#xA0;&#xA0;&#xA0;&#xA0; npix&#xA0;&#xA0;&#xA0; mean&#xA0;&#xA0;&#xA0; sdev<br>MOD04_L2.A2007001.1500.005.2007003093108.hdf&#xA0;&#xA0;&#xA0; 2007-01-01 15:00:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 69.450&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>


MOD04_L2.A2007001.1635.005.2007003093604.hdf&#xA0;&#xA0;&#xA0; 2007-01-01 16:35:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 63.960&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>MOD04_L2.A2007002.1540.005.2007004182338.hdf&#xA0;&#xA0;&#xA0; 2007-01-02 15:40:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 66.020&#xA0; 9&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0.081&#xA0;&#xA0; 0.058<br>


MOD04_L2.A2007003.1625.005.2007005151340.hdf&#xA0;&#xA0;&#xA0; 2007-01-03 16:25:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 64.020&#xA0; 15&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0.027&#xA0;&#xA0; 0.013<br>MOD04_L2.A2007004.1530.005.2007007055054.hdf&#xA0;&#xA0;&#xA0; 2007-01-04 15:30:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 66.790&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>


MOD04_L2.A2007005.1615.005.2007008173325.hdf&#xA0;&#xA0;&#xA0; 2007-01-05 16:15:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 64.230&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>MOD04_L2.A2007006.1520.005.2007010020024.hdf&#xA0;&#xA0;&#xA0; 2007-01-06 15:20:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 67.540&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>MOD04_L2.A2007007.1600.005.2007012202039.hdf&#xA0;&#xA0;&#xA0; 2007-01-07 16:00:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 64.630&#xA0; 7&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0.167&#xA0;&#xA0; 0.079<br>


MOD04_L2.A2007008.1505.005.2007012223915.hdf&#xA0;&#xA0;&#xA0; 2007-01-08 15:05:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 68.360&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>MOD04_L2.A2007008.1645.005.2007012225717.hdf&#xA0;&#xA0;&#xA0; 2007-01-08 16:45:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 63.230&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>MOD04_L2.A2007009.1550.005.2007013005323.hdf&#xA0;&#xA0;&#xA0; 2007-01-09 15:50:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 65.080&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>


MOD04_L2.A2007010.1630.005.2007013053221.hdf&#xA0;&#xA0;&#xA0; 2007-01-10 16:30:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 63.060&#xA0; 5&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0.039&#xA0;&#xA0; 0.017<br>MOD04_L2.A2007011.1535.005.2007014063943.hdf&#xA0;&#xA0;&#xA0; 2007-01-11 15:35:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 65.630&#xA0; 12&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0.113&#xA0;&#xA0; 0.068<br>


MOD04_L2.A2007012.1620.005.2007014045513.hdf&#xA0;&#xA0;&#xA0; 2007-01-12 16:20:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 63.130&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>MOD04_L2.A2007013.1525.005.2007015044928.hdf&#xA0;&#xA0;&#xA0; 2007-01-13 15:25:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 66.360&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>MOD04_L2.A2007014.1605.005.2007017161152.hdf&#xA0;&#xA0;&#xA0; 2007-01-14 16:05:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 63.360&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>


MOD04_L2.A2007015.1510.005.2007017183912.hdf&#xA0;&#xA0;&#xA0; 2007-01-15 15:10:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 67.080&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>MOD04_L2.A2007016.1555.005.2007018180305.hdf&#xA0;&#xA0;&#xA0; 2007-01-16 15:55:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 63.700&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>MOD04_L2.A2007017.1500.005.2007019123555.hdf&#xA0;&#xA0;&#xA0; 2007-01-17 15:00:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 67.970&#xA0; 5&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0.000&#xA0;&#xA0; 0.004<br>


MOD04_L2.A2007017.1635.005.2007019125327.hdf&#xA0;&#xA0;&#xA0; 2007-01-17 16:35:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 61.780&#xA0; 15&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0.028&#xA0;&#xA0; 0.012<br>MOD04_L2.A2007018.1540.005.2007020111006.hdf&#xA0;&#xA0;&#xA0; 2007-01-18 15:40:00&#xA0;&#xA0;&#xA0;&#xA0; GISS&#xA0;&#xA0;&#xA0; 64.170&#xA0; 8&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0.126&#xA0;&#xA0; 0.044<br>


<br><div class="gmail_quote">On Fri, Apr 3, 2009 at 12:45 PM, Ansley Manke <span dir="ltr">&lt;<a rel="nofollow" href="mailto:Ansley.B.Manke@xxxxxxxx" target="_blank">Ansley.B.Manke@xxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">





  

<div bgcolor="#ffffff" text="#000000">
Hi -<br>
Yes, you can get the number of records. Once you&#39;ve opened the dataset
you can get that with<br>
<blockquote>LET ntime = `v1,return=isize`<br>
</blockquote>
then <br>
<blockquote>DEFINE axis/T/T0=1-jan-2001/UNIT=days
ttaxis=tstep[L=1:`ntime`]<br>
</blockquote>
The grave-accent syntax, also called immediate-mode expressions if you
want to find it in the documentation, causes Ferret to evaluate the
variable at the time of command-parsing so it can be used immediately
in the DEFINE command.<br>
<br>
To get axis labels correct, assign units and title to variables as you
define them. <br>
<blockquote>LET/units=&quot;meters&quot;/title=&quot;Station Location&quot; new_var =
reshape(v6,dummy)<br>
</blockquote>
Or whatever.<br><font color="#888888">
<br>
Ansley</font><div><div></div><div><br>
<br>
<br>
<br>
</div></div></div>

</blockquote></div><br>
</div><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00230" href="msg00230.html">Re: Fwd: [ferret_users] Time Series Plot with variability</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00226.html">[ferret_users] Bitwise operations in Ferret</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00230.html">Re: Fwd: [ferret_users] Time Series Plot with variability</a></strong>
</li>

</UL>
<center>[<a href="msg00226.html">Thread Prev</a>][<a href="msg00230.html">Thread Next</a>][<A HREF="threads.html#00227">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
