<!-- MHonArc v2.6.16 -->
<!--X-Subject: [ferret_users] Contour Labels on White Box?  Yes, it's possible but in an interactive way. -->
<!--X-From-R13: zvpx fcvyynar <zvpx.fcvyynarNabnn.tbi> -->
<!--X-Date: Thu, 6 Aug 2009 18:43:50 &#45;0700 -->
<!--X-Message-Id: 4A7B86D5.8080805@noaa.gov -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 423495.13483.qm@web95116.mail.in2.yahoo.com -->
<!--X-Reference: 4A79AFDE.7060003@noaa.gov -->
<!--X-Reference: 7C412156&#45;15C4&#45;4A3F&#45;9060&#45;BC8D32550D16@noaa.gov -->
<!--X-Reference: a903a9720908051921u483102d5jb82f35d5b0263bf2@mail.gmail.com -->
<!--X-Reference: 4A7B0955.1030201@noaa.gov -->
<!--X-Derived: pngCOu4LYyDLf.png -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] Contour Labels on White Box?  Yes, it's possible but in an interactive way.</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00469.html">Thread Prev</a>][<a href="msg00462.html">Thread Next</a>][<A HREF="threads.html#00471">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] Contour Labels on White Box?  Yes, it's possible but in an interactive way.</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] Contour Labels on White Box?  Yes, it's possible but in an interactive way.</strong></li>
<li><strong>From</strong>: <strong>mick spillane &lt;<a href="mailto:mick.spillane@DOMAIN.HIDDEN">mick.spillane@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 06 Aug 2009 18:43:49 -0700</li>
<li>In-reply-to: &lt;<a href="mailto:4A7B0955.1030201@DOMAIN.HIDDEN">4A7B0955.1030201@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:423495.13483.qm@DOMAIN.HIDDEN">423495.13483.qm@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4A79AFDE.7060003@DOMAIN.HIDDEN">4A79AFDE.7060003@xxxxxxxx</a>&gt; &lt;<a href="mailto:7C412156-15C4-4A3F-9060-BC8D32550D16@DOMAIN.HIDDEN">7C412156-15C4-4A3F-9060-BC8D32550D16@xxxxxxxx</a>&gt; &lt;<a href="mailto:a903a9720908051921u483102d5jb82f35d5b0263bf2@DOMAIN.HIDDEN">a903a9720908051921u483102d5jb82f35d5b0263bf2@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4A7B0955.1030201@DOMAIN.HIDDEN">4A7B0955.1030201@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Thunderbird 2.0.0.22 (Macintosh/20090605)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hello All,

</pre><tt>   Many of us have probably used &quot;polygon&quot; to &quot;white out&quot; a portion of 
</tt><tt>a plot, within Ferret, to make space for a label of some kind.  A 
</tt><tt>similar idea, but using mouse clicks to position such a white out box 
</tt><tt>can be used to insert labels, such as contour labels, in an interactive 
</tt><tt>but fairly painless manner.  Attached is a script to do that and a demo 
</tt><tt>graphic of the result. 
</tt><tt>
</tt><tt>With the &quot;boxlabel.jnl&quot; script placed in your &quot;ferret tools&quot; directory, 
</tt><tt>the commands that created that graphic are simply:
</tt><pre style="margin: 0em;">

fill/i=1:80/j=1:60/nolab/lev=(0,160,20) i+j
repeat/k=20:140:20 (go boxlabel 0.1 `k` )
go boxlabel 0.2 &quot;@p8Testing boxlabel.jnl&quot;

</pre><tt>The repeat loop calling &quot;boxlabel&quot; works for evenly spaced contours, but 
</tt><tt>they could be entered one by one as was done in adding the caption.
</tt><pre style="margin: 0em;">

</pre><tt>NOTE: Mac users -- there is one function -- LABWID -- in the script that 
</tt><tt>is not available in the version of Ferret I use on my Mac.  It serves to 
</tt><tt>make the width of the &quot;white box&quot; nice and tight and handle formatting 
</tt><tt>characters like &quot;@p2&quot;.  A way around this would be to use the STRLEN 
</tt><tt>function which is on the Mac but my suspicion is that the box would not 
</tt><tt>be as tight -- and would not handle font/color (non-printing) characters 
</tt><tt>like &quot;@p2&quot;.  Another option might be to add another argument &quot;nchar&quot; to 
</tt><tt>the &quot;go boxlabel&quot; call and set &quot;labwid&quot; to nchar*labht instead.
</tt><pre style="margin: 0em;">

</pre><tt>Hope this helps.  Some of the comments in the script may be useful; feel 
</tt><tt>free to improve this first draft &amp; suggestions are welcome.
</tt><pre style="margin: 0em;">

Mick
</pre><tt>PS The &quot;where&quot; function of Ferret is useful for interacting with the 
</tt><tt>screen to extract coordinates (in user units) of features in a plot.  I 
</tt><tt>use it all the time to digitize for example or to define the corners of 
</tt><tt>a subregion I want to zoom in on.
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">

Sudheer Joseph wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
 I believe what Jammal meant is like the attached graph which is not
generated by ferret but using  gri ( , though I am not sure if it is
possible in ferret. It is a good feature if implemented particularly
when the labels get embedded in background colors
Sudheer


On Wed, Aug 5, 2009 at 10:34 PM, William S.
Kessler&lt;william.s.kessler@xxxxxxxx&gt; wrote:
</pre><tt>  
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
I didn't understand the question (and still I'm not sure I understand it
even after Ansley's answer).

One solution to many of these dilemmas is to draw whatever you want using an
otherwise unused color, then do a simple edit of the resulting postscript
file to modify that particular color. Search the mail archives for &quot;edit
postscript&quot; and you should find instructions to change the colors by
modifying the &quot;ct&quot; (color table) code near the top of the postscript file.
It's pretty easy even if you know nothing about postscript code.

Another technique is to define two identical plot boxes (DEFINE VIEWPORT).
Make your background SHADE or FILL plot, then use the second viewport to
draw your white contours on top of that.

Billy K

On 5 Aug 09, at 9:14 AM, Ansley Manke wrote:

</pre><tt>    
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi Jammal,
No, there is not a way to make the labels for contour lines on a small
white background.  One idea for you to try is to use white for the lines and
labels, which might show up better, depending on the palettes you are using.

  yes? fill/i=1:15/j=1:15 i+j
  yes? contour/over/lev/color=white/i=1:15/j=1:15 i+j

Another thing people sometimes do is to make the final plot for a
publication, and then use a separate graphics editing program to make a few
changes to enhance the figure.  This might be another way to get exactly
what you want.

Ansley


jammal Tanclei wrote:
</pre><tt>      
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Dear Ferret users,

Is there any way to plot contour labels on white Box in CONTOUR command
not to be disturbed by FILLed or SHADed background?

Many thaks to you in advance.

J.

Love Cricket? Check out live scores, photos, video highlights and more.
Click here.
</pre><tt>        
</tt></blockquote></blockquote><tt>    
</tt></blockquote><pre style="margin: 0em;">



</pre><tt>  
</tt><tt>
</tt><pre style="margin: 0em;">
------------------------------------------------------------------------

</pre></blockquote></blockquote><pre style="margin: 0em;">

</pre><p><a href="pngCOu4LYyDLf.png" ><img src="pngCOu4LYyDLf.png" alt="PNG image"></a></p>
<pre>CAN MODE VERIFY

! boxlabel : Superimposes a white box on an existing plot, centered at a location
!            determined by a mouse click (the &quot;where&quot; command) and then writes a
!            text string in the whited-out box.
! Usage :
!      go boxlabel ht &quot;mytext&quot;
! where
!            ht     is the desired label height in inches
!            mytext is a string (which can include font and color choices @TR, @p2)
!                   The quotes are not needed if there is no whitespace so, for a
!                   contour label with height 0.1 inches and value 100 use
!                          go boxlabel 0.1 100
! NOTE:
! The value 1.6 in the definition of &quot;laboxy&quot; below is to include labels with
! &quot;descenders&quot; (like y or j). If there are none of these 1.4 would be better.
!
! Written 6-Aug-2009 by Mick.Spillane@xxxxxxxx

let labht=$1 ; let labstr=&quot;$2&quot; ; let labwd=labwid(labstr,`labht`)
let xscal=(`($xaxis_max)` - `($xaxis_min)`)/`($ppl$xlen)`
let yscal=(`($yaxis_max)` - `($yaxis_min)`)/`($ppl$ylen)`

say &quot;Use a mouse click to center the box&quot;
where

let laboxx=labwd*{-0.5,0.5,0.5,-0.5}*xscal
let laboxy=1.6*labht*{-0.5,-0.5,0.5,0.5}*yscal
let labdy =`($ymouse)` - labht*yscal/2
poly/o/nolab/pal=white/co=x `($xmouse)`+laboxx,`($ymouse)`+laboxy
label `($xmouse)` `labdy` 0 0 `labht` @sr`labstr`

SET MODE/LAST VERIFY
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00461" href="msg00461.html">[ferret_users] Contour Labels on White Box?</a></strong>
<ul><li><em>From:</em> jammal Tanclei</li></ul></li>
<li><strong><a name="00465" href="msg00465.html">Re: [ferret_users] Contour Labels on White Box?</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00467" href="msg00467.html">Re: [ferret_users] Contour Labels on White Box?</a></strong>
<ul><li><em>From:</em> William S. Kessler</li></ul></li>
<li><strong><a name="00468" href="msg00468.html">Re: [ferret_users] Contour Labels on White Box?</a></strong>
<ul><li><em>From:</em> Sudheer Joseph</li></ul></li>
<li><strong><a name="00469" href="msg00469.html">Re: [ferret_users] Contour Labels on White Box?</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00469.html">Re: [ferret_users] Contour Labels on White Box?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00462.html">[ferret_users] Question about Reading ASCII Files</a></strong>
</li>

</UL>
<center>[<a href="msg00469.html">Thread Prev</a>][<a href="msg00462.html">Thread Next</a>][<A HREF="threads.html#00471">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
