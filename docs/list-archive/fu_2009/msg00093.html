<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] after scat2gridlaplace some values are obsolote	(data origins of lambert grid) -->
<!--X-From-R13: Brgre Emnob <fmnocrg83Ntznvy.pbz> -->
<!--X-Date: Wed, 25 Feb 2009 06:38:14 &#45;0800 -->
<!--X-Message-Id: 8cc42c030902250638s77f33215gd6cca3fbb0868816@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 8cc42c030902240155m7e92dbf6x538c84226651b6c1@mail.gmail.com -->
<!--X-Reference: 0D4308F1&#45;C992&#45;4019&#45;963B&#45;1A4C020EF732@noaa.gov -->
<!--X-Reference: 8cc42c030902250302pa17801ek5d5adfc10101f2ac@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] after scat2gridlaplace some values are obsolote	(data origins of lambert grid)</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00092.html">Thread Prev</a>][<a href="msg00094.html">Thread Next</a>][<A HREF="threads.html#00093">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] after scat2gridlaplace some values are obsolote	(data origins of lambert grid)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;E. D. (Ned) Cokelet&quot; &lt;<a href="mailto:Edward.D.Cokelet@DOMAIN.HIDDEN">Edward.D.Cokelet@xxxxxxxx</a>&gt;,        Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] after scat2gridlaplace some values are obsolote	(data origins of lambert grid)</strong></li>
<li><strong>From</strong>: <strong>Peter Szabo &lt;<a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 25 Feb 2009 15:38:10 +0100</li>
<li>Cc: ferret &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma; h=domainkey-signature:mime-version:received:in-reply-to:references :date:message-id:subject:from:to:cc:content-type; bh=CyxIwPE9eN2sL5/bHYU0zPUy2X5xslG8v2YJ9ww8pR0=; b=XHSO8thoaAz1K/tmzmvQNgxXbiGfv+nQrXqnXKQm++n4XXo59hfdfDRKhBpIhWQola 5err16yZI69Nae1En/xd0a6KhpcTgePdyUSBCDCRWzqrENTZM5MRTJtGlyAVT1iZm3I8 LNUFPm37BwMBJyZ00ISBpVh/bUKqcuo9NFTCA=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :cc:content-type; b=K3Ols3VwJrjGspWBtO912ubkmdWveRwU4jhEYi0MjcSHIWClwlcYN6Jr6GRrxBDsdi d+aGh/8E/WnqjjWp5cr1Y6oX9HboQ5neHLnI+AqsjBoguCKgtjhToOHfvAOZsWtbcKqq mmVcM96L7swSKT3Utx0TBjoUi0pJsu9wwhpgg=</li>
<li>In-reply-to: &lt;<a href="mailto:8cc42c030902250302pa17801ek5d5adfc10101f2ac@DOMAIN.HIDDEN">8cc42c030902250302pa17801ek5d5adfc10101f2ac@xxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:8cc42c030902240155m7e92dbf6x538c84226651b6c1@DOMAIN.HIDDEN">8cc42c030902240155m7e92dbf6x538c84226651b6c1@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:0D4308F1-C992-4019-963B-1A4C020EF732@DOMAIN.HIDDEN">0D4308F1-C992-4019-963B-1A4C020EF732@xxxxxxxx</a>&gt; &lt;<a href="mailto:8cc42c030902250302pa17801ek5d5adfc10101f2ac@DOMAIN.HIDDEN">8cc42c030902250302pa17801ek5d5adfc10101f2ac@xxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi Ansley and Others,<br>i succeeded in producing a rectilinear grid with the following (corrected) script using CURV_TO_RECT and SCAT2GRIDGAUSS_XY. Variables precip1 and precip2 should be the same. If we look closer, we can find (not that) slight difference between these two. If i compare them it seems to me that these differences are in connection with the surface.<br>
Curv_to_rect somehow makes the &quot;picture&quot; more rounded, not that sharp and not that extreme.<br>Can it be because of the last argument of the &quot;curv_to_rect_map ( lons,lats,lonlatout,0.5)&quot;?<br><br>Which method should i use to get the correct values (as they look pretty the same though there is a small difference) ?<br>
<br>Thank You.<br><br>-------script starts here<br>def axis/x=11.78:25.22/np=97 xx<br>def axis/y=44.63:50.20/np=61 yy<br>def grid/x=xx/y=yy latlon<br>
SET DATA/EZ/VARIABLES=&quot;lon&#xA0;&#xA0; lat&quot;/grid=latlon &quot;ASCII_koord&quot;<br>let lons=lon[d=1]<br>let lats=lat[d=1]<br>def axis/t=&quot;1-JAN-1961 12:00&quot;:&quot;31-DEC-1990 12:00&quot;:1/t0=&quot;31-DEC-1960 12:00&quot;/units=days time<br>

def grid/t=time/x=lons/y=lats gridxyt<br>SET DATA/EZ/VARIABLES=&quot;prec&quot;/grid=gridxyt &quot;predaily.txt&quot;<br><br>!Here is use the CURV_TO_RECT function<br><br>def axis/x=12.5:24.6:0.1/modulo/units=degrees xax<br>

def axis/y=44.9:49.9:0.1/units=degrees yax<br>let lonlatout = y[gy=yax] + x[gx=xax]<br>let map = curv_to_rect_map ( lons,lats,lonlatout,0.5)<br>let precip1 = curv_to_rect(prec[d=2], map)<br><br>!Now, i create this variable in an other way using the SCAT2GRIDGAUSS_XY function<br>

<br>let xx1D = XSEQUENCE(lons)<br>let yy1D = XSEQUENCE(lats)<br>def axis/x=12.5:24.6:0.1 xax<br>def axis/y=44.9:49.9:0.1 yax<br>let precip2=scat2gridgauss_xy(xx1d,yy1d,prec[d=2],x[gx=xax],y[gy=yax],0.01,0.01,10,0)<br>---------script ends here<br>

<br><div class="gmail_quote">On Wed, Feb 25, 2009 at 12:02 PM, Peter Szabo <span dir="ltr">&lt;<a rel="nofollow" href="mailto:szabpet83@xxxxxxxxx" target="_blank">szabpet83@xxxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">

Dear Ansley and Edward,<br><br>I tried using SCAT2GRIDLAPLACE_XY with 5-5 for the last two arguments (instead of 100-100), but the results were almost the same (negative values still appeared among precipitation values). <br>


I also tried using 0 for CAY (=Laplacian interpolation is used) and 5 (the default) for NRNG arguments, but the results got worse (see attached AA.0caymin.gif). <br><br>As for the CURVE_TO_RECT function: the results made with the below commands were not satisfying. I dont have a clue what is wrong with this.<br>


<br>SET DATA/EZ/VARIABLES=&quot;lon,lat&quot; &quot;ASCII_koord.txt&quot;<br>let lons=lon[d=1]<br>let lats=lat[d=1]<br>def axis/t=&quot;1-JAN-1961 12:00&quot;:&quot;31-DEC-1990 12:00&quot;:1/t0=&quot;31-DEC-1960 12:00&quot;/units=days time<br>


def grid/t=time/x=xlon/y=ylat gridxyt<br><br>SET DATA/EZ/VARIABLES=&quot;precip&quot;/grid=gridxyt &quot;predaily.txt&quot;<br><br>def axis/x=12.42:24.6/np=97/modulo xax<br>def axis/y=44.9:49.92/np=61 yax<br>let lonlatout = y[gy=yax] + x[gx=xax]<br>


let map = curv_to_rect_map ( lons,lats,lonlatout,0.5)<br>let pre = curv_to_rect(precip[d=2], map)<br><br>So i might use the GAUSSian grid-changing function to have my lambert (curvilinear) data on lat-lon, rectilinear grid.<br>

<font color="#888888">
<br>Peter</font><div><div></div><div><br><br><div class="gmail_quote">On Tue, Feb 24, 2009 at 11:54 PM, E. D. (Ned) Cokelet <span dir="ltr">&lt;<a rel="nofollow" href="mailto:Edward.D.Cokelet@xxxxxxxx" target="_blank">Edward.D.Cokelet@xxxxxxxx</a>&gt;</span> wrote:<br>

<blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
<div>
FYI, mathematically if a function satisfies Laplace&#39;s equation: del-squared F = 0, then its maxima and minima must lie on the boundary of its domain and nowhere else. &#xA0;It is like a rubber sheet stretched over a drumhead with highs and lows on the rim of the drumhead. &#xA0;The rubber sheet will conform to the boundary and values out in the domain will be an average of (and always less extreme than) those on the edge. &#xA0;So if the Ferret Laplacian gridding is working correctly, this property must hold (within numerical rounding error and loss of significant figures). &#xA0;<br>


<br><div> <span style="border-collapse: separate; border-spacing: 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><span style="border-collapse: separate; border-spacing: 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><span style="border-collapse: separate; border-spacing: 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><span style="border-collapse: separate; border-spacing: 0px; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 14px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><div>


------------------------------------------------------------------------------------------</div><div>Edward D. (Ned) Cokelet, Ph.D. Oceanographer</div><div>NOAA/PMEL &#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;&#xA0; &#xA0;off:&#xA0;&#xA0;(206) 526-6820</div><div>


7600 Sand Point Way NE&#xA0; &#xA0; &#xA0;fax: (206) 526-6485</div><div>Seattle, WA 98115-6349</div><div><br></div><div><a rel="nofollow" href="mailto:Edward.D.Cokelet@xxxxxxxx" target="_blank">Edward.D.Cokelet@xxxxxxxx</a></div><div><br></div><div>The contents&#xA0;of this message are mine personally and do not necessarily reflect any position of the Government or the National Oceanic and Atmospheric Administration.</div>


<br></span></span></span></span> </div><br></div></blockquote></div><br>
</div></div></blockquote></div><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00094" href="msg00094.html">Re: [ferret_users] after scat2gridlaplace some values are obsolote (data origins of lambert grid)</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00087" href="msg00087.html">[ferret_users] after scat2gridlaplace some values are obsolote (data origins of	lambert grid)</a></strong>
<ul><li><em>From:</em> Peter Szabo</li></ul></li>
<li><strong><a name="00090" href="msg00090.html">Re: [ferret_users] after scat2gridlaplace some values are obsolote (data origins of	lambert grid)</a></strong>
<ul><li><em>From:</em> E. D. (Ned) Cokelet</li></ul></li>
<li><strong><a name="00092" href="msg00092.html">Re: [ferret_users] after scat2gridlaplace some values are obsolote	(data origins of lambert grid)</a></strong>
<ul><li><em>From:</em> Peter Szabo</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00092.html">Re: [ferret_users] after scat2gridlaplace some values are obsolote	(data origins of lambert grid)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00094.html">Re: [ferret_users] after scat2gridlaplace some values are obsolote (data origins of lambert grid)</a></strong>
</li>

</UL>
<center>[<a href="msg00092.html">Thread Prev</a>][<a href="msg00094.html">Thread Next</a>][<A HREF="threads.html#00093">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
