<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] list question -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Fri, 27 Feb 2009 11:20:14 &#45;0800 -->
<!--X-Message-Id: 49A83CEE.50209@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: d4473ec00902270556t447cbadbjdaa3bf6b1cceb4a1@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] list question</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00108.html">Thread Prev</a>][<a href="msg00109.html">Thread Next</a>][<A HREF="threads.html#00110">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] list question</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Otacilio Leandro &lt;<a href="mailto:otaciliomneto@DOMAIN.HIDDEN">otaciliomneto@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] list question</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 27 Feb 2009 11:20:14 -0800</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="mailto:d4473ec00902270556t447cbadbjdaa3bf6b1cceb4a1@DOMAIN.HIDDEN">d4473ec00902270556t447cbadbjdaa3bf6b1cceb4a1@xxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:d4473ec00902270556t447cbadbjdaa3bf6b1cceb4a1@DOMAIN.HIDDEN">d4473ec00902270556t447cbadbjdaa3bf6b1cceb4a1@xxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Thunderbird 2.0.0.19 (Windows/20081209)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">



Hi Otacilio,<br>
There are two questions here.&nbsp; One is how to list the data for time1,
time2, time3, time4 for a given site on a single line, and the other is
how to include the text variable "name" on the line with the data.<br>
<br>
Ferret limits the kinds of format specifiers it allows; we haven't
implemented the more complex combinations of string and numeric specs,
but there's still a way to do what you want.<br>
<br>
You have a variable precip which depends on time and station number, so
maybe it's a variable in x and t.&nbsp; I'll make up a variable, just so we
can work through an example.&nbsp; Here is the variable and the listing we'd
get with just the default LIST command.<br>
<br>
<tt>&nbsp;DEFINE AXIS/T=1-FEB-2001:5-FEB-2001:1/T0=1-JAN-2001/UNITS=days tday<br>
&nbsp;LET precip = 10*X[X=1:8] + T[GT=tday]<br>
&nbsp;LIST precip<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARIABLE : 10*X[I=1:8] + T[GT=TDAY]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SUBSET&nbsp;&nbsp; : 8 by 5 points (X-TIME)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
7&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8<br>
&nbsp;01-FEB-2001 00 / 1:&nbsp;&nbsp; 41.0&nbsp;&nbsp; 51.0&nbsp;&nbsp; 61.0&nbsp;&nbsp; 71.0&nbsp;&nbsp; 81.0&nbsp;&nbsp; 91.0&nbsp; 101.0&nbsp;
111.0<br>
&nbsp;02-FEB-2001 00 / 2:&nbsp;&nbsp; 42.0&nbsp;&nbsp; 52.0&nbsp;&nbsp; 62.0&nbsp;&nbsp; 72.0&nbsp;&nbsp; 82.0&nbsp;&nbsp; 92.0&nbsp; 102.0&nbsp;
112.0<br>
&nbsp;03-FEB-2001 00 / 3:&nbsp;&nbsp; 43.0&nbsp;&nbsp; 53.0&nbsp;&nbsp; 63.0&nbsp;&nbsp; 73.0&nbsp;&nbsp; 83.0&nbsp;&nbsp; 93.0&nbsp; 103.0&nbsp;
113.0<br>
&nbsp;04-FEB-2001 00 / 4:&nbsp;&nbsp; 44.0&nbsp;&nbsp; 54.0&nbsp;&nbsp; 64.0&nbsp;&nbsp; 74.0&nbsp;&nbsp; 84.0&nbsp;&nbsp; 94.0&nbsp; 104.0&nbsp;
114.0<br>
&nbsp;05-FEB-2001 00 / 5:&nbsp;&nbsp; 45.0&nbsp;&nbsp; 55.0&nbsp;&nbsp; 65.0&nbsp;&nbsp; 75.0&nbsp;&nbsp; 85.0&nbsp;&nbsp; 95.0&nbsp; 105.0&nbsp;
115.0<br>
</tt><br>
What you want is to to list the numbers in column 1 which is x=1, t=1:5
on one line, then on the next line the values at x=2, t=1:5, and so
on.&nbsp; For listing just the variable, we could just use the command
"LIST/ORDER=TX
precip" but because we also want to write the site name, we'll use a
loop to set up a new Fortran format for each site.<br>
<br>
You also have a list of site names, so I'll define a variable with the
names.<br>
<br>
<tt>&nbsp;LET name = {"Site 1", "Site 2", "Site 3", "Site 4", "Site 5",
"Site 6", "Site 7", "Site 8"}</tt><br>
<br>
Now, what I'm going to do is&nbsp; a loop over I=1:8 where I get the site
name and put it into a symbol, and then use that symbol to define a
Fortran format for each line.&nbsp; So the format for line 1 is
/FORMAT=('Site 1', 5f8.2)&nbsp; and so on.&nbsp; The /I=`i`/ORDER=TX means that
for each I, the variable will be listed with t&nbsp; varying fastest, across
the line.<br>
&nbsp;<br>
&nbsp;&nbsp; REPEAT/I=1:8&nbsp; ( LET iname = name[I=`i`]; \<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DEFINE SYMBOL sname = `iname`; \<br>
&nbsp; &nbsp; &nbsp; LIST/NOHEADER/APPEND/FILE=filename.txt/FORM=('($sname)',
5F8.2)/I=`i`/ORDER=TX precip)<br>
<br>
As it runs, the commands echo. Look at the format that is created.<br>
<tt><br>
!-&gt; REPEAT: I=1<br>
&nbsp;!-&gt; DEFINE VARIABLE iname = name[I=1]<br>
&nbsp;!-&gt; DEFINE SYMBOL sname = Site 1<br>
&nbsp;!-&gt; LIST/NOHEADER/APPEND/FILE=filename.txt/FORM=('Site 1',
5F8.2)/I=1/ORDER=tx precip<br>
&nbsp;LISTing to file filename.txt<br>
<br>
!-&gt; REPEAT: I=2<br>
&nbsp;!-&gt; DEFINE VARIABLE iname = name[I=2]<br>
&nbsp;!-&gt; DEFINE SYMBOL sname = Site 2<br>
&nbsp;!-&gt; LIST/NOHEADER/APPEND/FILE=filename.txt/FORM=('Site 2',
5F8.2)/I=2/ORDER=tx precip<br>
&nbsp;LISTing to file filename.txt<br>
&nbsp;...<br>
</tt><br>
<br>
and the contents of filename.txt are:<br>
<tt><br>
&nbsp;&nbsp; Site 1&nbsp;&nbsp; 41.00&nbsp;&nbsp; 42.00&nbsp;&nbsp; 43.00&nbsp;&nbsp; 44.00&nbsp;&nbsp; 45.00<br>
&nbsp;&nbsp; Site 2&nbsp;&nbsp; 51.00&nbsp;&nbsp; 52.00&nbsp;&nbsp; 53.00&nbsp;&nbsp; 54.00&nbsp;&nbsp; 55.00<br>
&nbsp;&nbsp; Site 3&nbsp;&nbsp; 61.00&nbsp;&nbsp; 62.00&nbsp;&nbsp; 63.00&nbsp;&nbsp; 64.00&nbsp;&nbsp; 65.00<br>
&nbsp;&nbsp; Site 4&nbsp;&nbsp; 71.00&nbsp;&nbsp; 72.00&nbsp;&nbsp; 73.00&nbsp;&nbsp; 74.00&nbsp;&nbsp; 75.00<br>
&nbsp;&nbsp; Site 5&nbsp;&nbsp; 81.00&nbsp;&nbsp; 82.00&nbsp;&nbsp; 83.00&nbsp;&nbsp; 84.00&nbsp;&nbsp; 85.00 <br>
&nbsp;&nbsp; Site 6&nbsp;&nbsp; 91.00&nbsp;&nbsp; 92.00&nbsp;&nbsp; 93.00&nbsp;&nbsp; 94.00&nbsp;&nbsp; 95.00<br>
&nbsp;&nbsp; Site 7&nbsp; 101.00&nbsp; 102.00&nbsp; 103.00&nbsp; 104.00&nbsp; 105.00<br>
&nbsp;&nbsp; Site 8&nbsp; 111.00&nbsp; 112.00&nbsp; 113.00&nbsp; 114.00&nbsp; 115.00</tt><br>
<br>
<br>
Otacilio Leandro wrote:
<blockquote
 cite=""
 type="cite">Dear friends,<br>
  <br>
I'm trying to write a time series of the preciptation for several
diferent sites like this:<br>
  <br>
  
  
  
  
  <table border="0" cellspacing="0" cols="6" frame="void" rules="none">
    <colgroup><col width="86"><col width="86"><col width="86"><col
 width="86"><col width="86"><col width="86"></colgroup> <tbody>
      <tr>
        <td align="left" height="17" width="86">#</td>
        <td align="left" width="86">Time 1</td>
        <td align="left" width="86">Time 2</td>
        <td align="left" width="86">Time 3</td>
        <td align="left" width="86">Time 4</td>
        <td align="left" width="86">Time 5</td>
      </tr>
      <tr>
        <td align="left" height="17">Site 1</td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
      </tr>
      <tr>
        <td align="left" height="17">Site 2</td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
      </tr>
      <tr>
        <td align="left" height="17">Site 3</td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
      </tr>
      <tr>
        <td align="left" height="17">Site 4</td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
      </tr>
      <tr>
        <td align="left" height="17">Site 5</td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
      </tr>
      <tr>
        <td align="left" height="17">Site 6</td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
      </tr>
      <tr>
        <td align="left" height="17">Site 7</td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
      </tr>
      <tr>
        <td align="left" height="17">Site 8</td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
        <td align="left">Value </td>
      </tr>
    </tbody>
  </table>
  <br>
but when i use the comand: <br>
  <br>
list/nohead/append/format=(<tt><font color="#000000">4f8.2</font></tt>)/file=`mod`-`label`-horaria.txt
name, precip<br>
  <br>
where name is the string of the name of the site and precip is a value
i got thos error:<br>
  <br>
**ERROR: invalid command: format disallowed for multiple variables w/
strings<br>
  <br>
Is that possible to wirte out a file like that??&nbsp; <br>
Thanks for the help<br clear="all">
  <br>
-- <br>
Ms. Otacilio Leandro de Menezes Neto<br>
Grupo de Modelagem Atmosf&eacute;rica<br>
Departamento de Meteorologia e Oceanografia<br>
Funda&ccedil;&atilde;o Cearense de Meteorologia e Recursos H&iacute;dricos<br>
Av. Rui Barbosa 1246 - CEP 60115-221<br>
Fortaleza, Cear&aacute;<br>
Fone: (85) 3101-1106 / 3101-1126 <br>
</blockquote>


</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00108" href="msg00108.html">[ferret_users] list question</a></strong>
<ul><li><em>From:</em> Otacilio Leandro</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00108.html">[ferret_users] list question</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00109.html">[ferret_users] Problems with eof_space first mode</a></strong>
</li>

</UL>
<center>[<a href="msg00108.html">Thread Prev</a>][<a href="msg00109.html">Thread Next</a>][<A HREF="threads.html#00110">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
