<!-- MHonArc v2.6.16 -->
<!--X-Subject: RE: [ferret_users] time interpolation &#45; missing values -->
<!--X-From-R13: Terqrevp.QleNhdne.dp.pn -->
<!--X-Date: Fri, 22 May 2009 11:04:13 &#45;0700 -->
<!--X-Message-Id: 9957A187F2D95942B0AD13975E73E6690182EF09@owadepot.bureautique.uqar.qc.ca -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 9957A187F2D95942B0AD13975E73E6690182EF03@owadepot.bureautique.uqar.qc.ca -->
<!--X-Reference: 4A149531.5060702@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>RE: [ferret_users] time interpolation - missing values</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00301.html">Thread Prev</a>][<a href="msg00302.html">Thread Next</a>][<A HREF="threads.html#00309">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: [ferret_users] time interpolation - missing values</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>RE: [ferret_users] time interpolation - missing values</strong></li>
<li><strong>From</strong>: <strong><a href="mailto:Frederic.Cyr@DOMAIN.HIDDEN">Frederic.Cyr@xxxxxxxxxx</a></strong></li>
<li>Date: Fri, 22 May 2009 14:04:10 -0400</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>References:  &lt;<a href="mailto:9957A187F2D95942B0AD13975E73E6690182EF03@DOMAIN.HIDDEN">9957A187F2D95942B0AD13975E73E6690182EF03@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4A149531.5060702@DOMAIN.HIDDEN">4A149531.5060702@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-index: AcnZpIyDKlfGmR9jS622lTozlRGGzABYZhQi</li>
<li>Thread-topic: [ferret_users] time interpolation - missing values</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<address>Title: <strong>RE: [ferret_users] time interpolation - missing values</strong></address>




<!---->

<P><FONT SIZE=2>Hi Ansley,<BR>
<BR>
<BR>
this was a great idea, but I don't know why, the 2 scripts are not working pretty well my my data. I tried make_des and nc2mc, but the resulting file as only 31 data on the time axis instead of 365 which I'd prefer...<BR>
<BR>
Here's what I did with make_des:<BR>
<BR>
fred@fred-laptop:~/Desktop/CMC_work/nc2multi$ ./make_des metfor.1998.*.nc &gt; file.des<BR>
ncdump [-c|-h] [-v ...] [[-b|-f] [c|f]] [-l len] [-n name] [-p n[,n]] [-x] [-k] file<BR>
&nbsp; [-c]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Coordinate variable data and header information<BR>
&nbsp; [-h]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Header information only, no data<BR>
&nbsp; [-v var1[,...]]&nbsp; Data for variable(s) &lt;var1&gt;,... only<BR>
&nbsp; [-b [c|f]]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Brief annotations for C or Fortran indices in data<BR>
&nbsp; [-f [c|f]]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Full annotations for C or Fortran indices in data<BR>
&nbsp; [-l len]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Line length maximum in data section (default 80)<BR>
&nbsp; [-n name]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name for netCDF (default derived from file name)<BR>
&nbsp; [-p n[,n]]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Display floating-point values with less precision<BR>
&nbsp; [-x]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Output XML (NcML) instead of CDL<BR>
&nbsp; [-k]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Output kind of netCDF file<BR>
&nbsp; file&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Name of netCDF file<BR>
netcdf library version &quot;3.6.2&quot; of Feb&nbsp; 8 2008 16:40:20 $<BR>
fred@fred-laptop:~/Desktop/CMC_work/nc2multi$<BR>
<BR>
Then if I look at file.des in ferret:<BR>
<BR>
yes? use file<BR>
yes? show data<BR>
&nbsp;&nbsp;&nbsp;&nbsp; currently SET data sets:<BR>
&nbsp;&nbsp;&nbsp; 1&gt; ./file.des&nbsp; (default)<BR>
&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp; title&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; J&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L<BR>
&nbsp;LON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; longitude&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:192&nbsp;&nbsp;&nbsp;&nbsp; 1:94&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<BR>
&nbsp;LAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; latitude&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:192&nbsp;&nbsp;&nbsp;&nbsp; 1:94&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<BR>
&nbsp;MSL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Mean sea level pressure&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:192&nbsp;&nbsp;&nbsp;&nbsp; 1:94&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:31<BR>
&nbsp;P10U&nbsp;&nbsp;&nbsp;&nbsp; 10 metre U wind component&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:192&nbsp;&nbsp;&nbsp;&nbsp; 1:94&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:31<BR>
&nbsp;P10V&nbsp;&nbsp;&nbsp;&nbsp; 10 metre V wind component&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:192&nbsp;&nbsp;&nbsp;&nbsp; 1:94&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:31<BR>
&nbsp;P2T&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2 metre temperature&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:192&nbsp;&nbsp;&nbsp;&nbsp; 1:94&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:31<BR>
&nbsp;SSRD&nbsp;&nbsp;&nbsp;&nbsp; Surface solar radiation downwar&nbsp; 1:192&nbsp;&nbsp;&nbsp;&nbsp; 1:94&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:31<BR>
&nbsp;STRD&nbsp;&nbsp;&nbsp;&nbsp; Surface thermal radiation downw&nbsp; 1:192&nbsp;&nbsp;&nbsp;&nbsp; 1:94&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:31<BR>
&nbsp;TP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Total precipitation&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:192&nbsp;&nbsp;&nbsp;&nbsp; 1:94&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:31<BR>
&nbsp;QH&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2m Specific humidity&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:192&nbsp;&nbsp;&nbsp;&nbsp; 1:94&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:31<BR>
<BR>
yes? show grid msl<BR>
&nbsp;&nbsp;&nbsp; GRID GDV2<BR>
&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; axis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # pts&nbsp;&nbsp; start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<BR>
&nbsp;X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LONGITUDE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 192mr&nbsp;&nbsp; 0E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.875W<BR>
&nbsp;Y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LATITUDE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 94 i&nbsp;&nbsp; 88.541S&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 88.541N<BR>
&nbsp;normal&nbsp;&nbsp;&nbsp; Z<BR>
&nbsp;TIME1&nbsp;&nbsp;&nbsp;&nbsp; TIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 31 r&nbsp;&nbsp; 01-JAN 00:00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 31-DEC-0059 13:12<BR>
yes?<BR>
<BR>
<BR>
There's clearly a problem with the time axis... Would it be because all the metfor* files have a different time origin (jan-01-1998 for metfor.1998.01.nc, feb-01-1998 for metfor.1998.02.nc, etc.)?<BR>
<BR>
Is anybody has any cue?<BR>
thanks!<BR>
Fred<BR>
<BR>
<BR>
<BR>
-----Original Message-----<BR>
From: Ansley Manke [<A rel="nofollow" href="mailto:Ansley.B.Manke@xxxxxxxx">mailto:Ansley.B.Manke@xxxxxxxx</A>]<BR>
Sent: Wed 5/20/2009 7:41 PM<BR>
To: Cyr Frederic<BR>
Cc: oar.pmel.ferret_users@xxxxxxxx<BR>
Subject: Re: [ferret_users] time interpolation - missing values<BR>
<BR>
Hi Frederic,<BR>
You say you have one file for each month. That sounds as if you'd really<BR>
like to think of all of them together as a single dataset.&nbsp; In the<BR>
example for January 1998 you show, what you want is the first daily<BR>
value from February 1998 to use in computing the 6-hour values of<BR>
january 31, hour 5, 12, and so forth, right? If this is the case, you<BR>
should create a multi-file dataset descriptor file for the monthly data,<BR>
define a 6-hour time axis for the whole time range, and do the<BR>
regridding to the 6-hour time axis in one step.<BR>
<BR>
There are a couple of tools available for creating descriptor files if<BR>
your monthly data is in netCDF files.&nbsp; Have a look at the section of the<BR>
Users Guide on descriptor files,&nbsp;<BR>
<A rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/converting-to-netcdf/CREATING-A-MULTI-FILE-NETCDF-DATA-SET">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/converting-to-netcdf/CREATING-A-MULTI-FILE-NETCDF-DATA-SET</A><BR>
and read down to the section called &quot;tools for making descriptor files&quot;<BR>
which will tell you where to get those tools and how to use them.<BR>
<BR>
Ansley<BR>
<BR>
<BR>
Frederic.Cyr@xxxxxxxxxx wrote:<BR>
&gt;<BR>
&gt; Hi everyone,<BR>
&gt;<BR>
&gt; here's a probably known problem, but I can't find a solution.<BR>
&gt;<BR>
&gt; To feed a model, I need a 6-hourly dataset of many variables, one file<BR>
&gt; every months. For some variables, I only have daily values, and I want<BR>
&gt; to interpolate the daily values on a 6-hourly grid that I have. The<BR>
&gt; problem is as the daily grid is defined at 00:00 every day, there's no<BR>
&gt; value for the last day (I would need the following day to continue the<BR>
&gt; interpolation...)<BR>
&gt;<BR>
&gt; Here's an example for january 1998:<BR>
&gt;<BR>
&gt; yes? let msli = msl[gl=msl[d=1], d=2]&nbsp; !MSL[d=2] is the daily and<BR>
&gt; MSL[d=1] is the 6-hourly<BR>
&gt;<BR>
&gt; The problem is that the new variable as been defined for l=1:121, but<BR>
&gt; is empty for l=122:124 (31day*4-times-a-day = 124 points)<BR>
&gt;<BR>
&gt; Any idea how to solve the problem?<BR>
&gt;<BR>
&gt; Thanks a lot anyway!<BR>
&gt;<BR>
&gt; Fred<BR>
&gt;<BR>
<BR>
</FONT>
</P>



<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00300" href="msg00300.html">[ferret_users] time interpolation - missing values</a></strong>
<ul><li><em>From:</em> Frederic . Cyr</li></ul></li>
<li><strong><a name="00301" href="msg00301.html">Re: [ferret_users] time interpolation - missing values</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00301.html">Re: [ferret_users] time interpolation - missing values</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00302.html">[ferret_users] question of filled region</a></strong>
</li>

</UL>
<center>[<a href="msg00301.html">Thread Prev</a>][<a href="msg00302.html">Thread Next</a>][<A HREF="threads.html#00309">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
