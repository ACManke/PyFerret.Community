<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Failed creating coord variable %% -->
<!--X-From-R13: =?WEA&#45;8859&#45;1?C?Oagbavb_Dbqe=SRthrm?= <nagbavb.enwhNtznvy.pbz> -->
<!--X-Date: Tue, 6 Oct 2009 04:39:21 &#45;0700 -->
<!--X-Message-Id: ee5655ad0910060439w69952996q4f004b42421b7dcd@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: ee5655ad0910051302k7144e776p3bdcdab7f16acc03@mail.gmail.com -->
<!--X-Reference: 4ACA747D.9050007@noaa.gov -->
<!--X-Reference: 4ACA7C0C.7030504@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Failed creating coord variable %%</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00652.html">Thread Prev</a>][<a href="msg00666.html">Thread Next</a>][<A HREF="threads.html#00655">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Failed creating coord variable %%</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Failed creating coord variable %%</strong></li>
<li><strong>From</strong>: <strong>Antonio Rodr&#xED;guez &lt;<a href="mailto:antonio.raju@DOMAIN.HIDDEN">antonio.raju@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 06 Oct 2009 13:39:17 +0200</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma; h=domainkey-signature:mime-version:received:in-reply-to:references :date:message-id:subject:from:to:cc:content-type; bh=jpU4vva59l+35jZeACb1L5fdCAzre47gfF5w0891728=; b=oRxEcjEgZJxxnKz/GwzB0gz0vNlHVBE1KfvNtEGVZQKoYvWUgS1Z1/L715UMgZYzTg /+sTd/VhBGtsUDIeaeHCVeJqs/prUWUePSxKrpQWKBo+fyPXX27IU6prvO1WCryCgEo7 5ZaigvQdqKZ5bSFZxF42bLGWQ3pmdVLbnfSdA=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :cc:content-type; b=Udp+ezj787QEto77GTldTU7jc614vWXxejxWN24h2axN5bTBQ77bjN8yXqR7VEMACu MKq8r7vWmfb/b8eOkn+ESOurDcHvZCEeLTC2vDRdi9jAjotebw3RMqvCkA5V5p5V7T4U 1kthnUXaos3THZ5KdjVYcozhKhvZJKSRLQIQ4=</li>
<li>In-reply-to: &lt;<a href="mailto:4ACA7C0C.7030504@DOMAIN.HIDDEN">4ACA7C0C.7030504@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:ee5655ad0910051302k7144e776p3bdcdab7f16acc03@DOMAIN.HIDDEN">ee5655ad0910051302k7144e776p3bdcdab7f16acc03@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4ACA747D.9050007@DOMAIN.HIDDEN">4ACA747D.9050007@xxxxxxxx</a>&gt; &lt;<a href="mailto:4ACA7C0C.7030504@DOMAIN.HIDDEN">4ACA7C0C.7030504@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Thank you all!<br>
<br>
Yes I&#39;m running 6.2. I will upgrade to 6.3<br>
<br>
Best regards!<br>
<br>
Antonio<br><br><br><div class="gmail_quote">2009/10/6 Ansley Manke <span dir="ltr">&lt;<a rel="nofollow" href="mailto:Ansley.B.Manke@xxxxxxxx">Ansley.B.Manke@xxxxxxxx</a>&gt;</span><br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">



  

<div bgcolor="#ffffff" text="#000000">
Antonio,<br>
To explain a bit more, if we look at the output of ncdump that you
show, this file isn&#39;t actually CF compliant even though it says in its
global attributes that it adheres to the CF conventions.<br>
<br>
The variable <br><div class="im">
&#xA0;&#xA0;&#xA0; float l3m_data(time, depth, G3fakeDim0, G3fakeDim1) ;<br>
<br></div>
has four dimensions listed, but only G3fakeDim0, G3fakeDim1 are
described as coordinate variables in the file.&#xA0; The time and depth
coordinates are not listed among the coordinate variables. A
CF-compliant file would have variables along these lines in the header:<br>
<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; float depth(depth) ;<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; depth:units = &quot;meters&quot; ;<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; depth:axis = &quot;z&quot; ;<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; double time(time) ;<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; time:units = &quot;hour since 1980-01-14 14:00:00&quot; ;<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; time:time_origin = &quot;14-jan-1980 14:00:00&quot; ;<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; time:axis = &quot;t&quot; ;<br>
<br>
and would list the coordinate values in the coordinate section.<br>
<br>
In any case, I think that Ferret v6.3 would be able to handle this file.<br><font color="#888888">
<br>
Ansley</font><div><div></div><div class="h5"><br>
<br>
Ansley Manke wrote:
<blockquote type="cite">
  
Hi Antonio,<br>
What version of Ferret are you running?&#xA0; This sounds like a bug that
was in version 6.2 of Ferret but has been fixed in version 6.3.&#xA0; Please
try upgrading to version 6.3, following the directions on the downloads
pages, <a rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/downloads" target="_blank">http://ferret.pmel.noaa.gov/Ferret/downloads</a><br>
  <br>
Here is a thread of the Users List with some discussion of this.<br>
  <br>
  <a rel="nofollow" href="http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2009/msg00587.html" target="_blank">http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2009/msg00587.html</a><br>
  <br>
Ansley<br>
  <br>
Antonio Rodr&#xED;guez wrote:
  <blockquote type="cite">Hi,<br>
    <br>
Trying to make a mask from my file, I get:<br>
    <br>
use <a rel="nofollow" href="http://dec.nc" target="_blank">dec.nc</a> <br>
let mask=if l3m_data lt 65535 then 0 else 1<br>
save/file=<a rel="nofollow" href="http://mask.nc" target="_blank">mask.nc</a>
mask<br>
LISTing to file <a rel="nofollow" href="http://mask.nc" target="_blank">mask.nc</a><br>
&#xA0;** netCDF error: <br>
&#xA0;Failed creating coord variable %%<br>
    <br>
I couldn&#39;t find any trick after browsing the help pages. I don&#39;t know
what&#39;s going on. Any idea?<br>
    <br>
Thanks!<br>
    <br>
Antonio<br>
    <br>
Bellow you could find the result from ncdumping my <a rel="nofollow" href="http://dec.nc" target="_blank">dec.nc</a> file:<br>
    <br>
ncdump -h <a rel="nofollow" href="http://dec.nc" target="_blank">dec.nc</a> <br>
netcdf dec {<br>
dimensions:<br>
&#xA0;&#xA0;&#xA0; G3fakeDim0 = 205 ;<br>
&#xA0;&#xA0;&#xA0; G3fakeDim1 = 145 ;<br>
&#xA0;&#xA0;&#xA0; depth = 1 ;<br>
&#xA0;&#xA0;&#xA0; time = UNLIMITED ; // (1 currently)<br>
variables:<br>
&#xA0;&#xA0;&#xA0; float l3m_data(time, depth, G3fakeDim0, G3fakeDim1) ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; l3m_<a rel="nofollow">data:Scaling</a> = &quot;linear&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; l3m_<a rel="nofollow">data:Slope</a> = 0.000717185f ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; l3m_<a rel="nofollow">data:Intercept</a> = -2.f ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; l3m_<a rel="nofollow">data:Scaling_Equation</a> =
&quot;(Slope*l3m_data) + Intercept =
Parameter value&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; l3m_<a rel="nofollow">data:_FillValue</a> = 65535.f ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; l3m_<a rel="nofollow">data:structureType</a> = &quot;Grid&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; l3m_<a rel="nofollow">data:unitsCategory</a> = &quot;science&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; l3m_<a rel="nofollow">data:units</a> = &quot;C&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; l3m_<a rel="nofollow">data:scale_factor</a> = 1.f ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; l3m_<a rel="nofollow">data:add_offset</a> = 0.f ;<br>
&#xA0;&#xA0;&#xA0; float G3fakeDim0(G3fakeDim0) ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim0:scale = 0 ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim0:stride = 0.08333334f ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim0:gridReference = &quot;edge&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim0:axis = &quot;Y&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim0:standard_name = &quot;latitude&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim0:endValue = 47.f ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim0:units = &quot;degrees&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim0:scaleType = &quot;linear&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim0:startValue = 29.91667f ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim0:size = 205 ;<br>
&#xA0;&#xA0;&#xA0; float G3fakeDim1(G3fakeDim1) ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim1:scale = 0 ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim1:stride = 0.08333334f ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim1:gridReference = &quot;edge&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim1:axis = &quot;X&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim1:standard_name = &quot;longitude&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim1:endValue = 1.000005f ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim1:units = &quot;degrees&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim1:scaleType = &quot;linear&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim1:startValue = -11.08333f ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; G3fakeDim1:size = 145 ;<br>
    <br>
// global attributes:<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; :Conventions = &quot;CF-1.0&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; :history = &quot;Mon Oct&#xA0; 5 19:51:52 2009: ncecat -u time <a rel="nofollow" href="http://dec.nc" target="_blank">dec.nc</a> <a rel="nofollow" href="http://dec.nc" target="_blank">dec.nc</a>\n&quot;,<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; &quot;Mon Oct&#xA0; 5 19:51:47 2009: ncecat -u depth <a rel="nofollow" href="http://modisterra-dec2001.nc" target="_blank">modisterra-dec2001.nc</a>
    <a rel="nofollow" href="http://dec.nc" target="_blank">dec.nc</a>&quot; ;<br>
&#xA0;&#xA0;&#xA0; &#xA0;&#xA0;&#xA0; :nco_openmp_thread_number = 1 ;<br>
    <br>
    <br>
  </blockquote>
</blockquote>
</div></div></div>

</blockquote></div><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00650" href="msg00650.html">[ferret_users] Failed creating coord variable %%</a></strong>
<ul><li><em>From:</em> Antonio Rodr&#xED;guez</li></ul></li>
<li><strong><a name="00651" href="msg00651.html">Re: [ferret_users] Failed creating coord variable %%</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00652" href="msg00652.html">Re: [ferret_users] Failed creating coord variable %%</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00652.html">Re: [ferret_users] Failed creating coord variable %%</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00666.html">Re: [ferret_users] Failed creating coord variable %%</a></strong>
</li>

</UL>
<center>[<a href="msg00652.html">Thread Prev</a>][<a href="msg00666.html">Thread Next</a>][<A HREF="threads.html#00655">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
