<!-- MHonArc v2.6.16 -->
<!--X-Subject: [ferret_users] ** netCDF error: Not a netcdf file  is this a CDF file ? (Mac Ferret, others?) -->
<!--X-From-R13: "Ivyyvnz E. Yrffyre" <Ivyyvnz.E.YrffyreNabnn.tbi> -->
<!--X-Date: Fri, 23 Jan 2009 20:08:54 &#45;0800 -->
<!--X-Message-Id: 10D28574&#45;67F9&#45;462F&#45;A57C&#45;3FF333316581@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] ** netCDF error: Not a netcdf file  is this a CDF file ? (Mac Ferret, others?)</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00045.html">Thread Prev</a>][<a href="msg00049.html">Thread Next</a>][<A HREF="threads.html#00047">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] ** netCDF error: Not a netcdf file  is this a CDF file ? (Mac Ferret, others?)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] ** netCDF error: Not a netcdf file  is this a CDF file ? (Mac Ferret, others?)</strong></li>
<li><strong>From</strong>: <strong>&quot;William S. Kessler&quot; &lt;<a href="mailto:William.S.Kessler@DOMAIN.HIDDEN">William.S.Kessler@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 23 Jan 2009 20:08:51 -0800</li>
<li>Cc: &quot;William S. Kessler&quot; &lt;<a href="mailto:william.s.kessler@DOMAIN.HIDDEN">william.s.kessler@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style="">Mac Ferret users (possibly others) may have encountered the frustrating message:<DIV><BR></DIV><DIV><DIV>&#xA0;** netCDF error: Not a netcdf file</DIV><DIV>&#xA0;is this a CDF file ?</DIV><BR></DIV><DIV>This can occur on a perfectly correct-looking netcdf file (i.e. ncdump shows all the axes and data to be correct). I have experienced this with several datasets from DODS servers.</DIV><DIV><BR></DIV><DIV>One source of difficulty is that Mac Ferret was apparently compiled with libraries that do not read the new (2008) netcdf4 standards (see&#xA0;<SPAN class="Apple-style-span" style="font-family: Helvetica; "><A rel="nofollow" href="http://www.unidata.ucar.edu/software/netcdf/docs/faq.html#changes_4.0">http://www.unidata.ucar.edu/software/netcdf/docs/faq.html#changes_4.0</A>). A file in netcdf4 format will be rejected by Ferret, giving the above error.&#xA0;</SPAN></DIV><DIV><FONT class="Apple-style-span" face="Helvetica"><BR></FONT></DIV><DIV><FONT class="Apple-style-span" face="Helvetica">The version of netcdf can be tested (on a local file) from the command line with "ncdump -k":</FONT></DIV><DIV><FONT class="Apple-style-span" face="Helvetica"><BR></FONT></DIV><DIV><FONT class="Apple-style-span" face="Helvetica"><DIV>&gt; ncdump -k ocean_an_20081109_u_ncosubset_dods.nc</DIV><DIV>64-bit-offset<SPAN class="Apple-tab-span" style="white-space:pre">		</SPAN>! netcdf4<SPAN class="Apple-tab-span" style="white-space:pre">				</SPAN></DIV><DIV><BR></DIV><DIV><DIV>&gt; ncdump -k ocean_an_200812_u_ncosubset_dodsF3.nc</DIV><DIV>classic<SPAN class="Apple-tab-span" style="white-space:pre">	</SPAN>&#xA0;&#xA0; &#xA0;! previous netcdf (readable by Mac Ferret)</DIV><DIV><BR></DIV><DIV>If you have such a file, one solution is via a set of command line utilities called NCO ("netcdf operators"). These have many excellent tools that enhance the built-in netcdf utilities and also work on remote DODS files. NCO can reach out to a remote site, inspect (like ncdump) or grab a file from a URL, and write it on your system in classic netcdf. While doing so, NCO tools can also subset the file so the download can be small(er). NCO also can convert netcdf4 to classic netcdf.</DIV><DIV><BR></DIV><DIV>NCO is a set of fortran/C code that is available from Fink (or directly from&#xA0;<A rel="nofollow" href="http://nco.sourceforge.net">http://nco.sourceforge.net</A>/). Fink will build it nicely. Of course, NCO is not just for Mac!</DIV><DIV><DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Once the files are on your system, NCO has operators to concatenate (like Ferret's save/append), and it is fast. Ferret likes the result (if you tell NCO to save as classic netcdf). Obviously these commands can be scripted for automatic downloading and processing.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>I have just scratched the surface of what this powerful code can do, but it enhances Ferret and deals with this particular weakness, especially for Mac Ferret users.</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>Billy K</DIV><DIV><BR class="khtml-block-placeholder"></DIV></DIV></DIV></DIV></FONT></DIV> </td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00045.html">[ferret_users] return the grid (latitude) for uneven grid</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00049.html">[ferret_users] merging files with different underline grids</a></strong>
</li>

</UL>
<center>[<a href="msg00045.html">Thread Prev</a>][<a href="msg00049.html">Thread Next</a>][<A HREF="threads.html#00047">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
