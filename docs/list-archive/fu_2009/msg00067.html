<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Regression in t for each month -->
<!--X-From-R13: Rnivq Inat <pyvzngreNtznvy.pbz> -->
<!--X-Date: Tue, 10 Feb 2009 15:44:55 &#45;0800 -->
<!--X-Message-Id: 8be1369e0902101544w5b04b285l786748c85ef4f268@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 694B0ABF&#45;4B37&#45;40DE&#45;BBFA&#45;1730E979081B@noaa.gov -->
<!--X-Reference: 8be1369e0902101435k4363602fqe10481afedbfd485@mail.gmail.com -->
<!--X-Reference: 9DE44C9E&#45;A4A6&#45;406A&#45;B2A5&#45;0CBED5381510@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Regression in t for each month</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00066.html">Thread Prev</a>][<a href="msg00071.html">Thread Next</a>][<A HREF="threads.html#00067">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Regression in t for each month</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Paul Young &lt;<a href="mailto:Paul.J.Young@DOMAIN.HIDDEN">Paul.J.Young@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Regression in t for each month</strong></li>
<li><strong>From</strong>: <strong>David Wang &lt;<a href="mailto:climater@DOMAIN.HIDDEN">climater@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 10 Feb 2009 18:44:53 -0500</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma; h=domainkey-signature:mime-version:received:in-reply-to:references :date:message-id:subject:from:to:cc:content-type; bh=jI4TlPvWvp+5WnlRhmGJDyIIH5EClSoJKhppOBBO0ng=; b=lB8cWqjgP4qt66/Bpu9oM7vAkuXINKoSMohZg3qQbx2zV87MiSChFqSKUyrSnwmvSd jQu9GAFwiA3MtHlZ/3NkOQ/ewa3U3I6sNb9Jtq4j/tziTk7ijOR6d+HYnJA2oOohtTZv x0MyLJyeGBYhd49nKpeltkr4By5Ptoglo1Mz8=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :cc:content-type; b=ZxwXKVYrEZ2RkOmyqgnwLgWFqeERs0WZ8GOZOflpHSFx00vCoQddCF9IUIelwmcOJg NN/x+c5AKez0BPkNcUUlNDizggnUC6THtAQpQpxt1BA7NvC2RARDqau2YsN+7vuzpPA9 mOM71B6LpoiSd6wWhlEobxMiqULgNx+TO8wl4=</li>
<li>In-reply-to: &lt;<a href="mailto:9DE44C9E-A4A6-406A-B2A5-0CBED5381510@DOMAIN.HIDDEN">9DE44C9E-A4A6-406A-B2A5-0CBED5381510@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:694B0ABF-4B37-40DE-BBFA-1730E979081B@DOMAIN.HIDDEN">694B0ABF-4B37-40DE-BBFA-1730E979081B@xxxxxxxx</a>&gt; &lt;<a href="mailto:8be1369e0902101435k4363602fqe10481afedbfd485@DOMAIN.HIDDEN">8be1369e0902101435k4363602fqe10481afedbfd485@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:9DE44C9E-A4A6-406A-B2A5-0CBED5381510@DOMAIN.HIDDEN">9DE44C9E-A4A6-406A-B2A5-0CBED5381510@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Since X is your unused dimension, I&#39;d define calendar months on X instead of Z:<br><br><font><font face="&#39;Courier New&#39;">define axis/x=1:12:1 xmonth</font></font><br><br>With this you don&#39;t need to transpose the contour plot (xmonth will be your x-axis). In other cases when such an operation becomes necessary, try contour/transpose<br>
<br>Cheers,<br>D.<br><br><div class="gmail_quote">On Tue, Feb 10, 2009 at 6:24 PM, Paul Young <span dir="ltr">&lt;<a rel="nofollow" href="mailto:Paul.J.Young@xxxxxxxx">Paul.J.Young@xxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
<div style="">Thanks for the reply David - I didn&#39;t know to look at the reshape function.<div><br></div><div>...However, I have one more (simple?) question: Is it possible to reshape the latitude/z contour plot (where z=month number) back to a time/latitude contour plot (i.e. month name on the x-axis, latitude on the z axis)? Tried using reshape again, but I&#39;m not getting very far!</div>
<div><br></div><div>Just to clarify about my data/script:</div><div><br></div><div><font face="&#39;Courier New&#39;">yes? show grid my_dat &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;!my raw data</font></div><div><font face="&#39;Courier New&#39;"><div>
&nbsp;GRID (G002)</div><div>&nbsp;name &nbsp; &nbsp; &nbsp; axis &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# p
bsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;end</div><div>&nbsp;normal &nbsp; &nbsp;X</div><div>&nbsp;LAT &nbsp; &nbsp; &nbsp; LATITUDE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;15 r &nbsp; 70S &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;70N</div><div>&nbsp;LEV &nbsp; &nbsp; &nbsp; Z (hPa) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;3 i- &nbsp;1.5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;15</div><div>&nbsp;TAX &nbsp; &nbsp; &nbsp; TIME &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 325 r &nbsp; 15-DEC-1978 00:00 &nbsp; &nbsp;15-DEC-2005 00:00</div>
<div><br></div><div>yes? define axis/t=1979:2005:1 tyear &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !Omit Dec 1978&nbsp;</div><div>yes? define axis/z=1:12:1 zmonth&nbsp;</div><div><div>yes? let my_dat15 = my_dat[k=3,l=2:325] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;!Get 2D (lat/time) variable&lt;
id = z[gz=zmonth] + t[gt=tyear] + y[gy=my_dat15]</div></div><div>yes? let my_reshape = reshape(my_dat15,out_grid)</div></font></div><div><font face="&#39;Courier New&#39;">yes? show grid my_reshape</font></div><div><div>
<font face="&#39;Courier New&#39;">&nbsp;GRID (G003)</font></div><div><font face="&#39;Courier New&#39;">&nbsp;name &nbsp; &nbsp; &nbsp; axis &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# pts &nbsp; start &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;end</font></div><div><font face="&#39;Courier New&#39;">&nbsp;normal &nbsp; &nbsp;X</font></div>
<div><font face="&#39;Courier New&#39;">&nbsp;LAT &nbsp; &nbsp; &nbsp; LATITUDE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;15 r &nbsp; 70S &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;70N</font></div><div><font face="&#39;Courier New&#39;">&nbsp;ZMONTH &nbsp; &nbsp;Z &nbsp; &nbsp; &nbsp; &nbsp; &amp;nbsp
bsp; 12 r &nbsp; 1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12</font></div><div><font face="&#39;Courier New&#39;">&nbsp;TYEAR &nbsp; &nbsp; T &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 27 r &nbsp; 1979 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 2005</font></div><div><font face="&#39;Courier New&#39;"><br></font></div>
<div><font face="&#39;Courier New&#39;">yes? let p = t[gt=my_reshape] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;!Do the regression</font></div><div><font face="&#39;Courier New&#39;">yes? let q = my_shape</font></div><div><font face="&#39;Courier New&#39;">yes? set grid q</font></div>
<div><font face="&#39;Courier New&#39;">yes? go regresst</font></div><div><font face="&#39;Courier New&#39;"><br></font></div><div face="&#39;Courier New&#39;">yes? fill slope*10 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; !Decadal trend</div>
</div><div><br></div><div>Cheers,</div><div><br></div><div>Paul</div><div>&nbsp;</div><div><br><div><div class="Ih2E3d"><div>On Feb 10, 2009, at 3:35 PM, David Wang wrote:</div><br></div><blockquote type="cite"><div class="Ih2E3d">
Hi Paul,<br><br>There is an easy way in Ferret. That is to &quot;reshape&quot; your monthly data into a yearly field with an additional dimension of calendar months. Please refer to Ch3 Sec2.3.23 in the manual for an illustrative example.<br>
 <br><a rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPID_114" target="_blank">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPID_114</a><br>
 <br>HTH,<br>D.<br><br></div><div class="gmail_quote"><div class="Ih2E3d">On Tue, Feb 10, 2009 at 4:42 PM, Pau
lt;<a rel="nofollow" href="mailto:Paul.J.Young@xxxxxxxx" target="_blank">Paul.J.Young@xxxxxxxx</a>&gt; wrote:<br></div><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
 <div><div class="Ih2E3d">Hi all,<div><br></div><div>Can&#39;t find this in the documentation or email group....</div><div><br></div><div>I have a time series of monthly mean data (Dec 1978-Dec 2005) on pressure (z) and latitude (y) axes. I would like to be able to do a 2D plot of lat vs time that shows the linear trend for each month. I see that using the regresst tool produces a trend for the whole time series, so is there a way to do it for each month individually? The only way I thought was to load in a time series of each month individually, do the regression, output to a file, combine 12 files using NCO, then re-read back into ferret to do the plotting - there&#39;s got to be a simpler way I guess!?&nbsp;</div>
 <div><br></div><div>Thanks for any help,</div><div><br></div><div>Paul</div></div><div> <span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><div>
 <span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><div>
 <span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><div>
 <span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><div>
 <span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><div>
 <br><font face="&#39;Courier New&#39;">-----</font></div><div><font face="&#39;Courier New&#39;">Paul Young</font></div><div><font face="&#39;Courier New&#39;"><br></font></div><div><font face="&#39;Courier New&#39;">Chemistry and Clim
&gt; <div class="Ih2E3d"><div><font face="&#39;Courier New&#39;">Chemical Sciences Division</font></div><div><font face="&#39;Courier New&#39;">NOAA&nbsp;Earth System Research Laboratory</font></div><div><font face="&#39;Courier New&#39;">325 Broadway R/CSD8</font></div>
 <div><font face="&#39;Courier New&#39;">Boulder&nbsp;CO 80305-3328</font></div><div><font face="&#39;Courier New&#39;">USA</font></div><div><font face="&#39;Courier New&#39;"><br></font></div><div><font face="&#39;Courier New&#39;">Tel: &nbsp; +1 303-497-4711</font></div>
 <div><font face="&#39;Courier New&#39;">Fax: &nbsp; +1 303-497-5686</font></div><div><font face="&#39;Courier New&#39;">Email: <a rel="nofollow" href="mailto:paul.j.young@xxxxxxxx" target="_blank">paul.j.young@xxxxxxxx</a></font></div><div>
<font face="&#39;Courier New&#39;">Web: &nbsp; <a rel="nofollow" href="http://www.esrl.noaa.gov/csd/" target="_blank">http://www.esrl.noaa.gov/csd/</a></font></div> </div></font></div></span></div></span></div></span></div></span></div></span></div>
 </div><br></blockquote></div></blockquote></div></div><div class="Ih2E3d"><br><br clear="all"><br>-- <br>life grows, death doesn&#39;t.<br> <span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><div style="">
<span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal;"><div style="">
<span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><div style="">
<span style="border-collapse: separate; color: rgb(0, 0, 0); font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><div style="">
<span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><span style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px;"><div>
<br><font face="&#39;Courier New&#39;">-----</font></div><div><font face="&#39;Courier New&#39;">Paul Young</font></div><div><font face="&#39;Courier New&#39;"><br></font></div><div><font face="&#39;Courier New&#39;">Chemistry and Climate Processes</font></div>
Chemical Sciences Division</span></span></div><div><font face="&#39;Courier New&#39;">NOAA&nbsp;Earth System Research Laboratory</font></div><div><font face="&#39;Courier New&#39;">325 Broadway R/CSD8</font></div><div><font face="&#39;Courier New&#39;">Boulder&nbsp;CO 80305-3328</font></div>
<div><font face="&#39;Courier New&#39;">USA</font></div><div><font face="&#39;Courier New&#39;"><br></font></div><div><font face="&#39;Courier New&#39;">Tel: &nbsp; +1 303-497-4711</font></div><div><font face="&#39;Courier New&#39;">Fax: &nbsp; +1 303-497-5686</font></div>
<div><font face="&#39;Courier New&#39;">Email: <a rel="nofollow" href="mailto:paul.j.young@xxxxxxxx" target="_blank">paul.j.young@xxxxxxxx</a></font></div><div><font face="&#39;Courier New&#39;">Web: &nbsp; <a rel="nofollow" href="http://www.esrl.noaa.gov/csd/" target="_blank">http://www.esrl.noaa.gov/csd/</a></font></div>
</span></div></span></div></span></div></span> </div></div><br>
</blockquote></div><br><br clear="all"><br>-- <br>life grows, death doesn&#39;t.<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00063" href="msg00063.html">[ferret_users] Regression in t for each month</a></strong>
<ul><li><em>From:</em> Paul Young</li></ul></li>
<li><strong><a name="00064" href="msg00064.html">Re: [ferret_users] Regression in t for each month</a></strong>
<ul><li><em>From:</em> David Wang</li></ul></li>
<li><strong><a name="00066" href="msg00066.html">Re: [ferret_users] Regression in t for each month</a></strong>
<ul><li><em>From:</em> Paul Young</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00066.html">Re: [ferret_users] Regression in t for each month</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00071.html">[ferret_users] holes in data from time axis regridding</a></strong>
</li>

</UL>
<center>[<a href="msg00066.html">Thread Prev</a>][<a href="msg00071.html">Thread Next</a>][<A HREF="threads.html#00067">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
