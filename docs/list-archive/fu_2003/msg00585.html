<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: creating animated GIFs with consistent colour scales (oops!) -->
<!--X-From-R13: Pvyyl Yrffyre <xrffyreNczry.abnn.tbi> -->
<!--X-Date: Thu, 28 Aug 2003 07:37:21 &#45;0700 -->
<!--X-Message-Id: 200308281437.h7SEbIp01169@pontus.pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: creating animated GIFs with consistent colour scales (oops!)</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00582.html">Thread Prev</a>][<a href="msg00586.html">Thread Next</a>][<A HREF="threads.html#00585">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: creating animated GIFs with consistent colour scales (oops!)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</a>, <a href="mailto:jdb@DOMAIN.HIDDEN">jdb@xxxxxxxxxxxxxxxxxxxx</a>,  <a href="mailto:kessler@DOMAIN.HIDDEN">kessler@xxxxxxxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: creating animated GIFs with consistent colour scales (oops!)</strong></li>
<li><strong>From</strong>: <strong>Billy Kessler &lt;<a href="mailto:kessler@DOMAIN.HIDDEN">kessler@xxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 28 Aug 2003 07:37:18 -0700 (PDT)</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Oops! I typed the wrong back-quotes in my previous message!
(The result of getting up in the morning, stumbling over to
the computer, and starting to type away).
Please delete the previous message and read this one instead:

-------------------------------------------------------------------
Hi Jon -

You can do this by putting the variables minval and maxval 
within backward quotes:

shade/levels=(`minval`, `maxval`, 10) isotherm

Those quotes indicate &quot;immediate evaluation&quot; mode,
that will turn them into plain constants that can be
used as you propose. 

If you are also contouring over your shade or fill plot,
then it would probably improve their appearance and readability
to specify no decimal point or places in your contour levels:

shade/levels=(`minval`, `maxval`, 10, -1) isotherm; ppl contour/over

(The final argument to the /LEV qualifier gives the number
of decimal places in the contour labels).

Note that the STAT command will tell also you the global 
min and max of a variable:

STAT isotherm

Regards .... Billy K

&gt; From: Jon Blower &lt;jdb@mail.nerc-essc.ac.uk&gt;
&gt; Date: Thu, 28 Aug 2003 15:06:18 +0100 (BST)
&gt; Subject: creating animated GIFs with consistent colour scales
&gt; 
&gt; Dear Ferret users,
&gt; 
&gt; I'm trying to create an animated GIF representing the timeseries evolution 
&gt; of (for example) the depth of a certain isotherm in a dataset.  I am doing 
&gt; this by creating a load of GIFs using commands like:
&gt; 
&gt; # get a variable containing the depth of the 283K isotherm
&gt; let isotherm = temperature[z=@loc:283];
&gt; 
&gt; # now create a series of GIF files, one for each timestep
&gt; repeat/l=1:10 (shade/levels=100 isotherm; frame/file=&quot;isotherm.gif&quot;);
&gt; 
&gt; I then use whirlgif to assemble these frames into an animated GIF.
&gt; 
&gt; The problem is that each frame comes out with a different range of depths 
&gt; for the isotherm, so the colour scales in each frame are different.  I'd 
&gt; like to be able to work out the minimum and maximum depths of the isotherm 
&gt; in the entire dataset, then use this range for every frame.  This way the 
&gt; colour scales would be consistent and there would be no frames containing 
&gt; data out of this range.
&gt; 
&gt; I can find the minimum and maximum values easily:
&gt; let minval = isotherm[i=@min,j=@min,l=@min];
&gt; let maxval = isotherm[i=@max,j=@max,l=@max];
&gt; 
&gt; I thought I might be able to create the pictures using a command like:
&gt; shade/levels=(minval, maxval, 10) isotherm;
&gt; but I get a syntax error.  It seems that using variables instead of 
&gt; explicit numbers in shade/levels is not allowed.
&gt; 
&gt; How can I get the values of minval and maxval into the shade/levels 
&gt; command?  Or is there another way to do the same thing?
&gt; 
&gt; Any help would be very much appreciated.
&gt; 
&gt; Jon
&gt; 
&gt; -- 
&gt; --------------------------------------------------------------
&gt; Dr Jon Blower              Tel: +44 118 378 5213 (direct line)
&gt; Research Fellow            Tel: +44 118 378 8741 (ESSC)
&gt; ESSC                       Fax: +44 118 378 6413
&gt; University of Reading      Email: jdb@mail.nerc-essc.ac.uk
&gt; 3 Earley Gate
&gt; Reading RG6 6AL, UK
&gt; --------------------------------------------------------------
&gt; 
&gt; 
&gt; 
&gt; 



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00582.html">creating animated GIFs with consistent colour scales</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00586.html">re-arranging time axis and layout of netcdf file in ferret (fwd)</a></strong>
</li>

</UL>
<center>[<a href="msg00582.html">Thread Prev</a>][<a href="msg00586.html">Thread Next</a>][<A HREF="threads.html#00585">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
