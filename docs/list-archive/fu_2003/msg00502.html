<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: Plots across the greenwich meridian -->
<!--X-From-R13: Uyraa Qneire <Uyraa.QneireNngz.pu.pnz.np.hx> -->
<!--X-Date: Tue, 15 Jul 2003 05:51:13 &#45;0700 -->
<!--X-Message-Id: p0510030fbb39a6d870f0@[10.0.1.2] -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E19c70F&#45;0006Qq&#45;00@caesar.atm.ch.cam.ac.uk -->
<!--X-Reference: 3F131299.1FC27B7F@noaa.gov -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: Plots across the greenwich meridian</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00497.html">Thread Prev</a>][<a href="msg00498.html">Thread Next</a>][<A HREF="threads.html#00502">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Plots across the greenwich meridian</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: Plots across the greenwich meridian</strong></li>
<li><strong>From</strong>: <strong>Glenn Carver &lt;<a href="mailto:Glenn.Carver@DOMAIN.HIDDEN">Glenn.Carver@xxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 15 Jul 2003 13:42:14 +0100</li>
<li>In-reply-to: &lt;3F131299.1FC27B7F@noaa.gov&gt;</li>
<li>References: &lt;<a href="msg00497.html">E19c70F-0006Qq-00@caesar.atm.ch.cam.ac.uk</a>&gt;&lt;3F131299.1FC27B7F@noaa.gov&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Steve,<br>
<br>
What can I say?  Spot on on both counts. Adding MODULO to the axis 
definition sorted it out. And yes, we're running an older version of 
Ferret.<br>
<br>
Many thanks,<br>
               Glenn<br>
<br>
<br>
At 1:29 pm -0700 14/7/03, Steve Hankin wrote:<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre>Hi Glenn,

I'm filling in for Ansley manke, who is off on vacation.

When Ferret initializes a data set and sees a longitude axis it tries to
decide if the axis is full-globe and therefore &quot;modulo&quot;.  It sounds like
the rounding error is causing it to answer the question with a &quot;no&quot;.  If
that is the correct diagnosis, then the resolution is simple
    yes? SET AXIS/MODULO axis_name

You can determine axis_name either with SHOW GRID var_name or insert
this in place of axis_name:
    `var_name,RETURN=xaxis`

Note that as of Ferret V5.5 longitude axes are recognized as &quot;sub-span
modulo&quot; if they are less than 360 degrees.  I suspect that you are using
an older version of Ferret.  In V5.5+ your regridding request should
result in a thin band of missing values down the seam where the
precision error occurs at x=359.999

    - steve

===============================

Glenn Carver wrote:

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre> I've having trouble producing plots to span the 0E line.
 My netcdf file consists of variables defined on a regular
 grid from 0 -&gt; 350 (say), spaced by 10 degrees.

 I want to produce a plot over a limited area so I do this:
 def axis/x=-10:10:1/units=degrees xx
 def axis/y=30:50:1/units=degrees yy
 def grid/x=xx/y=yy gg
 fill ozone[g=gg]

 This works fine EXCEPT for one set of netcdf files I have
 in which the longitude coords in the netcdf file have a
 small rounding error. e.g. if you list x[g=ozone] you get
 0, 10, 20, ...... 339.999, 349.999

 In this case, I only get data plotted from 0 -&gt; 10. From
 -10 to 0, I get nothing. If I correct the longitude axis
 to have 330.0, 340.0, 350.0, it all works!  I don't
 understand why ferret is so sensitive to this small
 rounding error and doesn't regrid onto my new grid if
 this small rounding error is there?

  Glenn
</pre>
</blockquote><pre>
--

Steve Hankin, NOAA/PMEL -- Steven.C.Hankin@noaa.gov
7600 Sand Point Way NE, Seattle, WA 98115-0070
ph. (206) 526-6080, FAX (206) 526-6744
</pre>
</blockquote><pre>

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00497" href="msg00497.html">Plots across the greenwich meridian</a></strong>
<ul><li><em>From:</em> Glenn Carver</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00497.html">Plots across the greenwich meridian</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00498.html">ferret auto stats</a></strong>
</li>

</UL>
<center>[<a href="msg00497.html">Thread Prev</a>][<a href="msg00498.html">Thread Next</a>][<A HREF="threads.html#00502">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
