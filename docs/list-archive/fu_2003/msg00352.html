<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: Heat content in the mixed layer -->
<!--X-From-R13: Oafyrl [naxr <Oafyrl.P.[naxrNabnn.tbi> -->
<!--X-Date: Wed, 7 May 2003 10:18:44 &#45;0700 -->
<!--X-Message-Id: 3EB9404B.E44EBBE7@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.SGI.3.94.1030506172148.12936A&#45;100000@darya.nio.org -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: Heat content in the mixed layer</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00345.html">Thread Prev</a>][<a href="msg00346.html">Thread Next</a>][<A HREF="threads.html#00352">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Heat content in the mixed layer</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Satheesh C. Shenoi&quot; &lt;<a href="mailto:shenoi@DOMAIN.HIDDEN">shenoi@xxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: Heat content in the mixed layer</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 07 May 2003 10:20:11 -0700</li>
<li>Cc: FERRET Users group &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="msg00345.html">Pine.SGI.3.94.1030506172148.12936A-100000@darya.nio.org</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Satheesh,
For the question of how to do this step

   let temp_vertint = rhow*Cp*temp[z=0:`mix_layer_h`@din]

I think you can use the ideas in this FAQ: &quot;Averaging/integrating over
irregular regions in Ferret&quot;, at
<a  href="http://ferret.pmel.noaa.gov/Ferret/FAQ/analysis/avg_integ_irreg.html">http://ferret.pmel.noaa.gov/Ferret/FAQ/analysis/avg_integ_irreg.html</a>

You would create a mask using the mixed layer depth and multiply
the variable you are integrating by the mask.  Then everything below
that depth is missing and therefore not included in the integration.
After you have defined mix_layer_h:

   LET mask = IF z LE mix_layer_h THEN 1
   LET temp_vertint = rhow*Cp*mask* temp[z=@din]

Ansley Manke


&quot;Satheesh C. Shenoi&quot; wrote:

&gt; Dear Ferret Guru,
&gt;
&gt; Perhaps this is a trivial question, but I would like to get some help on
&gt; this.
&gt;
&gt; I want to compute the heat content in the mixed layer. The mixed layer
&gt; height is computed as follows:
&gt;
&gt; let mix_layer_dens = dens[k=1]+0.2
&gt; let zero_at_mix_layer_dens = dens - mix_layer_dens
&gt; let mix_layer_h = zero_at_mix_layer_dens[z=@loc:0]
&gt;
&gt; mix_layer_h has X,Y and T (time) dimensions. Now to compute the heat
&gt; content
&gt; in the water column above the mixed layer. I tried the following
&gt;
&gt; let temp_vertint = rhow*Cp*temp[z=0:`mix_layer_h`@din]
&gt;
&gt; it looks, Ferret is unable to substitute for `mix_layer_h`. I am using
&gt; Ferret
&gt; version 5.40. I am getting following error:
&gt;
&gt; let temp_vertint = rhow*Cp*temp[z=0:`mix_layer_h`@din]
&gt;  **ERROR: invalid command: grave accent doesnt evaluate to scalar
&gt;           mix_layer_h
&gt; DEFINE VARIABLE temp_vertint = rhow*Cp*temp[z=0:`mix_layer_h`@din]
&gt; Command file, command group, or REPEAT execution aborted.
&gt;
&gt; Please let me know how to compute the heat content in the mixed layer.
&gt; Thanks in advance.
&gt;
&gt; -satheesh
&gt;
&gt; Satheesh C. Shenoi                     Ph.:   (91)(832) 226253-56 ext4224/4400
&gt; Physical Oceanography Division,        Fax:   (91)(832) 223340/221360
&gt; National Institute of Oceanography,    email: shenoi@darya.nio.org
&gt;                                               shenoi@csnio.ren.nic.in
&gt; Dona Paula, Goa 403 004, India.        Ph.:   (91)(832) 233453 (home)

--
Ansley Manke  Pacific Marine Environmental Laboratory  Seattle WA  (206)526-6246



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00345" href="msg00345.html">Heat content in the mixed layer</a></strong>
<ul><li><em>From:</em> Satheesh C. Shenoi</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00345.html">Heat content in the mixed layer</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00346.html">Heat content in the mixed layer</a></strong>
</li>

</UL>
<center>[<a href="msg00345.html">Thread Prev</a>][<a href="msg00346.html">Thread Next</a>][<A HREF="threads.html#00352">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
