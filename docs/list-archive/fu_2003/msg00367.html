<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: derivatives on an uneven grid -->
<!--X-From-R13: Oafyrl [naxr <Oafyrl.P.[naxrNabnn.tbi> -->
<!--X-Date: Fri, 9 May 2003 14:34:59 &#45;0700 -->
<!--X-Message-Id: 3EBC1F5B.BA61E08A@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.LNX.4.33.0305081816410.27975&#45;100000@bcw006.knmi.nl -->
<!--X-Reference: 3EBAC552.9080509@rsmas.miami.edu -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: derivatives on an uneven grid</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00368.html">Thread Prev</a>][<a href="msg00361.html">Thread Next</a>][<A HREF="threads.html#00367">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: derivatives on an uneven grid</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Rolando S. Balotro&quot; &lt;<a href="mailto:rbalotro@DOMAIN.HIDDEN">rbalotro@xxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: derivatives on an uneven grid</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 09 May 2003 14:36:27 -0700</li>
<li>Cc: John Donners &lt;<a href="mailto:donners@DOMAIN.HIDDEN">donners@xxxxxxx</a>&gt;,  Brent A McDaniel &lt;<a href="mailto:gte328r@DOMAIN.HIDDEN">gte328r@xxxxxxxxxxxxxxxxxxxxx</a>&gt;,  <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</a></li>
<li>References: &lt;<a href="msg00362.html">Pine.LNX.4.33.0305081816410.27975-100000@bcw006.knmi.nl</a>&gt;&lt;<a href="msg00364.html">3EBAC552.9080509@rsmas.miami.edu</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Rolando,
To control the contour interval of the plot you need the
CONTOUR/LEVELS qualifier.  In the Users Guide,
see &quot;levels, contour; general discussion&quot; for the many options
that are available.

Ansley Manke


&quot;Rolando S. Balotro&quot; wrote:

&gt; Hello Ferreters
&gt;
&gt; How do you control the contour interval (begin:end) of your plot?
&gt;
&gt; For example, in plotting a bathymetric data using etopo,
&gt; if once is only concern on the ocean part you begin from
&gt; 0m to an arbitrary -1000m depth.
&gt;
&gt; Masking the land portion
&gt; maybe good but still on the color scale, it goes from  negative
&gt; value(ocean) to 0(coast) to positive value (mountains). Obviously
&gt; positive values are not needed.
&gt;
&gt; Thanks in advance
&gt;
&gt; truly a ferret-fan
&gt;
&gt; rolando s balotro
&gt;
&gt; John Donners wrote:
&gt; &gt; Hi Brent,
&gt; &gt;
&gt; &gt; some weeks ago I ran into the same problem. I wrote a ferret script to
&gt; &gt; calculate first and second derivatives on an unequal grid:
&gt; &gt;
&gt; &gt; let zet=z[gz=rho]
&gt; &gt; let h1=zet-zet[k=@shf:-1]
&gt; &gt; let h2=zet[k=@shf:1]-zet
&gt; &gt;
&gt; &gt; let a=(-1)/(h1+h1*h1/h2)
&gt; &gt; let b=1/(h2+h2*h2/h1)
&gt; &gt; let c=(-1)*(a+b)
&gt; &gt; let rhoz=a*rho[k=@shf:-1]+b*rho[k=@shf:1]+c*rho
&gt; &gt; let aa=2/(h1*h1+h1*h2)
&gt; &gt; let bb=2/(h2*h2+h1*h2)
&gt; &gt; let cc=(-1)*(aa+bb)
&gt; &gt; let rhozz=aa*rho[k=@shf:-1]+bb*rho[k=@shf:1]+cc*rho
&gt; &gt;
&gt; &gt; The variables rho and rhozz are now the first and second derivatives (in
&gt; &gt; the vertical direction)  of the variable rho. The variable h1 is
&gt; &gt; the distance between the uppermost and the central
&gt; &gt; points. The variable h2 is the distance between the central and the
&gt; &gt; lowermost points. It can easily be seen that the centered difference
&gt; &gt; formulations will show up if h1=h2.
&gt; &gt;
&gt; &gt; Hopefully this answers your questions. If there are any more questions
&gt; &gt; I'll be happy to answer them.
&gt; &gt;
&gt; &gt; Regards,
&gt; &gt;
&gt; &gt; John
&gt; &gt;
&gt; &gt; ------------------------------------------
&gt; &gt; John Donners
&gt; &gt; Royal Netherlands Meteorological Institute
&gt; &gt; Dept. Oceanographic Research
&gt; &gt;
&gt; &gt; P.O. Box 201
&gt; &gt; Wilheminalaan 10
&gt; &gt; 3730 AE  De Bilt
&gt; &gt; tel. nr. : ++31 30 2206701
&gt; &gt; fax. nr. : ++31 30 2202570
&gt; &gt; e-mail   : donners@knmi.nl
&gt; &gt; --------------------------------------------------------------
&gt; &gt; Zie ook/see also: <a  href="http://www.knmi.nl/maildisclaimer.html">http://www.knmi.nl/maildisclaimer.html</a>
&gt; &gt;

--
Ansley Manke  Pacific Marine Environmental Laboratory  Seattle WA  (206)526-6246



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00362" href="msg00362.html">Re: derivatives on an uneven grid</a></strong>
<ul><li><em>From:</em> John Donners</li></ul></li>
<li><strong><a name="00364" href="msg00364.html">Re: derivatives on an uneven grid</a></strong>
<ul><li><em>From:</em> Rolando S. Balotro</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00368.html">Re: Masking Vertical Sections and Drawing Lines</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00361.html">How to make ferret recognize/process &quot;NaN&quot; in a  MatLab file?</a></strong>
</li>

</UL>
<center>[<a href="msg00368.html">Thread Prev</a>][<a href="msg00361.html">Thread Next</a>][<A HREF="threads.html#00367">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
