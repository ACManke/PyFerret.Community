<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: derivatives on an uneven grid -->
<!--X-From-R13: "Dbynaqb E. Pnybgeb" <eonybgebNefznf.zvnzv.rqh> -->
<!--X-Date: Thu, 8 May 2003 13:59:11 &#45;0700 -->
<!--X-Message-Id: 3EBAC552.9080509@rsmas.miami.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.LNX.4.33.0305081816410.27975&#45;100000@bcw006.knmi.nl -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: derivatives on an uneven grid</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00362.html">Thread Prev</a>][<a href="msg00365.html">Thread Next</a>][<A HREF="threads.html#00364">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: derivatives on an uneven grid</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>John Donners &lt;<a href="mailto:donners@DOMAIN.HIDDEN">donners@xxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: derivatives on an uneven grid</strong></li>
<li><strong>From</strong>: <strong>&quot;Rolando S. Balotro&quot; &lt;<a href="mailto:rbalotro@DOMAIN.HIDDEN">rbalotro@xxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 08 May 2003 17:00:02 -0400</li>
<li>Cc: Brent A McDaniel &lt;<a href="mailto:gte328r@DOMAIN.HIDDEN">gte328r@xxxxxxxxxxxxxxxxxxxxx</a>&gt;,  <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</a></li>
<li>Organization: RSMAS/UM</li>
<li>References: &lt;<a href="msg00362.html">Pine.LNX.4.33.0305081816410.27975-100000@bcw006.knmi.nl</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.0.1) Gecko/20020830</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hello Ferreters<br>
<br>
How do you control the contour interval (begin:end) of your plot?<br>
<br>
For example, in plotting a bathymetric data using etopo,<br>
if once is only concern on the ocean part you begin from<br>
0m to an arbitrary -1000m depth.<br>
<br>
Masking the land portion<br>
maybe good but still on the color scale, it goes from  negative 
value(ocean) to 0(coast) to positive value (mountains). Obviously<br>
positive values are not needed.<br>
<br>
Thanks in advance<br>
<br>
truly a ferret-fan<br>
<br>
rolando s balotro<br>
<br>
<br>
John Donners wrote:<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi Brent,<br>
<br>
some weeks ago I ran into the same problem. I wrote a ferret script to 
calculate first and second derivatives on an unequal grid:<br>
<br>
let zet=z[gz=rho]<br>
let h1=zet-zet[k=@shf:-1]<br>
let h2=zet[k=@shf:1]-zet<br>
<br>
let a=(-1)/(h1+h1*h1/h2)<br>
let b=1/(h2+h2*h2/h1)<br>
let c=(-1)*(a+b)<br>
let rhoz=a*rho[k=@shf:-1]+b*rho[k=@shf:1]+c*rho<br>
let aa=2/(h1*h1+h1*h2)<br>
let bb=2/(h2*h2+h1*h2)<br>
let cc=(-1)*(aa+bb)<br>
let rhozz=aa*rho[k=@shf:-1]+bb*rho[k=@shf:1]+cc*rho<br>
<br>
The variables rho and rhozz are now the first and second derivatives (in<br>
the vertical direction)  of the variable rho. The variable h1 is<br>
the distance between the uppermost and the central 
points. The variable h2 is the distance between the central and the 
lowermost points. It can easily be seen that the centered difference 
formulations will show up if h1=h2.<br>
<br>
Hopefully this answers your questions. If there are any more questions 
I'll be happy to answer them.<br>
<br>
Regards,<br>
<br>
John<br>
<br>
------------------------------------------<br>
John Donners<br>
Royal Netherlands Meteorological Institute<br>
Dept. Oceanographic Research<br>
<br>
P.O. Box 201<br>
Wilheminalaan 10<br>
3730 AE  De Bilt<br>
tel. nr. : ++31 30 2206701<br>
fax. nr. : ++31 30 2202570<br>
e-mail   : donners@knmi.nl<br>
--------------------------------------------------------------<br>
Zie ook/see also: <a  href="http://www.knmi.nl/maildisclaimer.html">http://www.knmi.nl/maildisclaimer.html</a> 
<br>
</blockquote><pre>



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00367" href="msg00367.html">Re: derivatives on an uneven grid</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00365" href="msg00365.html">Masking Vertical Sections and Drawing Lines</a></strong>
<ul><li><em>From:</em> Rolando S. Balotro</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00362" href="msg00362.html">Re: derivatives on an uneven grid</a></strong>
<ul><li><em>From:</em> John Donners</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00362.html">Re: derivatives on an uneven grid</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00365.html">Masking Vertical Sections and Drawing Lines</a></strong>
</li>

</UL>
<center>[<a href="msg00362.html">Thread Prev</a>][<a href="msg00365.html">Thread Next</a>][<A HREF="threads.html#00364">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
