<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: How do I redefine a grid to an unlimited time axis? -->
<!--X-From-R13: Oaqerj Ivggraoret <Oaqerj.IvggraoretNabnn.tbi> -->
<!--X-Date: Tue, 14 Oct 2003 10:13:00 &#45;0700 -->
<!--X-Message-Id: Pine.LNX.4.44.0310141028440.12091&#45;100000@atw -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 3F8BC455.A5314C23@bgc&#45;jena.mpg.de -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: How do I redefine a grid to an unlimited time axis?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00738.html">Thread Prev</a>][<a href="msg00676.html">Thread Next</a>][<A HREF="threads.html#00740">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: How do I redefine a grid to an unlimited time axis?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Erik Buitenhuis &lt;<a href="mailto:ebuit@DOMAIN.HIDDEN">ebuit@xxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: How do I redefine a grid to an unlimited time axis?</strong></li>
<li><strong>From</strong>: <strong>Andrew Wittenberg &lt;<a href="mailto:Andrew.Wittenberg@DOMAIN.HIDDEN">Andrew.Wittenberg@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 14 Oct 2003 13:12:35 -0400 (EDT)</li>
<li>Cc: &quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="msg00737.html">3F8BC455.A5314C23@bgc-jena.mpg.de</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Tue, 14 Oct 2003, Erik Buitenhuis wrote:
&gt; I have a set of NetCDF files that have a fixed number of time points
&gt; (that is, not UNLIMITED), and I want to ncrcat the files. ncrcat then
&gt; complains
&gt; ncrcat: ERROR input file PIS1.0_ET_PCUL_ptrc_1990 lacks a record dimension
&gt; I think the solution would be to convert the time axis to unlimited, but
&gt; neither Ref Sec4.3. DEFINE GRID nor
&gt; $FER_DIR/doc/about_grid_files.txt
&gt; tells me how to do this.

Hi Erik and Hein,

Another way to do it (which preserves all attributes, variable names,
etc.) is to ncdump your file and compare it with one that you know has an
UNLIMITED axis -- like $FER_DIR/fer_dsets/data/monthly_navy_winds.cdf.  
The key difference is in the &quot;dimensions&quot; section; for example,
monthly_navy_winds.cdf has:

dimensions:
        FNOCX = 144 ;
        FNOCY = 73 ;
        TIME = UNLIMITED ; // (132 currently)

Use a text editor (or a sed, awk, perl, or python script) to change your
time dimension description to look like this, and then use ncgen to
re-create the NetCDF file.  You should then be able to ncrcat these files 
together.

If each of your files is very large, you can extract just the dimension
info using &quot;ncks -c&quot;, ncdump that file, edit it, ncgen, and then ncks it
together with the remaining data to get the final output.  More info on
ncks is available at

<a  href="http://nco.sourceforge.net/nco.html">http://nco.sourceforge.net/nco.html</a>

Cheers,

Andrew

+--------------------------------------------------------+
|   Dr. Andrew T. Wittenberg   |        GFDL/NOAA        |
|  Andrew.Wittenberg@noaa.gov  |      Princeton, NJ      |
+--------------------------------------------------------+



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00737" href="msg00737.html">How do I redefine a grid to an unlimited time axis?</a></strong>
<ul><li><em>From:</em> Erik Buitenhuis</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00738.html">Re: How do I redefine a grid to an unlimited time axis?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00676.html">how to create netcdf from ascii files</a></strong>
</li>

</UL>
<center>[<a href="msg00738.html">Thread Prev</a>][<a href="msg00676.html">Thread Next</a>][<A HREF="threads.html#00740">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
