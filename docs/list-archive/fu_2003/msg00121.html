<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: annual averages from non&#45;calendar axis -->
<!--X-From-R13: Oafyrl [naxr <nafyrlNczry.abnn.tbi> -->
<!--X-Date: Fri, 7 Feb 2003 13:39:50 &#45;0800 (PST) -->
<!--X-Message-Id: 3E44281D.53EDD255@pmel.noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 10302061502.ZM5711@blue.meteor.wisc.edu -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: annual averages from non-calendar axis</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00118.html">Thread Prev</a>][<a href="msg00126.html">Thread Next</a>][<A HREF="threads.html#00121">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: annual averages from non-calendar axis</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Will Lewis &lt;<a href="mailto:will@DOMAIN.HIDDEN">will@xxxxxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: annual averages from non-calendar axis</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley@DOMAIN.HIDDEN">ansley@xxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 07 Feb 2003 13:41:49 -0800</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</a></li>
<li>References: &lt;<a href="msg00118.html">10302061502.ZM5711@blue.meteor.wisc.edu</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->


Hi Will,
<br>You want to define a calendar axis that is equivalent to the axis
<br>your data is generated on, with the NOLEAP attribute, and regrid
<br>with @ASN to that axis, then use regridding with @AVE to an
<br>annual NOLEAP calendar axis.&nbsp; i.e. say your model data is 1 value
per
<br>month.&nbsp; Your input data might look like this, with the first point,
L=1,
<br>corresponding to 1-jan-2000.
<p><tt>&nbsp; yes? show grid var</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; GRID INGRID</tt>
<br><tt>&nbsp;&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; axis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
# pts&nbsp;&nbsp; start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
end</tt>
<br><tt>&nbsp;&nbsp; VX&nbsp;&nbsp;&nbsp; LONGITUDE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
180mr&nbsp;&nbsp; 21E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
19E(379)</tt>
<br><tt>&nbsp;&nbsp; VY&nbsp;&nbsp;&nbsp; LATITUDE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
90 r&nbsp;&nbsp; 89S&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
89N</tt>
<br><tt>&nbsp;&nbsp;&nbsp; normal&nbsp;&nbsp; Z</tt>
<br><tt>&nbsp;&nbsp; T_IN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1212 r&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1212</tt>
<p>&nbsp; yes?&nbsp;&nbsp;&nbsp; ! Define monthly calendar time axis; @ASN
data to it.
<br>&nbsp; yes? def axis/t=1-jan-2000:1-dec-2052:1/unit=months/calendar=noleap
month_noleap
<br>&nbsp; yes? let var_month = var[gt=month_noleap@asn]
<p>&nbsp; yes?&nbsp;&nbsp;&nbsp; ! Define yearly calendar time axis.&nbsp;
Regrid to get annual averages.
<br>&nbsp; yes? def axis/t=1-jan-2000:1-dec-2052:12/unit=months/calendar=noleap
year_noleap
<br>&nbsp; yes? let var_year = var_month[gt=year_noleap@ave]
<p>&nbsp; yes? plot/x=180/y=0 var_year
<br>&nbsp;
<br>&nbsp;
<p>This is just an outline.&nbsp; You will want to think about whether
your monthly
<br>data should be centered at the beginning or middle of the months and
years,
<br>and so forth.
<p>Ansley Manke
<br>&nbsp;
<p>Will Lewis wrote:
<blockquote TYPE=CITE>Greetings Ferret Users,
<p>I have monthly model data which are contained on a no-leapyear, non-calendar
<br>axis, and I would like to create annual averages. I tried following
the example
<br>on the ferret website, but I run into the bugaboo of only the @ASN
<br>transformation being allowed between non-calendar and calendar axes
(as opposed
<br>to the @AVE, which I need). I tried regridding the data to an artificial,
<br>noleap calendar axis (i.e. defining an axis along the lines of
<br>T="01-JAN-2000":"01-DEC-2100":1/unit=month") but still run into the
same error
<br>message when I try to regrid the data from that axis. Any suggestions?
<p>thanks much,
<br>Will
<p>--
<p>___
<p>William Lewis (welewis@students.wisc.edu, will@blue.meteor.wisc.edu)
<br>Department of Atmospheric Sciences / Center for Climatic Research
<br>University of Wisconsin -- Madison</blockquote>
--
<br>Ansley Manke&nbsp; Pacific Marine Environmental Laboratory&nbsp; Seattle
WA&nbsp; (206)526-6246
<br>&nbsp;

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00118" href="msg00118.html">annual averages from non-calendar axis</a></strong>
<ul><li><em>From:</em> Will Lewis</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00118.html">annual averages from non-calendar axis</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00126.html">gksm2ps problem</a></strong>
</li>

</UL>
<center>[<a href="msg00118.html">Thread Prev</a>][<a href="msg00126.html">Thread Next</a>][<A HREF="threads.html#00121">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
