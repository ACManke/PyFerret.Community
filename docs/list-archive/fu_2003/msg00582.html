<!-- MHonArc v2.5.13 -->
<!--X-Subject: creating animated GIFs with consistent colour scales -->
<!--X-From-R13: Xba Pybjre <wqoNznvy.arep&#45;rffp.np.hx> -->
<!--X-Date: Thu, 28 Aug 2003 07:06:27 &#45;0700 -->
<!--X-Message-Id: Pine.LNX.4.44.0308281452080.18013&#45;100000@marlow.nerc&#45;essc.ac.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>creating animated GIFs with consistent colour scales</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00581.html">Thread Prev</a>][<a href="msg00584.html">Thread Next</a>][<A HREF="threads.html#00582">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>creating animated GIFs with consistent colour scales</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>creating animated GIFs with consistent colour scales</strong></li>
<li><strong>From</strong>: <strong>Jon Blower &lt;<a href="mailto:jdb@DOMAIN.HIDDEN">jdb@xxxxxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 28 Aug 2003 15:06:18 +0100 (BST)</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Dear Ferret users,

I'm trying to create an animated GIF representing the timeseries evolution 
of (for example) the depth of a certain isotherm in a dataset.  I am doing 
this by creating a load of GIFs using commands like:

# get a variable containing the depth of the 283K isotherm
let isotherm = temperature[z=@loc:283];

# now create a series of GIF files, one for each timestep
repeat/l=1:10 (shade/levels=100 isotherm; frame/file=&quot;isotherm.gif&quot;);

I then use whirlgif to assemble these frames into an animated GIF.

The problem is that each frame comes out with a different range of depths 
for the isotherm, so the colour scales in each frame are different.  I'd 
like to be able to work out the minimum and maximum depths of the isotherm 
in the entire dataset, then use this range for every frame.  This way the 
colour scales would be consistent and there would be no frames containing 
data out of this range.

I can find the minimum and maximum values easily:
let minval = isotherm[i=@min,j=@min,l=@min];
let maxval = isotherm[i=@max,j=@max,l=@max];

I thought I might be able to create the pictures using a command like:
shade/levels=(minval, maxval, 10) isotherm;
but I get a syntax error.  It seems that using variables instead of 
explicit numbers in shade/levels is not allowed.

How can I get the values of minval and maxval into the shade/levels 
command?  Or is there another way to do the same thing?

Any help would be very much appreciated.

Jon

-- 
--------------------------------------------------------------
Dr Jon Blower              Tel: +44 118 378 5213 (direct line)
Research Fellow            Tel: +44 118 378 8741 (ESSC)
ESSC                       Fax: +44 118 378 6413
University of Reading      Email: jdb@mail.nerc-essc.ac.uk
3 Earley Gate
Reading RG6 6AL, UK
--------------------------------------------------------------



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00584" href="msg00584.html">Re: creating animated GIFs with consistent colour scales</a></strong>
<ul><li><em>From:</em> Helge Avlesen</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00581.html">Listing weights used for &quot;@SBX&quot; transform...</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00584.html">Re: creating animated GIFs with consistent colour scales</a></strong>
</li>

</UL>
<center>[<a href="msg00581.html">Thread Prev</a>][<a href="msg00584.html">Thread Next</a>][<A HREF="threads.html#00582">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
