<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Inf, NAN and **** output from rect_to_curv function -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 2 Sep 2008 13:03:46 &#45;0700 -->
<!--X-Message-Id: 48BD9C21.4020405@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: f67ab7264fc6.48bc0412@fsu.edu -->
<!--X-Reference: 48BD6773.3040205@noaa.gov -->
<!--X-Reference: f5fec8987c2.48bd2117@fsu.edu -->
<!--X-Reference: 48BD8372.8060305@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Inf, NAN and **** output from rect_to_curv function</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00454.html">Thread Prev</a>][<a href="msg00448.html">Thread Next</a>][<A HREF="threads.html#00455">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Inf, NAN and **** output from rect_to_curv function</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Inf, NAN and **** output from rect_to_curv function</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 02 Sep 2008 13:03:45 -0700</li>
<li>Cc: Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;, <a href="mailto:guimond@DOMAIN.HIDDEN">guimond@xxxxxxxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="mailto:48BD8372.8060305@DOMAIN.HIDDEN">48BD8372.8060305@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:f67ab7264fc6.48bc0412@DOMAIN.HIDDEN">f67ab7264fc6.48bc0412@xxxxxxx</a>&gt; &lt;<a href="mailto:48BD6773.3040205@DOMAIN.HIDDEN">48BD6773.3040205@xxxxxxxx</a>&gt; &lt;<a href="mailto:f5fec8987c2.48bd2117@DOMAIN.HIDDEN">f5fec8987c2.48bd2117@xxxxxxx</a>&gt; &lt;<a href="mailto:48BD8372.8060305@DOMAIN.HIDDEN">48BD8372.8060305@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Thunderbird 2.0.0.16 (Windows/20080708)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">



Just to clarify, Ferret SHOULD be able to read binary double-precision
data, <br>
<a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/data-set-basics/BINARY-DATA#_VPINDEXENTRY_202">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/data-set-basics/BINARY-DATA#_VPINDEXENTRY_202</a><br>
but in this case for some reason it wasn't working for Steve. He found
a reasonable work-around.<br>
<br>
Ansley<br>
<br>
Ansley Manke wrote:
<blockquote cite="" type="cite">
  
Hi Stephen,<br>
Ferret always converts data to single precision, so this must have been
just about the file datatype or format - might be Ferret can't properly
read binary data that's stored as double precision.<br>
  <br>
Ansley<br>
  <br>
Stephen Guimond wrote:
  <blockquote cite="" type="cite">
    <pre wrap="">Hi Ansley,

My file was in binary format read in with the /format=stream option in ferret so this must explain the discrepancy in data type (r8 vs. r4) and thus the problem with the rect_to_curv function.  Does ferret only convert to single precision when the data file is NetCDF?

Steve

----- Original Message -----
From: Ansley Manke <a rel="nofollow" moz-do-not-send="true"
 class="moz-txt-link-rfc2396E" href="mailto:Ansley.B.Manke@xxxxxxxx">&lt;Ansley.B.Manke@xxxxxxxx&gt;</a>
Date: Tuesday, September 2, 2008 10:19 am
Subject: Re: [ferret_users] Inf, NAN and **** output from rect_to_curv function
To: <a rel="nofollow" moz-do-not-send="true" class="moz-txt-link-abbreviated"
 href="mailto:guimond@xxxxxxxxxxxxx">guimond@xxxxxxxxxxxxx</a>
Cc: <a rel="nofollow" moz-do-not-send="true" class="moz-txt-link-abbreviated"
 href="mailto:oar.pmel.ferret_users@xxxxxxxx">oar.pmel.ferret_users@xxxxxxxx</a>

  </pre>
    <blockquote type="cite">
      <pre wrap="">Hi Steve,
Thanks for reporting back. If the data is coming in from netCDF 
files, 
Ferret should convert to single precision on input (except for 
coordinate axis values, that is 1-D axes, not curvilinear 
coordinate 
data which is read as variable fields and is in single precision ). 
So 
I'm not sure what may have been happening to make this happen, but 
it's 
good to know you're off and running.

Ansley

Stephen Guimond wrote:
    </pre>
      <blockquote type="cite">
        <pre wrap="">I believe I found an answer to my own question.  My input data to 
      </pre>
      </blockquote>
      <pre wrap="">the 
    </pre>
      <blockquote type="cite">
        <pre wrap="">rect_to_curv function was in double precision (read in with type 
      </pre>
      </blockquote>
      <pre wrap="">r8) 
    </pre>
      <blockquote type="cite">
        <pre wrap="">and the output coordinates were in single precision therefore the 
output must have been confused with the type and returned inf, 
      </pre>
      </blockquote>
      <pre wrap="">NAN and 
    </pre>
      <blockquote type="cite">
        <pre wrap="">**** values.  All I did was output the data to a file and then 
      </pre>
      </blockquote>
      <pre wrap="">read it 
    </pre>
      <blockquote type="cite">
        <pre wrap="">back in with single precision and the call to rect_to_curv worked.

----- Original Message -----
From: Stephen Guimond <a rel="nofollow" moz-do-not-send="true"
 class="moz-txt-link-rfc2396E" href="mailto:sguimond@xxxxxxx">&lt;sguimond@xxxxxxx&gt;</a>
Date: Monday, September 1, 2008 4:31 am
Subject: [ferret_users] Inf, NAN and **** output from 
      </pre>
      </blockquote>
      <pre wrap="">rect_to_curv 
    </pre>
      <blockquote type="cite">
        <pre wrap="">function
To: <a rel="nofollow" moz-do-not-send="true" class="moz-txt-link-abbreviated"
 href="mailto:oar.pmel.ferret_users@xxxxxxxx">oar.pmel.ferret_users@xxxxxxxx</a>

      </pre>
        <blockquote type="cite">
          <pre wrap="">Hello,

I am trying to grid a rectilinear grid onto a curvilinear grid but
just get a bunch of inf, NAN and *** for my output.  The grid 
        </pre>
        </blockquote>
      </blockquote>
      <pre wrap="">of my
    </pre>
      <blockquote type="cite">
        <blockquote type="cite">
          <pre wrap="">input variable (called ntest):

name       axis              # pts   start                end
NX        LONGITUDE          200mi   126.12W(233.89)     
113.89W(246.11) NY        LATITUDE           200 i   14.253N    
        </pre>
        </blockquote>
      </blockquote>
      <pre wrap="">  
    </pre>
      <blockquote type="cite">
        <blockquote type="cite">
          <pre wrap="">     25.746N
ZAX       Z (KM)              71 i   0.035583             15.116

The grid of my destination curvilinear coordinates (same 2-D
dimensions for lat and lon):

name       axis              # pts   start                end
X1        X                  180 r   1                    180
Y1        Y                  200 r   1                    200

The values of the 2-D lat and lon can be seen from the attached
plot, which shows the general rectilinear grid and an overlay of
the curvilinear grid.  Here is my call to the function:

let testing = rect_to_curv(ntest[d=1], clon, clat, 2)

Again, this gives me inf, NAN and *** for output.  Not sure if the
destination coords need to be defined on a lat/lon axis or if they
can be just a listing of lat/lon in degrees as I have it here. 
This wasn't clear from the documentation.

Thanks,
Steve
=======================================================
Stephen R. Guimond
Graduate Research Assistant
Florida State University
Center for Ocean-Atmospheric Prediction Studies (COAPS)
=======================================================




        </pre>
        </blockquote>
        <pre wrap="">=======================================================
Stephen R. Guimond
Graduate Research Assistant
Florida State University
Center for Ocean-Atmospheric Prediction Studies (COAPS)
=======================================================
      </pre>
      </blockquote>
      <pre wrap="">
    </pre>
    </blockquote>
    <pre wrap=""><!---->
=======================================================
Stephen R. Guimond
Graduate Research Assistant
Florida State University
Center for Ocean-Atmospheric Prediction Studies (COAPS)
=======================================================
  </pre>
  </blockquote>
</blockquote>


</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00450" href="msg00450.html">Re: [ferret_users] Inf, NAN and **** output from rect_to_curv function</a></strong>
<ul><li><em>From:</em> Stephen Guimond</li></ul></li>
<li><strong><a name="00452" href="msg00452.html">Re: [ferret_users] Inf, NAN and **** output from rect_to_curv function</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00453" href="msg00453.html">Re: [ferret_users] Inf, NAN and **** output from rect_to_curv function</a></strong>
<ul><li><em>From:</em> Stephen Guimond</li></ul></li>
<li><strong><a name="00454" href="msg00454.html">Re: [ferret_users] Inf, NAN and **** output from rect_to_curv function</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00454.html">Re: [ferret_users] Inf, NAN and **** output from rect_to_curv function</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00448.html">[ferret_users] Installation problem</a></strong>
</li>

</UL>
<center>[<a href="msg00454.html">Thread Prev</a>][<a href="msg00448.html">Thread Next</a>][<A HREF="threads.html#00455">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
