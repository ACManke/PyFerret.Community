<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] @Sum Transformation: Feature (Or bug)? -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 24 Sep 2008 16:18:21 &#45;0700 -->
<!--X-Message-Id: 48DACAC6.4020501@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 5955c3bf0809061022n36c2b8f9s6739979bc565b492@mail.gmail.com -->
<!--X-Reference: 26640ff4a57db8361faa99cb25e74e27.squirrel@sdsio&#45;mailhost.jpl.nasa.gov -->
<!--X-Reference: 1220908020l.716860l.0l@psu.edu -->
<!--X-Reference: 8cc42c030809232346n5b9cfea3ocd9af90a7ad1e8cc@mail.gmail.com -->
<!--X-Reference: 1222264858l.1773804l.0l@psu.edu -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] @Sum Transformation: Feature (Or bug)?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00492.html">Thread Prev</a>][<a href="msg00475.html">Thread Next</a>][<A HREF="threads.html#00494">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] @Sum Transformation: Feature (Or bug)?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Roman Tonkonojenkov &lt;<a href="mailto:romantonk@DOMAIN.HIDDEN">romantonk@xxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] @Sum Transformation: Feature (Or bug)?</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 24 Sep 2008 16:18:30 -0700</li>
<li>Cc: ferret_users &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="mailto:1222264858l.1773804l.0l@DOMAIN.HIDDEN">1222264858l.1773804l.0l@xxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:5955c3bf0809061022n36c2b8f9s6739979bc565b492@DOMAIN.HIDDEN">5955c3bf0809061022n36c2b8f9s6739979bc565b492@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:26640ff4a57db8361faa99cb25e74e27.squirrel@DOMAIN.HIDDEN">26640ff4a57db8361faa99cb25e74e27.squirrel@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:1220908020l.716860l.0l@DOMAIN.HIDDEN">1220908020l.716860l.0l@xxxxxxx</a>&gt; &lt;<a href="mailto:8cc42c030809232346n5b9cfea3ocd9af90a7ad1e8cc@DOMAIN.HIDDEN">8cc42c030809232346n5b9cfea3ocd9af90a7ad1e8cc@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:1222264858l.1773804l.0l@DOMAIN.HIDDEN">1222264858l.1773804l.0l@xxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Thunderbird 2.0.0.16 (Windows/20080708)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Roman and all,
</pre><tt>The variable slat_sum = slat[j=@sum] is still defined as having original 
</tt><tt>grid of the underlying variable slat.  I'm going to change to a dataset 
</tt><tt>we can all use to give an example
</tt><pre style="margin: 0em;">

yes? use levitus_climatology
yes? let tsum = temp[x=@sum]

yes? sh grid temp
   GRID GMS1
name       axis              # pts   start                end
XAXLEVITR LONGITUDE          360mr   20.5E                19.5E(379.5)
YAXLEVITR LATITUDE           180 r   89.5S                89.5N
ZAXLEVITR DEPTH (m)           20 i-  0                    5000
normal    T

yes? show grid tsum
   GRID GMS1
name       axis              # pts   start                end
XAXLEVITR LONGITUDE          360mr   20.5E                19.5E(379.5)
YAXLEVITR LATITUDE           180 r   89.5S                89.5N
ZAXLEVITR DEPTH (m)           20 i-  0                    5000
normal    T

yes? say `temp,return=shape`
!-&gt; MESSAGE/CONTINUE XYZ
XYZ

yes? say `tsum,return=shape`
!-&gt; MESSAGE/CONTINUE XYZ
XYZ

</pre><tt>The transformed variable you've defined does get To get information 
</tt><tt>about a variable you've defined
</tt><pre style="margin: 0em;">


</pre><tt>The `RETURN=` keywords don't evaluate anything; they just go and look at 
</tt><tt>the grid of the variable.  So this is a bit of a &quot;feature&quot; I guess. As 
</tt><tt>Peter showed, running an &quot;action&quot; command like any plotting command, or 
</tt><tt>LOAD or STAT, does apply the transformation, reducing the x dimension in 
</tt><tt>the result of the command.  If the data isn't too large, STAT can be 
</tt><tt>quite useful for seeing the shape of a variable you've defined.
</tt><pre style="margin: 0em;">


</pre><tt>For a bit more discussion of transformations, take a look at the 
</tt><tt>&quot;Expressions&quot; chapter in the Ferret Users Guide,
</tt><tt><a  rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS</a>.  
</tt><tt>Find Chapter 3, section 2.4 to read about transformations, and in 
</tt><tt>particular, look up &quot;transformations, general information&quot; in the index
</tt><pre style="margin: 0em;">

Ansley

Roman Tonkonojenkov wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi ferreters,
FYI:



---------------- Forwarded Message ----------------
From: &quot;Peter Szabo&quot; &lt;szabpet83@xxxxxxxxx&gt;
Date: Wed, Sep 24, 2008 02:46 AM
Subject: Re: [ferret_users] @Sum Transformation: Feature (Or bug)?
To: &quot;Roman Tonkonojenkov&quot; &lt;romantonk@xxxxxxx&gt;

Hey,
</pre><tt>i tested your file and turned out that there is no problem with your 
</tt><tt>data or ferret either. I experienced the same
</tt><tt>if you enter after &quot;let slat_sum = slat[i=@sum]&quot;  or &quot;let slat_sum = 
</tt><tt>slat[j=@sum]&quot; the command &quot;fill slat_sum&quot;, ferret says
</tt><pre style="margin: 0em;">
**ERROR: dimensions improperly specified: must be a 2D region
          CONTOUR/FILL slat_sum
</pre><tt>SO it changed the dimensions. And works also the &quot;plot&quot; command and 
</tt><tt>the &quot;list slat_sum[j=80]&quot; fine. But that must be a bug that ferret 
</tt><tt>doesnt warn you when you &quot;list slat_sum[i=30,j=80]&quot; or enter &quot;show 
</tt><tt>grid slat_sum&quot; and get the same dimensions as the original variable.
</tt><pre style="margin: 0em;">

Cheers, Peter


</pre><tt>On Mon, Sep 8, 2008 at 11:07 PM, Roman Tonkonojenkov 
</tt><tt>&lt;romantonk@xxxxxxx &lt;<a  rel="nofollow" href="https://webmail.psu.edu/webmail/blankIe.html#">https://webmail.psu.edu/webmail/blankIe.html#</a>&gt;&gt; wrote:
</tt><pre style="margin: 0em;">

     Dear Ferret Users,
    I have discovered that applying the @sum transformation to a
    variable doesn't change the dimension of the variable in some
    instances. Do you think this is a feature or a bug? Here is an
    example. I am using a file test.nc &lt;<a  rel="nofollow" href="http://test.nc/">http://test.nc/</a>&gt; (attached)
    and here is what I get:
    ============================================================================

    use test.nc &lt;<a  rel="nofollow" href="http://test.nc/">http://test.nc/</a>&gt;
     *** NOTE: Ignored modulo length exceeding axis length: XT
    yes? sh da
         currently SET data sets:
        1&gt; ./test.nc &lt;<a  rel="nofollow" href="http://test.nc/">http://test.nc/</a>&gt;  (default)
</pre><tt>     name     title              &amp;nb! sp;              I        
</tt><tt>    J         K         L
</tt><tt>     SLAT     sea level atmospheric temperatu  1:100     1:100    
</tt><tt>    ...       1:1
</tt><tt>     
</tt><tt>    yes? let slat_sum = slat[i=@sum]
</tt><pre style="margin: 0em;">
    yes? say `slat_sum, return = shape`
    XY
    yes? list slat[i=30,j=80]
        &amp;nbsp! ;        VARIABLE : sea level atmospheric temperature (K)
                 FILENAME : test.nc &lt;<a  rel="nofollow" href="http://test.nc/">http://test.nc/</a>&gt;
                 LONGITUDE: 106.2E(106.2)
         !         LATITUDE : 53.1N &amp; nbsp;           TIME     :
    31-DEC-2609 22:12
              275.8
    yes? list slat_sum[i=30,j=80]
                 VARIABLE : SLAT[I=@SUM]
                 FILENAME : test.nc &lt;<a  rel="nofollow" href="http://test.nc/">http://test.nc/</a>&gt;
                 LONGITUDE: 104.4E to 108E
                 LATITUDE : ! 53.1N
            &amp;nbsp! ; &amp; nbsp;  TIME     : 31-DEC-2609 22:12
              275.8
    yes? list slat_sum[j=80]
              !    VARIABLE : SLAT[I=@SUM]
                 FILENAME : test.nc &lt;<a  rel="nofollow" href="http://test.nc/">http://test.nc/</a>&gt;
                 LONGITUDE: 0E(0) to 0E(360)
                 LATITUDE : 53.1N
                 TIME     : 31-DEC-2609 22:12
              27775.




</pre></blockquote><pre style="margin: 0em;">

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00464" href="msg00464.html">[ferret_users] Why polygon fills unexpected regions?</a></strong>
<ul><li><em>From:</em> Yu, Hao-Cheng</li></ul></li>
<li><strong><a name="00466" href="msg00466.html">[ferret_users] incorrect gif files</a></strong>
<ul><li><em>From:</em> Ge Peng</li></ul></li>
<li><strong><a name="00468" href="msg00468.html">[ferret_users] @Sum Transformation: Feature (Or bug)?</a></strong>
<ul><li><em>From:</em> Roman Tonkonojenkov</li></ul></li>
<li><strong><a name="00492" href="msg00492.html">[ferret_users] @Sum Transformation: Feature (Or bug)?</a></strong>
<ul><li><em>From:</em> Roman Tonkonojenkov</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00492.html">[ferret_users] @Sum Transformation: Feature (Or bug)?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00475.html">Re: [ferret_users] Why polygon fills unexpected regions?</a></strong>
</li>

</UL>
<center>[<a href="msg00492.html">Thread Prev</a>][<a href="msg00475.html">Thread Next</a>][<A HREF="threads.html#00494">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
