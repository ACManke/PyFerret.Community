<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Regriding data from XY (KM) to geographic grid -->
<!--X-From-R13: Pvwbl Fubzcfba <ovwblzrgNtznvy.pbz> -->
<!--X-Date: Thu, 27 Mar 2008 13:21:18 &#45;0700 -->
<!--X-Message-Id: 3b998bc00803271320u491746e7x7fc16cc680c8825f@mail.gmail.com -->
<!--X-Content-Type: multipart/related -->
<!--X-Reference: 3b998bc00803170454g7bbb7ba6n72dbf1f09614c15@mail.gmail.com -->
<!--X-Reference: 3b998bc00803261725p1a63e016v2e97a9121ba74297@mail.gmail.com -->
<!--X-Reference: 47EBCDB2.5000209@noaa.gov -->
<!--X-Derived: gifVVeIBL0ACV.gif -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Regriding data from XY (KM) to geographic grid</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00135.html">Thread Prev</a>][<a href="msg00152.html">Thread Next</a>][<A HREF="threads.html#00140">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Regriding data from XY (KM) to geographic grid</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Regriding data from XY (KM) to geographic grid</strong></li>
<li><strong>From</strong>: <strong>Bijoy Thompson &lt;<a href="mailto:bijoymet@DOMAIN.HIDDEN">bijoymet@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 27 Mar 2008 21:20:12 +0100</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=beta; h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references; bh=/fW78sZzrAhn/ddbZ2bFSAwAEsiHVIsehXDAahWB/FA=; b=MOSHubfeDskv+NrO3ScsLR5MZJf0c+4eNHdqFokPTgwbfppTkfsV0hSItAm1eX5j/YJcYUvLApmpDjv4yA21sYkV4XKO+ozHhdYiCLwjvxrxPY1QP51aKP5gjCKikaah+u9XEvKus4KGXCN1XII1sXdejo/dtNwS+rFolAS6Njw=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=beta; h=message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:references; b=sfHXrRnJOX7FW5uYiVdupYOlEw+g0q20xSg8yOPJj4ZuWY2FYInSuhlIsp6noRqhb45tTaSKIYmvF/Bf329lVtATr0CsZDS0pz3x6KIfbVHUGnQuryF+pGZEX5HagPHcb/OIeFfWrhyRsDWj3iUe0mo0s4MExcsV3kAbUXk/Fhw=</li>
<li>In-reply-to: &lt;<a href="mailto:47EBCDB2.5000209@DOMAIN.HIDDEN">47EBCDB2.5000209@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:3b998bc00803170454g7bbb7ba6n72dbf1f09614c15@DOMAIN.HIDDEN">3b998bc00803170454g7bbb7ba6n72dbf1f09614c15@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:3b998bc00803261725p1a63e016v2e97a9121ba74297@DOMAIN.HIDDEN">3b998bc00803261725p1a63e016v2e97a9121ba74297@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:47EBCDB2.5000209@DOMAIN.HIDDEN">47EBCDB2.5000209@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi Ansley,<br>
&nbsp;&nbsp;&nbsp;&nbsp; Thanks for your reply.<br>
Initially I started working with a GMT-netcdf data set and from the
axis information,&nbsp; the data has been regrided using the script as<br>
<br>
define axis/x=0:5100/npoints=511/units=km XGR<br>
define axis/y=0:6500/npoints=651/units=km YGR<br>
define grid/x=XGR/y=YGR GGR<br>
let topon = topo[g=GGR@asn]<br>
<br>
The&nbsp; dataset will be used in the model as topography. The model does need the topography in a lat-lon coordinate system.<br>
Since there will be variation in longitude distance on different
latitudes the @asn regriding may not be a good solution for this.<br>
ie, the grid distance should be conserved during the regriding.<br>
&nbsp;<br>
The x=0 corresponds to lon=70W and y=0 is at lat=10N.<br>
&nbsp;&nbsp;  <br>
Best Regards<br>
Bijoy<br><br><br><br><br><div class="gmail_quote">On Thu, Mar 27, 2008 at 5:39 PM, Ansley Manke &lt;<a rel="nofollow" href="mailto:Ansley.B.Manke@xxxxxxxx">Ansley.B.Manke@xxxxxxxx</a>&gt; wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">



  

<div bgcolor="#ffffff" text="#000000">
Hi Bijoy,<br>
You&#39;ll need to define your own longitude/latitude axis that is
equivalent to the grid in Km. This isn&#39;t something that&#39;s done
automatically by Ferret. There really isn&#39;t enough information in your
dataset to do it.&nbsp; What longitude and latitude correspond to x=0 and
y=0 on this input grid?&nbsp; And the conversion from Km to degrees depends
of course on what latitude you&#39;re working at.<br>
<br>
Define an axis in each direction with the same number of points as the
input axis, and with the first and last longitudes corresponding to the
endpoints of X, and likewise for the latitude axis and Y. Then the
regridding command in Ferret would be<br>
<br>
&nbsp; yes? let&nbsp;&nbsp; newvar = topo[gx=xlon@ASN, gy=ylat@ASN]<br>
<br>
In fact, looking at the netCDF header you show, this is the kind of
operation that created this variable:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TOPON:long_name = &quot;TOPO[G=GGR@ASN]&quot; ;<br>
<br>
Ansley<br>
<br>
Bijoy Thompson wrote:
<blockquote type="cite">
  <div class="gmail_quote">Hi List,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I have a data file with uniform XY axis In Kilometers.&nbsp; What
I need is to regrid and save this data into an XY geographical grid in
degrees.<br>
The lat-lon space to which the regriding to be done is not an issue.&nbsp;
Any help is greatly appreciated<br>
  <br>
A plot of the data is attached.<br>
  <br>
Best Regards<br>
Bijoy<br>
  <br>
  <br>
  <br>
dimensions:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XGR = 511 ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; YGR = 651 ;<br>
variables:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double XGR(XGR) ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XGR:units = &quot;KM&quot; ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XGR:point_spacing = &quot;even&quot; ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; XGR:axis = &quot;X&quot; ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double YGR(YGR) ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; YGR:units = &quot;KM&quot; ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; YGR:point_spacing = &quot;even&quot; ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; YGR:axis = &quot;Y&quot; ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; float TOPON(YGR, XGR) ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TOPON:missing_value = -1.e+34f ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TOPON:_FillValue = -1.e+34f ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TOPON:long_name = &quot;TOPO[G=GGR@ASN]&quot; ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TOPON:history = &quot;From topo3&quot; ;<br>
  <br>
// global attributes:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :history = &quot;FERRET V6.08&nbsp;&nbsp; 17-Mar-08&quot; ;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :Conventions = &quot;CF-1.0&quot; ;<br>
  <br>
  </div>
  <br>
  <br>
  <hr size="4" width="90%"><br>
  <center><img src="gifVVeIBL0ACV.gif"></center>
</blockquote>
</div>

</blockquote></div><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00152" href="msg00152.html">Fwd: [ferret_users] Regriding data from XY (KM) to geographic grid</a></strong>
<ul><li><em>From:</em> Bijoy Thompson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00131" href="msg00131.html">[ferret_users] Regriding data from XY (KM) to geographic grid</a></strong>
<ul><li><em>From:</em> Bijoy Thompson</li></ul></li>
<li><strong><a name="00135" href="msg00135.html">Re: [ferret_users] Regriding data from XY (KM) to geographic grid</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00135.html">Re: [ferret_users] Regriding data from XY (KM) to geographic grid</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00152.html">Fwd: [ferret_users] Regriding data from XY (KM) to geographic grid</a></strong>
</li>

</UL>
<center>[<a href="msg00135.html">Thread Prev</a>][<a href="msg00152.html">Thread Next</a>][<A HREF="threads.html#00140">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
