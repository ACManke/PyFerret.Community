<!-- MHonArc v2.6.16 -->
<!--X-Subject: [ferret_users] regridding in a repeat loop -->
<!--X-From-R13: Rnivq Inat <pyvzngreNtznvy.pbz> -->
<!--X-Date: Thu, 25 Sep 2008 09:11:35 &#45;0700 -->
<!--X-Message-Id: 8be1369e0809250911m701addeem103dcaa516cee182@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] regridding in a repeat loop</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00489.html">Thread Prev</a>][<a href="msg00497.html">Thread Next</a>][<A HREF="threads.html#00496">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] regridding in a repeat loop</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>ferret_users &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] regridding in a repeat loop</strong></li>
<li><strong>From</strong>: <strong>David Wang &lt;<a href="mailto:climater@DOMAIN.HIDDEN">climater@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 25 Sep 2008 12:11:32 -0400</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma; h=domainkey-signature:received:received:message-id:date:from:to :subject:mime-version:content-type; bh=6aNk3ZFx5mQPNWuM9XZMqfW1ydTawgR/wvLTpBjyM60=; b=j12egP+0/huIKVUgCHCR6k5AM9L2Wedjz/KmMnLchAFs/5HuI6URFsTmc7MnI+RoRw W7B3zEVPH/NW7uFUS0wBqQh3RE5XLeih+/OUBh3l4WqOEbSPs0FGFXiNGZcQicyBAVl+ Fd/pV3f9yRLiznwDVjMLDqkVr2d2XBAUyqmgs=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=message-id:date:from:to:subject:mime-version:content-type; b=Yu2UTA3/76KngaC/sNRwLBNYpas6t1y6vw+addxT9ZsE6lrW8n73KIWycKHi4FM8VJ Wz4GffwnxRAw8QHuOTOQc4L8mtKn9EOttyt3REpfi9icDOrOQ37E2vwMgTIqrWbbFlGc g1InJyInVvqXdSxw8IXfL2wN7wvbP28s9b4Qs=</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Hello Ferreters,<br><br>I encountered a bizarre problem when doing regridding within a repeat command. The following is a reproducible example to illustrate the problem.<br><br><span style="font-family: courier new,monospace;">can data/a</span><br style="font-family: courier new,monospace;">
<br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">use &quot;<a rel="nofollow" href="http://iridl.ldeo.columbia.edu/SOURCES/.NOAA/.NODC/.WOA01/.Grid-1x1/.Annual/.an/.temperature/dods">http://iridl.ldeo.columbia.edu/SOURCES/.NOAA/.NODC/.WOA01/.Grid-1x1/.Annual/.an/.temperature/dods</a>&quot;</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">use &quot;<a rel="nofollow" href="http://iridl.ldeo.columbia.edu/SOURCES/.NOAA/.NODC/.WOA01/.Grid-5x5/.Annual/.mn/.temperature/dods">http://iridl.ldeo.columbia.edu/SOURCES/.NOAA/.NODC/.WOA01/.Grid-5x5/.Annual/.mn/.temperature/dods</a>&quot;</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">use etopo20</span><br style="font-family: courier new,monospace;"><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">repeat/range=1:2/name=m \</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">(let mask = if rose[d=etopo20,gxy=temperature[d=`m`]@nrst] le 0 then 1; \</span><br style="font-family: courier new,monospace;"><span style="font-family: courier new,monospace;">&nbsp;shade/k=1 temperature[d=`m`]*mask; \</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">&nbsp;pause; \<br>&nbsp;can var mask; \<br style="font-family: courier new,monospace;"></span><span style="font-family: courier new,monospace;">&nbsp;can view; \</span><br style="font-family: courier new,monospace;">
<span style="font-family: courier new,monospace;">)</span><br><br>What this script essentially does is to mask out all the land grid points in the original data (it of course makes little sense here since the original data are already ocean-only, but my working wind stress data do have valid values over both lands and oceans). But if you execute the above script, you will find the masking in the second plot gets messed up. What&#39;s not intelligible to me is that if I mask the second data alone, the resultant plot appears simply all right. This is on Ferret v6.1 32-bit Linux version.<br>
<br>Did I miss anything obvious? Thanks!<br>David<br><br></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00497" href="msg00497.html">Re: [ferret_users] regridding in a repeat loop</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00489.html">[ferret_users] customize white_centered palette</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00497.html">Re: [ferret_users] regridding in a repeat loop</a></strong>
</li>

</UL>
<center>[<a href="msg00489.html">Thread Prev</a>][<a href="msg00497.html">Thread Next</a>][<A HREF="threads.html#00496">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
