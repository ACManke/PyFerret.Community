<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] synchronizing an i/j/k grid with another lon/lat/z grid -->
<!--X-From-R13: Brgre Emnob <fmnocrg83Ntznvy.pbz> -->
<!--X-Date: Thu, 25 Sep 2008 01:08:14 &#45;0700 -->
<!--X-Message-Id: 8cc42c030809250108w7a859affx90e066f418713bcc@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 8be1369e0809231852r43eadf1fl63f3fa67a591f7cf@mail.gmail.com -->
<!--X-Reference: b082e518cb36e68702e71c3e03637b5a.squirrel@sdsio&#45;mailhost.jpl.nasa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] synchronizing an i/j/k grid with another lon/lat/z grid</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00493.html">Thread Prev</a>][<a href="msg00498.html">Thread Next</a>][<A HREF="threads.html#00495">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] synchronizing an i/j/k grid with another lon/lat/z grid</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ge Peng &lt;<a href="mailto:gpeng@DOMAIN.HIDDEN">gpeng@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] synchronizing an i/j/k grid with another lon/lat/z grid</strong></li>
<li><strong>From</strong>: <strong>Peter Szabo &lt;<a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 25 Sep 2008 10:08:10 +0200</li>
<li>Cc: ferret_users &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma; h=domainkey-signature:received:received:message-id:date:from:to :subject:cc:in-reply-to:mime-version:content-type:references; bh=P/MflBtrwOjD2P2OYTxE4xwpq+BYZu/+sJ5zfCsC7jI=; b=gKgtpgNWuF2+C/4xS8z9Gk5StxkAbTKS2g+Ud0e9v0G+8aZPABP2f6HFPYRQONnQVh wJLy4Nq/RE2+GZQ2UpS7MqzBsEc2V9rRl9L6IGsE1nU4vS9Emt9EY/33SJ0GCPoWh0jq k3YZjX3zrGsVOvtIDYVm26KR++OH9fASAZuY8=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=message-id:date:from:to:subject:cc:in-reply-to:mime-version :content-type:references; b=HbhVim0ZTk9AWZ6kXPnswlX9XCn+8ERABSxnqreyU/hpEb7evAsybXVGUYyfj5rQh9 u2OmoskY+KHmbNBL1wLA8ZJnEyBN5iHcMirg7WLvvgw1Id7iAkk8aM6tjTziE6d8eioo rR72Bx6bJ0ZjywgKtSwh5yEBZhvdDx/gXrh+I=</li>
<li>In-reply-to:  &lt;<a href="mailto:b082e518cb36e68702e71c3e03637b5a.squirrel@DOMAIN.HIDDEN">b082e518cb36e68702e71c3e03637b5a.squirrel@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:8be1369e0809231852r43eadf1fl63f3fa67a591f7cf@DOMAIN.HIDDEN">8be1369e0809231852r43eadf1fl63f3fa67a591f7cf@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:b082e518cb36e68702e71c3e03637b5a.squirrel@DOMAIN.HIDDEN">b082e518cb36e68702e71c3e03637b5a.squirrel@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Hey Peng,<br>try to see more into the grids with command<br>&quot;show grid vmode[d=1]&quot;<br>&quot;show grid u[d=2]&quot;<br>It helps a lot. It should say something like this:<br>&nbsp;GRID GKK1<br>&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; axis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # pts&nbsp;&nbsp; start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>
&nbsp;XAX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 87 r&nbsp;&nbsp; -10.75&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 32.25<br>&nbsp;YAX&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Y&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 77 r&nbsp;&nbsp; 34.25&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 72.25<br><br>(1) You can change the grid of one of the two variables to be the same:<br><br>&quot;let u_new=u[d=2,g=GKK1]&quot;<br>
then &quot;let dmode=vmode[d=1]-u_new&quot;<br><br>(2) You can cut the variable on the bigger region:<br><br>let vmode_small=vmode[d=1,j=97:200]<br><br>(3) Or you can define new axis and change the grid of the two variables with something like this:<br>
<br>def axis/x=-90:90:0.5 newx<br>def axis/y=-90:90:0.5 newy<br>def axis/z=1:50:1 newz<br>def grid/x=newx/y=newy/z=newz grd<br>let u_new=u[d=2,g=grd]<br>let vmode_new=vmode[d=1,g=grd]<br><br>Hope this helps,<br>Cheers, Peter<br>
<br><br><br><div class="gmail_quote">On Thu, Sep 25, 2008 at 12:25 AM, Ge Peng <span dir="ltr">&lt;<a rel="nofollow" href="mailto:gpeng@xxxxxxxxxxxxxxxxxxxxxxx">gpeng@xxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
Hi Ferreters,<br>
<br>
I have two datasets:<br>
<br>
Grid in dataset 1:<br>
X=1:360:1; Y=1:200:1; Z=1:50:1<br>
<br>
Grid in dataset 2:<br>
X=geolon(i=1):geolon(i=360):1, which is from -279.5 to 80.5 every 1 deg<br>
Y=geolat(j=1):geolat(j=200):dlat(j), which is from -83 to 89 with varying<br>
dlat.<br>
Z=z(k=1):z(k=50):dz(k), dz varies.<br>
<br>
I need to perform adding or subtracting functions between variables from<br>
those two data sets.<br>
<br>
yes? let dmode=vmode[d=1]-u[d=2]<br>
yes? sha dmode[k=1,l=1]<br>
<br>
&nbsp;*** NOTE: Ambiguous coordinates on X axis: VMODE[D=1]-U[D=2]<br>
&nbsp;**ERROR: inconsistent sizes of data regions: Y axis<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;U[D=2] has 104 points (J=097:200)<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_expression_ has 200 points (J=001:200)<br>
<br>
&nbsp;How do I synchronize these two grids?<br>
<br>
&nbsp;Thanks,<br>
<br>
--- Peng<br>
<br>
-------------------------------<br>
The version of ferret and dataset info:<br>
<br>
&gt; ferret<br>
 &nbsp; &nbsp; &nbsp; &nbsp;NOAA/PMEL TMAP<br>
 &nbsp; &nbsp; &nbsp; &nbsp;FERRET v6<br>
 &nbsp; &nbsp; &nbsp; &nbsp;Linux(g77) 2.4.21-32 - 08/23/06<br>
 &nbsp; &nbsp; &nbsp; &nbsp;24-Sep-08 14:54<br>
<br>
yes? sho data<br>
 &nbsp; &nbsp; currently SET data sets:<br>
 &nbsp; &nbsp;1&gt; ./<a rel="nofollow" href="http://dynmode_cm21_ocn_stress.nc" target="_blank">dynmode_cm21_ocn_stress.nc</a><br>
&nbsp;name &nbsp; &nbsp; title &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; I &nbsp; &nbsp; &nbsp; &nbsp; J &nbsp; &nbsp; &nbsp; &nbsp; K &nbsp; &nbsp; &nbsp; &nbsp; L<br>
&nbsp;NI_DIM &nbsp; model i-dimension &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ...<br>
&nbsp;NJ_DIM &nbsp; model j-dimension &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ...<br>
&nbsp;NK_DIM &nbsp; number k-dimension &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ...<br>
&nbsp;NMODE_DIM<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;number of modes in file &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ... &nbsp; &nbsp; &nbsp; ...<br>
&nbsp;RC &nbsp; &nbsp; &nbsp; displacement mode eigenvalues &nbsp; &nbsp;1:360 &nbsp; &nbsp; 1:200 &nbsp; &nbsp; 1:5 &nbsp; &nbsp; &nbsp; ...<br>
&nbsp;VC &nbsp; &nbsp; &nbsp; velocity mode eigenvalues &nbsp; &nbsp; &nbsp; &nbsp;1:360 &nbsp; &nbsp; 1:200 &nbsp; &nbsp; 1:5 &nbsp; &nbsp; &nbsp; ...<br>
&nbsp;RMODE &nbsp; &nbsp;displacement modes &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1:360 &nbsp; &nbsp; 1:200 &nbsp; &nbsp; 1:50 &nbsp; &nbsp; &nbsp;1:5<br>
&nbsp;VMODE &nbsp; &nbsp;velocity modes &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1:360 &nbsp; &nbsp; 1:200 &nbsp; &nbsp; 1:50 &nbsp; &nbsp; &nbsp;1:5<br>
&nbsp;RN2 &nbsp; &nbsp; &nbsp;buoyancy frequency square at la &nbsp;1:360 &nbsp; &nbsp; 1:200 &nbsp; &nbsp; 1:50 &nbsp; &nbsp; &nbsp;1:5<br>
&nbsp;VN2 &nbsp; &nbsp; &nbsp;buoyancy frequency square at la &nbsp;1:360 &nbsp; &nbsp; 1:200 &nbsp; &nbsp; 1:50 &nbsp; &nbsp; &nbsp;1:5<br>
<br>
 &nbsp; &nbsp;2&gt;<br>
/host/crab/data02/gpeng/cm2.1p0_oda/dta/ocn_stress_sim/<a rel="nofollow" href="http://19930101-20.ocean_5days.uvts.nc" target="_blank">19930101-20.ocean_5days.uvts.nc</a><br>
&nbsp;(default)<br>
&nbsp;name &nbsp; &nbsp; title &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; I &nbsp; &nbsp; &nbsp; &nbsp; J &nbsp; &nbsp; &nbsp; &nbsp; K &nbsp; &nbsp; &nbsp; &nbsp; L<br>
&nbsp;TEMP &nbsp; &nbsp; Potential temperature &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1:360 &nbsp; &nbsp; 1:200 &nbsp; &nbsp; 1:50 &nbsp; &nbsp; &nbsp;1:5<br>
&nbsp;SALT &nbsp; &nbsp; Salinity &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1:360 &nbsp; &nbsp; 1:200 &nbsp; &nbsp; 1:50 &nbsp; &nbsp; &nbsp;1:5<br>
&nbsp;U &nbsp; &nbsp; &nbsp; &nbsp;zonal current &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1:360 &nbsp; &nbsp; 1:200 &nbsp; &nbsp; 1:50 &nbsp; &nbsp; &nbsp;1:5<br>
&nbsp;V &nbsp; &nbsp; &nbsp; &nbsp;meridional current &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1:360 &nbsp; &nbsp; 1:200 &nbsp; &nbsp; 1:50 &nbsp; &nbsp; &nbsp;1:5<br>
<br>
<br>
yes? list vmode[i=116,j=163,k=1,l=1,d=1]<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VARIABLE : velocity modes (non-dimensional (unit norm over<br>
depth))<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FILENAME : <a rel="nofollow" href="http://dynmode_cm21_ocn_stress.nc" target="_blank">dynmode_cm21_ocn_stress.nc</a><br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; X &nbsp; &nbsp; &nbsp; &nbsp;: 116<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Y &nbsp; &nbsp; &nbsp; &nbsp;: 163<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Z &nbsp; &nbsp; &nbsp; &nbsp;: 1<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; T &nbsp; &nbsp; &nbsp; &nbsp;: 1<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.04642<br>
yes? list u[i=116,j=163,k=1,l=1,d=2]<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; VARIABLE : zonal current (m/sec)<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FILENAME : <a rel="nofollow" href="http://19930101-20.ocean_5days.uvts.nc" target="_blank">19930101-20.ocean_5days.uvts.nc</a><br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FILEPATH :<br>
/host/crab/data02/gpeng/cm2.1p0_oda/dta/ocn_stress_sim/<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LONGITUDE: 164W(-164)<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; LATITUDE : 53N<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DEPTH (m): 5<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TIME &nbsp; &nbsp; : 03-JAN-1993 12:00 JULIAN<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0.03713<br>
<br>
<br>
</blockquote></div><br></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00498" href="msg00498.html">Re: [ferret_users] synchronizing an i/j/k grid with another lon/lat/z grid</a></strong>
<ul><li><em>From:</em> Ge Peng</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00489" href="msg00489.html">[ferret_users] customize white_centered palette</a></strong>
<ul><li><em>From:</em> David Wang</li></ul></li>
<li><strong><a name="00493" href="msg00493.html">[ferret_users] synchronizing an i/j/k grid with another lon/lat/z grid</a></strong>
<ul><li><em>From:</em> Ge Peng</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00493.html">[ferret_users] synchronizing an i/j/k grid with another lon/lat/z grid</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00498.html">Re: [ferret_users] synchronizing an i/j/k grid with another lon/lat/z grid</a></strong>
</li>

</UL>
<center>[<a href="msg00493.html">Thread Prev</a>][<a href="msg00498.html">Thread Next</a>][<A HREF="threads.html#00495">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
