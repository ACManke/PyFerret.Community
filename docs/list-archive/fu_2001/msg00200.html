<!-- MHonArc v2.5.4 -->
<!--X-Subject: Re: a bug in @modvar function? -->
<!--X-From-R13: Oafyrl [naxr <nafyrlNczry.abnn.tbi> -->
<!--X-Date: Fri, 6 Apr 2001 12:13:43 &#45;0700 (PDT) -->
<!--X-Message-Id: 3ACE1592.F8DBA876@pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 3ACD02C9.FAA0ACD8@pmel.noaa.gov -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: a bug in @modvar function?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00193.html">Thread Prev</a>][<a href="msg00195.html">Thread Next</a>][<A HREF="threads.html#00200">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: a bug in @modvar function?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Muyin Wang &lt;<A HREF="mailto:muyin@DOMAIN.HIDDEN">muyin@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: a bug in @modvar function?</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<A HREF="mailto:ansley@DOMAIN.HIDDEN">ansley@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Fri, 06 Apr 2001 12:14:26 -0700</li>
<li>Cc: ferret user list &lt;<A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A>&gt;</li>
<li>References: &lt;<a href="msg00193.html">3ACD02C9.FAA0ACD8@pmel.noaa.gov</a>&gt;</li>
<li>Sender: <A HREF="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Hi everyone,
This is a bug in the MODVAR function, which didn't treat missing values
properly.  It's been corrected and the fix will be in the next version of
Ferret.  Thanks Muyin for bringing it to our attention!

Ansley Manke

Muyin Wang wrote:

&gt; Dear Ferreters:
&gt;  I am trying to compute the variance for a time series. The @modvar
&gt; transformation works well for the grid points when there were no missing data.
&gt; However, if there is a missing point in the time series, I ran into trouble.
&gt; Here is a sample of what I got
&gt;
&gt; yes? let skv = sktemp[gt=month_reg@modvar]
&gt; yes? list/l=1:12 skv
&gt;              SKTEMP[GT=MONTH_REG@MODVAR]
&gt;              Y: -0.03
&gt;              DATA SET: /home/aegir2/muyin/cdf/tovs_monthly_80-98.cdf
&gt;                       -0.03
&gt;                        33
&gt;  16-JAN      /  1:  5.910E+08
&gt;  15-FEB      /  2:  5.710E+00
&gt;  17-MAR      /  3:  8.167E+00
&gt;  16-APR      /  4:  1.661E+01
&gt;  16-MAY      /  5:  2.528E+00
&gt;  16-JUN      /  6:  1.534E+00
&gt;  16-JUL      /  7:  6.520E+00
&gt;  16-AUG      /  8:  5.164E+00
&gt;  15-SEP      /  9:  3.358E+00
&gt;  16-OCT      / 10:  6.217E+00
&gt;  15-NOV      / 11:  7.806E+00
&gt;  16-DEC      / 12:  4.575E+00
&gt;
&gt; It is obvious that the result for Jan is not right. Then I used the @modngd
&gt; transformation, and found for Jan, the answer is 18, well for the rest of the
&gt; months is 19.  So if I specifically get rid of the bad values by using @sum,
&gt; @ngd together, I can get a correct answer, which is 7.017 in this case. I was
&gt; surprised to find this as I thought Ferret will not include the bad values in
&gt; the calculation, whici is true for the functions like @sum, and @ave, etc... Why
&gt; not in @modvar?
&gt; Is there a way to solve this easily?
&gt; Thanks for the help!
&gt; Muyin

--
Ansley Manke  Pacific Marine Environmental Laboratory  Seattle WA  (206)526-6246



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00193" href="msg00193.html">a bug in @modvar function?</a></strong>
<ul><li><em>From:</em> Muyin Wang</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00193.html">a bug in @modvar function?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00195.html">density calculation, rho_un and precision</a></strong>
</li>

</UL>
<center>[<a href="msg00193.html">Thread Prev</a>][<a href="msg00195.html">Thread Next</a>][<A HREF="threads.html#00200">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
