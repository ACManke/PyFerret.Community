<!-- MHonArc v2.5.4 -->
<!--X-Subject: increasing performance with list/repeat indices -->
<!--X-From-R13: Perag O [pRnavry <tgr328eNibeyba.rnf.tngrpu.rqh> -->
<!--X-Date: Mon, 12 Mar 2001 14:40:44 &#45;0800 (PST) -->
<!--X-Message-Id: Pine.LNX.4.30.0103121730110.21110&#45;100000@vorlon.eas.gatech.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>increasing performance with list/repeat indices</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00120.html">Thread Prev</a>][<a href="msg00125.html">Thread Next</a>][<A HREF="threads.html#00124">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>increasing performance with list/repeat indices</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A></strong></li>
<li><strong>Subject</strong>: <strong>increasing performance with list/repeat indices</strong></li>
<li><strong>From</strong>: <strong>Brent A McDaniel &lt;<A HREF="mailto:gte328r@DOMAIN.HIDDEN">gte328r@xxxxxxxxxxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Mon, 12 Mar 2001 17:40:37 -0500 (EST)</li>
<li>Sender: <A HREF="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>

Greetings Ferret Users,

After discussing this with Ansley he asked that I post it to the Users
Group to see if someone else has experience with this.

Background: I calculated the climatology for 1957-1999 of air temperature
using ferret.  The climatology is 144x73x17x365.  I then smoothed it using
a 91 point window.  I want to subtract the climatology out from the
original files to get the anomalies. (the original files are
144x73x17x365(or6) as well).  I'm also only saving the northern
hemisphere, hence the j=36:73.

Here's a sample of what I'm doing:

yes? use airclimsmooth91.nc
yes? use air.1987.nc
yes? let airanom=air[d=2]-dailyclim[d=1,gt=GSJ1@asn]
repeat/i=1:144 save/ilimits=1:144/file=&quot;/data/ncep/aanom.1957.nc&quot;/append
airanom[j=36:73,l=1:365]
yes? quit


!where GSJ1 is the grid name of air.1987.nc


This works but takes quite a long time (approx 8 hours per 1 annual data
file).  I'm now thinking that repeating over the z-axis might save some time as it
would decrease the number of times information was written to disk from
144 to 17 per file although I haven't tried it (it might not work due to
memory issues which is why I'm using the repeat command in the first
place).

Does anyone else have experience with this or know of a more efficient
solution?


Cheers,

Brent




</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00125" href="msg00125.html">Re: increasing performance with list/repeat indices</a></strong>
<ul><li><em>From:</em> Russell Fiedler</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00120.html">grid</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00125.html">Re: increasing performance with list/repeat indices</a></strong>
</li>

</UL>
<center>[<a href="msg00120.html">Thread Prev</a>][<a href="msg00125.html">Thread Next</a>][<A HREF="threads.html#00124">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
