<!-- MHonArc v2.5.4 -->
<!--X-Subject: size of output file question -->
<!--X-From-R13: Perag O [pRnavry <tgr328eNibeyba.rnf.tngrpu.rqh> -->
<!--X-Date: Tue, 27 Feb 2001 08:54:00 &#45;0800 (PST) -->
<!--X-Message-Id: Pine.LNX.4.30.0102271253030.23562&#45;100000@vorlon.eas.gatech.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>size of output file question</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00082.html">Thread Prev</a>][<a href="msg00087.html">Thread Next</a>][<A HREF="threads.html#00086">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>size of output file question</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A></strong></li>
<li><strong>Subject</strong>: <strong>size of output file question</strong></li>
<li><strong>From</strong>: <strong>Brent A McDaniel &lt;<A HREF="mailto:gte328r@DOMAIN.HIDDEN">gte328r@xxxxxxxxxxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Tue, 27 Feb 2001 13:03:35 -0500 (EST)</li>
<li>Sender: <A HREF="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>

Hi Ferret users,

I've been doing some analysis work and have noticed something that seems
odd to me.  The netcdf files that I'm writing are much larger (factor of
2) than the ones I'm using for input...and both have the same dimensions.

An example:

-rw-rw-r--    1 gte328r  gte328r  260913724 Jan 30 23:33 airclimatology.nc
!File calculated by ferret.  144x73x17x365 1 variable
-rw-rw-r--    1 gte328r  gte328r  130459560 Nov  5  1998 air.1961.nc
!Input file used to calculate the climatology.

This is obviously troublesome as it's eating up diskspace.  This leads to
questions 2 which might be the cause of question 1.  I'm not able to write
the output file directly, I have to do it with the repeat command.  I
usually do something like:
yes?
repeat/j=1:73/save/jlimits=1:73/file=&quot;/data/ncep/netcdftest.nc&quot;/append air[d=1]

The above is a test I ran where I read in air.1961.nc and then wrote it
back out at 2x it's original size.  Is using the repeat command causing
the filesize doubling?  This leads to question 3:

I tried to write the file above directly using:
yes? save/file=&quot;/data/ncep/netcdftest.nc&quot; air[d=1]

and got the messages:
 **ERROR: insufficient memory: 65226960 words were requested.
 *** NOTE: You can use SET MEMORY/SIZE=xxx to increase memory.
 *** NOTE: The &quot;Memory use&quot; section of the FERRET Users Guide has further
tips.

But, before this I had set the memory thusly:
yes? set memory/size=110
 Cached data cleared from memory

As I read it, I set the memory size to 110megawords but it's dieing when I
get to 65mwords.  If I look at the memory usage while this is going on
there's still 200+ mbytes of memory still available when it dies.

Thanks for any responses.

Cheers,

Brent


-- 
Brent A. McDaniel

Dept of Earth and Atmospheric Sciences
Georgia Institute of Technology
Atlanta, Ga.  USA


</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00082.html">Regridding based on other arrays</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00087.html">Error message?</a></strong>
</li>

</UL>
<center>[<a href="msg00082.html">Thread Prev</a>][<a href="msg00087.html">Thread Next</a>][<A HREF="threads.html#00086">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
