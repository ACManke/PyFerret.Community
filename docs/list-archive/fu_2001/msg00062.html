<!-- MHonArc v2.5.4 -->
<!--X-Subject: Re: file conflicts -->
<!--X-From-R13: Egrir Vnaxva <unaxvaNczry.abnn.tbi> -->
<!--X-Date: Wed, 31 Jan 2001 15:01:57 &#45;0800 (PST) -->
<!--X-Message-Id: 3A7899E7.BB4A7ACC@pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 3A7829D2.1E8A1FC5@gfdl.gov -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: file conflicts</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00060.html">Thread Prev</a>][<a href="msg00063.html">Thread Next</a>][<A HREF="threads.html#00062">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: file conflicts</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Matthew Harrison &lt;<A HREF="mailto:mh2@DOMAIN.HIDDEN">mh2@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: file conflicts</strong></li>
<li><strong>From</strong>: <strong>Steve Hankin &lt;<A HREF="mailto:hankin@DOMAIN.HIDDEN">hankin@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Wed, 31 Jan 2001 15:04:07 -0800</li>
<li>Cc: <A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
<li>Organization: NOAA/Pacific Marine Environmental Laboratory</li>
<li>References: &lt;<a href="msg00060.html">3A7829D2.1E8A1FC5@gfdl.gov</a>&gt;</li>
<li>Sender: <A HREF="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Hi Matt,

Thanks for the trouble report.

It turns out that the problem was reported and fixed last October, so it V5.3 BETA already
has the problem fixed.

The problem only shows up if

   * an axis name is identical in the two files
   * both of the axes are the same length and have *irregularly* spaced points

Ferret version 5.22 mistakenly assumes that the axes are identical in the two files.

    thanks for the report. Keep 'em coming!  - steve

============

Matthew Harrison wrote:

&gt; I've never encountered this using Ferret, so I'm wondering if anyone
&gt; else has.  Using v5.22 on IRIX6.5 and linux.
&gt;
&gt; Two files (attached) are identical with the exception of the time values
&gt; and the filename.  Ferret seems to be confusing the time and assigns the
&gt; time values from the 1st file to the second file.  If I open the files
&gt; separately, ferret gets the time values correct. This problem does not
&gt; duplicate in v4.91.
&gt;
&gt; ------------------------------------------------------------------------
&gt;
&gt; use file1.nc  !  1981 data
&gt; use file2.nc  !  1982 data
&gt;
&gt; list t[d=1,g=temp]
&gt;
&gt;              axis TIME
&gt;              DATA SET: ./file1.nc
&gt;  16-JAN-1981 12 /  1:   747.
&gt;  15-FEB-1981 00 /  2:   776.
&gt;  16-MAR-1981 12 /  3:   806.
&gt;  16-APR-1981 00 /  4:   836.
&gt;  16-MAY-1981 12 /  5:   867.
&gt;  16-JUN-1981 00 /  6:   897.
&gt;  16-JUL-1981 12 /  7:   928.
&gt;  16-AUG-1981 12 /  8:   959.
&gt;  16-SEP-1981 00 /  9:   989.
&gt;  16-OCT-1981 12 / 10:  1020.
&gt;  16-NOV-1981 00 / 11:  1050.
&gt;  16-DEC-1981 12 / 12:  1081.
&gt;
&gt; list t[d=2,g=temp]
&gt;
&gt;             axis TIME
&gt;              DATA SET: ./file2.nc
&gt;  16-JAN-1981 12 /  1:   747.
&gt;  15-FEB-1981 00 /  2:   776.
&gt;  16-MAR-1981 12 /  3:   806.
&gt;  16-APR-1981 00 /  4:   836.
&gt;  16-MAY-1981 12 /  5:   867.
&gt;  16-JUN-1981 00 /  6:   897.
&gt;  16-JUL-1981 12 /  7:   928.
&gt;  16-AUG-1981 12 /  8:   959.    !!! should be 1982 dates
&gt;  16-SEP-1981 00 /  9:   989.
&gt;  16-OCT-1981 12 / 10:  1020.
&gt;  16-NOV-1981 00 / 11:  1050.
&gt;  16-DEC-1981 12 / 12:  1081.
&gt;
&gt; --
&gt; Matthew J. Harrison                                      GFDL
&gt; Physical Scientist                                       P.O. Box 308
&gt; NOAA Geophysical Fluid Dynamics Laboratory               Princeton, NJ
&gt; 08542
&gt; ----------------------------------------------------------------------------
&gt;
&gt; e-mail:                 mjh@gfdl.gov
&gt; Tel:                    (609)452-6579
&gt; Fax:                    (609)987-5063
&gt; http address:           <A  HREF="http://www.gfdl.gov/~mjh">http://www.gfdl.gov/~mjh</A>
&gt;
&gt;   ------------------------------------------------------------------------
&gt; netcdf file1 {
&gt; dimensions:
&gt;         lat = 90 ;
&gt;         level = 17 ;
&gt;         lon = 144 ;
&gt;         time = UNLIMITED ; // (12 currently)
&gt; variables:
&gt;         float lat(lat) ;
&gt;                 lat:long_name = &quot;latitude&quot; ;
&gt;                 lat:cartesian_axis = &quot;Y&quot; ;
&gt;                 lat:units = &quot;degrees_N&quot; ;
&gt;                 lat:edges = &quot;latb&quot; ;
&gt;         float level(level) ;
&gt;                 level:long_name = &quot;pressure&quot; ;
&gt;                 level:cartesian_axis = &quot;Z&quot; ;
&gt;                 level:units = &quot;hPa&quot; ;
&gt;         float lon(lon) ;
&gt;                 lon:long_name = &quot;longitude&quot; ;
&gt;                 lon:cartesian_axis = &quot;X&quot; ;
&gt;                 lon:units = &quot;degrees_E&quot; ;
&gt;                 lon:edges = &quot;lonb&quot; ;
&gt;         short temp(time, level, lat, lon) ;
&gt;                 temp:long_name = &quot;temperature&quot; ;
&gt;                 temp:units = &quot;deg_k&quot; ;
&gt;                 temp:valid_range = -32750s, 32750s ;
&gt;                 temp:missing_value = -32751s ;
&gt;                 temp:scale_factor = 0.004580152f ;
&gt;                 temp:add_offset = 250.f ;
&gt;                 temp:time_avg_info = &quot;average_T1,average_T2,average_DT&quot; ;
&gt;         double time(time) ;
&gt;                 time:long_name = &quot;time&quot; ;
&gt;                 time:cartesian_axis = &quot;T&quot; ;
&gt;                 time:units = &quot;days since 1979-01-01 00:00:00&quot; ;
&gt;                 time:calendar_type = &quot;JULIAN&quot; ;
&gt;
&gt; // global attributes:
&gt;                 :filename = &quot;1981feb01h00.land_month.nc&quot; ;
&gt;                 :MPP_IO_VERSION = &quot;$Id: mpp_io.F90,v 5.5 2000/07/28 20:17:19 fms Exp $&quot; ;
&gt;                 :title = &quot;Diagnostics from an FMS integration&quot; ;
&gt;                 :history = &quot;Tue Jan 30 14:11:14 2001: ncks -v temp file1.nc out.nc&quot; ;
&gt; data:
&gt;
&gt;  lat = -89, -87, -85, -83, -81, -79, -77, -75, -73, -71, -69, -67, -65, -63,
&gt;     -61, -59, -57, -55, -53, -51, -49, -47, -45, -43, -41, -39, -37, -35,
&gt;     -33, -31, -29, -27, -25, -23, -21, -19, -17, -15, -13, -11, -9, -7, -5,
&gt;     -3, -1, 1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
&gt;     35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55, 57, 59, 61, 63, 65, 67, 69,
&gt;     71, 73, 75, 77, 79, 81, 83, 85, 87, 89 ;
&gt;
&gt;  level = 1000, 925, 850, 700, 600, 500, 400, 300, 250, 200, 150, 100, 70, 50,
&gt;     30, 20, 10 ;
&gt;
&gt;  lon = 1.25, 3.75, 6.25, 8.75, 11.25, 13.75, 16.25, 18.75, 21.25, 23.75,
&gt;     26.25, 28.75, 31.25, 33.75, 36.25, 38.75, 41.25, 43.75, 46.25, 48.75,
&gt;     51.25, 53.75, 56.25, 58.75, 61.25, 63.75, 66.25, 68.75, 71.25, 73.75,
&gt;     76.25, 78.75, 81.25, 83.75, 86.25, 88.75, 91.25, 93.75, 96.25, 98.75,
&gt;     101.25, 103.75, 106.25, 108.75, 111.25, 113.75, 116.25, 118.75, 121.25,
&gt;     123.75, 126.25, 128.75, 131.25, 133.75, 136.25, 138.75, 141.25, 143.75,
&gt;     146.25, 148.75, 151.25, 153.75, 156.25, 158.75, 161.25, 163.75, 166.25,
&gt;     168.75, 171.25, 173.75, 176.25, 178.75, 181.25, 183.75, 186.25, 188.75,
&gt;     191.25, 193.75, 196.25, 198.75, 201.25, 203.75, 206.25, 208.75, 211.25,
&gt;     213.75, 216.25, 218.75, 221.25, 223.75, 226.25, 228.75, 231.25, 233.75,
&gt;     236.25, 238.75, 241.25, 243.75, 246.25, 248.75, 251.25, 253.75, 256.25,
&gt;     258.75, 261.25, 263.75, 266.25, 268.75, 271.25, 273.75, 276.25, 278.75,
&gt;     281.25, 283.75, 286.25, 288.75, 291.25, 293.75, 296.25, 298.75, 301.25,
&gt;     303.75, 306.25, 308.75, 311.25, 313.75, 316.25, 318.75, 321.25, 323.75,
&gt;     326.25, 328.75, 331.25, 333.75, 336.25, 338.75, 341.25, 343.75, 346.25,
&gt;     348.75, 351.25, 353.75, 356.25, 358.75 ;
&gt;
&gt;  time = 746.5, 776, 805.5, 836, 866.5, 897, 927.5, 958.5, 989, 1019.5, 1050,
&gt;     1080.5 ;
&gt; }
&gt;
&gt;   ------------------------------------------------------------------------
&gt; netcdf file2 {
&gt; dimensions:
&gt;         lat = 90 ;
&gt;         level = 17 ;
&gt;         lon = 144 ;
&gt;         time = UNLIMITED ; // (12 currently)
&gt; variables:
&gt;         float lat(lat) ;
&gt;                 lat:long_name = &quot;latitude&quot; ;
&gt;                 lat:cartesian_axis = &quot;Y&quot; ;
&gt;                 lat:units = &quot;degrees_N&quot; ;
&gt;                 lat:edges = &quot;latb&quot; ;
&gt;         float level(level) ;
&gt;                 level:long_name = &quot;pressure&quot; ;
&gt;                 level:cartesian_axis = &quot;Z&quot; ;
&gt;                 level:units = &quot;hPa&quot; ;
&gt;         float lon(lon) ;
&gt;                 lon:long_name = &quot;longitude&quot; ;
&gt;                 lon:cartesian_axis = &quot;X&quot; ;
&gt;                 lon:units = &quot;degrees_E&quot; ;
&gt;                 lon:edges = &quot;lonb&quot; ;
&gt;         short temp(time, level, lat, lon) ;
&gt;                 temp:long_name = &quot;temperature&quot; ;
&gt;                 temp:units = &quot;deg_k&quot; ;
&gt;                 temp:valid_range = -32750s, 32750s ;
&gt;                 temp:missing_value = -32751s ;
&gt;                 temp:scale_factor = 0.004580152f ;
&gt;                 temp:add_offset = 250.f ;
&gt;                 temp:time_avg_info = &quot;average_T1,average_T2,average_DT&quot; ;
&gt;         double time(time) ;
&gt;                 time:long_name = &quot;time&quot; ;
&gt;                 time:cartesian_axis = &quot;T&quot; ;
&gt;                 time:units = &quot;days since 1979-01-01 00:00:00&quot; ;
&gt;                 time:calendar_type = &quot;JULIAN&quot; ;
&gt;
&gt; // global attributes:
&gt;                 :filename = &quot;1982feb01h00.land_month.nc&quot; ;
&gt;                 :MPP_IO_VERSION = &quot;$Id: mpp_io.F90,v 5.5 2000/07/28 20:17:19 fms Exp $&quot; ;
&gt;                 :title = &quot;Diagnostics from an FMS integration&quot; ;
&gt;                 :history = &quot;Tue Jan 30 14:11:34 2001: ncks -v temp file2.nc out.nc&quot; ;
&gt; data:
&gt;
&gt;  lat = -89, -87, -85, -83, -81, -79, -77, -75, -73, -71, -69, -67, -65, -63,
&gt;     -61, -59, -57, -55, -53, -51, -49, -47, -45, -43, -41, -39, -37, -35,
&gt;     -33, -31, -29, -27, -25, -23, -21, -19, -17, -15, -13, -11, -9, -7, -5,
&gt;     -3, -1, 1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33,
&gt;     35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55, 57, 59, 61, 63, 65, 67, 69,
&gt;     71, 73, 75, 77, 79, 81, 83, 85, 87, 89 ;
&gt;
&gt;  level = 1000, 925, 850, 700, 600, 500, 400, 300, 250, 200, 150, 100, 70, 50,
&gt;     30, 20, 10 ;
&gt;
&gt;  lon = 1.25, 3.75, 6.25, 8.75, 11.25, 13.75, 16.25, 18.75, 21.25, 23.75,
&gt;     26.25, 28.75, 31.25, 33.75, 36.25, 38.75, 41.25, 43.75, 46.25, 48.75,
&gt;     51.25, 53.75, 56.25, 58.75, 61.25, 63.75, 66.25, 68.75, 71.25, 73.75,
&gt;     76.25, 78.75, 81.25, 83.75, 86.25, 88.75, 91.25, 93.75, 96.25, 98.75,
&gt;     101.25, 103.75, 106.25, 108.75, 111.25, 113.75, 116.25, 118.75, 121.25,
&gt;     123.75, 126.25, 128.75, 131.25, 133.75, 136.25, 138.75, 141.25, 143.75,
&gt;     146.25, 148.75, 151.25, 153.75, 156.25, 158.75, 161.25, 163.75, 166.25,
&gt;     168.75, 171.25, 173.75, 176.25, 178.75, 181.25, 183.75, 186.25, 188.75,
&gt;     191.25, 193.75, 196.25, 198.75, 201.25, 203.75, 206.25, 208.75, 211.25,
&gt;     213.75, 216.25, 218.75, 221.25, 223.75, 226.25, 228.75, 231.25, 233.75,
&gt;     236.25, 238.75, 241.25, 243.75, 246.25, 248.75, 251.25, 253.75, 256.25,
&gt;     258.75, 261.25, 263.75, 266.25, 268.75, 271.25, 273.75, 276.25, 278.75,
&gt;     281.25, 283.75, 286.25, 288.75, 291.25, 293.75, 296.25, 298.75, 301.25,
&gt;     303.75, 306.25, 308.75, 311.25, 313.75, 316.25, 318.75, 321.25, 323.75,
&gt;     326.25, 328.75, 331.25, 333.75, 336.25, 338.75, 341.25, 343.75, 346.25,
&gt;     348.75, 351.25, 353.75, 356.25, 358.75 ;
&gt;
&gt;  time = 1111.5, 1141, 1170.5, 1201, 1231.5, 1262, 1292.5, 1323.5, 1354,
&gt;     1384.5, 1415, 1445.5 ;
&gt; }

--

                |  NOAA/PMEL               |  ph. (206) 526-6080
Steve Hankin    |  7600 Sand Point Way NE  |  FAX (206) 526-6744
                |  Seattle, WA 98115-0070  |  hankin@pmel.noaa.gov



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00063" href="msg00063.html">Discrepancy between @ave and @sbx?</a></strong>
<ul><li><em>From:</em> Neven S. Fuckar</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00060" href="msg00060.html">file conflicts</a></strong>
<ul><li><em>From:</em> Matthew Harrison</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00060.html">file conflicts</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00063.html">Discrepancy between @ave and @sbx?</a></strong>
</li>

</UL>
<center>[<a href="msg00060.html">Thread Prev</a>][<a href="msg00063.html">Thread Next</a>][<A HREF="threads.html#00062">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
