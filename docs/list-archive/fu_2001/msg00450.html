<!-- MHonArc v2.5.4 -->
<!--X-Subject: Re: external functions on AIX -->
<!--X-From-R13: Oafyrl [naxr <nafyrlNczry.abnn.tbi> -->
<!--X-Date: Tue, 31 Jul 2001 10:02:46 &#45;0700 (PDT) -->
<!--X-Message-Id: 3B66E4F0.1E2B6205@pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: external functions on AIX</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00430.html">Thread Prev</a>][<a href="msg00431.html">Thread Next</a>][<A HREF="threads.html#00450">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: external functions on AIX</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><A HREF="mailto:andreas@DOMAIN.HIDDEN">andreas@xxxxxxxxxxxxxxxxxx</A></strong></li>
<li><strong>Subject</strong>: <strong>Re: external functions on AIX</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<A HREF="mailto:ansley@DOMAIN.HIDDEN">ansley@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Tue, 31 Jul 2001 10:03:44 -0700</li>
<li>Cc: <A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
<li>Sender: <A HREF="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Hi Andreas,
You should be able to compile external functions for Ferret running
under AIX. The shared object file is however different from the
regular object file.

A couple of ideas (Sounds like you may have done some of this
but I'll go through the steps).  I assume you've downloaded the
external functions tarfile from the web page,
<A  HREF="http://ferret.pmel.noaa.gov/Ferret/External_Functions/ferret_EF.html">http://ferret.pmel.noaa.gov/Ferret/External_Functions/ferret_EF.html</A>
and gone through the steps there to try to compile the example functions.
Note that the Makefile in the external functions examples directory
has this line:

     include ../ef_utility/platform_specific_flags.mk.$(HOSTTYPE)

What is the value of the environment variable HOSTTYPE on your
machine?  You might need to make a copy of a platform_specific_flags
file with your HOSTTYPE name.   Take a look at those files; you may
need to modify flags there; your compiler documentation should tell
you what flags you need for a dynamic shared object file, for the
definition of $LD_DYN_FLAGS

Let us know if this helps you get going

Ansley Manke

-------- Original Message --------
Subject: external functions on AIX
Date: Tue, 24 Jul 2001 17:03:48 -0700
From: Andreas Schmittner &lt;andreas@ocean.seos.uvic.ca&gt;
To: &quot;ferret_users@ferret.wrc.noaa.gov&quot;
&lt;ferret_users@ferret.wrc.noaa.gov&gt;

Dear ferreters,

has anyone got external functions to run on an AIX operational system?
I did't manage to link the object files properly to ferret.

For other operating systems the compiler and linker options are
given in the files platform_specific_includes.mk.* in the ef_utility/
subdirectory. I don't know how to produce the proper file for
our AIX rs6000. I can compile individual fortran code e.g. with
&quot;f77 -c code.f&quot; to produce an object file &quot;code.o&quot;. But all my
efforts sofar to link this object file to ferret have failed
(e.g. by just copying to code.so which ferret could recognize as
an external function).

Any suggestions are appreciated.

Andreas

--
Andreas Schmittner                        andreas@ocean.seos.uvic.ca
School of Earth and Ocean Sciences        Tel: (250) 472-4060
University of Victoria                    Fax: (250) 472-4004
PO Box 3055, Stn CSC
Victoria, BC, V8W 3P6, Canada
<A  HREF="http://climate.uvic.ca/people/andreas/andreas.html">http://climate.uvic.ca/people/andreas/andreas.html</A>


--
Ansley Manke  Pacific Marine Environmental Laboratory  Seattle WA  (206)526-6246



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00430.html">external functions on AIX</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00431.html">multi netCDF descriptor file in Linux</a></strong>
</li>

</UL>
<center>[<a href="msg00430.html">Thread Prev</a>][<a href="msg00431.html">Thread Next</a>][<A HREF="threads.html#00450">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
