<!-- MHonArc v2.5.4 -->
<!--X-Subject: Re: eof -->
<!--X-From-R13: Oafyrl [naxr <nafyrlNczry.abnn.tbi> -->
<!--X-Date: Tue, 1 May 2001 14:35:14 &#45;0700 (PDT) -->
<!--X-Message-Id: 3AEF2BC3.CAF14560@pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.SGI.4.05.10104271013370.8781&#45;100000@soli.ims.metu.edu.tr -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: eof</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00262.html">Thread Prev</a>][<a href="msg00263.html">Thread Next</a>][<A HREF="threads.html#00274">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: eof</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Murat Gunduz &lt;<A HREF="mailto:gunduz@DOMAIN.HIDDEN">gunduz@xxxxxxxxxxxxxxx</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: eof</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<A HREF="mailto:ansley@DOMAIN.HIDDEN">ansley@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Tue, 01 May 2001 14:33:55 -0700</li>
<li>Cc: <A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
<li>References: &lt;<a href="msg00262.html">Pine.SGI.4.05.10104271013370.8781-100000@soli.ims.metu.edu.tr</a>&gt;</li>
<li>Sender: <A HREF="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Hello Murat,
You might want to start by regridding your data to a space and/or
time grid that is coarser and computing EOFs on that grid first.  This
will give you some experience with the functions and you will get
some feel for what the results will look like.

Have you tried running the examples in the on-line demo of the EOF
functions?
<A  HREF="http://ferret.pmel.noaa.gov/Ferret/Demos/ef_eof_demo/ef_eof_demo.html">http://ferret.pmel.noaa.gov/Ferret/Demos/ef_eof_demo/ef_eof_demo.html</A>

The analysis as you may know, solves a matrix problem where the matrix is
dimensioned (NX*NY) by NT, n your case  966 by 29920.   The EOF functions
use other workspace as well which demands even more memory.   Do you
have 60 megabytes of memory available to you on your system?  I was able
to begin the eof_stat calculation with  (x=46,y=21,t=29220) using some data
generated by an analytic function, but completing the computation is time
consuming even for smaller problems.

define axis/t=1:29920:1 tax
define axis/x=1:46:1 xax
define axis/y=1:21:1 yax
define grid/x=x10/y=y10/t=tax g10x10
set grid g10x10

set memory/size=60
let eofstat = eof_stat (sample_function,  2. , 0.1)    !sample_function as in the EOF
demo

Murat Gunduz wrote:

&gt; Hi ferreters,
&gt;         I am just beginner.I have a data file which
&gt; contain 28.226.520 line (x=46,y=21,t=29220).I want to make EOF
&gt; analysis,but i have trouble,when i try to calculate eofs via eof_stat
&gt; external function,it gives an error message
&gt;
&gt;   **ERROR: insufficient memory: 28226520 words were requested.
&gt;   *** NOTE: You can use SET MEMORY/SIZE=xxx to increase memory.
&gt;   *** NOTE: The &quot;Memory use&quot; section of the FERRET Users Guide has further
&gt; tips.
&gt;
&gt; after i set the memory size(120.0 megabytes),it gives another error
&gt; message
&gt;
&gt;  ERROR in efcn_compute() allocating 114074920 bytes of memory
&gt;  work array 2:  X=1:28518730, Y=1:1, Z=1:1, T=1:1
&gt;  **ERROR: : error in external function
&gt;
&gt; what the problem can be?, and also
&gt; is there anyone trying to eof analysis,and have a script?
&gt;
&gt; thank you in advance,
&gt;
&gt;  here is the script that i used:
&gt; define axis/x=1:46:1 xax
&gt; define axis/y=1:21:1 yax
&gt; define axis/t=1:29220:1 tax
&gt; define grid/x=xax/y=yax/t=tax gr1
&gt; file/var=var1/grid=gr1/order=xyt data.txt
&gt; LET estat = eof_stat(var1,2. , 0.1)
&gt; LIST/I=1/J=1 estat
&gt; set memory/size=30.0
&gt; LIST/I=1/J=1 estat
&gt;
&gt;                                         Murat GUNDUZ
&gt;                                         Institute of Mrine Sciences
&gt;                                         Middle East Technical University
&gt;

--
Ansley Manke  Pacific Marine Environmental Laboratory  Seattle WA  (206)526-6246



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00262" href="msg00262.html">eof</a></strong>
<ul><li><em>From:</em> Murat Gunduz</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00262.html">eof</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00263.html">Re: GUI interface and cruise tracks.</a></strong>
</li>

</UL>
<center>[<a href="msg00262.html">Thread Prev</a>][<a href="msg00263.html">Thread Next</a>][<A HREF="threads.html#00274">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
