<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: non&#45;ortogonal grid -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 24 Nov 2004 09:34:41 &#45;0800 -->
<!--X-Message-Id: 41A4C6BA.6090403@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 004a01c4d06e$d7fa6db0$2306b280@pcmario -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: non-ortogonal grid</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00834.html">Thread Prev</a>][<a href="msg00831.html">Thread Next</a>][<A HREF="threads.html#00842">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: non-ortogonal grid</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Mario Germano &lt;<a href="mailto:germano@DOMAIN.HIDDEN">germano@xxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: non-ortogonal grid</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 24 Nov 2004 09:36:58 -0800</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00830.html">004a01c4d06e$d7fa6db0$2306b280@pcmario</a>&gt;</li>
<li>References: &lt;<a href="msg00830.html">004a01c4d06e$d7fa6db0$2306b280@pcmario</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">



Hi All,<br>
Just a bit more between Mario and I about his data, which we thought<br>
we'd pass on to finish this thread.&nbsp; It turned out that Mario had named<br>
a variable T, which caused most of his trouble, but there was some<br>
useful discussion of curviilnear grids as well.<br>
<br>
<font size="3"><span lang="EN-GB" ><o:p></o:p></span></font><span
 class="GramE"></span>If the <span class="SpellE">lon</span>,
lat temp are just one-dimensional lists of points, then the 3-argument <br>
shade command can't use the curvilinear grid to plot the data. I'll
show more <br>
about this at the<font color="black"><font size="2"> </font></font>end
of this message. To look at your data in Ferret try<br>
these commands.<br>
<p class="MsoNormal"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 ><o:p></o:p></span></font></p>
<p class="MsoNormal"><font size="2" color="black" face="Times New Roman"><span
 lang="EN-GB" ><o:p></o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 ><span
 >&nbsp;&nbsp; </span><span class="GramE">yes</span>? USE
test2.cdf<o:p></o:p><br>
<span >&nbsp;&nbsp; </span><span class="GramE">yes</span>? <span
 class="GramE">show</span> data<o:p></o:p><br>
<span >&nbsp;&nbsp; </span><span class="GramE">yes</span>? <span
 class="GramE">show</span> grid <span class="SpellE">lon</span><o:p><br>
&nbsp;</o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 >What
axis is the data on?<span >&nbsp; </span>If it's
on the X axis, look<o:p></o:p></span></font><br>
<span class="GramE"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >at</span></font></span><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >
some of the data,<o:p></o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 ><o:p>&nbsp;</o:p><span
 >&nbsp;&nbsp; </span><span class="GramE">yes</span>? <span
 class="GramE">list/<span class="SpellE">i</span>=</span></span></font><st1:time
 hour="1" minute="10"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >1:10</span></font></st1:time><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >
temp, <span class="SpellE">lon</span>, lat<o:p></o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 >Is
your variable named T?<span >&nbsp; </span>If so,
that could be <o:p></o:p></span></font><br>
<span class="GramE"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >causing</span></font></span><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >
confusion as Ferret expects T to represent <o:p></o:p></span></font><br>
<span class="GramE"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >the</span></font></span><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >
time coordinate of a variable.<span >&nbsp; </span>You
could either<o:p></o:p></span></font><br>
<span class="GramE"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >change</span></font></span><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >
the name of the variable when the data is <o:p></o:p></span></font><br>
<span class="GramE"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >corrected</span></font></span><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >,
or with <span class="SpellE">ncdump</span> and <span class="SpellE">ncgen</span>.<span
 >&nbsp; </span>Or, if you <o:p></o:p></span></font><br>
<span class="GramE"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >really</span></font></span><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >
want to use T, then it can be referenced by<o:p></o:p></span></font><br>
<span class="GramE"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >putting</span></font></span><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 > it
in single quotes:<o:p></o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 ><o:p>&nbsp;</o:p></span></font><span
 class="GramE"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >yes</span></font></span><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >? <span
 class="GramE">list/<span class="SpellE">i</span>=</span></span></font><st1:time
 hour="1" minute="10"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >1:10</span></font></st1:time><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >
'T', <span class="SpellE">lon</span>, lat<o:p></o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 ><o:p></o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 ><o:p></o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 >Ferret
expects curvilinear data to be on a 2 dimensional <o:p></o:p></span></font><span
 class="GramE"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >grid</span></font></span><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >, <br>
I x J, where at each <span class="SpellE">i,j</span> point you have
the
latitude<o:p></o:p></span></font><span class="GramE"><font size="2"
 color="black" face="Courier New"><span lang="EN-GB"
 > and</span></font></span><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >
longitude <br>
point corresponding to the curvilinear grid, <o:p></o:p></span></font><span
 class="GramE"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >and</span></font></span><font
 size="2" color="black" face="Courier New"><span lang="EN-GB"
 >
the value of the <br>
data field. Here is some output from a Ferret session. </span></font><span
 class="SpellE"><font size="2" color="black" face="Courier New"><span
 >The</span></font></span><font
 size="2" color="black" face="Courier New"><span
 >
variables <br>
are <o:p></o:p></span></font><span class="GramE"><font size="2"
 color="black" face="Courier New"><span lang="EN-GB"
 >GEOLON,
GEOLAT, and ZVAR.</span></font></span><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 ><span
 >&nbsp; </span>These are all on a 180x173 point<o:p></o:p></span></font><span
 class="GramE"><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 > <br>
grid</span></font></span><font size="2" color="black" face="Courier New"><span
 lang="EN-GB"
 >
with axes XAX (<span class="SpellE">i</span>=1 to 180) and YAX (j
= 1 to 173)<o:p></o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 ><o:p></o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 ><span
 >&nbsp;&nbsp; </span><span class="GramE">yes</span>? <span
 class="GramE">use</span> <span class="SpellE">lonlat.nc</span><o:p><br>
&nbsp;</o:p><br>
<span >&nbsp;&nbsp; </span><span class="GramE">yes</span>? <span
 class="GramE">show</span> data<o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="GramE">currently</span>
SET data sets:<o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>1&gt; ./<span class="SpellE"><span
 class="GramE">lonlat.nc</span></span><span class="GramE"><span >&nbsp;
</span>(</span>default)<o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp; </span><span class="GramE">name</span><span >&nbsp;&nbsp;&nbsp;&nbsp;
</span>title<span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>I<span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>J<span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>K<span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>L<o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp; </span>GEOLON<span >&nbsp;&nbsp; </span>geographic
longitude<span > &nbsp; &nbsp; </span>1:180<span >&nbsp; </span>1:173<span
 >&nbsp; </span>...<span >&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp; </span>GEOLAT<span >&nbsp;&nbsp; </span>geographic
latitude<span > &nbsp;&nbsp; &nbsp; </span>1:180<span >&nbsp; </span>1:173<span
 >&nbsp; </span>...<span >&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp; </span><span class="GramE">ZVAR<span > &nbsp;&nbsp;&nbsp; </span>variable
on the grid</span><span > &nbsp;&nbsp;&nbsp; </span>1:180<span >&nbsp;
</span>1:173<span >&nbsp; </span>...<span >&nbsp;&nbsp;&nbsp; </span>...<o:p></o:p><br>
<span >&nbsp;&nbsp; </span><o:p></o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 ><span
 >&nbsp;&nbsp; </span><span class="GramE">yes</span>? <span
 class="GramE">show</span> grid <span class="SpellE">geolon</span><o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>GRID GMZ1<o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp; </span><span class="GramE">name</span><span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>axis<span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span># pts<span >&nbsp;&nbsp; </span>start<span
 >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>end<o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp; </span>XAX<span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>X<span
 >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>180 r<span >&nbsp;&nbsp; </span>1<span
 >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>180<o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp; </span>YAX<span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Y<span
 >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>173 r<span
 >&nbsp;&nbsp;
</span>1<span >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>173<o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp; </span><span class="GramE">normal</span><span
 >&nbsp;&nbsp;&nbsp; </span>Z<o:p></o:p><br>
<span >&nbsp;&nbsp;&nbsp; </span><span class="GramE">normal</span><span
 >&nbsp;&nbsp;&nbsp; </span>T<o:p><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp; ! Visualize the lon,lat curvilinear grid<br>
</o:p><span >&nbsp;&nbsp; </span><span class="GramE">yes</span>? <span
 class="GramE">set</span> view upper<o:p></o:p><br>
<span >&nbsp;&nbsp; </span><span class="GramE">yes</span>? <span
 class="GramE">plot/<span class="SpellE">vs</span>/sym=</span>dot/j=140:173
<span class="SpellE">geolon</span>, <span class="SpellE">geolat<br>
</span></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 ><o:p></o:p>&nbsp;&nbsp;&nbsp;&nbsp;
! Shade plot of a variable on the grid<br>
<span >&nbsp;&nbsp; </span><span class="GramE">yes</span>? <span
 class="GramE">set</span> view lower<o:p></o:p><br>
<span >&nbsp;&nbsp; </span><span class="GramE">yes</span>? <span
 class="GramE">shade/j=</span>140:173 <span class="SpellE">ztp</span>,
<span class="SpellE">geolon</span>, <span class="SpellE">geolat</span><o:p></o:p><br>
<span class="SpellE"></span><o:p></o:p></span></font></p>
<p class="MsoNormal" ><font size="2" color="black"
 face="Courier New"><span lang="EN-GB"
 ><o:p>&nbsp;</o:p></span></font></p>
<br>
<br>
Mario Germano wrote:<br>
<blockquote type="cite" cite="">
  <pre wrap="">Hi everybody,

I am experiencing difficulties in inserting grid points in a cdf file (using
FORTRAN) because these points have all different lon-lat coordinates: they
are not uniformly distributed on an orthogonal grid, but rather on a rotated
grid.
Ideally I'd like to be able to insert points one by one using a syntax like:
   insert_point(lon,lat,wind_speed, temperature,...)
I ignore if such a thing is possible.
Thanks in advance for answering my question.

Mario.

  </pre>
</blockquote>


</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00830" href="msg00830.html">non-ortogonal grid</a></strong>
<ul><li><em>From:</em> Mario Germano</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00834.html">Re: non-ortogonal grid</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00831.html">bad data rejection</a></strong>
</li>

</UL>
<center>[<a href="msg00834.html">Thread Prev</a>][<a href="msg00831.html">Thread Next</a>][<A HREF="threads.html#00842">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
