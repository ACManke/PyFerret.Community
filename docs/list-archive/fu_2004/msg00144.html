<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: running ferret from a CGI script -->
<!--X-From-R13: Xbanguna Qnyynuna <Xbanguna.E.QnyynunaNabnn.tbi> -->
<!--X-Date: Mon, 8 Mar 2004 13:03:15 &#45;0800 -->
<!--X-Message-Id: 404CDF91.7020104@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CEE1081D&#45;70BE&#45;11D8&#45;9E79&#45;000A95684FBA@geosci.uchicago.edu -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: running ferret from a CGI script</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00142.html">Thread Prev</a>][<a href="msg00155.html">Thread Next</a>][<A HREF="threads.html#00144">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: running ferret from a CGI script</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Rodrigo Caballero &lt;<a href="mailto:rca@DOMAIN.HIDDEN">rca@xxxxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: running ferret from a CGI script</strong></li>
<li><strong>From</strong>: <strong>Jonathan Callahan &lt;<a href="mailto:Jonathan.S.Callahan@DOMAIN.HIDDEN">Jonathan.S.Callahan@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 08 Mar 2004 13:03:13 -0800</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00142.html">CEE1081D-70BE-11D8-9E79-000A95684FBA@geosci.uchicago.edu</a>&gt;</li>
<li>References: &lt;<a href="msg00142.html">CEE1081D-70BE-11D8-9E79-000A95684FBA@geosci.uchicago.edu</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4)Gecko/20030624 Netscape/7.1 (ax)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Rodrigo,<br>
<br>
When LAS runs Ferret it executes with the the '-gif -server' command 
line switches.  See the documentation for details:<br>
<br>
<a  href="http://ferret.pmel.noaa.gov/Ferret/Documentation/Users_Guide/current/fer_html.htm">http://ferret.pmel.noaa.gov/Ferret/Documentation/Users_Guide/current/fer_html.htm</a><br>
<br>
<br>
The '-gif' flag should be enough but you might just try adding '-server'.<br>
<br>
<br>
-- Jon<br>
<br>
<br>
<br>
<br>
Rodrigo Caballero wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hello,<br>
<br>
I have a somewhat technical question that I hope someone can help me 
with.<br>
<br>
I'm trying to call ferret from a CGI script in order to read some 
data, make a simple XY plot, plot it out to gif file, and then send 
the gif back to the browser client. The CGI script sets up all the 
ferret environment variables and then does<br>
<br>
ferret -gif &lt; foo.jnl &gt; /tmp/ferret.log,<br>
<br>
where foo.jnl is simply:<br>
<br>
file/skip=2/var=hour,toasw &quot;/tmp/diurnal&quot;<br>
plot/vs/line hour,toasw<br>
frame/file=&quot;/tmp/foo.gif&quot;<br>
<br>
This works fine when I do it from the command line, but when I do it 
from the CGI script I get the following error:<br>
<br>
**ERROR: .gif: Permission denied<br>
gsetcolourrep()    7 GKS not in proper state: GKS shall be in one of 
the states WSOP, WSAC or SGOP<br>
gupdatews()    7 GKS not in proper state: GKS shall be in one of the 
states WSOP, WSAC or SGOP<br>
gclearws()    6 GKS not in proper state: GKS shall be either in the 
state WSOP or in the state WSAC<br>
ginqwsconntype()    7 GKS not in proper state: GKS shall be in one of 
the states WSOP, WSAC or SGOP<br>
gsetwswindow()    7 GKS not in proper state: GKS shall be in one of 
the states WSOP, WSAC or SGOP<br>
gescsetdcsize()    7 GKS not in proper state: GKS shall be in one of 
the states WSOP, WSAC or SGOP<br>
gupdatews()    7 GKS not in proper state: GKS shall be in one of the 
states WSOP, WSAC or SGOP<br>
 **ERROR: required program command has not been given: graphical 
output device isnt ready<br>
<br>
I guess I should really be using the LAS, but I'd rather not get 
involved in those intricacies. Any suggestions?<br>
<br>
Thanks,<br>
Rodrigo<br>
<br>
---<br>
<br>
Rodrigo Caballero Augi (<a  href="http://geosci.uchicago.edu/~rca">http://geosci.uchicago.edu/~rca</a>)<br>
Research Associate<br>
Department of the Geophysical Sciences, University of Chicago<br>
5734 South Ellis Avenue, Chicago, IL 60637, USA.<br>
<br>
</blockquote><pre>

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00142" href="msg00142.html">running ferret from a CGI script</a></strong>
<ul><li><em>From:</em> Rodrigo Caballero</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00142.html">running ferret from a CGI script</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00155.html">Re: running ferret from a CGI script</a></strong>
</li>

</UL>
<center>[<a href="msg00142.html">Thread Prev</a>][<a href="msg00155.html">Thread Next</a>][<A HREF="threads.html#00144">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
