<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: irregular box from ij grid to xy grid ... -->
<!--X-From-R13: Szvyvr Hnailir <inailirNnfge.hpy.np.or> -->
<!--X-Date: Fri, 10 Sep 2004 08:20:36 &#45;0700 -->
<!--X-Message-Id: F1406362&#45;033C&#45;11D9&#45;A99A&#45;000A95A51444@astr.ucl.ac.be -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 4F0CD70B&#45;030D&#45;11D9&#45;A99A&#45;000A95A51444@astr.ucl.ac.be -->
<!--X-Derived: tif00002.tif -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: irregular box from ij grid to xy grid ...</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00616.html">Thread Prev</a>][<a href="msg00618.html">Thread Next</a>][<A HREF="threads.html#00617">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: irregular box from ij grid to xy grid ...</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ferret users &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: irregular box from ij grid to xy grid ...</strong></li>
<li><strong>From</strong>: <strong>Emilie Vanvyve &lt;<a href="mailto:vanvyve@DOMAIN.HIDDEN">vanvyve@xxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 10 Sep 2004 17:20:26 +0200</li>
<li>In-reply-to: &lt;<a href="msg00616.html">4F0CD70B-030D-11D9-A99A-000A95A51444@astr.ucl.ac.be</a>&gt;</li>
<li>References: &lt;<a href="msg00616.html">4F0CD70B-030D-11D9-A99A-000A95A51444@astr.ucl.ac.be</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hello,<br>
<br>
I have found something interesting to solve the problem I submitted a few hours ago. I think I'm close to solve it, but still need some help!<br>
<br>
I could extract the latitudes and longitudes "edges" of my model domain (i=1:87,j=1:87), with:<br>
<br>
<TT><FONT color="0000,0000,0000">yes? let x1 = samplei(lon[d=1],1)<br>
yes? let y1 = samplei(lat[d=1],1)<br>
yes? let x2 = samplej(lon[d=1],87)<br>
yes? let y2 = samplej(lat[d=1],87)<br>
yes? let x3 = samplei(lon[d=1],87)<br>
yes? let y3 = samplei(lat[d=1],87)<br>
yes? let x4 = samplej(lon[d=1],1)<br>
yes? let y4 = samplej(lat[d=1],1)<br>
</FONT></TT><br>
... and plot 4 polygons, with:<br>
<br>
<TT><FONT color="0000,0000,0000">yes? polygon/line/over x1,y1<br>
yes? polygon/line/over x2,y2<br>
yes? polygon/line/over x3,y3<br>
yes? polygon/line/over x4,y4<br>
</FONT></TT><br>
I get this:<br>
<br>
<p><a href="tif00002.tif" ><img src="tif00002.tif" alt="TIFF image"></a></p>
<br>
<br>
How can I do to remove the "straight lines" coming from each of the 4 polygon commands, in order to get only this "muffin" domain shape?<br>
I've tried all possible combinations of ( ), { }, xi, yi, " ", e.g. among others:<br>
<TT><FONT color="0000,0000,0000">yes? polygon/line/over x1,x2,x3,x4,y1,y2,y3,y4<br>
**ERROR: invalid command: POLYGON may use 2 args (xpts,ypts) with /LINE only, or 3 args (xpts,ypts,color_value)<br>
yes? polygon/line/over x1,y1,x2,y2,x3,y3,x4,y4<br>
**ERROR: invalid command: POLYGON may use 2 args (xpts,ypts) with /LINE only, or 3 args (xpts,ypts,color_value)<br>
yes? polygon/line/over {x1,x2,x3,x4},{y1,y2,y3,y4}<br>
**ERROR: command syntax: X1,X2,X3,X4}<br>
yes? shade/d=2/l=10 lsp ; go land<br>
yes? polygon/line/over x1,x2,x3,x4,y1,y2,y3,y4<br>
**ERROR: invalid command: POLYGON may use 2 args (xpts,ypts) with /LINE only, or 3 args (xpts,ypts,color_value)<br>
yes? polygon/line/over x1,y1,x2,y2,x3,y3,x4,y4<br>
**ERROR: invalid command: POLYGON may use 2 args (xpts,ypts) with /LINE only, or 3 args (xpts,ypts,color_value)<br>
yes? polygon/line/over {x1,x2,x3,x4},{y1,y2,y3,y4}<br>
**ERROR: command syntax: X1,X2,X3,X4}<br>
yes? polygon/line/over (x1,x2,x3,x4),(y1,y2,y3,y4)<br>
**ERROR: command syntax: (x1,x2,x3,x4)<br>
Definition contains multiple expressions<br>
yes? polygon/line/over {(x1,x2,x3,x4)},{(y1,y2,y3,y4)}<br>
**ERROR: command syntax: (X1,X2,X3,X4)}<br>
yes? polygon/line/over {"x1","x2","x3","x4"},{"y1","y2","y3","y4"}<br>
**ERROR: illegal data type (float,string,...) for operation: {"x1","x2","x3","x4"}<br>
yes? polygon/line/over ("x1","x2","x3","x4"),("y1","y2","y3","y4")<br>
**ERROR: command syntax: ("x1","x2","x3","x4")<br>
Definition contains multiple expressions<br>
yes?</FONT></TT><br>
<br>
If anyone can help me on this... I don't know how to define my xi and yi variables so that they contain all needed values.<br>
Thanks!<br>
<br>
Emilie<br>
<br>
Le 10 sept. 2004, à 11:39, Emilie Vanvyve a écrit :<br>
<br>
<BLOCKQUOTE>Hello,<br>
<br>
I was wondering the same as Wendy Wang, but for an irregular region and over an irregular grid... I tried your solutions, but it didn't work.<br>
<br>
My challenge is the following (I joint 2 graphs to illustrate this):<br>
"initialgrid.tiff" : I plot model data on their own grid which is cartesian. I use "shade var,lon,lat" to plot them on a curvilinear grid. But, I have in my data file all longitute and latitude values of the domain:<br>
<TT><FONT color="0000,0000,0000">    1> hiver-1994/mar/MAR.a20.1993.09.01-30.nc<br>
name     title                             I         J         K         L<br>
LON      Longitude                        1:87      1:87      ...       ...<br>
LAT      Latitude                         1:87      1:87      ...       ...<br>
</FONT></TT><br>
"finalgrid.tiff" : I plot ERA data on their own grid. I'd like to restrict them to the model domain, or at least overlay a kind of "curved quadrilatere" to show where is exactly the model domain.<br>
<br>
The problem is that I have to put up with 2 different grids and 2 different spatial resolutions.<br>
Is there anyway to do that 'easily', without writing in/reading a ascii file? I was thinking to define a kind of "mask" variable, looking as stretched and curved trapeze, mask that I coud either plot over the data as a simple line, or use to restrict data to the model domain.<br>
<br>
If anyone has any idea...!<br>
Thanks in advance for any answer!<br>
<br>
Emilie<br>
<br>
&lt;initialgrid.tiff><br>
&lt;finalgrid.tiff><br>
<br>
<br>
<br>
<FONT color="4C4B,4C4B,4C4B"><x-tad-smaller>____________________________________________________________<br>
</x-tad-smaller><B><x-tad-smaller>Emilie VANVYVE<br>
</x-tad-smaller></B><I><x-tad-smaller>Physicist, PhD student<br>
</x-tad-smaller><SMALL><SMALL><br>
</SMALL></SMALL></I><x-tad-smaller>Université catholique de Louvain (UCL)<br>
Institut d'astronomie et de géophysique G. Lemaître (ASTR)<br>
Chemin du Cyclotron, 2<br>
1348 Louvain-la-Neuve (Belgium)<br>
Phone : +32-(0)10-473300<br>
Fax : +32-(0)10-474722<br>
E-mail : vanvyve@astr.ucl.ac.be<br>
Web : www.astr.ucl.ac.be<br>
</x-tad-smaller></FONT></BLOCKQUOTE><FONT color="4C4C,4C4C,4C4C"><x-tad-smaller>____________________________________________________________<br>
</x-tad-smaller><B><x-tad-smaller>Emilie VANVYVE<br>
</x-tad-smaller></B><I><x-tad-smaller>Physicist, PhD student<br>
</x-tad-smaller><SMALL><SMALL><br>
</SMALL></SMALL></I><x-tad-smaller>Université catholique de Louvain (UCL)<br>
Institut d'astronomie et de géophysique G. Lemaître (ASTR)<br>
Chemin du Cyclotron, 2<br>
1348 Louvain-la-Neuve (Belgium)<br>
Phone : +32-(0)10-473300<br>
Fax : +32-(0)10-474722<br>
E-mail : vanvyve@astr.ucl.ac.be<br>
Web : www.astr.ucl.ac.be</x-tad-smaller></FONT><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00616" href="msg00616.html">irregular box from ij grid to xy grid ...</a></strong>
<ul><li><em>From:</em> Emilie Vanvyve</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00616.html">irregular box from ij grid to xy grid ...</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00618.html">Re: irregular box from ij grid to xy grid ...</a></strong>
</li>

</UL>
<center>[<a href="msg00616.html">Thread Prev</a>][<a href="msg00618.html">Thread Next</a>][<A HREF="threads.html#00617">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
