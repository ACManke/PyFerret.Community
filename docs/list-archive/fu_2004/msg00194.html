<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: ferret question -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 23 Mar 2004 12:48:39 &#45;0800 -->
<!--X-Message-Id: 4060A2AE.3050205@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 40608BA9.6090601@noaa.gov -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: ferret question</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00192.html">Thread Prev</a>][<a href="msg00551.html">Thread Next</a>][<A HREF="threads.html#00194">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: ferret question</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Mark Carson &lt;<a href="mailto:mark.carson@DOMAIN.HIDDEN">mark.carson@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: ferret question</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 23 Mar 2004 12:48:46 -0800</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00192.html">40608BA9.6090601@noaa.gov</a>&gt;</li>
<li>References: &lt;<a href="msg00192.html">40608BA9.6090601@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4)Gecko/20030624 Netscape/7.1 (ax)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi Mark,<br>
Yes you can do this. This is a great Ferret example.  You want to regrid 
the climatology<br>
data onto the time axis of the daily data, and subtract the result from 
the daily series.  Do<br>
you want to create the climatology time series as a step function so 
that you subtract the<br>
climatological  January from each January point in the daily time 
series, and so on? Here's<br>
an example of how to do that.  I'll use the coads_climatology dataset 
and create a daily<br>
time series variable. Here I'm putting a signal into the random daily 
time series, but it illustrates<br>
the method.<br>
<br>
<br>
   ! create a daily time series variable<br>
   yes? define axis/t=1-jan-1990:1-jan-2000:1/units=days dayt<br>
   yes? let tt = 0.5* randu(t[gt=dayt]) - 0.25<br>
<br>
   ! define the regridding transformation to put the<br>
   ! climatology onto the daily series<br>
<br>
   yes? use coads_climatology<br>
   yes? let sstday = sst[x=181,y=1,gt=dayt@NRST] - 28.3<br>
<br>
   ! look at the different components<br>
<br>
   yes? plot sstday<br>
   yes? plot/t=1-jan-1990:1-jan-1992 tt, sstday<br>
<br>
   ! Subtract the climatology from the daily data<br>
<br>
   yes? plot/t=1-jan-1990:1-jan-1992 tt - sstday<br>
<br>
You should look at different regridding transformations and decide which<br>
one to use to put the climatology data onto the long  daily time axis.  
Compare<br>
the result if you use the @LIN regridding transform (the default)  
rather than<br>
@NRST.<br>
<br>
Ansley Manke<br>
<br>
Mark Carson wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi all,<br>
<br>
I hope I can pose this question somewhat clearly.  I have a 
temperature dataset that is gridded in time only with a grid spacing 
of 1 day over 50 years span (18628 time points).  I would like to 
subtract the WOA01 monthly mean climatology from the data, but it is 
gridded in 12 time points - months.  How can I subtract the proper 
month's value from my dataset when, say, January occurs over and over 
again throughout the 50 years, and making sure I'm subtracting it from 
the proper days that would be the days of January in each year?  Is 
this doable in Ferret?<br>
<br>
Thanks for any thoughts or info!<br>
<br>
Mark Carson<br>
<br>
<br>
</blockquote><pre>

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00192" href="msg00192.html">ferret question</a></strong>
<ul><li><em>From:</em> Mark Carson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00192.html">ferret question</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00551.html">Fwd: ferret question</a></strong>
</li>

</UL>
<center>[<a href="msg00192.html">Thread Prev</a>][<a href="msg00551.html">Thread Next</a>][<A HREF="threads.html#00194">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
