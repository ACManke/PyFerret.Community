<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: diagonal section and integration handling difficulties -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 10 Nov 2004 14:02:02 &#45;0800 -->
<!--X-Message-Id: 41928FD9.4050808@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 41921F8F.3070500@ifm.zmaw.de -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: diagonal section and integration handling difficulties</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00795.html">Thread Prev</a>][<a href="msg00797.html">Thread Next</a>][<A HREF="threads.html#00796">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: diagonal section and integration handling difficulties</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Robert Landsberger &lt;<a href="mailto:landsberger@DOMAIN.HIDDEN">landsberger@xxxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: diagonal section and integration handling difficulties</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 10 Nov 2004 14:02:01 -0800</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00795.html">41921F8F.3070500@ifm.zmaw.de</a>&gt;</li>
<li>References: &lt;<a href="msg00795.html">41921F8F.3070500@ifm.zmaw.de</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">



Hi Robert,<br>
I'll start a discussion; others who do similar calculations might be
able<br>
to add more detail.&nbsp; You can get data along any curve, such as a
diagonal, <br>
with the SAMPLEXY function. In the Users Guide under "SAMPLEXY, <br>
function definition", there is an example which defines a straight line
and <br>
samples a field along it.&nbsp; The result of sampling an X-Y-Z field along
a curve<br>
is an X-by- Z result, where X is now an index, the count of points
along <br>
the curve or diagonal line.<br>
<font color="#1f1a17"><font size="4"><font face="Palatino"><b><br>
</b></font></font></font>There is a discussion of what Ferret does with
2-dimensional integrals <br>
on latitude-longitude grids, in Chapter 3, the section called "General <br>
information about transformations."&nbsp; <br>
<br>
It doesn't sound like you are doing a 2-dimensional integral, but,&nbsp; <font
 color="#1f1a17" size="3" face="Times"><font color="#1f1a17"
 face="Times" size="3">"If <br>
@DIN is applied simultaneously to both the X and Y axes (in units of <br>
degrees of longitude and latitude, respectively) the calculation will
be <br>
carried out on a per-unit-area basis (as a true double integral)
instead <br>
of a per-unit-length basis, sequentially."&nbsp; Also, </font></font>when
the axis units are <br>
longitude and latitude, Ferret applies a latitude correction for
integrals <br>
and averages. This&nbsp; may be why you are seeing unexpected results for <br>
your integrations..&nbsp; The reference for this discussion in the Users
Guide <br>
is under "COSINE(latituude)" in the index. Here is a relevant paragraph:<br>
<br>
<font color="#1f1a17" size="3" face="Times">"When calculating integrals
and derivatives (@IIN, @DIN, @DDC, <br>
@DDF, and @DDB) Ferret attempts to use standardized units for the<br>
grid coordinates. If the underlying axis is in a known unit of length
Ferret<br>
converts grid box lengths to meters. If the underlying axis is in a
known <br>
unit of time Ferret converts grid box lengths to seconds. If the
underlying <br>
axis is degrees of longitude a factor of COSINE (latitude) is applied
to <br>
the grid box lengths in meters. "<br>
<br>
</font>Ansley Manke<br>
<br>
Robert Landsberger wrote:<br>
<blockquote type="cite" cite="">Dear
Ferreters,
  <br>
  <br>
actually working with a oceanmodel calculating stream intensitys it
occured to us to check the produced data by integrating the stream
components u (longitude direction) and v
  <br>
(latitude direction) along any diagonal line in the datafield.
  <br>
  <br>
First question concerning is:
  <br>
Is there a standard way of gaining the requested output? Or has there
been any programfile published yet to help us in this task?
  <br>
  <br>
And second:
  <br>
During our calculation we come to a situation similar to the one in the
append lines.
  <br>
We take the vertical section out of the original data file and reduce
the data to a 2 dimensional field (as you may see the depth ist
integrated already)
  <br>
So all we need do to is to integrate the x-axis and we compute the
directed stream of water. The question is why do we gain correct output
for the integration with an existing y-axis and the wrong output for
the integration along the x-axis for the integration without y-axis?
For this is what occurs if we do not do a clear zonal or meridional
section.
  <br>
  <br>
Any help is welcome
  <br>
  <br>
Robert Landsberger (ZMAW Hamburg/Germany)
  <br>
  <br>
  <br>
Problem scratch:
  <br>
name&nbsp;&nbsp;&nbsp;&nbsp; title&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; J&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L
  <br>
TEST1&nbsp;&nbsp;&nbsp; V[Y=77,Z=@DIN]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:252&nbsp;&nbsp;&nbsp;&nbsp; 1:1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1:12
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (Z=0:4868)
  <br>
TEST2&nbsp;&nbsp;&nbsp; V[Y=77@AVE,Z=@DIN]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:252&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:12
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (Z=0:4868)
  <br>
TESU1&nbsp;&nbsp;&nbsp; TEST1[X=@DIN]/(1E6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
1:12
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (X=46W(-46):17E, Z=0:4868)
  <br>
TESU2&nbsp;&nbsp;&nbsp; TEST2[X=@DIN]/(1E6)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:12
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (X=46W(-46):17E, Z=0:4868)
  <br>
  <br>
yes? list/l=1 tesu1
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARIABLE : TEST1[X=@DIN]/(1E6)
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X=46W(-46):17E, Z=0:4868
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FILENAME : keks.cdf
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LATITUDE : 77N
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TIME&nbsp;&nbsp;&nbsp;&nbsp; : 01-JUL-1992 14:54
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -1.205
  <br>
yes? list/l=1 tesu2
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARIABLE : TEST2[X=@DIN]/(1E6)
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X=46W(-46):17E, Z=0:4868
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FILENAME : keks.cdf
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TIME&nbsp;&nbsp;&nbsp;&nbsp; : 01-JUL-1992 14:54
  <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -5.348
  <br>
</blockquote>


</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00795" href="msg00795.html">diagonal section and integration handling difficulties</a></strong>
<ul><li><em>From:</em> Robert Landsberger</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00795.html">diagonal section and integration handling difficulties</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00797.html">Color plots for percentiles</a></strong>
</li>

</UL>
<center>[<a href="msg00795.html">Thread Prev</a>][<a href="msg00797.html">Thread Next</a>][<A HREF="threads.html#00796">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
