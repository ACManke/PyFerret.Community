<!-- MHonArc v2.5.4 -->
<!--X-Subject: Re: Using viewports, margins, &#38;c... -->
<!--X-From-R13: Egrir Vnaxva <unaxvaNczry.abnn.tbi> -->
<!--X-Date: Tue, 8 Sep 1998 13:12:21 &#45;0700 -->
<!--X-Message-Id: 35F59002.BB669B12@pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 199808282104.PAA17351@olympic.cgd.ucar.EDU -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: Using viewports, margins, &amp;c...</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00172.html">Thread Prev</a>][<a href="msg00173.html">Thread Next</a>][<A HREF="threads.html#00182">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Using viewports, margins, &amp;c...</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Gary Strand &lt;<A HREF="mailto:strandwg@DOMAIN.HIDDEN">strandwg@xxxxxxxx</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: Using viewports, margins, &amp;c...</strong></li>
<li><strong>From</strong>: <strong>Steve Hankin &lt;<A HREF="mailto:hankin@DOMAIN.HIDDEN">hankin@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Tue, 08 Sep 1998 13:13:54 -0700</li>
<li>Cc: <A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
<li>Organization: NOAA/PMEL</li>
<li>References: &lt;<a href="msg00172.html">199808282104.PAA17351@olympic.cgd.ucar.EDU</a>&gt;</li>
<li>Sender: owner-ferret_users</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Complex viewport layout ...

Hi Gary,

I have gotten behind on my Email ... finally catching up.

The requirements for preserving size and aspect ratio of plots in
viewports of various size and aspect ratio is an over-determined
problem. There is no automated approach that works &quot;best&quot; in all cases.

The philosophy adopted by Ferret is that each viewport is regarded as a
separate output window, and the aspect ratio is adjusted for the
viewport exactly as it would be for a separate output window.

It sounds like in your case you have a collection of scripts (or
commands) for creating various plots, and those plots use differing
aspect ratios. You want to preserve those aspect ratios as you pull the
plots together into a multi-viewport page.

Using the pre-defined quadrant viewports UL, UR, LL, LR, is probably not
the best way to go in this case, since that approach implicitly assumes
that all viewports have the same aspect ratio and sizing. Instead,
you'll want to define new viewports, each with the appropriate aspect
ratio and size (equivalent to the
SET WINDOW/ASPECT=xxx you used on the full-window plots).

This will involve a calculation of the lo:hi arguments to
	DEFINE VIEW/XLIMITS=xlo:xhi/YLIMITS=ylo:yhi
but it should not require an iterative approach. The values of the
arguments can be calculated from size and aspect information.
Furthermore, you can use the Ferret &quot;immediate mode&quot; expressions to
calculate the arguments for you, automatically, as part of the DEFINE
VIEWPORT command. You'll also want to use the /TEXT=yyy argument; simply
use the same value for all of your viewports, to make sure they are all
scaled identically. The particular value you choose will subtly
influence the plot appearance -- choose a value that suits poersonal
taste.

If you send me particulars of your layout, I'll be happy to illustrate
this approach.

	- steve

=================================================================


Gary Strand wrote:
&gt; 
&gt; I'm trying to plot two fields, in a total of four viewports, XY slabs on the
&gt; left, top and bottom, and zonal averages on the right, top and bottom. I've
&gt; been playing with defining viewports and using &quot;margins.jnl&quot;, and it's get-
&gt; ting a wee bit tedious trying to match up the heights of the zonal averages
&gt; with the slabs, and, trying to make sure the aspect ratio of the slabs is
&gt; correct.
&gt; 
&gt; Any hints out there other than iteration?
&gt; 
&gt; I do have a beef with viewports, though - if I'm looking at a 360 degree by
&gt; 180 degree plot, i.e., global, why does changing the viewport mess up the
&gt; aspect ratio? Is there some way to force FERRET not to change it?
&gt; 
&gt; Thanks!
&gt; --
&gt; Gary Strand
&gt; strandwg@ucar.edu                              <A  HREF="http://www.cgd.ucar.edu/ccr/gary">http://www.cgd.ucar.edu/ccr/gary</A>

-- 
Steve Hankin
NOAA/PMEL, 7600 Sand Point Way NE, Seattle, WA 98115-0070
ph. (206) 526-6080 -- FAX (206) 526-6744

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00172" href="msg00172.html">Using viewports, margins, &amp;c...</a></strong>
<ul><li><em>From:</em> Gary Strand</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00172.html">Using viewports, margins, &amp;c...</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00173.html">a problem writing a NetCDF file</a></strong>
</li>

</UL>
<center>[<a href="msg00172.html">Thread Prev</a>][<a href="msg00173.html">Thread Next</a>][<A HREF="threads.html#00182">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
