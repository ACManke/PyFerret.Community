<!-- MHonArc v2.5.4 -->
<!--X-Subject: Re: Multiple netCDF datasets -->
<!--X-From-R13: Xbret <wbretNwnfcre.fgnasbeq.rqh> -->
<!--X-Date: Mon, 13 Apr 1998 12:30:17 &#45;0700 -->
<!--X-Message-Id: 3.0.1.32.19980413123907.009ce360@jasper.stanford.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 9804131011.ZM10627@clima.cesga.es -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: Multiple netCDF datasets</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00080.html">Thread Prev</a>][<a href="msg00082.html">Thread Next</a>][<A HREF="threads.html#00081">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Multiple netCDF datasets</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Carlos Fernandez&quot; &lt;<A HREF="mailto:carlosf@DOMAIN.HIDDEN">carlosf@xxxxxxxxxxxxxx</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: Multiple netCDF datasets</strong></li>
<li><strong>From</strong>: <strong>Joerg &lt;<A HREF="mailto:joerg@DOMAIN.HIDDEN">joerg@xxxxxxxxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Mon, 13 Apr 1998 12:39:07 -0700</li>
<li>Cc: <A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
<li>In-reply-to: &lt;<a href="msg00080.html">9804131011.ZM10627@clima.cesga.es</a>&gt;</li>
<li>Sender: owner-ferret_users</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Hi Carlos and all other ferreter's,

&gt;Hi all,
&gt;I have a time-series of climate data split in some netCDF files (i.e.
year1.nc
&gt;year2.nc ....), and I would like to treat them as a single file in Ferret.
I've
&gt;read in the Ferret documentation about the MC datasets (that seems to be
what I
&gt;really need), but I heven't found any deep explanation about its usage
&gt;
&gt;Could anybody tell how can I make the MC descriptor of these files? Is there
&gt;any other (easy) solution?
&gt;
&gt;Thanks in advance!
&gt;

I've pasted below a part of the multi-netcdf descriptor file, sib_nc_qp2.des,
I made from an example which comes with ferret and which worked fine for me. 
In this case I use the descriptor file to read data from 12 monthly files.
I most definite used only a very limited set of the options which are 
available.
Check out the readme file README_about_mc_datasets and also there should
be a mc_datasets.tar to look into for examples. There is somewhere an
annotated TMAP descriptor file which explains a lot of options ( grep for 
annotated ).
Note, that the namelist syntax you need for the descriptor file is somewhat
picky and also machine dependent - I believe. I found the one below to
be working on our sun. Note the &quot;1&quot; in the first line. I think you may need
it.
It may not be in all examples which come with the me_datasets file,
persumably because not all machines require it. You may have to experiment a
bit. Or check out a handbook for you fortran compiler or ask a fortran guru
at your place.
Now, I'm certainly a total beginner with the descriptor stuff but this will 
hopefully be a start. 

Finally I would like to thank the ferret folks for this MC stuff. I find this
absolutely great! Really.

Good luck,

Joerg


1 *************************************************************************
*     NOAA/PMEL Tropical Modeling and Analysis Program, Seattle, WA.      *
*                  created by MAKE_DESCRIPT rev. 4.01                     *
*************************************************************************** 
* modified for SiB model output
 $FORMAT_RECORD
  D_TYPE               = '  MC',
  D_FORMAT             = '  1A',
  D_SOURCE_CLASS       = 'MODEL OUTPUT',
 $END
 $BACKGROUND_RECORD
  D_EXPNUM             = '0000',
  D_MODNUM             = '  AA',
  D_TITLE              = 'SiB model output',
  D_T0TIME             = '00-JAN-1981 00:00:00',
  D_TIME_UNIT          = 86400,
  D_TIME_MODULO        = .FALSE.,
 $END
 $MESSAGE_RECORD
  D_MESSAGE            = ' ',
  D_ALERT_ON_OPEN      = F,
  D_ALERT_ON_OUTPUT    = F,
 $END
*************************************************
 $EXTRA_RECORD
 $END
 
 $STEPFILE_RECORD
  s_filename           = 'hsib_1981.qp2.nc.001',
  S_AUX_SET_NUM        = 0,
  S_START              = 15.5,
  S_END                = 15.5,
  S_DELTA              = 1,
  S_NUM_OF_FILES       = 1,
  S_REGVARFLAG         = ' ',
 $END
 $STEPFILE_RECORD
  s_filename           = 'hsib_1981.qp2.nc.002',
  S_AUX_SET_NUM        = 0,
  S_START              = 45,
  S_END                = 45,
  S_DELTA              = 1,
  S_NUM_OF_FILES       = 1,
  S_REGVARFLAG         = ' ',
 $END

................... more like this - files 03-11 .................

 $STEPFILE_RECORD
  s_filename           = 'hsib_1981.qp2.nc.012',
  S_AUX_SET_NUM        = 0,
  S_START              = 349.5,
  S_END                = 349.5,
  S_DELTA              = 1,
  S_NUM_OF_FILES       = 1,
  S_REGVARFLAG         = ' ',
 $END
**************************************************
 $STEPFILE_RECORD
  s_filename           = '**END OF STEPFILES**'
 $END
**************************************************

--
Jörg Kaduk                           phone:  +1 (650) 325 1521 ext 416
Carnegie Institution of Washington   fax:    +1 (650) 325 6857
Department of Plant Biology
260 Panama Street                    e-mail: joerg@jasper.stanford.edu   
USA - Stanford, CA 94305             

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00080" href="msg00080.html">Multiple netCDF datasets</a></strong>
<ul><li><em>From:</em> Carlos Fernandez</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00080.html">Multiple netCDF datasets</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00082.html">**TMAP ERR: limit on number of grid lines....</a></strong>
</li>

</UL>
<center>[<a href="msg00080.html">Thread Prev</a>][<a href="msg00082.html">Thread Next</a>][<A HREF="threads.html#00081">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
