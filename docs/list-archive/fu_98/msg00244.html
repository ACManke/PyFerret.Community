<!-- MHonArc v2.5.4 -->
<!--X-Subject: Re: Masking fields by topography -->
<!--X-From-R13: R Eunaxne <funaxneNqneln.avb.bet> -->
<!--X-Date: Tue, 24 Nov 1998 21:54:13 &#45;0800 -->
<!--X-Message-Id: Pine.SGI.3.94.981125111955.11734A&#45;100000@darya.nio.org -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 365B8E43.DD041FBA@oce.orst.edu -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: Masking fields by topography</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00243.html">Thread Prev</a>][<a href="msg00245.html">Thread Next</a>][<A HREF="threads.html#00244">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Masking fields by topography</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ferret Users &lt;<A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: Masking fields by topography</strong></li>
<li><strong>From</strong>: <strong>D Shankar &lt;<A HREF="mailto:shankar@DOMAIN.HIDDEN">shankar@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Wed, 25 Nov 1998 11:29:03 +0530 (IST)</li>
<li>In-reply-to: &lt;<a href="msg00243.html">365B8E43.DD041FBA@oce.orst.edu</a>&gt;</li>
<li>Sender: owner-ferret_users</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
On Tue, 24 Nov 1998, David Oxilia wrote:

&gt; Thanks for the ferret script. I received it from pmel a little
&gt; while ago. I'm not sure what you mean by a &quot;horizontal section&quot;
&gt; (all sections are vertical to my mind), but it seems to me that
&gt; your script produces geographical land maps suitable for masking
&gt; fields that are plotted at various depths. Also, a variant of
&gt; this approach would require me to build a data file (your 
&gt; levitus_mask.nc) for all possible sections; a real chore indeed!

Not quite!  The script works for vertical sections also.  I've used it to
mask out the bottom topography in a vertical section; all you have to do
is supply the limits for the z co-ordinate (z=low:high) as an argument.
This results in a shaded mask similar to that for a horizontal slice
(horizontal section) of a 3/4-D dataset like Levitus.  It does not,
however, produce a line delineating the bottom, and I too would like to
know if FERRET can handle this problem.
As for producing the MASK data, it is straightforward, at least for
gridded data.  All I did was write 0 for variable MASK wherever data was
&quot;missing&quot; and write 1 where data was available (ocean).
With some modifications, you can get the script to use the missing_value
flag, but I prefer using a separate variable.

&gt; The inherent problem with this is that ferret doesn't handle too
&gt; well a mix of gridded data plots and line plots. The only 
&gt; (somewhat satisfactory) solution is to &quot;grid&quot; one's data (hence,
&gt; uniformly discretizing it from the non-uniform data points) and
&gt; overlay this topography mask. The net effect is that of a 
&gt; staircased topography whose coarseness is dictated by that of 
&gt; the grid resolution. A 0-6000 m depth axis in steps of 5 m creates
&gt; a rather large final grid!

Yes, that file would be huge!  But it works for Levitus's climatology
because these are at standard depths.  The bottom topography becomes
coarse as you go down, but even a &quot;curve&quot; would degenerate to a straight
line at such resolutions.

&gt; Perhaps Steve Hankin has better insight to this problem. It
&gt; would surprise me if this question hasn't been raised before.
&gt; After all ferret is an oceanographers package!


</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00243" href="msg00243.html">Re: Masking fields by topography</a></strong>
<ul><li><em>From:</em> David Oxilia</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00243.html">Re: Masking fields by topography</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00245.html">Re: accents</a></strong>
</li>

</UL>
<center>[<a href="msg00243.html">Thread Prev</a>][<a href="msg00245.html">Thread Next</a>][<A HREF="threads.html#00244">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
