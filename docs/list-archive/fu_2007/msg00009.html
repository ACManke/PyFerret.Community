<!-- MHonArc v2.6.16 -->
<!--X-Subject: [ferret_users] coversion of model sigma coordinates -->
<!--X-From-R13: tbyyn antrfjnenenb <ant_bprna005Nlnubb.pb.va> -->
<!--X-Date: Thu, 4 Jan 2007 02:38:14 &#45;0800 -->
<!--X-Message-Id: 20070104103808.96091.qmail@web8903.mail.in.yahoo.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] coversion of model sigma coordinates</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00006.html">Thread Prev</a>][<a href="msg00012.html">Thread Next</a>][<A HREF="threads.html#00009">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] coversion of model sigma coordinates</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ferret NOAA &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] coversion of model sigma coordinates</strong></li>
<li><strong>From</strong>: <strong>golla nageswararao &lt;<a href="mailto:nag_ocean005@DOMAIN.HIDDEN">nag_ocean005@xxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 04 Jan 2007 10:38:08 +0000 (GMT)</li>
<li>Domainkey-signature: a=rsa-sha1; q=dns; c=nofws;  s=s1024; d=yahoo.co.in; h=Message-ID:X-YMail-OSG:Received:Date:From:Subject:To:MIME-Version:Content-Type:Content-Transfer-Encoding; b=2kAkaRx2WQoE1QlvBj942oiRVlj3uBzP5jGUuLquwzFJDP5kEKlTa2B8HcRljbPZZc4I8v0OmDZfAZwyNbq+lf02ZvfEx30vi4ccqdvneZVGbNcXE5xbxZzqvCMtlerXbipXTb6H02b880jwepFZ4YhDmFgpHxi2l9uSjKP2cqs=  ;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Dear all,
  I am working on ROMS model. It is in xi,eta,sigma
coordiantes. I want to convert sigma co-ordinates to
depth coordinates. I will get the output nc file in
the following form.

NTIMES   number of long time-steps        ...      
...       ...       ...
 NDTFAST  number of short time-steps       ...      
...       ...       ...
 DT       size of long time-steps          ...      
...       ...       ...
 DTFAST   size of short time-steps         ...      
...       ...       ...
 DSTART   time stamp assigned to model in  ...      
...       ...       ...
 NHIS     number of time-steps between hi  ...      
...       ...       ...
 NDEFHIS  number of time-steps between th  ...      
...       ...       ...
 NRST     number of time-steps between re  ...      
...       ...       ...
 NTSAVG   starting time-step for accumula  ...      
...       ...       ...
 NAVG     number of time-steps between ti  ...      
...       ...       ...
 FALPHA   Power-law shape barotropic filt  ...      
...       ...       ...
 FBETA    Power-law shape barotropic filt  ...      
...       ...       ...
 FGAMMA   Power-law shape barotropic filt  ...      
...       ...       ...
 TNU2     Laplacian mixing coefficient fo  ...      
...       ...       1:2
 VISC2    Laplacian mixing coefficient fo  ...      
...       ...       ...
 AKT_BAK  background vertical mixing coef  ...      
...       ...       1:2
 AKV_BAK  background vertical mixing coef  ...      
...       ...       ...
 RDRG     linear drag coefficient          ...      
...       ...       ...
 RDRG2    quadratic drag coefficient       ...      
...       ...       ...
 ZOB      bottom roughness                 ...      
...       ...       ...
 ZOS      surface roughness                ...      
...       ...       ...
 ZNUDG    free-surface nudging/relaxation  ...      
...       ...       ...
 M2NUDG   2D momentum nudging/relaxation   ...      
...       ...       ...
 M3NUDG   3D momentum nudging/relaxation   ...      
...       ...       ...
 TNUDG    Tracers nudging/relaxation inve  ...      
...       ...       1:2
 RHO0     mean density used in Boussinesq  ...      
...       ...       ...
 GAMMA2   Slipperiness parameter           ...      
...       ...       ...
 SPHERICAL
          grid type logical switch         ...      
...       ...       ...
 XL       domain length in the XI-directi  ...      
...       ...       ...
 EL       domain length in the ETA-direct  ...      
...       ...       ...
 THETA_S  S-coordinate surface control pa  ...      
...       ...       ...
 THETA_B  S-coordinate bottom control par  ...      
...       ...       ...
 TCLINE   S-coordinate surface/bottom lay  ...      
...       ...       ...
 HC       S-coordinate parameter, critica  ...      
...       ...       ...
 CS_R     S-coordinate stretching curves   1:32     
...       ...       ...
 CS_W     S-coordinate stretching curves   1:33     
...       ...       ...
 H        bathymetry at RHO-points         1:361    
1:253     ...       ...
 F        Coriolis parameter at RHO-point  1:361    
1:253     ...       ...
 PM       curvilinear coordinate metric i  1:361    
1:253     ...       ...
 PN       curvilinear coordinate metric i  1:361    
1:253     ...       ...
 LON_RHO  longitude of RHO-points          1:361    
1:253     ...       ...
 LAT_RHO  latitude of RHO-points           1:361    
1:253     ...       ...
 LON_U    longitude of U-points            1:360    
1:253     ...       ...
 LAT_U    latitude of U-points             1:360    
1:253     ...       ...
 LON_V    longitude of V-points            1:361    
1:252     ...       ...
 LAT_V    latitude of V-points             1:361    
1:252     ...       ...
 LON_PSI  longitude of PSI-points          1:360    
1:252     ...       ...
 LAT_PSI  latitude of PSI-points           1:360    
1:252     ...       ...
 ANGLE    angle between XI-axis and EAST   1:361    
1:253     ...       ...
 MASK_RHO mask on RHO-points               1:361    
1:253     ...       ...
 MASK_U   mask on U-points                 1:360    
1:253     ...       ...
 MASK_V   mask on V-points                 1:361    
1:252     ...       ...
 MASK_PSI mask on psi-points               1:360    
1:252     ...       ...
 SCRUM_TIME
          time since initialization        1:1      
...       ...       ...
 ZETA     free-surface                     1:361    
1:253     1:1       ...
 UBAR     vertically integrated u-momentu  1:360    
1:253     1:1       ...
 VBAR     vertically integrated v-momentu  1:361    
1:252     1:1       ...
 U        u-momentum component             1:360    
1:253     1:32      1:1
 V        v-momentum component             1:361    
1:252     1:32      1:1
 TEMP     potential temperature            1:361    
1:253     1:32      1:1
 SALT     salinity                         1:361    
1:253     1:32      1:1
 RHO      density anomaly                  1:361    
1:253     1:32      1:1
 HSBL     depth of oceanic surface bounda  1:361    
1:253     1:1       ...
 AKV      vertical viscosity coefficient   1:361    
1:253     1:33      1:1
 AKT      temperature vertical diffusion   1:361    
1:253     1:33      1:1
 AKS      salinity vertical diffusion coe  1:361    
1:253     1:33      1:1


I had used the following ferret script to convert the
sigma coordinates to depth coordinates.

let bb= h + 0*temp[l=1]
let zz=(z+.03)*bb
def axis/z=0:4800:1/depth z100
let znew = z[gz=z100]
let temp_depth = ZAXREPLACE(temp,zz,znew)

  I am getting correct vertical profile but the
problem is vertical resolution of my model is
irregular that is it uses more levels in upper ocean
than deep ocean.This makes me problem. 
  I am enclosing the vertical profile plot with sigma
coordiantes and depth coordinates.
  U will notice that the curve is very much stretched
upto some 800m. or so due to more no. of levels in the
upper ocean.So what can I do with that to get correct
depth coordinates in the plot ? Please suggest me how
can I rectify my problem.
Any help is appreciated.
Thanks in advance.

With regards,
G.NageswaraRao.

From,
    G.Nageswara Rao,
  Research Scholar,
  INCOIS,
  Jeeidmetla,
  Hyderabad.
  


Send free SMS to your Friends on Mobile from your Yahoo! Messenger. Download Now! <a  rel="nofollow" href="http://messenger.yahoo.com/download.php">http://messenger.yahoo.com/download.php</a>


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00012" href="msg00012.html">Re: [ferret_users] coversion of model sigma coordinates</a></strong>
<ul><li><em>From:</em> Steve Hankin</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00006.html">[ferret_users] [Ferret_users] Error in creating a metafile.plt</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00012.html">Re: [ferret_users] coversion of model sigma coordinates</a></strong>
</li>

</UL>
<center>[<a href="msg00006.html">Thread Prev</a>][<a href="msg00012.html">Thread Next</a>][<A HREF="threads.html#00009">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
