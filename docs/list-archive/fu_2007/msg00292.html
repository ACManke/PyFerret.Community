<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] setting properties of dynamic axes -->
<!--X-From-R13: Xbua Rbaaref <w.qbaarefNernqvat.np.hx> -->
<!--X-Date: Wed, 9 May 2007 20:04:37 &#45;0700 -->
<!--X-Message-Id: B2F1FC80&#45;0671&#45;488A&#45;A6BA&#45;68BABCF3E438@reading.ac.uk -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: Prayer.1.0.18.0705091616030.29728@vimb5.rdg.ac.uk -->
<!--X-Reference: 464219F1.5030408@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] setting properties of dynamic axes</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00291.html">Thread Prev</a>][<a href="msg00295.html">Thread Next</a>][<A HREF="threads.html#00292">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] setting properties of dynamic axes</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] setting properties of dynamic axes</strong></li>
<li><strong>From</strong>: <strong>John Donners &lt;<a href="mailto:j.donners@DOMAIN.HIDDEN">j.donners@xxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 10 May 2007 12:05:07 +0900</li>
<li>In-reply-to: &lt;<a href="mailto:464219F1.5030408@DOMAIN.HIDDEN">464219F1.5030408@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:Prayer.1.0.18.0705091616030.29728@DOMAIN.HIDDEN">Prayer.1.0.18.0705091616030.29728@xxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:464219F1.5030408@DOMAIN.HIDDEN">464219F1.5030408@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style="">Hi Ansley,<DIV><BR class="khtml-block-placeholder"></DIV><DIV>thank you for your quick answer, as always. My problem comes from external functions</DIV><DIV>that define custom axes. It is possible to set whether a custom axis is MODULO or not,</DIV><DIV>which works fine. However,&#xA0;it is impossible to define the properties DEPTH and T0 (time origin)</DIV><DIV>in an external function. The solution to set these properties afterwards doesn't work, as you</DIV><DIV>mentioned.&#xA0;</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>It is possible to define a new axis as a copy of the dynamic axis and then define a</DIV><DIV>new variable that is regridded to this new axis. However, wouldn't this be a waste of memory</DIV><DIV>to make an extra copy of a variable just to set an axis property, especially when I use large fields?</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV>John</DIV><DIV><BR class="khtml-block-placeholder"></DIV><DIV><DIV><DIV>On 10 May 2007, at 03:58, Ansley Manke wrote:</DIV><BR class="Apple-interchange-newline"><BLOCKQUOTE type="cite">  Hi John,<BR> Dynamic axes are intended to be created and deleted internally and not really manipulated by Ferret commands.&#xA0; If you want control over axes, I think you'd be better off defining them explicitly or inheriting the definition from other known axes.<BR> <BR> <BLOCKQUOTE><P align="left"><FONT color="#1f1a17" face="Palatino" size="4"><B>Ch4 Sec2.3.&#xA0;</B></FONT><FONT color="#1f1a17" face="Palatino" size="4"><B>Dynamic grids and axes&#xA0;</B>  </FONT></P>  <FONT color="#1f1a17" face="Times" size="3">The commands DEFINE AXIS and DEFINE GRID, described in the preceding section, should be used when the grid or axis will be referenced more than once and/or shared among several variables. In many cases it is more convenient to use dynamic (a.k.a. "implicit") grids and axes.</FONT><BR> </BLOCKQUOTE> <BR> What are you intending by<BR> <BLOCKQUOTE><TT>yes? let zz=z[gz=1:10:1]  </TT><BR> </BLOCKQUOTE> " gz = " is used to specify the name of a grid or variable or axis, for regridding, applying a transformation, or otherwise specifying an axis.<BR> <BR> Here are a few general thoughts, things you can do with axis definition and manipulation<BR> <BR> 1) Define a variable, with a dynamic axis.<BR> <BLOCKQUOTE><TT>yes? let zz = z[z=1:10:1]</TT><BR>  <TT>yes? let z5 = z[z=1:100:5]</TT><BR> </BLOCKQUOTE> 2) Take subset of the z axis of a variable; this will be on a dynamic axis, and it inherits the properties of the axis from the variable <BR> <BLOCKQUOTE><TT>yes? use levitus_climatology<BR> yes? let zz = z[gz=temp,k=1:10:1]<BR> yes? sh grid zz<BR> &#xA0;&#xA0;&#xA0; GRID (G002)<BR> &#xA0;name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; axis&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; # pts&#xA0;&#xA0; start&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; end<BR> &#xA0;normal&#xA0;&#xA0;&#xA0; X<BR> &#xA0;normal&#xA0;&#xA0;&#xA0; Y<BR> &#xA0;(AX005)&#xA0;&#xA0; DEPTH (m)&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10 i-&#xA0; 0&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 300<BR> &#xA0;normal&#xA0;&#xA0;&#xA0; T</TT><BR> </BLOCKQUOTE> or<BR> <BLOCKQUOTE>yes? <BR> yes? let zz = z[gz=temp,k=2:20:2]<BR> yes? sh grid zz<BR> &#xA0;&#xA0;&#xA0; GRID (G002)<BR> &#xA0;name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; axis&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; # pts&#xA0;&#xA0; start&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; end<BR> &#xA0;normal&#xA0;&#xA0;&#xA0; X<BR> &#xA0;normal&#xA0;&#xA0;&#xA0; Y<BR> &#xA0;(AX005)&#xA0;&#xA0; DEPTH (m)&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10 i-&#xA0; 10&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 5000<BR> &#xA0;normal&#xA0;&#xA0;&#xA0; T<BR> </BLOCKQUOTE> 3) of course, there's always the plain old DEFINE AXIS, with any properties you want. It doesn't have to have units.&#xA0; See DEFINE AXIS/FROM_DATA; the last three examples are a shorthand notation for that.<BR> <TT><BR> </TT> <BLOCKQUOTE><TT>yes? DEFINE AXIS/DEPTH/z=1:10:1 zaxis</TT><BR>  <TT>yes? DEFINE AXIS/MODULO/Units=meters/x=1:280:7&#xA0; xaxis</TT><BR>  <BR>  <TT>&#xA0; &#xA0;&#xA0; ! Define an axis from a set of numbers, in this case<BR> &#xA0;&#xA0;&#xA0;&#xA0; ! values from the coordinates of a variable<BR>  </TT><TT>yes? LET zz = z[gz=levitus_climatology,k=1:15:3]<BR>  </TT><TT>yes? DEFINE AXIS/Z/DEPTH/UNITS=`temp,RETURN=units` my_zaxis = zz</TT><BR>  <BR>  <TT></TT><TT>yes? LET zreg = z[z=0:5000:40]</TT><BR>  <TT>yes? DEFINE AXIS/Z/DEPTH/UNITS=meters my_reg_zaxis = zreg<BR>  </TT><BR>  <TT>yes? DEFINE AXIS/Z/DEPTH/UNITS=meters my_reg_zaxis = {0,8,16,32}</TT><BR>  <TT></TT></BLOCKQUOTE> <BR> <BR> John Donners wrote: <BLOCKQUOTE cite="" type="cite">Hi,  <BR>  <BR> I'm having a problem with dynamic axes, that are either defined  <BR> 'inline' (e.g. let xx=x[x=1:10:1]) or defined in an external function.  <BR> These axes are named '(AX015)'. During the processing of a Ferret  <BR> script these axis names can change, and that causes these axes to  <BR> not 'remember' their properties like DEPTH, MODULO and T0.  <BR>  <BR> Here is a simple example:  <BR>  <BR> yes? use levitus_climatology  <BR> yes? let zz=z[gz=1:10:1]  <BR> yes? show grid zz  <BR> &#xA0;&#xA0; GRID (G002)  <BR> name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; axis&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; # pts&#xA0;&#xA0; start&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; end  <BR> normal&#xA0;&#xA0;&#xA0; X  <BR> normal&#xA0;&#xA0;&#xA0; Y  <BR> (AX005)&#xA0;&#xA0; Z&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10 r&#xA0;&#xA0; 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10  <BR> normal&#xA0;&#xA0;&#xA0; T  <BR> yes? set axis/mod (ax005)  <BR> yes? show grid zz  <BR> &#xA0;&#xA0; GRID (G002)  <BR> name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; axis&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; # pts&#xA0;&#xA0; start&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; end  <BR> normal&#xA0;&#xA0;&#xA0; X  <BR> normal&#xA0;&#xA0;&#xA0; Y  <BR> (AX005)&#xA0;&#xA0; Z&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10mr&#xA0;&#xA0; 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10  <BR> normal&#xA0;&#xA0;&#xA0; T  <BR>  <BR> yes? show data  <BR> &#xA0;&#xA0;&#xA0; currently SET data sets:  <BR> &#xA0;&#xA0; 1&gt; /home/donners/software/ferret-5.81/fer_dsets/data/levitus_climatology.cdf (default) name title I J K L TEMP TEMPERATURE 1:360 1:180 1:20 ... SALT SALINITY 1:360 1:180 1:20 ...  <BR>  <BR> yes? cancel data 1  <BR> yes? show grid zz  <BR> &#xA0;&#xA0; GRID (G001)  <BR> name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; axis&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; # pts&#xA0;&#xA0; start&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; end  <BR> normal&#xA0;&#xA0;&#xA0; X  <BR> normal&#xA0;&#xA0;&#xA0; Y  <BR> (AX002)&#xA0;&#xA0; Z&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10 r&#xA0;&#xA0; 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 10  <BR> normal&#xA0;&#xA0;&#xA0; T  <BR>  <BR> As you can see the name of the axis changed in the last step, and together with that it is not a modulo axis anymore. I would like to keep the setting of axis properties at the same point in my scripts, to keep all the functionality at the same point.  <BR>  <BR> Is there any solution to this problem?  <BR>  <BR> Cheers,  <BR> John  <BR>  <BR> </BLOCKQUOTE> <BR> <PRE class="moz-signature" cols="75">-- 

~>   ~>   ~>   ~>   ~>   ~>   ~>   ~>   ~>   ~>   ~> 

Ansley Manke, NOAA/PMEL   <A rel="nofollow" class="moz-txt-link-abbreviated" href="mailto:ansley.b.manke@xxxxxxxx">ansley.b.manke@xxxxxxxx</A>
7600 Sand Point Way NE, Seattle WA
Phone 206-526-6246,  FAX 206-526-6744

</PRE>  </BLOCKQUOTE></DIV><BR></DIV></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00295" href="msg00295.html">Re: [ferret_users] setting properties of dynamic axes</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00290" href="msg00290.html">[ferret_users] setting properties of dynamic axes</a></strong>
<ul><li><em>From:</em> John Donners</li></ul></li>
<li><strong><a name="00291" href="msg00291.html">Re: [ferret_users] setting properties of dynamic axes</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00291.html">Re: [ferret_users] setting properties of dynamic axes</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00295.html">Re: [ferret_users] setting properties of dynamic axes</a></strong>
</li>

</UL>
<center>[<a href="msg00291.html">Thread Prev</a>][<a href="msg00295.html">Thread Next</a>][<A HREF="threads.html#00292">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
