<!-- MHonArc v2.6.16 -->
<!--X-Subject: [ferret_users] sampling in months -->
<!--X-From-R13: Brgre Emnob <fmnocrg83Ntznvy.pbz> -->
<!--X-Date: Mon, 17 Dec 2007 17:25:25 &#45;0800 -->
<!--X-Message-Id: 000001c84114$dcfda1a0$96f8e4e0$@com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 33088709.1197785030192.JavaMail.root@webmail.kordi.re.kr -->
<!--X-Reference: 4766BE2E.3000308@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] sampling in months</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00703.html">Thread Prev</a>][<a href="msg00705.html">Thread Next</a>][<A HREF="threads.html#00707">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] sampling in months</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] sampling in months</strong></li>
<li><strong>From</strong>: <strong>Peter Szabo &lt;<a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 18 Dec 2007 02:25:23 +0100</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma; h=domainkey-signature:received:received:from:to:references:in-reply-to:subject:date:message-id:mime-version:content-type:x-mailer:thread-index:content-language; bh=kAxG2S+wlmLYb19MiepyVy0jhzZoV61xADCjg/uwjMw=; b=XKX6B++WUJWvVKf1k0S6H0gKS7e0YWL1Fqdikak0aPWSdEyYnM/4ciSBjKK4hoW59cSiRPzHI/Y7YK8yzZ7mJiu6/Pz00Pw7+sw0UOcDIaxRYLNuRwftETO8Xmxg3XaSvEvihCjLO2OtIjurAxVoB2YrbYEG5PABtdlJpEgexSM=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=from:to:references:in-reply-to:subject:date:message-id:mime-version:content-type:x-mailer:thread-index:content-language; b=xY70nQN7b799eZZaAYCd9jDlcI6sVHdLQ0j+2k8NB9UhcsCXqV7jdmDfqFM2f5/e8B7+eaF4lRxgwttyGUw8Fm68CQoSOeWMrIe+qejBFGEbMPEWkPCaga+tuXxRMFoHgcPrvmwziQVTjjB0WSIMMx1P3+cukwLXTuFIF8A3BoU=</li>
<li>In-reply-to: &lt;<a href="mailto:4766BE2E.3000308@DOMAIN.HIDDEN">4766BE2E.3000308@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:33088709.1197785030192.JavaMail.root@DOMAIN.HIDDEN">33088709.1197785030192.JavaMail.root@xxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4766BE2E.3000308@DOMAIN.HIDDEN">4766BE2E.3000308@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-index: AchA4U1fw3M6/t4nRlGndkTbyRWaiAALz9Ag</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="white" style="background-color: white; a:link { color: blue } a:visited { color: purple } ">





<div class=Section1>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>Dear Ferreters,<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>I have daily precipitation data equally space in time and in
lat-lon (two files with 20*360=7200 days, same dimensions but different values:
precip20, precip21).<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>I count number of days that have higher precipitation than
the upper quartile of the data (precip31 counts the days that have higher
precipitations in precip21 than the upper quartile in precip20). &nbsp;I succeed
in the whole 20 years (for a year average and writing it out for the region to
a new netcdf file), but i could not do it for a specific month (ex. January).<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>Can anybody help me in doing this in a month? (like
r75january, r75february...)<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>Here is the script that worked:<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>----------------------------<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>repeat/j=1:1:1 (repeat/i=1:1:1 (let tsorted_indices_20 =
sortl(precip20[i=`i`,j=`j`,l=1:7200]); let tsorted_precip20 =
samplel(precip20[i=`i`,j=`j`,l=1:7200], tsorted_indices_20);\<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>let r75_20=tsorted_precip20[l=5400];\<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>let precip31= if precip21 GE r75_20 then 1;\<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>let x21=precip31[t=1:7200@sum]/20;\<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>save/file=&quot;d:\ferret\ki\r75.nc&quot;/ILIMTS=1:65/JLIMITS=1:75/i=`i`/j=`j`
x21))<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>repeat/j=18:31:1 (repeat/i=35:58:1 (let tsorted_indices_20 =
sortl(precip20[i=`i`,j=`j`,l=1:7200]); let tsorted_precip20 =
samplel(precip20[i=`i`,j=`j`,l=1:7200], tsorted_indices_20);\<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>let r75_20=tsorted_precip20[l=5400];\<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>let precip31= if precip21 GE r75_20 then 1;\<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>let x21=precip31[t=1:7200@sum]/20;\<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>save/file=&quot;d:\ferret\ki\r75.nc&quot;/i=`i`/j=`j`/append/clobber
x21))<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>---------------<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>I hope i have explained what i would like to do.<o:p></o:p></span></p>

<p class=MsoNormal><span lang=HU style='font-size:11.0pt;font-family:"Calibri","sans-serif";
color:windowtext'>Thanks in advance, Peter Szabo<o:p></o:p></span></p>

</div>




</td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00702" href="msg00702.html">[want real z-axis]Re: [ferret_users] change axis</a></strong>
<ul><li><em>From:</em> Chan Joo Jang</li></ul></li>
<li><strong><a name="00703" href="msg00703.html">Re: [want real z-axis]Re: [ferret_users] change axis</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00703.html">Re: [want real z-axis]Re: [ferret_users] change axis</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00705.html">Re:Re: [want real z-axis]Re: [ferret_users] change axis</a></strong>
</li>

</UL>
<center>[<a href="msg00703.html">Thread Prev</a>][<a href="msg00705.html">Thread Next</a>][<A HREF="threads.html#00707">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
