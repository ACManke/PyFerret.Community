<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Custom colorbar/ Multiple Palettes -->
<!--X-From-R13: Ofuyrl Ingfba <nfuyrljngfNtznvy.pbz> -->
<!--X-Date: Tue, 29 May 2007 07:20:07 &#45;0700 -->
<!--X-Message-Id: f83b83e40705290720x4deb9a8do58f0e0ac358daea9@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: f83b83e40705290329u72bf279bjc775267a8aada2ef@mail.gmail.com -->
<!--X-Reference: Pine.LNX.4.58.0705291748550.11473@caos.iisc.ernet.in -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Custom colorbar/ Multiple Palettes</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00330.html">Thread Prev</a>][<a href="msg00331.html">Thread Next</a>][<A HREF="threads.html#00332">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Custom colorbar/ Multiple Palettes</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Custom colorbar/ Multiple Palettes</strong></li>
<li><strong>From</strong>: <strong>Ashley Watson &lt;<a href="mailto:ashleywats@DOMAIN.HIDDEN">ashleywats@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 29 May 2007 16:20:03 +0200</li>
<li>Dkim-signature: a=rsa-sha1; c=relaxed/relaxed;        d=gmail.com; s=beta; h=domainkey-signature:received:received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references; b=m/Ktd384uIIErf5Qf4J8w9pB5hwYEWS+WJOCLY0heAb/5qYYNi9+8lacxt/A/ITLQyJd1kOwL4pe5NfcKHxrKf9CG0Ly0Rpgx60DGVAso4+lk5yvdIWRQ1HUx08VNH3PhdgnMDNTBaTTKVHxiHTp1JO3ZhV4nOQ0lhgDPIzXFDc=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=beta; h=received:message-id:date:from:to:subject:in-reply-to:mime-version:content-type:references; b=kKu4tXBlUG+e1XUaJhJqTaAW2Luw+LQgs9nBRVVrjeaiywsPYkWoBr8BFVQGL8oJp+Fv7GGyYRevYp87YMKhuaoF30JevoRU+bbddu/X4gLnGuuWD62PRwwr0qFqJdPD3rNs48kdYvMHSIzs1vWeNDYMZi34hrLFWj9vj2XpsqQ=</li>
<li>In-reply-to: &lt;<a href="mailto:Pine.LNX.4.58.0705291748550.11473@DOMAIN.HIDDEN">Pine.LNX.4.58.0705291748550.11473@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:f83b83e40705290329u72bf279bjc775267a8aada2ef@DOMAIN.HIDDEN">f83b83e40705290329u72bf279bjc775267a8aada2ef@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:Pine.LNX.4.58.0705291748550.11473@DOMAIN.HIDDEN">Pine.LNX.4.58.0705291748550.11473@xxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<br>Hi Jaison and William,<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
I have been successful in making my desired plot by following your
ideas. Both schemes work fine.<br>
In addition, I found another way to use multiple palettes in one colorbar. I modified the script given in the FAQ:<br>
<br>
<b><a rel="nofollow" href="http://www.ferret.noaa.gov/Ferret/FAQ/custom_plots/colors_and_patterns.html"><b>How can
    I produce a plot with both colors and patterns?</b></a></b><br>
<br>
to plot colorbar in parts each time using different palette.<br>
<br>
Thanks for your help<br>
Ashley<br>
<br>
<br>
<br><div><span class="gmail_quote">On 5/29/07, <b class="gmail_sendername">Jaison Kurian</b> &lt;<a rel="nofollow" href="mailto:jaison@xxxxxxxxxxxxxxxxxx">jaison@xxxxxxxxxxxxxxxxxx</a>&gt; wrote:</span><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
Hi Ashley,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; For CONTOUR colors, such a color scheme can be achieved<br>directly with the /LEVLES qualifier (see User Manual Ch6 Sec8.1.1).<br>For fill/shade command, I think there isn&#39;t any such easy methods.
<br>Instead User Manual provided some methods to create/edit palette<br>files (Ref Sec20.&nbsp;&nbsp;PALETTE) to achieve the desired color scheme.<br>(Also see Ch6 Sec5.2.&nbsp;&nbsp;Shade and fill colors.)<br><br>&nbsp;&nbsp;Here is a method to create a palette file manually. Your requirement
<br>is :<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; red&nbsp;&nbsp; color from -120 to -20<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; white color from -20&nbsp;&nbsp;to&nbsp;&nbsp;20<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; blue&nbsp;&nbsp;color from&nbsp;&nbsp;20&nbsp;&nbsp;to 120<br><br>Now, the important step here is to get proper percentage values (first<br>column in a palette *.spk file). Though there are mainly 3-color ranges,
<br>we need to add two more, one about -20 and one about 20 to have abrupt<br>color change about these values (otherwise the color will vary gradually).<br>Let us fix -20.05 as the value where red color should end and -20.00
 as<br>the value where white color should start (similarly for the +ve side too).<br>Then do the following in Ferret :<br><br>&nbsp;&nbsp;let col_bnds&nbsp;&nbsp; = XSEQUENCE({-120.00,-20.05,-20.00,20.00,20.05,120.00})<br>&nbsp;&nbsp;let val_length =&nbsp;&nbsp;240&nbsp;&nbsp;! max-min --&gt; 120-(-120) = 240
<br>&nbsp;&nbsp;let val_zero&nbsp;&nbsp; = -120&nbsp;&nbsp;! min --&gt; value corresponding to 0%<br>&nbsp;&nbsp;let percentage = 100*(col_bnds-val_zero)/val_length<br><br>&nbsp;&nbsp;set list/precision=7<br>&nbsp;&nbsp;list percentage<br><br>Save the output of above list command to a text file with .spk extension
<br>(eg. red_white_blue.spk) and type in the rgb values for each percentage<br>entries. For the desired red-white-blue color scheme, the entries in the<br>spk file will be as follows :<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0000&nbsp;&nbsp;100&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;0<br>
&nbsp;&nbsp;&nbsp;&nbsp; 41.6458&nbsp;&nbsp;100&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;0<br>&nbsp;&nbsp;&nbsp;&nbsp; 41.6667&nbsp;&nbsp;100&nbsp;&nbsp;100&nbsp;&nbsp;100<br>&nbsp;&nbsp;&nbsp;&nbsp; 58.3333&nbsp;&nbsp;100&nbsp;&nbsp;100&nbsp;&nbsp;100<br>&nbsp;&nbsp;&nbsp;&nbsp; 58.3542&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;100<br>&nbsp;&nbsp;&nbsp;&nbsp;100.0000&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;100<br><br>You can use this new spk file, but with a levels qualifier (whatever may
<br>the the delta value for levels qualifier, this palette will always behave<br>in the same manner) as :<br><br> case 1:&nbsp;&nbsp;FILL/pal=red_white_blue/LEVELS=(-120,120,20)&nbsp;&nbsp;variable<br><br>or (if you want single label per color, then)
<br><br> case 2:&nbsp;&nbsp;FILL/pal=red_white_blue/LEVELS=&quot;(-120,-20,100),(-20,20,40),(20,120,100)&quot;<br><br>If you intend to use a multiple levels as in case 2, then you can easily<br>define a palette file with the following entries
<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0.0000&nbsp;&nbsp;100&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;0<br>&nbsp;&nbsp;&nbsp;&nbsp; 33.3333&nbsp;&nbsp;100&nbsp;&nbsp;100&nbsp;&nbsp;100<br>&nbsp;&nbsp;&nbsp;&nbsp; 66.6666&nbsp;&nbsp;100&nbsp;&nbsp;100&nbsp;&nbsp;100<br>&nbsp;&nbsp;&nbsp;&nbsp;100.0000&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;100<br><br>But, with this palette file, the color scheme will depend on the &quot;delta&quot;<br>
value specified to the /LEVELS qualifier. Try to see it.<br><br>Once you finalize the spk file, you can place it in your ferret/ppl<br>directory so that you can access it from any location on your machine.<br><br>Please let me know if you have any questions.
<br><br>Regards,<br><br>Jaison<br><br><br>On Tue, 29 May 2007, Ashley Watson wrote:<br><br>&gt; Hi ferreters,<br>&gt;<br>&gt;&nbsp;&nbsp;&nbsp;&nbsp; I want to specify multiple palettes for my shade plot. My data values<br>&gt; are in the range -120 to 120.
<br>&gt;&nbsp;&nbsp;All I want to do is to define different colors for my plot. For example, I<br>&gt; want to specify white color (or no color)<br>&gt; for values -20 to 20,&nbsp;&nbsp;and Blue palette for positive values (20 to 120) and<br>
&gt; Red palette for negative values.(-20 to -120).<br>&gt;&nbsp;&nbsp;How can I make such plot?<br>&gt;<br>&gt; Ashley<br>&gt;<br>&gt;<br></blockquote></div><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00329" href="msg00329.html">[ferret_users] Custom colorbar/ Multiple Palettes</a></strong>
<ul><li><em>From:</em> Ashley Watson</li></ul></li>
<li><strong><a name="00330" href="msg00330.html">Re: [ferret_users] Custom colorbar/ Multiple Palettes</a></strong>
<ul><li><em>From:</em> Jaison Kurian</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00330.html">Re: [ferret_users] Custom colorbar/ Multiple Palettes</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00331.html">Re: [ferret_users] Custom colorbar/ Multiple Palettes</a></strong>
</li>

</UL>
<center>[<a href="msg00330.html">Thread Prev</a>][<a href="msg00331.html">Thread Next</a>][<A HREF="threads.html#00332">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
