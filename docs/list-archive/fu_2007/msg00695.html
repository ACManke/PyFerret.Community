<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] nc2mc.sh -->
<!--X-From-R13: lnatkvat murat <lnatkvatmNlnubb.pbz> -->
<!--X-Date: Thu, 13 Dec 2007 13:09:56 &#45;0800 -->
<!--X-Message-Id: 96111.19676.qm@web53702.mail.re2.yahoo.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 200712132058.03959.joeckel@mpch&#45;mainz.mpg.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] nc2mc.sh</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00696.html">Thread Prev</a>][<a href="msg00698.html">Thread Next</a>][<A HREF="threads.html#00695">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] nc2mc.sh</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:joeckel@DOMAIN.HIDDEN">joeckel@xxxxxxxxxxxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] nc2mc.sh</strong></li>
<li><strong>From</strong>: <strong>yangxing zheng &lt;<a href="mailto:yangxingz@DOMAIN.HIDDEN">yangxingz@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 13 Dec 2007 13:09:53 -0800 (PST)</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>Domainkey-signature: a=rsa-sha1; q=dns; c=nofws;  s=s1024; d=yahoo.com; h=X-YMail-OSG:Received:Date:From:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type:Content-Transfer-Encoding:Message-ID; b=O/W4XvaoFa+gxpTxRMMHJrMBoJQh6zqHM6DTuSUeCVzTAFtTU0xB0CO+S3wJ54nNq38TFF6TRTyslqO+HDuIUTejKOYq7xdC3+vr3U67Ne8ZIuaW1vkHepOsmgt3hAJUSaRcv4NR9OOS5hVC6IfeuLArfO5emW/HT2dmnBM5an4=;</li>
<li>In-reply-to: &lt;<a href="mailto:200712132058.03959.joeckel@DOMAIN.HIDDEN">200712132058.03959.joeckel@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi,
Thank you for your answer. I once used fortran program
to make .mc file before, it works on other nc files.
However, I check my current .nc files and found the
name of time axis of many nc files is different. I
think I need to unify the name (use the same axis in
the same name, x,y,z,t), then all these errors will
definitely avoid.
I have a way to change the axis name: first change cdf
files into ascii, then redefine the name of axes. But
it takes long time because I have about 1400 nc files,
each file has a size about 380MB. Do you have a method
that will change the name of axes within cdf file so
that I can save a lot of time?

Thank you so much!

Yangxing
--- Patrick J&#xF6;ckel &lt;joeckel@xxxxxxxxxxxxxxxxx&gt; wrote:

&gt; Dear Yangxing Zheng,
&gt; 
&gt; nc2mc is a tcsh-script, it might be that you need to
&gt; change
&gt; the first line from
&gt; #! /usr/bin/tcsh -f
&gt; into
&gt; #! /bin/tcsh -f
&gt; or another path.
&gt; You can check this with 'which tcsh' on your system.
&gt; Then 'chmod u+x nc2mc' and run it with &quot;./nc2mc&quot;.
&gt; 
&gt; The list of files in this script is simply generated
&gt; with
&gt; set list0 = `echo *$namefrag*.nc`, i.e., the order
&gt; of files is determined by 
&gt; the way how the tc-shell  expands the '*'.
&gt; Something like 'find' or an additional sorting might
&gt; be better suited ...
&gt; 
&gt; Now to your resulting mc-File:
&gt; The first stepfile-record seems to be OK (does it
&gt; contain only 1 time step ?), 
&gt; all others are strange.
&gt; 
&gt; Four questions:
&gt; Does the time axis in all of your files have the
&gt; same name ?
&gt; Is the time axis equidistant (and does it have the
&gt; same unit ?) ? 
&gt; Which command line parameters did you apply (try
&gt; 'nc2mc -h') ?
&gt; 
&gt; The first two 'yes' are prerequisites to make nc2mc
&gt; work!
&gt; 
&gt; Can you provide the 'ncdump -c' of the first files
&gt; in your list ?
&gt; 
&gt; Yours,
&gt; 
&gt; Patrick Joeckel
&gt; 
&gt; 
&gt; 
&gt; On Thursday 13 December 2007 17:56, you wrote:
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt;   Thanks. You are right, I try ./nc2mc.sh instead
&gt; of
&gt; &gt; nc2mc or ./nc2mc or nc2mc.sh on the prompt.
&gt; &gt;
&gt; &gt;   Attached is the .mc file that is very strange.
&gt; When
&gt; &gt; I run nc2mc.sh, there are errors:
&gt; &gt; /usr/local/bin/ncdump: Variable not found for each
&gt; &gt; time point.
&gt; &gt;
&gt; &gt;   Any suggestions? I really need to know the usage
&gt; of
&gt; &gt; nc2mc.sh. By the way, I use ferret V5.7 alpha
&gt; (Mac),
&gt; &gt; based on the statement in the mannual &quot;Previous to
&gt; &gt; version 5.2 Ferret performs sanity checking on the
&gt; &gt; data set by comparing these time coordinates with
&gt; &gt; those found in the data files as he data are read.
&gt; In
&gt; &gt; version 5.3 and higher no sanity checks are
&gt; performed.
&gt; &gt; This means that the MC descriptor mechanism can be
&gt; &gt; used to associate into time series groups of files
&gt; &gt; that are not internally self-documenting with
&gt; respect
&gt; &gt; to time&quot;, the time in each nc file should be
&gt; voided
&gt; &gt; and any time series should follows the .mc file.
&gt; &gt;
&gt; &gt;   Can anyone tell me what is wrong with creating
&gt; mc
&gt; &gt; file?
&gt; &gt;
&gt; &gt;    Thanks a lot.
&gt; &gt;
&gt; &gt;   Yangxing
&gt; &gt;
&gt; &gt; --- Roman Tonkonojenkov &lt;romantonk@xxxxxxx&gt; wrote:
&gt; &gt; &gt; Hi Yangxing,
&gt; &gt; &gt;
&gt; &gt; &gt; Try this:
&gt; &gt; &gt; $ chmod 777 nc2mc
&gt; &gt; &gt; AND:{
&gt; &gt; &gt; $ nc2mc.sh
&gt; &gt; &gt; OR
&gt; &gt; &gt; $ ./nc2mc.sh
&gt; &gt; &gt; }
&gt; &gt; &gt; If this still does not work, check the shebang
&gt; (the
&gt; &gt; &gt; first line of the script).
&gt; &gt; &gt; If this is a bash script, it should
&gt; &gt; &gt; say:
&gt; &gt; &gt; #!/bin/bash
&gt; &gt; &gt; The last word in the shebang is the shell under
&gt; &gt; &gt; which it is supposed to be
&gt; &gt; &gt; executed.
&gt; &gt; &gt; Try switching to the shell, indicated by the
&gt; &gt; &gt; shebang, and run the script in
&gt; &gt; &gt; that shell
&gt; &gt; &gt; (I assume you know how to do this...)
&gt; &gt; &gt;
&gt; &gt; &gt; Hope this helps...
&gt; &gt; &gt; Roman
&gt; &gt; &gt;
&gt; &gt; &gt; On Wed, Dec 12, 2007 05:18 PM, yangxing zheng
&gt; &gt; &gt; &lt;yangxingz@xxxxxxxxx&gt; wrote:
&gt; &gt; &gt;
&gt; &gt; &gt; Hi,
&gt; &gt; &gt;
&gt; &gt; &gt; &gt;    I try to convert a collection of nc files
&gt; into
&gt; &gt; &gt;
&gt; &gt; &gt; .mc
&gt; &gt; &gt;
&gt; &gt; &gt; &gt;file using the tool nc2mc. I download it from
&gt; &gt; &gt; &gt;<a  rel="nofollow" href="http://www.mpch-mainz.mpg.de/~joeckel/nc2mc/">http://www.mpch-mainz.mpg.de/~joeckel/nc2mc/</a>
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;    My machine is Mac, I chmod 755 nc2mc, then
&gt; on
&gt; &gt; &gt;
&gt; &gt; &gt; the
&gt; &gt; &gt;
&gt; &gt; &gt; &gt;prompt, just simply type nc2mc ,
&gt; &gt; &gt; &gt;But it still does not work, error message:
&gt; tcsh:
&gt; &gt; &gt; &gt;nc2mc.sh: Command not found. can anyone help?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;    Thanks!
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;   Yangxing
&gt; &gt; &gt;
&gt; &gt;
&gt;
&gt;__________________________________________________________________________
&gt; &gt; &gt;__________
&gt; &gt; &gt;
&gt; &gt; &gt; &gt;Be a better friend, newshound, and
&gt; &gt; &gt; &gt;know-it-all with Yahoo! Mobile.  Try it now.
&gt; &gt;
&gt; &gt;
&gt;
<a  rel="nofollow" href="http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ">http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ</a>
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;      
&gt; &gt;
&gt;
___________________________________________________________________________
&gt; &gt;_________ Be a better friend, newshound, and
&gt; &gt; know-it-all with Yahoo! Mobile.  Try it now. 
&gt; &gt;
&gt;
<a  rel="nofollow" href="http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ">http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ</a>
&gt; 
&gt; -- 
&gt;
---------------------------------------------------------------
&gt; Dr. Patrick Joeckel
&gt; Max Planck Institute for Chemistry
&gt; Joh.-J. Becher Weg 27         
&gt; 55128 Mainz                   phone:++49-6131-305452
&gt;      
&gt; Germany                       fax  :++49-6131-305436
&gt;     
&gt;                             
&gt; e-mail:joeckel@xxxxxxxxxxxxxxxxx
&gt;                         
&gt; <a  rel="nofollow" href="http://www.mpch-mainz.mpg.de/~joeckel">http://www.mpch-mainz.mpg.de/~joeckel</a>
&gt;
---------------------------------------------------------------
&gt; 



      ____________________________________________________________________________________
Be a better friend, newshound, and 
know-it-all with Yahoo! Mobile.  Try it now.  <a  rel="nofollow" href="http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ">http://mobile.yahoo.com/;_ylt=Ahu06i62sR8HDtDypao8Wcj9tAcJ</a> 


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00698" href="msg00698.html">Re: [ferret_users] nc2mc.sh</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00693" href="msg00693.html">Re: [ferret_users] nc2mc.sh</a></strong>
<ul><li><em>From:</em> Patrick J&#xF6;ckel</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00696.html">Re: [ferret_users] nc2mc.sh</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00698.html">Re: [ferret_users] nc2mc.sh</a></strong>
</li>

</UL>
<center>[<a href="msg00696.html">Thread Prev</a>][<a href="msg00698.html">Thread Next</a>][<A HREF="threads.html#00695">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
