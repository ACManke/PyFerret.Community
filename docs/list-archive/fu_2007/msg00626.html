<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] standard deviation -->
<!--X-From-R13: Egrir Uhvzbaq <thvzbaqNpbncf.sfh.rqh> -->
<!--X-Date: Fri, 2 Nov 2007 09:10:55 &#45;0700 -->
<!--X-Message-Id: Pine.SGI.4.51.0711021159490.2144684@www.coaps.fsu.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 472B22AA.7050504@palmod.uni&#45;bremen.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] standard deviation</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00625.html">Thread Prev</a>][<a href="msg00627.html">Thread Next</a>][<A HREF="threads.html#00626">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] standard deviation</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Igaratza Fraile-Ugalde &lt;<a href="mailto:igaratza@DOMAIN.HIDDEN">igaratza@xxxxxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] standard deviation</strong></li>
<li><strong>From</strong>: <strong>Steve Guimond &lt;<a href="mailto:guimond@DOMAIN.HIDDEN">guimond@xxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 02 Nov 2007 12:10:36 -0400</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="mailto:472B22AA.7050504@DOMAIN.HIDDEN">472B22AA.7050504@xxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:472B22AA.7050504@DOMAIN.HIDDEN">472B22AA.7050504@xxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi,
  I think you are computing the standard deviation wrong.  Standard
deviation is the square root of the variance (average of the squared
differences between each data point and the mean of the data points).

your variable &quot;tmaskI&quot; is the mean, so I'm not sure what you did here.
Here is the way I would do it brute force...

let mean = data[x=@sum]/data[x=@ngd]
let sqr = (data - mean)^2
let stdv = (sqr[x=@sum/sqr[x=@ngd])^0.5


Steve

=======================================================
Stephen R. Guimond
Graduate Research Assistant
Center for Ocean-Atmospheric Prediction Studies (COAPS)
=======================================================

On Fri, 2 Nov 2007, Igaratza Fraile-Ugalde wrote:

&gt; Hello ferret-ers
&gt;
&gt; Does anyone know how is the standard deviation computed in ferret?
&gt; When I compute by my own does not coincide with the one given by ferret.
&gt; Maximum, minimum and Mean values do, but no the standard deviation...
&gt; The variable is called tmaskI, and is two dimensional
&gt;
&gt; yes? stat tmaskI
&gt;
&gt;  Total # of data points: 11400 (100*114*1*1)
&gt;  # flagged as bad  data: 11328
&gt;  Minimum value: -1.3267
&gt;  Maximum value: 0.23136
&gt;  Mean    value: -0.48291 (unweighted average)
&gt;  Standard deviation: 0.39024
&gt; yes? list tmaskI[x=@max,y=@max]
&gt;
&gt;           0.2314
&gt; yes? list tmaskI[x=@min,y=@min]
&gt;
&gt;          -1.327
&gt;
&gt; yes? let N=72
&gt; yes? list tmaskI[x=@sum,y=@sum]/N
&gt;
&gt;          -0.4829
&gt;
&gt; Until now everything coincides, but when I calculate the sd by my own:
&gt;
&gt; yes? let tmaskI2=tmaskI^2
&gt; yes? let sd=(tmaskI2[x=@sum,y=@sum]/N)^0.5
&gt; yes? list sd
&gt;
&gt;           0.6192
&gt;
&gt; I'm using the definition of standard deviation. What does ferret do
&gt; different?
&gt;
&gt; Thanks!!
&gt;
&gt;
&gt;



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00625" href="msg00625.html">[ferret_users] standard deviation</a></strong>
<ul><li><em>From:</em> Igaratza Fraile-Ugalde</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00625.html">[ferret_users] standard deviation</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00627.html">Re: [ferret_users] standard deviation</a></strong>
</li>

</UL>
<center>[<a href="msg00625.html">Thread Prev</a>][<a href="msg00627.html">Thread Next</a>][<A HREF="threads.html#00626">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
