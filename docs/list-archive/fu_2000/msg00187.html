<!-- MHonArc v2.5.4 -->
<!--X-Subject: Re: does 'set memory' work on Linux? -->
<!--X-From-R13: Egrir Vnaxva <unaxvaNczry.abnn.tbi> -->
<!--X-Date: Thu, 4 May 2000 15:00:27 &#45;0700 (PDT) -->
<!--X-Message-Id: 3911F2FF.B4F82F8A@pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.SGI.4.10.10005021216200.14545&#45;100000@atmosp.physics.utoronto.ca -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: does 'set memory' work on Linux?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00182.html">Thread Prev</a>][<a href="msg00184.html">Thread Next</a>][<A HREF="threads.html#00187">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: does 'set memory' work on Linux?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Lev Tarasoff &lt;<A HREF="mailto:lev@DOMAIN.HIDDEN">lev@xxxxxxxxxxxxxxxxxxxxxxxxxx</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: does 'set memory' work on Linux?</strong></li>
<li><strong>From</strong>: <strong>Steve Hankin &lt;<A HREF="mailto:hankin@DOMAIN.HIDDEN">hankin@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Thu, 04 May 2000 15:00:32 -0700</li>
<li>Cc: <A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
<li>Organization: NOAA/Pacific Marine Environmental Laboratory</li>
<li>References: &lt;<a href="msg00182.html">Pine.SGI.4.10.10005021216200.14545-100000@atmosp.physics.utoronto.ca</a>&gt;</li>
<li>Sender: <A HREF="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Hi Lev,

The error message indicates that Ferret thinks it will needing 2.8 gigawords
of memory -- probably a problem regardless of SET MEMORY.

I suspect the problem is due to limits that have not been madeexplicit
somewhere -- particularly if you are using an external function (A number of
improvements in passing region limits to the arguments of external functions
have been made SINCE version 5.00 was released).

If you are using an external function try making the limits of the arguments
explicit -- e.g.

    LET series_fft = FUNCTION(argument[x=lo:hi, y=lo:hi, T=lo:hi])

This is particularly critical on the T limits of an FFT function -- note
that the T=0:0.1 will NOT be passed to &quot;argument&quot; under any circumstances.
Instead they will apply to the *result* of the FFT function, which is on a
frequency axis.

Also, please have a look at the Users Guide sections on memory management --
<A  HREF="http://ferret.wrc.noaa.gov/Ferret/Documentation/Users_Guide/v50/ferret_index.html#M">http://ferret.wrc.noaa.gov/Ferret/Documentation/Users_Guide/v50/ferret_index.html#M</A>

    - steve

Please follow up offline if you have further discussion.

========================================================

Lev Tarasoff wrote:

&gt; I'm trying to get my running power spectrum plot going, however I run
&gt; into an 'insufficient memory' error. Even if I increase the memory
&gt; size with set memory/size.. to cover the requested number of words, I
&gt; still get the same error. Does the set memory command work on Linux
&gt; (RH6.0)?
&gt;
&gt; Set mode desperate doesn't help either. My script has the form:
&gt;
&gt; -----------------------------
&gt; yes? set memory/size=6.2
&gt; yes? set mode desperate
&gt; ...
&gt; yes? set region /Z=200:1600/T=0:0.1
&gt; yes? shade series_fft
&gt;
&gt;  **ERROR: insufficient memory: 2802000 words were requested.
&gt; yes? show memory
&gt;  Current size of FERRET memory cache: 6.15 MegaWords  (1 word = 4 bytes)
&gt;
&gt; I get the same error message '..insufficient memory: 2802000 words..'
&gt; whether memory is set to default (3.2Mw) or 6.2Mw. What gives?
&gt;
&gt; thanks
&gt;
&gt; Lev
&gt;
&gt; Lev Tarasoff -  Dept of Physics, University of Toronto,
&gt;                 60 St. George St., Toronto, Ontario, CANADA, M5S 1A7
&gt;                 Tel (416)-946-3019  Fax (416)-978-8905
&gt;                 email: lev@atmosp.physics.utoronto.ca

--

                |  NOAA/PMEL               |  ph. (206) 526-6080
Steve Hankin    |  7600 Sand Point Way NE  |  FAX (206) 526-6744
                |  Seattle, WA 98115-0070  |  hankin@pmel.noaa.gov



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00182" href="msg00182.html">does 'set memory' work on Linux?</a></strong>
<ul><li><em>From:</em> Lev Tarasoff</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00182.html">does 'set memory' work on Linux?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00184.html">How to define specific value for BAD?</a></strong>
</li>

</UL>
<center>[<a href="msg00182.html">Thread Prev</a>][<a href="msg00184.html">Thread Next</a>][<A HREF="threads.html#00187">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
