<!-- MHonArc v2.5.4 -->
<!--X-Subject: Re: Movies/Animations (gif to mpeg) -->
<!--X-From-R13: R Eunaxne <funaxneNqneln.avb.bet> -->
<!--X-Date: Thu, 26 Oct 2000 21:49:17 &#45;0700 (PDT) -->
<!--X-Message-Id: Pine.SGI.3.94.1001027095806.26619A&#45;200000@darya.nio.org -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: Pine.GSO.3.96.1001026153501.28085A&#45;100000@eigg.mit.edu -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: Movies/Animations (gif to mpeg)</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00473.html">Thread Prev</a>][<a href="msg00475.html">Thread Next</a>][<A HREF="threads.html#00478">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Movies/Animations (gif to mpeg)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ferret Users Group &lt;<A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: Movies/Animations (gif to mpeg)</strong></li>
<li><strong>From</strong>: <strong>D Shankar &lt;<A HREF="mailto:shankar@DOMAIN.HIDDEN">shankar@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Fri, 27 Oct 2000 10:21:24 +0530 (IST)</li>
<li>In-reply-to: &lt;<a href="msg00473.html">Pine.GSO.3.96.1001026153501.28085A-100000@eigg.mit.edu</a>&gt;</li>
<li>Reply-to: D Shankar &lt;<A HREF="mailto:shankar@DOMAIN.HIDDEN">shankar@xxxxxxxxxxxxx</A>&gt;</li>
<li>Sender: <A HREF="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Hi Jeremy,

I've used mpeg_encode and it works fine. One difference, however, is that
I use giftopnm to convert the GIF input to PNM before creating the movie.
The utility giftopnm comes with the Debian and RedHat Linux distributions
(should also be available with Suse). On RedHat 6.1, it is bundled in
libgr-progs-2.0.13-20. I couldn't figure out how to use YUV on Linux.

I am attaching my parameter file, but before doing anything, check if you
are playing the MPEG on a 24 or 16 bit display. The GIFs are 8-bit, as is
the MPEG animation. Playing on a better display requires use of the option
&quot;-dither color&quot; (normally, mpeg_play should do this itself).

My parameter file (attached) is similar to yours, except for changes
made (after considerable experimentation) to the *QSCALEs and to the
PSEARCH algorithm --- EXHAUSTIVE gave best quality.

Note that MPEG animations consist of I, P, and B frames. The I frames
simply convert the GIF (or whatever) without doing any compression,
resulting in the best possible quality (comparable to the original GIFs).
Compression increases on using P and B frames. The following table from
the mpeg_encode users guide may help you decide how to mix these frames.
(I stuck to IBBPBBPBBPBBPBB, the default, because the result was
acceptable to me. I had to burn many movies on to a CD, necessitating
compression.)

Frame type    Compression    Speed   Quality

I                1000         1000    1000
P                 409          601     969
B                  72          260     919

Using P and B frames forces the MPEG player to interpolate between frames
to play the animation. Another flip side to using P and B frames, so
necessary for compression, is that not all MPEG players seem capable of 
playing them; all can, however, play the I frames. The UN*X/Linux program,
mpeg_play, can play whatever you encode with mpeg_encode.

Regards, Shankar.

P.S.: I've created MPEG animations from ferret GIFs on Debian GU/Linux 1.3
and 2.1, and on RedHat 6.1. Whirlgif is good too, especially for web
movies, but it does not permit compression.

D. Shankar                           Ph. (O): [91](832) 22 6253 * 4312/4400
Physical Oceanography Division,                         22 1322 * 4312/4400
National Institute of Oceanography,      (R): [91](832) 23 8208      
Dona Paula,                          Fax    : [91](832) 22 3340/9102
Goa 403 004,                         email  : shankar@csnio.ren.nic.in
India.                                        shankar@darya.nio.org
</pre>
<pre>
# parameter file with good default values
#
# use this as a guideline for any parameters you don't really understand
# or don't care about
#

PATTERN		IBBPBBPBBPBBPBB
OUTPUT		nonlinear.mpg

BASE_FILE_FORMAT	PNM
GOP_SIZE	30
SLICES_PER_FRAME	1

PIXEL		HALF
RANGE		10
#PSEARCH_ALG	LOGARITHMIC
PSEARCH_ALG	EXHAUSTIVE
BSEARCH_ALG	CROSS2
#IQSCALE		8
#PQSCALE		10
#BQSCALE		25
IQSCALE		1
PQSCALE		1
BQSCALE		1

GAMMA	1.2

FORCE_ENCODE_LAST_FRAME

REFERENCE_FRAME	DECODED

INPUT_DIR	.
INPUT_CONVERT	giftopnm *
INPUT
s.gif.~*~	[1-122]
END_INPUT
</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00473" href="msg00473.html">Movies/Animations (gif to mpeg)</a></strong>
<ul><li><em>From:</em> Jeremy S Pal</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00473.html">Movies/Animations (gif to mpeg)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00475.html">Re: Movies/Animations (gif to mpeg)</a></strong>
</li>

</UL>
<center>[<a href="msg00473.html">Thread Prev</a>][<a href="msg00475.html">Thread Next</a>][<A HREF="threads.html#00478">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
