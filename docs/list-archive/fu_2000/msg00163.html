<!-- MHonArc v2.5.4 -->
<!--X-Subject: Re: **ERROR: stack overflow: grid stack -->
<!--X-From-R13: Egrir Vnaxva <unaxvaNczry.abnn.tbi> -->
<!--X-Date: Mon, 17 Apr 2000 10:43:34 &#45;0700 (PDT) -->
<!--X-Message-Id: 38FB4CE2.BADD7BDA@pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 38F8E21C.78293CB7@climate.unibe.ch -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: **ERROR: stack overflow: grid stack</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00162.html">Thread Prev</a>][<a href="msg00218.html">Thread Next</a>][<A HREF="threads.html#00163">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: **ERROR: stack overflow: grid stack</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Daniel Mueller &lt;<A HREF="mailto:mueller@DOMAIN.HIDDEN">mueller@xxxxxxxxxxxxxxxx</A>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: **ERROR: stack overflow: grid stack</strong></li>
<li><strong>From</strong>: <strong>Steve Hankin &lt;<A HREF="mailto:hankin@DOMAIN.HIDDEN">hankin@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Mon, 17 Apr 2000 10:41:54 -0700</li>
<li>Cc: <A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
<li>References: &lt;<a href="msg00162.html">38F8E21C.78293CB7@climate.unibe.ch</a>&gt;</li>
<li>Sender: <A HREF="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Hi Daniel,

In Ferret V5 the grids created by opening a netCDF data set are always
static. There is no way to delete them and, yes, they do accumulate and can
ultimately choke the program as you describe.

It is interesting that you bring this point up just now, because I am in the
final stages of correcting the problem. In the code that I am working on
netCDF grids are dynamic. They automatically vanish when no longer in use.
(I cannot say at this time if these changes will be part of V5.1 or part of
V5.2. The code changes are fairly deep, so I don't want to release them
until they are adequately tested.)

In the meantime, I have two workarounds to suggest:

  1. If your data sets share between them a number of axes and grids -- for
     example, an ensemble of model outputs on the same spatial domain --
     then as long as the netCDF coordinate variables (a.k.a. &quot;axes&quot;) have
     identical names and definitions in each file, Ferret will share a
     single definition among many data sets.
  2. If this is not the case, then you will have no choice but periodically
     to end and restart your Ferret session.

Good question. Hang in there -- the &quot;fix&quot; is in the pipeline.

    - steve

=====================

Daniel Mueller wrote:

&gt; Hi ferret users
&gt;
&gt; I am running in trouble while precessing a large number of netcdf files
&gt; with ferret V500beta1.1.
&gt; The Problem is that ferret seems to create a new set of grids for every
&gt; file which is being opened, even if other previously opened files habe
&gt; been canceled using &quot;cancel data 1&quot;.
&gt; I even tried opening a file, closing it and then opening the exact same
&gt; file again which produced another identical set of grids.
&gt; Is there a way to prevent this, since (afaik) there is no such thing as
&gt; a &quot;cancel grid&quot; command. Or is there a posibility to tell ferret to use
&gt; a specific already existing grid for every variable in a file being
&gt; opened?
&gt; Is there no other way at all to get rid of all those (identical sets of)
&gt; grids than exit ferret and restart it?
&gt;
&gt; Any help would be appreciated
&gt;
&gt; Daniel

--
Steve Hankin
NOAA/PMEL, 7600 Sand Point Way NE, Seattle, WA 98115-0070
ph. (206) 526-6080 -- FAX (206) 526-6744



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00218" href="msg00218.html">Using external function SAMPLEXY</a></strong>
<ul><li><em>From:</em> Russell Fiedler</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00162" href="msg00162.html">**ERROR: stack overflow: grid stack</a></strong>
<ul><li><em>From:</em> Daniel Mueller</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00162.html">**ERROR: stack overflow: grid stack</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00218.html">Using external function SAMPLEXY</a></strong>
</li>

</UL>
<center>[<a href="msg00162.html">Thread Prev</a>][<a href="msg00218.html">Thread Next</a>][<A HREF="threads.html#00163">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
