<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Keeping var attributes and type from data access via OPeNDAP -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Fri, 27 Jan 2012 09:38:55 &#45;0800 -->
<!--X-Message-Id: 4F22E16A.5060802@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 1327494726.5481.128.camel@oo -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Keeping var attributes and type from data access via OPeNDAP</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00725.html">Thread Prev</a>][<a href="msg00726.html">Thread Next</a>][<A HREF="threads.html#00729">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Keeping var attributes and type from data access via OPeNDAP</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Paulo B. Oliveira&quot; &lt;<a href="mailto:pbo@DOMAIN.HIDDEN">pbo@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Keeping var attributes and type from data access via OPeNDAP</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 27 Jan 2012 09:39:54 -0800</li>
<li>Cc: ferret &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;1327494726.5481.128.camel@oo&gt;</li>
<li>References: &lt;1327494726.5481.128.camel@oo&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:9.0) Gecko/20111222 Thunderbird/9.0.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi Paulo,<br>
    You can ask Ferret to use the scale_factor and add_offset attributes
    when it writes variables to a NetCDF file.&#xA0; The information you need
    is under the ferret Users Guide index entries under "attributes of
    variables", in particular the item "<a rel="nofollow" title="Variables"
href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/VARIABLES#_VPINDEXENTRY_290">scale
      &amp; offset, packing data</a>":<br>
    <br>
<a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/VARIABLES#_VPINDEXENTRY_290">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/VARIABLES#_VPINDEXENTRY_290</a><br>
    <br>
    In addition you can request that all attributes from the input
    dataset be written out, with<br>
    <blockquote><tt>set attribute/output=all varname<br>
      </tt></blockquote>
    and you can specify the output data type with SET VAR/OUTTYPE<br>
    <br>
    Ansley<br>
    <br>
    <br>
    On 1/25/2012 4:32 AM, Paulo B. Oliveira wrote:
    <blockquote cite="" type="cite">
      <pre wrap="">Hi, 

I'm rebuilding a database of a local subset of Pathfinder SST data. 

To save space NODC uses short integers to store the SST data and I'm
also willing to do that on my local subset. I used the attached script
to check if the variable attributes were being saved in my local file as
in the original. 
Apparently, ferret automatically offsets the data and does not store the
add_offset attribute in the local file. When I make a plot of the
difference between the local and the original variable I see that it is
less than the scale factor so it's not a problem but still it a bit
disturbing not being able to save a subset exactly as in the original.

I've already addressed this issue before and would like make sure I'm
not missing any new ferret commands to handle var attributes.

Any hints will be appreciated.

Cheers,

Paulo

P.S. I take this opportunity to point out that there is a typo error in
the manual, sec 3.1.8.7
------------------------------------ 
3.1.8.7 Packed data in NetCDF files
...
yes? SET ATT/OUTTYPE=input elev

Is should be SET VAR, not SET ATT, right ?
</pre>
    </blockquote>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00725" href="msg00725.html">[ferret_users] Keeping var attributes and type from data access via OPeNDAP</a></strong>
<ul><li><em>From:</em> Paulo B. Oliveira</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00725.html">[ferret_users] Keeping var attributes and type from data access via OPeNDAP</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00726.html">[ferret_users] counting available data points</a></strong>
</li>

</UL>
<center>[<a href="msg00725.html">Thread Prev</a>][<a href="msg00726.html">Thread Next</a>][<A HREF="threads.html#00729">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
