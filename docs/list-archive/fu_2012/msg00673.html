<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] transformation to find axis max length -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Mon, 10 Dec 2012 13:26:02 &#45;0800 -->
<!--X-Message-Id: 50C6534B.4070001@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAH1tzCTNip=ziY4f=X=NWzKUcrZ3w_W+8W4sNDN0dA+TUwWyAw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] transformation to find axis max length</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00668.html">Thread Prev</a>][<a href="msg00669.html">Thread Next</a>][<A HREF="threads.html#00673">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] transformation to find axis max length</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Akshay Hegde &lt;<a href="mailto:akshay.k.hegde@DOMAIN.HIDDEN">akshay.k.hegde@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] transformation to find axis max length</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 10 Dec 2012 13:25:31 -0800</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;CAH1tzCTNip=ziY4f=X=NWzKUcrZ3w_W+8W4sNDN0dA+TUwWyAw@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US</a>&gt;, &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CAH1tzCTNip=ziY4f=X=NWzKUcrZ3w_W+8W4sNDN0dA+TUwWyAw@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:17.0) Gecko/17.0 Thunderbird/17.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi,<br>
    One way to do this for an ascii dataset is to use a linux command to
    get the length of the file. That's shown here,<br>
    <br>
<a rel="nofollow" class="moz-txt-link-freetext" href="http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2001/msg00311.html">http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2001/msg00311.html</a><br>
    <br>
    But to do the job with Ferret, commands, for any variable there are
    RETURN= commands that give you information about the variable and
    its grid.
(<a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/EMBEDDED-XPRESSIONS#_VPINDEXENTRY_576">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/EMBEDDED-XPRESSIONS#_VPINDEXENTRY_576</a>)&nbsp;
    They work like this:<br>
    <blockquote><tt>load var&nbsp; ! Necessary for a variable in an ascii
        dataset, not a netcdf dataset<br>
        let npts = `var,RETURN=isize`</tt><br>
    </blockquote>
    Note that this wouldn't work if you had just used the default
    abstract axis to open an ascii dataset.&nbsp; If you had said<tt> this,</tt><tt><br>
    </tt>
    <blockquote><tt>yes? file file.dat</tt><br>
      <tt>yes? show data</tt><br>
      <tt>&nbsp;&nbsp;&nbsp;&nbsp; currently SET data sets:</tt><tt><br>
      </tt><tt>&nbsp;&nbsp;&nbsp; 1&gt; ./file.dat&nbsp; (default)</tt><tt><br>
      </tt><tt>
        &nbsp;name&nbsp;&nbsp;&nbsp;&nbsp; title&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; J&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; N</tt><tt><br>
      </tt><tt>&nbsp;V1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; V1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:20480&nbsp;&nbsp;
        ...&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp; ...</tt><tt><br>
        <br>
        yes? load v1<br>
      </tt><tt>yes? let npts = `v1,return=isize`</tt><tt><br>
      </tt><tt>&nbsp;!-&gt; DEFINE VARIABLE npts = 20480</tt><tt><br>
      </tt></blockquote>
    <tt></tt>you'd always get the length of the abstract axis, 20408
    points.<br>
    <br>
    But instead, if you define an axis and a grid and use that to read
    the dataset, then you can get the variable's size. Define an axis
    that's always going to be longer than the length of the ascii
    dataset, and use that to initialize the file, then you can get the
    size, whatever it is in that dataset:<br>
    <blockquote><tt>yes? define axis/x=1:10000:1 inaxis</tt><tt><br>
      </tt><tt>yes? define grid/x=inaxis ingrid &nbsp;&nbsp; </tt><tt><br>
      </tt><tt>yes? file/grid=ingrid/var=time file.dat</tt><tt><br>
        <br>
        yes? load time<br>
      </tt><tt>yes? let npts= `time,return=isize`</tt><tt><br>
      </tt><tt>
      </tt><tt>&nbsp;!-&gt; DEFINE VARIABLE npts = 5</tt><tt>200</tt><tt><br>
      </tt><tt>...</tt><tt><br>
      </tt></blockquote>
    <br>
    <div class="moz-cite-prefix">On 12/8/2012 11:14 PM, Akshay Hegde
      wrote:<br>
    </div>
    <blockquote
cite=""
      type="cite">
      <div>
        <div>Hi experts...<br>
          <br>
          I was just looking for some transformation to find the maximum
          length of i axis..<br>
          <br>
          <br>
          when I do show data it looks like this..<br>
          <br>
          &nbsp;&nbsp;&nbsp;&nbsp; currently SET data sets:<br>
          &nbsp;&nbsp;&nbsp; 1&gt; ./file.dat&nbsp; (default)<br>
          &nbsp;name&nbsp;&nbsp;&nbsp;&nbsp; title&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          J&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; M&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; N<br>
          &nbsp;TIME&nbsp;&nbsp;&nbsp;&nbsp; TIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:8380&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br>
          <br>
          <br>
          here while defining t axis every time I need to modify I
          value.. that is [i=1:8380]<br>
          <br>
          DEFINE axis/T/T0=1-jan-2010/UNIT=days tx=time[i=1:8380]<br>
          <br>
          Is there any transformation to find axis max length ?<br>
          <br>
          Thanks in advance,<br>
          <br>
          Akshay<br>
        </div>
      </div>
      <br>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00668" href="msg00668.html">[ferret_users] transformation to find axis max length</a></strong>
<ul><li><em>From:</em> Akshay Hegde</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00668.html">[ferret_users] transformation to find axis max length</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00669.html">[ferret_users] BUG REPORT: Appending packed NetCDF data</a></strong>
</li>

</UL>
<center>[<a href="msg00668.html">Thread Prev</a>][<a href="msg00669.html">Thread Next</a>][<A HREF="threads.html#00673">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
