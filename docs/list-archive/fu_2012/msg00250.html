<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: R: Re: [ferret_users] Conservative remapping -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Thu, 31 May 2012 11:36:18 &#45;0700 -->
<!--X-Message-Id: 4FC7BA1D.4000104@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1079746.2749631338278557182.JavaMail.defaultUser@defaultHost -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: R: Re: [ferret_users] Conservative remapping</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00231.html">Thread Prev</a>][<a href="msg00232.html">Thread Next</a>][<A HREF="threads.html#00250">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: R: Re: [ferret_users] Conservative remapping</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;<a href="mailto:markus.mingel@DOMAIN.HIDDEN">markus.mingel@xxxxxxxxx</a>&quot; &lt;<a href="mailto:markus.mingel@DOMAIN.HIDDEN">markus.mingel@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: R: Re: [ferret_users] Conservative remapping</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 31 May 2012 11:36:13 -0700</li>
<li>Cc: <a href="mailto:Patrick.Brockmann@DOMAIN.HIDDEN">Patrick.Brockmann@xxxxxx</a>, <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;1079746.2749631338278557182.JavaMail.defaultUser@defaultHost&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US</a>&gt;, &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;1079746.2749631338278557182.JavaMail.defaultUser@defaultHost&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:12.0) Gecko/20120428 Thunderbird/12.0.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi,
</pre><tt>We are very much aware of the need for interpolation of data on 
</tt><tt>curvilinear grids with CMIP5 data coming on-line. There are several 
</tt><tt>pieces of software intended to do this. Ferret's current CURV_TO_RECT 
</tt><tt>functions are based on some older code. We have a project for this 
</tt><tt>summer to update this capability.
</tt><pre style="margin: 0em;">

Ansley

On 5/29/2012 1:02 AM, markus.mingel@xxxxxxxxx wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Dear Ferreters,

I would confirm that the conservative interpolation (G=reg_grid@ave) worked in
case of regular grids, but ferret fails to regrid  fluxes from curvilinear
grids.

Since fluxes depend on cell area, first of all I multiplied the flux by the
area and then I used the functions curv_to_rect_map and curv_to_rect for the
interpolations, but results are wrong.

So, considering the new CMIP5 dataset, based on your experience, which are the
methods to regrid fluxes (e.g fgco2, intpp) from curvilinear grids (e.g. MPI-
ESM-LR, INMCM4) to regular grids?

Regards
Markus

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
----Messaggio originale----
Da: Patrick.Brockmann@xxxxxx
Data: 25/05/2012 11.10
A:
Cc:&lt;ferret_users@xxxxxxxx&gt;
Ogg: Re: [ferret_users] Conservative remapping

Markus;
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
       ferret's an awkward tool for conservative remapping. It would
entail  just a few lines of commands with CDO
<a  rel="nofollow" href="https://code.zmaw.de/projects/cdo">https://code.zmaw.de/projects/cdo</a>
(or maybe also with NCO, choice depends on who you have around that's
familiar with either tool)

</pre></blockquote><pre style="margin: 0em;">
Hi all,
CDO has many operator for regridding.
See <a  rel="nofollow" href="https://code.zmaw.de/embedded/cdo/1.5.4/cdo.html#x1-4870002.12">https://code.zmaw.de/embedded/cdo/1.5.4/cdo.html#x1-4870002.12</a>
But my tries with conservative remapping on curvilinear grids have not been
very concluding (impossible to specify that precalculated arecells have
to be used).

Another point. NCL has annonced that next realease 6.1 will present new
regridding capacities
based on the use of software from the Earth System Modeling Framework
&lt;<a  rel="nofollow" href="http://www.earthsystemmodeling.org/">http://www.earthsystemmodeling.org/</a>&gt;  (ESMF).
Read <a  rel="nofollow" href="http://www.ncl.ucar.edu/Applications/regrid.shtml">http://www.ncl.ucar.edu/Applications/regrid.shtml</a>

With pyferret, those ESMF regridding functions may be easier to include.

Regards
Patrick

--
LSCE/IPSL, Laboratoire CEA-CNRS-UVSQ
Data Analysis and Visualization Engineer
ICMC - IPSL Climate Modelling Centre
--


</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00231" href="msg00231.html">R: Re: [ferret_users] Conservative remapping</a></strong>
<ul><li><em>From:</em> markus.mingel@xxxxxxxxx</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00231.html">R: Re: [ferret_users] Conservative remapping</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00232.html">[ferret_users] Including contour lines in the shaded plot</a></strong>
</li>

</UL>
<center>[<a href="msg00231.html">Thread Prev</a>][<a href="msg00232.html">Thread Next</a>][<A HREF="threads.html#00250">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
