<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] india boundary -->
<!--X-From-R13: wntnqvfu xneznpuneln <w_xneznpunelnNlnubb.pbz> -->
<!--X-Date: Wed, 8 Feb 2012 05:00:24 &#45;0800 -->
<!--X-Message-Id: 1328705970.33226.YahooMailNeo@web31905.mail.mud.yahoo.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAEenqfLs7N68YYr9NwMNM_LvxspjD=mjxERYAKfYrQrWPmuBKA@mail.gmail.com -->
<!--X-Reference: 4F317B96.9020908@cea.fr -->
<!--X-Reference: 4F31A928.70906@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] india boundary</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00019.html">Thread Prev</a>][<a href="msg00022.html">Thread Next</a>][<A HREF="threads.html#00020">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] india boundary</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;,        Brockmann Patrick &lt;<a href="mailto:Patrick.Brockmann@DOMAIN.HIDDEN">Patrick.Brockmann@xxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] india boundary</strong></li>
<li><strong>From</strong>: <strong>jagadish karmacharya &lt;<a href="mailto:j_karmacharya@DOMAIN.HIDDEN">j_karmacharya@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 08 Feb 2012 04:59:30 -0800 (PST)</li>
<li>Cc: &quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=yahoo.com; s=s1024; t=1328705971; bh=kqwgHgnSPbSIQ/KjM2woQS09ti9M6IxWAS4e/ep/I1I=; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type; b=DcnrQOz67iVtEB9JtuvP+wYnRwgdWu9ilWn0a3U3xSxDjP1I+prYXb8OFpazFdkHZJS/2E5ELZvb5SgB+Piq+b3OJDOgI2LxAJVtP1GwFltrrE8VD6qs3R35OrB7+kOOe6P3bIGIGfrG/Cxoc9MO/npENK69aBICiBrXi8tPkDQ=</li>
<li>Domainkey-signature: a=rsa-sha1; q=dns; c=nofws;  s=s1024; d=yahoo.com; h=X-YMail-OSG:Received:X-Mailer:References:Message-ID:Date:From:Reply-To:Subject:To:Cc:In-Reply-To:MIME-Version:Content-Type; b=37xGzXVFWJfBIBOMyPEivDmnj3HF2qrSTPv1ZwhiCC6TXo72+izylsm8SbUooro4V5t+1OHXO5oS4T6gRsvF0ObD1ITCq1erMNsmtOwk2Q/TO40DV3JdkUpohU/i08rQWGw9qYLhbg2Fapl/Gjwom++LGdV4LQFkcLH5fjEDPpI=;</li>
<li>In-reply-to: &lt;<a href="msg00019.html">4F31A928.70906@noaa.gov</a>&gt;</li>
<li>References:  &lt;CAEenqfLs7N68YYr9NwMNM_LvxspjD=mjxERYAKfYrQrWPmuBKA@mail.gmail.com&gt; &lt;<a href="msg00018.html">4F317B96.9020908@cea.fr</a>&gt; &lt;<a href="msg00019.html">4F31A928.70906@noaa.gov</a>&gt;</li>
<li>Reply-to: jagadish karmacharya &lt;<a href="mailto:j_karmacharya@DOMAIN.HIDDEN">j_karmacharya@xxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div style="color:#000; background-color:#fff; font-family:arial, helvetica, sans-serif;font-size:10pt"><div><span>Hi Patrick and Ansley,</span></div><div><br><span></span></div><div><span>Thanks a lot but I am a bit confused. My guess is direct application of Patrick's methode would be mask (white out) unwanted regions surrounding Area Of Interest (AOI) that a mask of AOI itself. However, method mentioned by Ansley should make suppliment it and make it possible to creat a mask for AOI upon which averages etc. could also be computed. <br></span></div><div><span><br></span></div><div><span>Well, I followed the steps mentioned by Patrick ( took a while to figure out, plot.jnl is the script he has written in this mail) for NPL_adm0. </span><span>Firstly, </span>margins_set.jnl <span>script is missing in my case, so at first I just disabled that line. This produced the filled map for Nepal with seemed OK. Next I replaced the
 </span>margins_set.jnl<span> script with margins.jnl; but this time filled map and the boarder outline does not overlay. Does is makes any difference? the resulting nc file seems to overlay correctly (with both plot/vs and polygen) when I tried it over another dataset (as well as match with go land overlay.&nbsp; </span></div><div><span><br></span></div>Furhter,  Patrick, what do you mean by: " .... just do not blindly use polygon command but rather plot/vs. There may be a problem anyway."<br><div><br>My prime interest is to creat a mask for AOI, but I can't find pt_in_poly function (It is not listed when I issue show function command). Can someone send me a copy?<br><br>Thanks in advance.<br><br>Jagadish<br><br></div><div><blockquote style="border-left: 2px solid rgb(16, 16, 255); margin-left: 5px; margin-top: 5px; padding-left: 5px;">  <div style="font-family: arial, helvetica, sans-serif; font-size: 10pt;"> <div style="font-family: times new roman,
 new york, times, serif; font-size: 12pt;"> <div dir="ltr"> <font face="Arial" size="2"> <hr size="1">  <b><span style="font-weight:bold;">From:</span></b> Ansley Manke &lt;ansley.b.manke@xxxxxxxx&gt;<br> <b><span style="font-weight: bold;">To:</span></b> Brockmann Patrick &lt;Patrick.Brockmann@xxxxxx&gt; <br><b><span style="font-weight: bold;">Cc:</span></b> nitin patil &lt;nitinpatil85@xxxxxxxxx&gt;; ferret_users@xxxxxxxx <br> <b><span style="font-weight: bold;">Sent:</span></b> Tuesday, February 7, 2012 10:43 PM<br> <b><span style="font-weight: bold;">Subject:</span></b> Re: [ferret_users] india boundary<br> </font> </div> <br>
Hi<br>Thank you for that resource, Patrick.<br><br>Once you have the outline and have verified it using PLOT/VS, Patrick's message shows how to use the POLYGON command to plot the shape.&nbsp; Another option is the function pt_in_poly,<br>http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/appendix-a-external-functions/pt_in_poly/<br><br>which would let you make a mask which is 1 at every grid location inside the polygon and missing outside it; so you could do calculations or graphics over only the region inside the border.<br><br>Ansley<br><br>On 2/7/2012 11:29 AM, Brockmann Patrick wrote:<br>&gt; nitin patil a &#xE9;crit :<br>&gt;&gt; Dear ferret users,<br>&gt;&gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  Did any one knows how to give a border to India country if we have to plot only India.<br>&gt;&gt; if possible can we&nbsp; border states also?<br>&gt; <br>&gt; Hi,<br>&gt; <br>&gt; I have
 done this recently using kml files distributed<br>&gt; by the "Global Administrative Areas" website.<br>&gt; <br>&gt; Please follow the different steps:<br>&gt; <br>&gt; 1) From http://www.gadm.org<br>&gt; Go in the Download section, select the country<br>&gt; and choose "Google Earth .kmz"<br>&gt; <br>&gt; After the download, you can have a look to the kmz file<br>&gt; with googleearth of course.<br>&gt; Unzip the kmz file. You should obtain a kml file.<br>&gt; <br>&gt; 2) Convert the kml file to a text with<br>&gt; 3 columns lon,lat,number (number is the<br>&gt; index representing the area) with the python<br>&gt; script attached.<br>&gt; <br>&gt; 3) Use the ferret plot.jnl script to validate and<br>&gt; save the polygons as a netcdf file.<br>&gt; <br>&gt; Here is an example with India with the first<br>&gt; 2 administratives levels.<br>&gt; <br>&gt; $ unzip IND_adm1.kmz<br>&gt; $ ./convert_kml.py IND_adm1.kml &gt; IND_adm1.dat<br>&gt; $
 ferret<br>&gt; yes? go plot.jnl IND_adm1.dat <a rel="nofollow" target="_blank" href="http://IND_adm1.nc">IND_adm1.nc</a><br>&gt; <br>&gt; Note: that when I try to do the same with IND_adm0.dat,<br>&gt; ferret restarts my X11 server !<br>&gt; The problem occurs at line<br>&gt; repeat/name=n/range=1:`numb[i=@max]` ( def sym n=`n` ; let lon1=if numb eq `n` then lon ; let lat1=if numb eq `n` then lat ; polygon/line/fill/o/nolab/lev=(1,200,1)/pal=thirty_by_levels.spk lon1,lat1,`n` ; PPL SHASET RESET )<br>&gt; <br>&gt; But the method is still ok, just do not not blindly<br>&gt; use polygon command but rather plot/vs.<br>&gt; There may be a problem anyway.<br>&gt; <br>&gt; Happy ferreting<br>&gt; <br>&gt; Patrick<br>&gt; <br><br><br> </div> </div> </blockquote></div>   </div>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00022" href="msg00022.html">Re: [ferret_users] india boundary</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00017" href="msg00017.html">[ferret_users] india boundary</a></strong>
<ul><li><em>From:</em> nitin patil</li></ul></li>
<li><strong><a name="00018" href="msg00018.html">Re: [ferret_users] india boundary</a></strong>
<ul><li><em>From:</em> Brockmann Patrick</li></ul></li>
<li><strong><a name="00019" href="msg00019.html">Re: [ferret_users] india boundary</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00019.html">Re: [ferret_users] india boundary</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00022.html">Re: [ferret_users] india boundary</a></strong>
</li>

</UL>
<center>[<a href="msg00019.html">Thread Prev</a>][<a href="msg00022.html">Thread Next</a>][<A HREF="threads.html#00020">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
