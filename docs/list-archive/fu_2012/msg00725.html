<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] Keeping var attributes and type from data access via OPeNDAP -->
<!--X-From-R13: "Bnhyb P. Ayvirven" <cobNvcvzne.cg> -->
<!--X-Date: Wed, 25 Jan 2012 04:32:48 &#45;0800 -->
<!--X-Message-Id: 1327494726.5481.128.camel@oo -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] Keeping var attributes and type from data access via OPeNDAP</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00723.html">Thread Prev</a>][<a href="msg00729.html">Thread Next</a>][<A HREF="threads.html#00725">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] Keeping var attributes and type from data access via OPeNDAP</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>ferret &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] Keeping var attributes and type from data access via OPeNDAP</strong></li>
<li><strong>From</strong>: <strong>&quot;Paulo B. Oliveira&quot; &lt;<a href="mailto:pbo@DOMAIN.HIDDEN">pbo@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 25 Jan 2012 12:32:06 +0000</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi, 

I'm rebuilding a database of a local subset of Pathfinder SST data. 

To save space NODC uses short integers to store the SST data and I'm
also willing to do that on my local subset. I used the attached script
to check if the variable attributes were being saved in my local file as
in the original. 
Apparently, ferret automatically offsets the data and does not store the
add_offset attribute in the local file. When I make a plot of the
difference between the local and the original variable I see that it is
less than the scale factor so it's not a problem but still it a bit
disturbing not being able to save a subset exactly as in the original.

I've already addressed this issue before and would like make sure I'm
not missing any new ferret commands to handle var attributes.

Any hints will be appreciated.

Cheers,

Paulo

P.S. I take this opportunity to point out that there is a typo error in
the manual, sec 3.1.8.7
------------------------------------ 
3.1.8.7 Packed data in NetCDF files
...
yes? SET ATT/OUTTYPE=input elev

Is should be SET VAR, not SET ATT, right ?
</pre><pre>\canc mode verif

def sym ncf &quot;19850101011910-NODC-L3C_GHRSST-SSTskin-AVHRR_Pathfinder-PFV5.2_NOAA07_G_1985001_night-v02.0-fv01.0.nc&quot;
use &quot;<a  rel="nofollow" href="http://data.nodc.noaa.gov/thredds/dodsC/pathfinder/Version5.2/1985/">http://data.nodc.noaa.gov/thredds/dodsC/pathfinder/Version5.2/1985/</a>($ncf)&quot;

CANCEL MODE upcase_output

SET ATT/OUTPUT=all     sea_surface_temperature
SET VAR/OUTTYPE=input  sea_surface_temperature

save/file=nodc_pathf_WIberia.cdf/clobber/x=-16:-5/y=32:44\
 sea_surface_temperature

say '----------------------------------------------------------------------'
sp ncdump -h nodc_pathf_WIberia.cdf | grep -A10 sea_surface_temperature\(time

say '----------------------------------------------------------------------'
!sp wget <a  rel="nofollow" href="http://data.nodc.noaa.gov/pathfinder/Version5.2/1985/">http://data.nodc.noaa.gov/pathfinder/Version5.2/1985/</a>($ncf)
sp ncdump -h ($ncf)                 | grep -A10 sea_surface_temperature\(time
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00729" href="msg00729.html">Re: [ferret_users] Keeping var attributes and type from data access via OPeNDAP</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00723.html">[ferret_users] Run-Time error</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00729.html">Re: [ferret_users] Keeping var attributes and type from data access via OPeNDAP</a></strong>
</li>

</UL>
<center>[<a href="msg00723.html">Thread Prev</a>][<a href="msg00729.html">Thread Next</a>][<A HREF="threads.html#00725">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
