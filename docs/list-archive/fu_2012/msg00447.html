<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] error_bars and/or plot_swath overlaying into power spectrum -->
<!--X-From-R13: qrffl oreyvnagl <qrffloreyvnaglNlnubb.pbz> -->
<!--X-Date: Fri, 7 Sep 2012 10:31:09 &#45;0700 -->
<!--X-Message-Id: 1347039065.40711.YahooMailNeo@web121004.mail.ne1.yahoo.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] error_bars and/or plot_swath overlaying into power spectrum</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00444.html">Thread Prev</a>][<a href="msg00452.html">Thread Next</a>][<A HREF="threads.html#00447">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] error_bars and/or plot_swath overlaying into power spectrum</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ferret Users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] error_bars and/or plot_swath overlaying into power spectrum</strong></li>
<li><strong>From</strong>: <strong>dessy berlianty &lt;<a href="mailto:dessyberlianty@DOMAIN.HIDDEN">dessyberlianty@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 7 Sep 2012 10:31:05 -0700 (PDT)</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US</a>&gt;, &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Reply-to: dessy berlianty &lt;<a href="mailto:dessyberlianty@DOMAIN.HIDDEN">dessyberlianty@xxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div style="color:#000; background-color:#fff; font-family:arial, helvetica, sans-serif;font-size:10pt"><div id="yiv914025644yui_3_2_0_20_134684813852762">Dear Ferret Users,<br><br id="yiv914025644yui_3_2_0_20_134684813852770"></div><div style="color:rgb(0, 0, 0);font-size:13.3333px;font-family:arial, helvetica, sans-serif;background-color:transparent;font-style:normal;" id="yiv914025644yui_3_2_0_20_134684813852765">I
 need further suggestions to solve my problem in overlaying of the 
error_bars or plot_swath into the power spectrum of the time series observation and the 
simulation.</div><div id="yiv914025644yui_3_2_0_20_134684813852775" style="color:rgb(0, 0, 0);font-size:13.3333px;font-family:arial, helvetica, sans-serif;background-color:transparent;font-style:normal;">Since I need the horizontal axes in period and vertical axes in log scale,&nbsp;I couldn't find the right script.<br>I always got the results of the error_bars or plot_swath in the meter (for vertical axis) or frequency (for the horizontal axis).<br>Hopefully there's a way to solve these case.<br></div>Following is the script which the grey font shows that I'm not sure with those script:<br><br><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: arial,helvetica,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;">!script for power spectrum and error_bars<br>!-----<br>cancel mode logo<br><br>use
 "/media/sep052012/verification.cdf"<br></span></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: Courier New,courier,monaco,monospace,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;"><br></span></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: Courier New,courier,monaco,monospace,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;">let FFT_simulation=simulation<br>let FFT_simulationfft=FFTA(FFT_simulation[l=1897:2640])<br>set variable/title="Amplitude Spectrum" FFT_simulationfft<br><br>let FFT_verification=verification<br>let FFT_verificationfft=FFTA(FFT_verification[l=1:744])<br>set variable/title="Amplitude Spectrum" FFT_verificationfft<br><br></span><span style="font-family: Courier
 New,courier,monaco,monospace,sans-serif;"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;">!==simulation</span></span></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: Courier New,courier,monaco,monospace,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;"></span>LET FFT_nf = `FFT_simulationfft,return=lend`<br>LET FFT_nyquist = 0.5<br>LET FFT_freq1 = FFT_nyquist/ FFT_nf<br><br>DEFINE AXIS/T=`FFT_freq1`:`FFT_nyquist`:`FFT_freq1` faxis<br>DEFINE GRID/T=faxis gfftfreq<br></span></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: Courier New,courier,monaco,monospace,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><span style="font-family: Courier
 New,courier,monaco,monospace,sans-serif;"><br></span></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: Courier New,courier,monaco,monospace,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;">LET a = T[g=gfftfreq]<br>Let per = 1./a<br><br>!==verification<br>LET FFT_nf2 = `FFT_verificationfft,return=lend`<br>LET FFT_nyquist2 = 0.5<br>LET FFT_freq2 = FFT_nyquist2/ FFT_nf2<br><br>DEFINE AXIS/T=`FFT_freq2`:`FFT_nyquist2`:`FFT_freq2` faxis2<br>DEFINE GRID/T=faxis2 gfftfreq2<br><br>LET b = T[g=gfftfreq2]<br>Let per2 = 1./b<br><br>!==plot power spectrum in log-log scale<br>set win 1<br>set win/size=1./aspect=1.:axis<br><br>PLOT/vlog/VS/dash/line=1/vlimits=0.00001:10/HLIMITS=0:40:2/thick=3/nolab per[l=1:`FFT_nf`], FFT_simulationfft<br>PPL YLAB Amplitude (m) log scale<br>ppl plot</span></div><div style="color: rgb(0, 0, 0);
 font-size: 13.3333px; font-family: Courier New,courier,monaco,monospace,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;"><br></span></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: Courier New,courier,monaco,monospace,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;">PLOT/vlog/OVERLAY/VS/LINE=1/thick=3/vlimits=0.00001:10/HLIMITS=0:40:2/nolab per2[l=1:`FFT_nf2`], FFT_verificationfft<br><br>ppl color 6 100 100 100<br>label/nou -2.5 10.0 .03 "Tidal amplitude spectrum"<br>label/nou -2 9 .03 M_2<br>label/nou -2.5 8.8 .03 S_2<br>label/nou 0.5 8.9 .03 K_1<br>label/nou 1. 8.8 .03 O_1<br>label/nou -0.2 6.2 .03 PERIOD (HOURS)<br></span></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: Courier
 New,courier,monaco,monospace,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;"><br></span></div><div style="font-size: 13.3333px; font-family: Courier New,courier,monaco,monospace,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><span style="color: rgb(115, 115, 115);"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;">!plot overlay error_bars and/or plot_swath<br></span></span></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: Courier New,courier,monaco,monospace,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><span style="font-family: Courier New,courier,monaco,monospace,sans-serif;"><span style="color: rgb(115, 115, 115);">set win 2<br>!let/quiet errup = FFT_verificationfft + FFT_simulationfft<br>!let/quiet errdn =
 FFT_verificationfft - FFT_simulationfft<br>let/quiet err = ((FFT_verificationfft[l=1:`FFT_nf2`] - FFT_simulationfft[l=1:`FFT_nf`])/2)<br><br>plot/vlog/VS/line=1/vlimits=0.00001:10/HLIMITS=0:40:2/thick=3/nolab per2[l=1:`FFT_nf2`], FFT_verificationfft<br>ppl xlab period (hours)<br>PPL YLAB Amplitude (m) log scale<br>ppl plot<br>!go plot_swath poly/ov/pal=red/nolab FFT_verificationfft-err FFT_verificationfft+err<br><br>!plot/vlog/vs/over/nolab/color=red/vlimits=0.00001:10/HLIMITS=0:40:2/thickness=2 per3[l=1:`FFT_nf3`], err<br><br>set win 3<br>!plot/vlog/VS/line=1/vlimits=0.00001:10/HLIMITS=0:40:2/thick=3/nolab FFT_verificationfft, err<br>!ppl xlab period (hours)<br>!PPL YLAB Amplitude (m^2) log scale<br>!ppl plot<br>!go error_bars poly/color=red/nolab FFT_verificationfft err<br><br>LET FFT_nf3 = `err,return=lend`<br>LET FFT_nyquist3 = 0.5<br>LET FFT_freq3 = FFT_nyquist3/ FFT_nf3<br><br>DEFINE AXIS/T=`FFT_freq3`:`FFT_nyquist3`:`FFT_freq3` faxis3<br>DEFINE
 GRID/T=faxis3 gfftfreq3<br><br>LET c = T[g=gfftfreq3]<br>Let per3 = 1./c<br><br>!plot/vlog/VS/line=1/vlimits=0.000001:10/HLIMITS=0:40:2/thick=3/nolab per2[l=1:`FFT_nf2`], FFT_verificationfft<br>!go error_bars poly/ov/color=red/nolab FFT_verificationfft FFT_simulationfft<br><br>!ppl xlab period (hours)<br>!PPL YLAB Amplitude (m) log scale<br>!ppl plot<br>!plot/vlog/ov/VS/line=1/dash/vlimits=0.000001:10/HLIMITS=0:40:2/thick=3/nolab per[l=1:`FFT_nf`], FFT_simulationfft</span><br></span></div><br>Thank you in advance for any further suggestions to solve such problem.<br><br>Best wishes,<br><br>dessy<br><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: arial,helvetica,sans-serif; background-color: transparent; font-style: normal; margin-left: 40px;"><br></div><div style="color: rgb(0, 0, 0); font-size: 13.3333px; font-family: arial,helvetica,sans-serif; background-color: transparent; font-style: normal;"></div></div>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00444.html">[ferret_users] regriding from discontinuous time axis</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00452.html">[ferret_users] Plotting monsoonal monthly average over a series of years</a></strong>
</li>

</UL>
<center>[<a href="msg00444.html">Thread Prev</a>][<a href="msg00452.html">Thread Next</a>][<A HREF="threads.html#00447">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
