<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] problem regridding data with repeat command -->
<!--X-From-R13: "zcz33Nzr.pbz" <zcz33Nznp.pbz> -->
<!--X-Date: Thu, 2 Feb 2012 07:33:15 &#45;0800 -->
<!--X-Message-Id: A3E603ED&#45;A733&#45;40AB&#45;B5E3&#45;D337EE69326A@mac.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] problem regridding data with repeat command</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00006.html">Thread Prev</a>][<a href="msg00009.html">Thread Next</a>][<A HREF="threads.html#00007">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] problem regridding data with repeat command</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] problem regridding data with repeat command</strong></li>
<li><strong>From</strong>: <strong>&quot;<a href="mailto:mpm33@DOMAIN.HIDDEN">mpm33@xxxxxx</a>&quot; &lt;<a href="mailto:mpm33@DOMAIN.HIDDEN">mpm33@xxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 02 Feb 2012 10:34:22 -0500</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Ferreters,

Im having issues using the repeat command while trying to concatenate a variable (take monthly datasets and make one year and then take each year dataset and make one entire record) and regrid it at the same time.  I am trying to regrid dataset B to dataset A's grid where A is RCM data and B is SRB shortwave data.  The command I use to concatenate the monthly data to one year is below:

repeat/range=1:12/name=m (define symbol imon = `m` ; if `m lt 10` then define symbol imon=0`m`; define symbol fname = srb_rel3.0_shortwave_monthly_utc_1985($imon).nc; set data ($fname); save/file=srb_1985SWI.nc/append SW_SFC_DN[l=1,g=srb2rcm]; cancel data ($fname) ; cancel memory )

where srb2rcm is defined above as:

define grid/like/x=GHU1/y=GHU1/l=GCH1/z=GCH1 srb2rcm

with both those axes (x/y and l/z) defined earlier by the input rcm and srb dataset, respectively.  

This command works fine without the g=srb2rcm command added.  However, I get the following error when trying to regrid at the same time:


 LISTing to file srb_1985SWI.nc
 **TMAP ERR: error in line definition
             file coords dont match variable coords on axis LON
LIST/FORMAT=CDF/file=srb_1985SWI.nc/append SW_SFC_DN[l=1,g=srb2rcm]
Command file, command group, or REPEAT execution aborted

I think it has to do with the SRB data starting at x=i=0 longitude and the grid I want to regrid to starts at -15=x (15W) at i=0.  Because if I remove the grid transformation in the repeat command and then regrid the final constructed dataset, it will work, but starts at 0E and ignores/cuts off all the SRB 15W to 0W data.

However, if I try to regrid each individual input dataset it works but is unfeasible to do each individually given all the input data.  A bit at a loss as to why this can't be done or how I'm improperly doing it.  Any suggestions would be great!

Thanks!

Marc
 

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00006.html">[ferret_users] Maxima</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00009.html">[ferret_users] plots in grads or ferret</a></strong>
</li>

</UL>
<center>[<a href="msg00006.html">Thread Prev</a>][<a href="msg00009.html">Thread Next</a>][<A HREF="threads.html#00007">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
