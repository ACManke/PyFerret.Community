<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Geographical map with bar chart at each grid box. -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 25 Sep 2012 17:24:13 &#45;0700 -->
<!--X-Message-Id: 50624B27.6040208@noaa.gov -->
<!--X-Content-Type: multipart/related -->
<!--X-Reference: CAK4t+DqUecH26bOphKTaq&#45;R9ORW5_9UhKaACjO2hZiz2hDo4Qw@mail.gmail.com -->
<!--X-Derived: gifJPPNVosj4R.gif -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Geographical map with bar chart at each grid box.</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00511.html">Thread Prev</a>][<a href="msg00515.html">Thread Next</a>][<A HREF="threads.html#00512">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Geographical map with bar chart at each grid box.</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Geographical map with bar chart at each grid box.</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 25 Sep 2012 17:24:07 -0700</li>
<li>In-reply-to: &lt;<a href="msg00511.html">CAK4t+DqUecH26bOphKTaq-R9ORW5_9UhKaACjO2hZiz2hDo4Qw@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/?hl=en_US</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?hl=en_US&topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/post?hl=en_US</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe?hl=en_US</a>&gt;, &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00511.html">CAK4t+DqUecH26bOphKTaq-R9ORW5_9UhKaACjO2hZiz2hDo4Qw@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:15.0) Gecko/20120907 Thunderbird/15.0.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi Alejandro,<br>
    I think you could do this pretty easily using viewports. Draw the
    map in a big viewport covering the entire page, and then make the
    bar charts in smaller viewports.<br>
    <br>
    Viewports can overlay each other, and you have control over exactly
    where they are if you define custom ones, and use the /AXES
    qualifier. Try this simple example, where I just stick the example
    plot from bar_chart3.jnl on a global map, more or less over
    Australia.<br>
    <blockquote><tt>yes? define view/axes/x=0.:1/y=0:1 bigview</tt><tt><br>
      </tt><tt>yes? set view bigview</tt><br>
      <tt><br>
      </tt><tt>yes? use etopo20</tt><tt><br>
      </tt><tt>yes?
        shade/x=0:360/y=-85:85/lev=(0,10000,10000)/pal=gray_light rose</tt><tt><br>
      </tt><tt><br>
      </tt><tt>yes? define view/axes/x=0.3:0.4/y=0.3:0.4 low_left</tt><tt><br>
      </tt><tt>yes? set view low_left</tt><tt><br>
      </tt><tt><br>
      </tt><tt>! make a bar chart</tt><tt><br>
      </tt><tt>yes? let a = RANDN(T[T=2-jan-1990:1-jun-1990:24])</tt><tt><br>
      </tt><tt>yes? plot/ylim=-3:3/nolab 0*a</tt><tt><br>
      </tt><tt>yes? go bar_chart3
        poly/over/palette=no_green_centered/levels=(-3,3,.5)/nolab a a</tt><tt><br>
        <br>
        ! More viewports</tt><tt><br>
      </tt><tt>yes? define view/axes/x=0.8:0.9/y=0.3:0.4 low_right</tt><tt><br>
      </tt><tt>yes? set view low_right<br>
        ...<br>
      </tt><tt>
      </tt></blockquote>
    <br>
    <img alt="" src="gifJPPNVosj4R.gif" height="533"
      width="619"><br>
    <br>
    <br>
    The trick will be to locate the little viewports where you want
    them.&nbsp; Viewports are defined in terms of fraction of the total
    available width, so you'll need to express your desired coordinate
    locations in fractions of the distance from the lower left to the
    upper right corner.<br>
    <br>
    After making the map plot, look at the output of the command "SHOW
    SYMBOLS".&nbsp; There are lots of automatic symbols defined on any plot
    command, with things like the x-axis start and end, in world
    coordinates, axis lengths in page coordinates which are nominally
    "inches", a set of symbols that start with VP_ which refer to
    viewport definitions. You can use these to define small viewports
    and put the bar charts in them.<br>
    <br>
    You'll also want to control the axis labels and tic marks on the
    small plots so they look nice and are readable.<br>
    <br>
    -Ansley<br>
    <br>
    <div class="moz-cite-prefix">On 9/25/2012 4:15 PM, Alejandro Ludert
      wrote:<br>
    </div>
    <blockquote
cite=""
      type="cite">Dear Ferret&nbsp;Community:
      <div><br>
      </div>
      <div>I would like to graph a geographical region and overlay at
        each grid box a bar chart that represents the
        monthly&nbsp;average&nbsp;precipitation in that grid box for the whole
        year, to show the annual cycle of a variable at each grid box.</div>
      <div><br>
      </div>
      <div>The bar chart for one grid box is easily generated using
        bar_chart3.jnl but I cannot find any documentation to help me
        with the overlaying of the bar chart corresponding to each grid
        box over the map.</div>
      <div><br>
      </div>
      <div>Any suggestions will be greatly appreciated.</div>
      <div><br>
      </div>
      <div>Alejandro Ludert.&nbsp;<br>
        <div><br>
        </div>
        <div><br>
        </div>
      </div>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00511" href="msg00511.html">[ferret_users] Geographical map with bar chart at each grid box.</a></strong>
<ul><li><em>From:</em> Alejandro Ludert</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00511.html">[ferret_users] Geographical map with bar chart at each grid box.</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00515.html">[ferret_users] salinity at the shallowest profile depth</a></strong>
</li>

</UL>
<center>[<a href="msg00511.html">Thread Prev</a>][<a href="msg00515.html">Thread Next</a>][<A HREF="threads.html#00512">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
