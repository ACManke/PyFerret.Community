<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Southern Hemisphere polar stereographic plot issue -->
<!--X-From-R13: Bnhy Kbhat <cnhy.w.lbhatNabnn.tbi> -->
<!--X-Date: Tue, 20 Mar 2012 10:05:50 &#45;0700 -->
<!--X-Message-Id: 5A49192C&#45;BD69&#45;4A15&#45;9558&#45;B241C7F17D0F@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAL3Mhqxn8JMSq=Ars9JaJX_L7TvVaSftAU8uHY_2B9X9WOLMOg@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Southern Hemisphere polar stereographic plot issue</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00102.html">Thread Prev</a>][<a href="msg00104.html">Thread Next</a>][<A HREF="threads.html#00103">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Southern Hemisphere polar stereographic plot issue</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Geeta Persad &lt;<a href="mailto:geeta.persad@DOMAIN.HIDDEN">geeta.persad@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Southern Hemisphere polar stereographic plot issue</strong></li>
<li><strong>From</strong>: <strong>Paul Young &lt;<a href="mailto:paul.j.young@DOMAIN.HIDDEN">paul.j.young@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 20 Mar 2012 11:05:46 -0600</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to:  &lt;CAL3Mhqxn8JMSq=Ars9JaJX_L7TvVaSftAU8uHY_2B9X9WOLMOg@mail.gmail.com&gt;</li>
<li>References: &lt;CAL3Mhqxn8JMSq=Ars9JaJX_L7TvVaSftAU8uHY_2B9X9WOLMOg@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style="">Hi Geeta,<div><br></div><div>Here's what I do to do that kind of plot - even puts the color bar at the bottom, as a bonus :)</div><div><br></div><div>Cheers,</div><div><br></div><div>Paul</div><div><br></div><div><br></div><div><font class="Apple-style-span" face="Courier">use "z500_djf.nc"<span class="Apple-tab-span" style="white-space:pre">					</span>!e.g. 500 mb geopotential height</font></div><div><span class="Apple-style-span" style="font-family: Courier; "><br></span></div><div><span class="Apple-style-span" style="font-family: Courier; ">define symbol lv = (-inf)(-30,30,5)(inf)</span><span class="Apple-style-span" style="font-family: Courier; "><span class="Apple-tab-span" style="white-space:pre">		</span></span><span class="Apple-style-span" style="font-family: Courier; ">!Some plotting options</span></div><div><font class="Apple-style-span" face="Courier">let latS = -40</font></div><div><font class="Apple-style-span" face="Courier">let size = 0.11</font></div><div><font class="Apple-style-span" face="Courier"><br></font></div><div><font class="Apple-style-span" face="Courier">set region/y=-90:`latS` &nbsp;<span class="Apple-tab-span" style="white-space:pre">				</span>!Plot set up</font></div><div><div><font class="Apple-style-span" face="Courier">set region/x=-180:180 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font class="Apple-style-span" face="Courier">set grid z500[d=1] &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font class="Apple-style-span" face="Courier">go mp_stereographic_south 180&nbsp;</font></div></div><div><font class="Apple-style-span" face="Courier"><br></font></div><div><div><font class="Apple-style-span" face="Courier">fill/lev=($lv)/noaxes/set/x=-180:180 \ &nbsp; &nbsp;</font></div><div><font class="Apple-style-span" face="Courier">&nbsp; &nbsp; &nbsp; z500[d=1], x_page, y_page&nbsp;<span class="Apple-tab-span" style="white-space:pre">			</span>!Do the plot</font></div><div><font class="Apple-style-span" face="Courier">ppl title " " &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font></div><div><font class="Apple-style-span" face="Courier">let xlo = ($ppl$xorg) - 1.5 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font></div><div><font class="Apple-style-span" face="Courier">let xhi = `xlo` + ($ppl$xlen) + 3 &nbsp;&nbsp;</font></div><div><font class="Apple-style-span" face="Courier">let ylo = ($ppl$yorg) - 0.6 &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font></div><div><font class="Apple-style-span" face="Courier">let yhi = ($ppl$yorg) - 0.6 + 0.12 &nbsp;</font></div><div><font class="Apple-style-span" face="Courier">ppl shakey `dokey[i=($xxx)]`,0,`size`,2,-0,,`xlo`,`xhi`,`ylo`,`yhi`&nbsp;</font></div><div><font class="Apple-style-span" face="Courier">ppl fill &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font class="Apple-style-span" face="Courier">go mp_land 7 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="Apple-tab-span" style="white-space:pre">			</span>!Continents (heavy black)</font></div><div><font class="Apple-style-span" face="Courier">go mp_graticule " " &nbsp;" " &nbsp;" " `latS` `latS` 5 13 &nbsp;<span class="Apple-tab-span" style="white-space:pre">	</span>!Outline the whole circle</font></div></div><div><br></div><div><br></div><div><br></div><div><br><div><div>On Mar 20, 2012, at 10:21 AM, Geeta Persad wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite">Hi All,<div>I am having a problem doing a polar stereographic plot for the Southern Hemisphere. Here is the code I am using:</div><div><br></div><div><i>SET MODE METADATA</i></div><div><i><br></i></div><div><i>user "<a rel="nofollow" href="http://all_vars.djf.nc/">all_vars.djf.nc</a>"</i></div>
<div><i><br></i></div><div><i>GO mp_stereographic_south 180 50</i></div><div><i><br></i></div><div><i>GO mp_grid gz[d=1]</i></div><div><i><br></i></div><div><i>SET REGION/X=0:360/Y=90S:11S/Z=500/L=1</i></div><div><i><br></i></div>
<div><i>GO mp_aspect</i></div><div><i><br></i></div><div><i>let masked_gz1s = gz[d=1]*mp_mask</i></div><div><i><br></i></div><div><i>CONTOUR/NOAXES/NOLAB masked_gz1s, x_page, y_page</i></div><div><i><br></i></div><div><i>GO mp_land</i></div>
<div><i><br></i></div><div><i>GP mp_graticule 0 360 60 -11 -90 10 0.5</i></div><div><i><br></i></div><div><i>GO mp_label 180 6 0 0 0.2 "Southern Hem. DJF Geopotential Height at 500 mb"</i>&nbsp;</div><div><br></div><div>
Where 'gz[d=1]' is the geopotential height variable in the '<a rel="nofollow" href="http://all_vars.djf.nc/">all_vars.djf.nc</a>' file.</div><div><br></div><div>This script throws the error</div><div><br></div><div><i>**ERROR: illegal limits: "(MP_Y[J=@MAX] + MP_..." does not exist at Y=-90:-11</i></div>
<div><i>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Axis extremes are Y=0.5:10000000</i></div><div><i>DEFINE VARIABLE/quiet mp_gtest = 50 - `(mp_y[j=@max] + mp_y[j=@min])/`</i></div><div><i>Command file, command group, or REPEAR execution aborted</i></div>
<div><i><br></i></div><div>I followed some earlier advice by Ansley from the archives indicating that putting the <i>mp_grid</i>&nbsp;statement before the <i>set region</i>&nbsp;and <i>mp_aspect</i>&nbsp;statement could solve this problem. However, the error is now being thrown following the call to <i>mp_land</i>. When I comment out <i>mp_land</i>, it is thrown after the call to <i>mp_graticule</i>. Ferret succeeds at running the contour command, though. I have also tried changing the standard parallel term in the call to <i>mp_stereographic_south</i>&nbsp;to '-50' instead of '50', but that doesn't seem to have an effect.&nbsp;</div>
<div><br></div><div>Is there some other way in which <i>mp_land</i>&nbsp;and <i>mp_graticule</i> need to be called when using the Southern Hemisphere polar stereographic projection? Or is there some other visible error with my code?&nbsp;</div>
<div><br></div><div>Thanks for your help!</div><div><br></div><div>~Geeta</div>
</blockquote></div><br></div></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00102" href="msg00102.html">[ferret_users] Southern Hemisphere polar stereographic plot issue</a></strong>
<ul><li><em>From:</em> Geeta Persad</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00102.html">[ferret_users] Southern Hemisphere polar stereographic plot issue</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00104.html">[ferret_users] Frame multiple wind vector plots</a></strong>
</li>

</UL>
<center>[<a href="msg00102.html">Thread Prev</a>][<a href="msg00104.html">Thread Next</a>][<A HREF="threads.html#00103">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
