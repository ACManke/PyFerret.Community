<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: Fwd: Re: [ferret_users] Masking and set var/bad = 0 -->
<!--X-From-R13: "XbfuOP1995Nbhgybbx.pbz" <wbfuno1995Nbhgybbx.pbz> -->
<!--X-Date: Tue, 25 Jun 2019 04:02:53 &#45;0700 -->
<!--X-Message-Id: DM6PR03MB4348E28099318FEEF4C11729C5E30@DM6PR03MB4348.namprd03.prod.outlook.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: DM6PR03MB434895649FED02B6272022F6C5E00@DM6PR03MB4348.namprd03.prod.outlook.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Fwd: Re: [ferret_users] Masking and set var/bad = 0</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00246.html">Thread Prev</a>][<a href="msg00250.html">Thread Next</a>][<A HREF="threads.html#00247">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Fwd: Re: [ferret_users] Masking and set var/bad = 0</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: Fwd: Re: [ferret_users] Masking and set var/bad = 0</strong></li>
<li><strong>From</strong>: <strong>&quot;<a href="mailto:JoshAB1995@DOMAIN.HIDDEN">JoshAB1995@xxxxxxxxxxx</a>&quot; &lt;<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 25 Jun 2019 11:02:46 +0000</li>
<li>Accept-language: en-GB, en-US</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=bqt5FvNY;       arc=pass (i=2 dkim=pass dkdomain=outlook.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=outlook.com</li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=bqt5FvNY;       arc=pass (i=2 dkim=pass dkdomain=outlook.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=outlook.com</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=bqt5FvNY;       arc=pass (i=1 spf=pass spfdomain=outlook.com dkim=pass dkdomain=outlook.com dmarc=pass fromdomain=outlook.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> does not designate 65.153.203.171 as permitted sender) smtp.mailfrom=<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=bqt5FvNY;       spf=pass (google.com: domain of <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> designates 2a01:111:f400:fe42::801 as permitted sender) smtp.mailfrom=<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=outlook.com</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :message-id:mime-version:content-language:accept-language         :in-reply-to:date:thread-index:thread-topic:subject:to:from:sender         :dkim-signature;        bh=PEJSEziG2IrGmcJijek8Rca1tatIzcI56D20YIngn2M=;        b=ZztfHEs8YGO3s22nZPxZIq1eymOeBwgDnLlTpGcysTg+ZCiRlC75rkhnBgrpi3Mqoz         dV3JojtxyU/yY1mvVCmAGDkE5yFYXwl5xDmEDCFZ26vtSSlRGaPPp7BbTHQ62EHee3WA         ZyJqmplrwj7XoZyc+QAjXVw3+kmA0lGpC25yY+hsEmugNPewyEJ3jXwlX1+QLHyAVrej         LVf0eEFC9H2u2Aqs03/SiVVAp0pZf1a4uP5m66xMzBCxx7pP89osWiDuMrsN6K7BXMta         0XeDOaT4/7xMSn61BmlS/7uwfJUFLw7Jxzo28/+EvHXqxmoO9VdDMGl0agW85kQCgg6a         L6rw==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:mime-version:content-language:accept-language         :in-reply-to:date:thread-index:thread-topic:subject:to:from         :dkim-signature;        bh=PEJSEziG2IrGmcJijek8Rca1tatIzcI56D20YIngn2M=;        b=n6FTpyiWvHN/aXXBd07c3e9cyKGXXfKIHtU05gnATC8NEV21DtwxmNxrwz7BdmQsPp         ytlmsRfz6VHPvvIpMDmK32eT/09gMpC6CHHTw+f6idAm2aJvVfvzaXxlElJGbI+4rVg7         DclCwpC17FlwW3B2kIiXHgp1cV54bbEqcgt8xfw0kjWdr2Cxc+SjPkUGVXdxOwR1l0G5         ySRlYtNF8yZZf9MqJFPGUySesOJGf+hvlkPyUmHVXOexV4eYnXxdjCunZyexS9GZBGXW         GZbxcVcVe6Wvw1G+1GwmK29JP0ZE+lECd8ptOoz8AHDOWji9qTCGdlWAnJsW5Qx7knqC         VnAQ==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:content-language:accept-language:in-reply-to         :message-id:date:thread-index:thread-topic:subject:to:from         :dkim-signature;        bh=PEJSEziG2IrGmcJijek8Rca1tatIzcI56D20YIngn2M=;        b=YekLD53Hs1AR+BECMtiHMUua5pCUyEXHFEw7x36Rgz+1+nm7A4vBYdm3P2pKrUT4E3         gNBtT4DSyFiGaaO9N5Hdz5pREL9cBkA9CQCn9Zal7YLTLLAKFSYra3RTTxdSzYrN8Bcc         AgeZlxxAybN3j7MbE7luje1iDNRxkXv1bXs72hutFUHWHyOeYNPQEmG/iEo+GX4hEqVd         o6y/7PSJ2CvKUI2LqUzd0qkjrr377oxErvRLy3qm1pOHc+Ei+Fn6UXU9IpuMdQaVfumj         x82koBwfEm/zzZUj+l0DvrBdS2OzjyHmg5IBqPWsISiS8lVK1I4v1tGIQefkF4UREgi5         slhg==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:content-language:accept-language:in-reply-to         :message-id:date:thread-index:thread-topic:subject:to:from         :dkim-signature;        bh=PEJSEziG2IrGmcJijek8Rca1tatIzcI56D20YIngn2M=;        b=Xpt/dbnKVL49FZZzXSEAX5B49q/vK2aDNaLzHkut7iJ+3COGxJzEJgD4fmpZ/IWlUJ         P2Htpi5PnGdeK156yZewfa7is20K60WGbsFBqM3Fdax8lALuGZOnexAyvFzMZaRoVq46         R8keFGV/qt+NPswbcfjAXr5uhSmfH4VC3O9UVsN2nhmlaWiRGTE2jYzpcLUAGDMXLFEC         yztPlM9ZxtG9PbR9UXhAvi4tXY4nye4awo9cKRWfjfAxLiUQermqlxfMtzz1xlY8UY2N         KHgCBUENDjw1B9PfjvbgQHMNkurFdBHpsgLoLCH8pBJkhMbbV53KyCd06K0jNvMw8p+v         95Bw==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1561460572; cv=pass;        d=google.com; s=arc-20160816;        b=vOoDXMdAAp2x7Gk0TshLHDE+IVmXLPh80ms1Npb+MUfSoEJCLncjMtP5q19SmhVBkl         V7ClaQhmMk04+UsdOWpOpQvHt6Y7A/5FNdx+lrjeWWliYvMaGqZic7cxDaMjenZDx/Uf         6ES0cCxUegbkKWpRPIrz1Y3KRfppG5OSGIjiVjxCOteTm6gCFCzR3u4hhS7j2gBQmcF4         /rY9IYJsi90IcfhfV6Ytxm4P9pOrhNM1Nlg1w0irTS5WeXQ7fjHTbB/btecNxRfxKrBv         rd5ZSBwYZ7LBTpdU+CwiQ3cu2wKbnCBSHAlGVFo+soNPo9SJx8G75voQe96tPDeFku8J         v4XQ==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1561460572; cv=pass;        d=google.com; s=arc-20160816;        b=NToviN5fo5EIVnIXyxw436ktkpftKTGik8FDqQ/664MGNX/Y8gOtlXkmR6tCqlff+L         WBR1WbOg7XJ0l8pLV7Dwp+HRRKSbHH1WUrWEeTa1Ddsds8qUfkjtVcG2+zDRvaxWCBoZ         hA+6mSiUg0+J72tZkLyt2LUlU99dMRCQoUfhOH2R15aHPNiDdY80fwTYUOxRL9fE6NQG         ybMyhrzmfI30B6SXuSNLbirpK3aSOXfRVa2GIL1R1ChEztycxHGxNvdurpVjCy0Vk1PG         MH6aKa+7QmHQwileGWiGaN9935yopunP1+gdgJopSH8aRZAJQxK+uGBIOu1kFLcfFBHG         lw6w==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1561460568; cv=pass;        d=google.com; s=arc-20160816;        b=X5tlscfLCAFTqx0MUoSxoYj1a1Hr3KMVQtiqTHe0CtoItFBzdFlHueTX8wVOizTKTf         7f6OPPDrBVYNaLXs1sa0IAbv+2VyKCNcWEHlz4y0PamCu5VUtED8ogTMX0GqlfzbSEpW         NuwKy6Bl8wM0u4DdK5rwqFHwYrrvg4zlkQ8uvEbPI/1VFNYyB4k0uJ61m+KUIYTpKx1t         heg/7VOzvtfRZJEHemRQ1VrNhM8Zk6+hqglujsFV1+JiVDCkQRhMZBoNsjGvnYvniCGm         SARLRTwGgpEhAcfrkFbTS9KAJS9Z6KHb9oqrpAO/7c+S+XbPrgzd2wOzJVD00pfiQG90         srBA==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1561460567; cv=none;        d=google.com; s=arc-20160816;        b=x9enpNXksMwFh7de0jgHYSqt+1LfcB7vlTiBdyxxjQnUWLbIjmDvDaErh5rYpxyn76         y6tfHXa0MxsFsH4An0wD6/uAUcIgiWIren3NZiUtQHPCZwDCyFeb3PLj5TXgxqDvqmot         zXLdGXeIwmtz01HuDvHf90jT3Vggqwn/pRMKZdyoG1piDmuGfCcDLe/84xs20hcLB9Jp         0DPpRBnkx7kmPxuTmYV5WiZs49X8JEcobFZkKDr9Wmmgh8eKKKFnxJUY+csojCSbZXsx         WWeeWWmYLgIz0PZufxLIqf3ptFRYdho81bNOLzcZjcMhxSROpWG6eSnZWVDThQxoAIz3         pPPg==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:from:to:subject:thread-topic:thread-index:date:in-reply-to         :accept-language:content-language:mime-version:message-id         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=PEJSEziG2IrGmcJijek8Rca1tatIzcI56D20YIngn2M=;        b=iKRxy7GeAvZUkw7qpy5HaMEMdzAHPD3Mn2mxNqFFo4I6xi1RfmjdzU0s9tbgkMox64         wXRdD9oAMbCph0K3BHwDZW1I+nDqDSq7mnMqxPbaZHnNaIgssQUEZs80fTmkvtc1tERi         PwjWCxBMEU5XTMB8HQRmSJCzoXlckNGVx43lSAO2P6d58+LAvqnbsFSa6R+HVSchGROF         HRtaCXV9FD+QmYeg2dtZviOXRKE9MhwTN+sKyf5KKnc77iK0MmbzOjsAnvX/YTRSWTMH         b2GHzOW80DWTTUelMa/JItDvq3G7r1ugURLUvl35fkZTMCrO+gyL6SVOInvT7luFy8yT         PD8w==</li>
<li>In-reply-to: &lt;<a href="msg00246.html">DM6PR03MB434895649FED02B6272022F6C5E00@DM6PR03MB4348.namprd03.prod.outlook.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-index: AQHVKEaot4jk/zb20Ea5RlJvP8bKoqamqfQAgAEbJ1WAA0r2gIAAB0+AgAAAagCAASKqgA==</li>
<li>Thread-topic: Fwd: Re: [ferret_users] Masking and set var/bad = 0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->



<div dir="auto">The very simple yet frustrating fix was to use Shade rather than Fill!!!&nbsp;</div>
<div class="gmail_extra"><br>
<div class="gmail_quote">On 24 Jun 2019 18:42, &quot;JoshAB1995@xxxxxxxxxxx&quot; &lt;joshab1995@xxxxxxxxxxx&gt; wrote:<br type="attribution">
<blockquote class="quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
<div>
<div dir="auto"></div>
<div class="elided-text">---------- Forwarded message ----------<br>
From: joshab1995@xxxxxxxxxxx<br>
Date: 24 Jun 2019 18:40<br>
Subject: Re: [ferret_users] Masking and set var/bad = 0<br>
To: &quot;Ansley C. Manke&quot; &lt;ansley.b.manke@xxxxxxxx&gt;<br>
Cc: <br>
<br type="attribution">
<blockquote style="margin:0 0 0 0.8ex;border-left:1px #ccc solid;padding-left:1ex">
<div dir="auto">Hi Ansley,
<div dir="auto"><br>
</div>
<div dir="auto">Thanks again.&nbsp;</div>
<div dir="auto"><br>
</div>
<div dir="auto">So i do want them to be missing but when i exclude the 0 the entire output is empty, and then when i set 0 as bad the whole thing disappears too.</div>
<div dir="auto"><br>
</div>
<div dir="auto">Going to try it with the coads later and see what happens. It might be because some of the months are zero in terms of the strat value and so its getting confused about which section of my calculations to mask?&nbsp;</div>
<div dir="auto"><br>
</div>
<div dir="auto">I'll feed back my results when i get a chance to log on later.&nbsp;</div>
<div dir="auto"><br>
</div>
<div dir="auto">Many thanks,&nbsp;</div>
<div dir="auto"><br>
</div>
<div dir="auto">Josh</div>
</div>
<div><br>
<div class="elided-text">On 24 Jun 2019 18:14, &quot;Ansley C. Manke&quot; &lt;ansley.b.manke@xxxxxxxx&gt; wrote:<br type="attribution">
<blockquote style="margin:0 0 0 0.8ex;border-left:1px #ccc solid;padding-left:1ex">
<div>
<p>Oh yes of course if you want the values to be valid data with a value of 0.&nbsp; If a shade plot of this looks correct<br>
</p>
<p><tt>LET no_strat = if stratified[l=1:12@sum] eq 0 then 1 else 0<br>
</tt></p>
<p>then I'm not sure why <br>
</p>
<p><tt>set var/bad=0 </tt><tt>no_strat <br>
</tt></p>
<p>wouldn't give you what you expect.<tt><br>
</tt></p>
<p>Can you see a difference in what you're trying and this example:<tt><br>
</tt></p>
<p><tt>yes? use coads_climatology</tt><tt><br>
</tt><tt>yes? let mymask = if sst[L=@ave] gt 15 then 1 else 0</tt><tt><br>
</tt><tt><br>
</tt><tt>yes? shade/lev=(0,1,1)/key=center mymask</tt></p>
<p><tt></tt><tt>yes? set var/bad=0 mymask</tt><tt><br>
</tt><tt>yes? shade mymask</tt><tt><br>
</tt><tt><br>
</tt></p>
<p><br>
</p>
<div>On 6/22/2019 8:07 AM, <a rel="nofollow" href="mailto:JoshAB1995@xxxxxxxxxxx">JoshAB1995@xxxxxxxxxxx</a> wrote:<br>
</div>
<blockquote>
<div>
<p>Hi Ansley,</p>
<p>&nbsp;</p>
<p>Thanks for this. It makes sense, however by removing the else 0, ferret doesn&#x2019;t display anything in the output [fill/sha etc]. When I add in the else 0 then it will display the output.</p>
<p>&nbsp;</p>
<p>Even when using a variation on your equation:</p>
<p>&nbsp;</p>
<p>LET/bad=-9999 no_strat = if stratified[l=1:12@sum] eq 0 then 1 else (-9999)</p>
<p>&nbsp;</p>
<p>The output shows no valid data... Bit stuck, maybe it&#x2019;s something to do with the land values? (which are selected by my l=1:12@sum eq 0)</p>
<p>&nbsp;</p>
<p>Thanks again,</p>
<p>Josh</p>
<p>&nbsp;</p>
<p>Sent from <a rel="nofollow" href="https://go.microsoft.com/fwlink/?LinkId=550986">Mail</a> for Windows 10</p>
<p>&nbsp;</p>
</div>
<hr style="display:inline-block;width:98%">
<div dir="ltr"><font style="font-size:11pt" face="Calibri, sans-serif" color="#000000"><b>From:</b>
<a rel="nofollow" href="mailto:owner-ferret_users@xxxxxxxx">owner-ferret_users@xxxxxxxx</a> <a rel="nofollow" href="mailto:owner-ferret_users@xxxxxxxx">
&lt;owner-ferret_users@xxxxxxxx&gt;</a> on behalf of Ansley C. Manke <a rel="nofollow" href="mailto:ansley.b.manke@xxxxxxxx">
&lt;ansley.b.manke@xxxxxxxx&gt;</a><br>
<b>Sent:</b> Friday, June 21, 2019 11:04:10 PM<br>
<b>To:</b> <a rel="nofollow" href="mailto:ferret_users@xxxxxxxx">ferret_users@xxxxxxxx</a><br>
<b>Subject:</b> Re: [ferret_users] Masking and set var/bad = 0</font>
<div>&nbsp;</div>
</div>
<div>
<p>Hi Josh,</p>
<p>Zero is a bit problematic for use as a bad-value, especially when your data contains zeros.&nbsp; Try it this way:<br>
</p>
<p><tt>&nbsp;&nbsp; LET no_strat = if stratified[l=1:12@sum] eq 0 then 1 </tt><br>
</p>
<p>You don't need an &quot;else&quot; here.&nbsp; By default in an IF, if there is no else it's treated as &quot;else missing&quot;.&nbsp; As I've written that command, the default missing-value of -1.e34 will be used for missing-data. If you want to assign a particular missing-value, then
 you can do that right on the LET command.<br>
</p>
<p><tt>&nbsp;&nbsp; LET/bad=-9999 </tt><tt>no_strat = if stratified[l=1:12@sum] eq 0 then 1
<br>
</tt></p>
<p>Also have a look in the documentation about the distinction between <a rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPINDEXENTRY_553">
IF and IFV</a>.&nbsp;&nbsp;&nbsp; There can be valid values of 0 in data.&nbsp;&nbsp; Here's a variable with one value that's 0 and another that's missing.<br>
</p>
<p><tt>yes? let var = {6, 2, 0, 2, , 3}</tt></p>
<tt>yes? list IF var then 1</tt><tt><br>
</tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARIABLE : IF VAR THEN 1</tt><tt><br>
</tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SUBSET&nbsp;&nbsp; : 6 points (X)</tt><tt><br>
</tt><tt>&nbsp;1&nbsp;&nbsp; / 1:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;2&nbsp;&nbsp; / 2:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;3&nbsp;&nbsp; / 3:&nbsp;&nbsp; ....</tt><tt><br>
</tt><tt>&nbsp;4&nbsp;&nbsp; / 4:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;5&nbsp;&nbsp; / 5:&nbsp;&nbsp; ....</tt><tt><br>
</tt><tt>&nbsp;6&nbsp;&nbsp; / 6:&nbsp; 1.000</tt><tt><br>
</tt><tt><br>
</tt><tt>yes? list IFV var then 1</tt><tt><br>
</tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARIABLE : IFV VAR THEN 1</tt><tt><br>
</tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SUBSET&nbsp;&nbsp; : 6 points (X)</tt><tt><br>
</tt><tt>&nbsp;1&nbsp;&nbsp; / 1:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;2&nbsp;&nbsp; / 2:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;3&nbsp;&nbsp; / 3:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;4&nbsp;&nbsp; / 4:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;5&nbsp;&nbsp; / 5:&nbsp;&nbsp; ....</tt><tt><br>
</tt><tt>&nbsp;6&nbsp;&nbsp; / 6:&nbsp; 1.000</tt><br>
<br>
<p>By the way, you shouldn't be able to X as a variable name. (Did Ferret really let you use that command? Or were you just simplifying for writing the question? A command with&nbsp; LET X = should return an error, &quot; **ERROR: command syntax: cannot define: X&quot;)&nbsp;&nbsp;
 X is a <a rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/DEFINE#_VPINDEXENTRY_1352">
reserved keyword</a> , used to refer to the x coordinate of the grid, so it's best to use other variable names.</p>
<p><br>
</p>
<p><br>
</p>
<div>On 6/21/2019 8:40 AM, <a rel="nofollow" href="mailto:JoshAB1995@xxxxxxxxxxx">JoshAB1995@xxxxxxxxxxx</a> wrote:<br>
</div>
<blockquote>
<div>
<p>Good Afternoon,</p>
<p>&nbsp;</p>
<p>I&#x2019;m having an issue using the set var/bad = 0 <b>dataset</b> command. I&#x2019;ve defined some new regions as the following, to indicate presence or absence of stratification:</p>
<p>&nbsp;</p>
<p><i>let X = if stratified[l=1:12@sum] eq 0 then 1 else 0</i></p>
<p><i>let Y = if stratified[l=10:2@sum] eq 0 and stratified[l=3:9@sum] gt 0 and stratified[l=3:9@sum] le 3 then 1 else 0</i></p>
<p>&nbsp;</p>
<p>So this creates a map of 1&#x2019;s where the region matches what is described in the mask, and 0&#x2019;s where it doesn&#x2019;t.</p>
<p>&nbsp;</p>
<p>So now I try to mask out all of the 0&#x2019;s so that I can create shapefiles of the areas matching my description using:</p>
<p>&nbsp;</p>
<p><i>Set var/bad = 0 X</i></p>
<p><i>Set var/bad = 0 Y</i></p>
<p>&nbsp;</p>
<p>However, this seems to mask the entirety of my data and I get a screen telling me that no data is available.</p>
<p>&nbsp;</p>
<p>Does anyone have any clues as to why this happens? Because I am lost for ideas, I think it might be to do with the fact that both of these &#x2018;original&#x2019; datasets will have values of 0 (as seen in original definitions), and so it is masking the original dataset,
 does anyone know how I can make the mask apply only to my map of 1&#x2019;s and 0&#x2019;s?</p>
<p>&nbsp;</p>
<p>Many thanks,</p>
<p>&nbsp;</p>
<p>Josh</p>
<p>&nbsp;</p>
<p>Sent from <a rel="nofollow" href="https://go.microsoft.com/fwlink/?LinkId=550986">Mail</a> for Windows 10</p>
<p>&nbsp;</p>
</div>
</blockquote>
<div>-- <br>
<i>Ansley Manke<br>
NOAA/PMEL Science Data Integration Group<br>
7600 Sand Point Way NE<br>
206-526-6246</i></div>
</div>
</blockquote>
<div>-- <br>
<i>Ansley Manke<br>
NOAA/PMEL Science Data Integration Group<br>
7600 Sand Point Way NE<br>
206-526-6246</i></div>
</div>
</blockquote>
</div>
<br>
</div>
</blockquote>
</div>
<br>
</div>
</blockquote>
</div>
<br>
</div>



<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00250" href="msg00250.html">Re: Fwd: Re: [ferret_users] Masking and set var/bad = 0</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00246" href="msg00246.html">Fwd: Re: [ferret_users] Masking and set var/bad = 0</a></strong>
<ul><li><em>From:</em> JoshAB1995@xxxxxxxxxxx</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00246.html">Fwd: Re: [ferret_users] Masking and set var/bad = 0</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00250.html">Re: Fwd: Re: [ferret_users] Masking and set var/bad = 0</a></strong>
</li>

</UL>
<center>[<a href="msg00246.html">Thread Prev</a>][<a href="msg00250.html">Thread Next</a>][<A HREF="threads.html#00247">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
