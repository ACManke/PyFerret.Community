<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] ppl commands for a Vector overlay on a projection. -->
<!--X-From-R13: Oafyrl [naxr <n.p.znaxrNtznvy.pbz> -->
<!--X-Date: Mon, 21 Jun 2021 17:34:59 &#45;0700 -->
<!--X-Message-Id: 748069d3&#45;6a87&#45;57f1&#45;4038&#45;dd92290114c0@gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAP06G6Q256oQsRjOathZpHjLw6aLSRJkvQu5pvpKn2pMsF3TkA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] ppl commands for a Vector overlay on a projection.</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00954.html">Thread Prev</a>][<a href="msg00959.html">Thread Next</a>][<A HREF="threads.html#00956">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] ppl commands for a Vector overlay on a projection.</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] ppl commands for a Vector overlay on a projection.</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 21 Jun 2021 17:34:39 -0700</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=RvpMArek;       arc=pass (i=2 dkim=pass dkdomain=gmail.com);       spf=pass (google.com: domain of <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> designates 209.85.222.197 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=RvpMArek;       arc=pass (i=2 dkim=pass dkdomain=gmail.com);       spf=pass (google.com: domain of <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> designates 209.85.222.197 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=RvpMArek;       arc=pass (i=1 spf=pass spfdomain=gmail.com dkim=pass dkdomain=gmail.com dmarc=pass fromdomain=gmail.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> does not designate 65.153.203.174 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=RvpMArek;       spf=pass (google.com: domain of <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :message-id:content-language:content-transfer-encoding:in-reply-to         :mime-version:user-agent:date:from:references:to:subject:sender         :dkim-signature;        bh=joNineQae0phXURj3fx8W3MAKJERmc5iN69/wKredhg=;        b=XW4HpSWtC6un963yiA8JVW88yjpTODLsO6ImuQ5g2yII+h/hylpsugy2yFuXDcgBj6         86j7YF6GyzTcEVHows2h0d4Cr3zv77xinjteQwsaf42X64fOwc6Wj/rNmr3sMS/7+gc6         HH1PNAzcJ1bdHNWGwfSXJp+ISYQyVtu498/otXwMnf1dxz5K1WPE0hxBJuA5yc4Vv01g         m0QnfUQ4VnP4Xfem7ZDGgBROcUWaPlywR6XPqZvVmSZwGbE6kSZEAUOUT0Mg4vzBl9zV         OuJZvOhFDhQRiR2zMZ1Ya4ilIf8m38JgkHwG6pUupb+UUDGIbXFeYKMhEWRZOkU/NJJY         cKzw==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:content-language:content-transfer-encoding:in-reply-to         :mime-version:user-agent:date:from:references:to:subject         :dkim-signature;        bh=joNineQae0phXURj3fx8W3MAKJERmc5iN69/wKredhg=;        b=EjoQZyRIKS/RTtw73Lp91LfzhpoQxEC5ar6LiyNv9+W6WV/JtQk6JO56WkMT2rdB8g         Zie/Hrn/AQyMALNcDbSG9BwDcAz2rm6zbHUEoMad8GEyydcuTR68UQ/lx2AyTuJsD2W+         3QKY5Rtqo2pyoamvtEoKJSc2TxHOSM6od/Wuf6cRgXZxlrXaRAfmq2rENs/E2qqwIecq         HhiSQ4qi5gs5JK575Pu02fsWZb5bQJz6tWCyfAieienAyM2VjpDUw+bqyPjHBnVfXzTM         fU0TcVhdo5vHjn7ryHtdgjnKrLBQh1fIZ1U1dMztljLJV1agvB9jMG+SA9MEVxzo15BN         TQow==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:message-id:from:references:to:subject         :dkim-signature;        bh=joNineQae0phXURj3fx8W3MAKJERmc5iN69/wKredhg=;        b=Vq4g0Fm5XjVfKXK1052EpgP/ZwHsx6ePq2cq3W1KtB7AaR5bh6HHK9zpZvnWhBFueN         dygT6DfGkQmYBEcle8avmc4iyFv+ZLqdiy+YWtiPLe5PyEExY2q4rE6+vZ8A47WbIeQt         qTroZNSXVn6ea072Zq6c0qeU5p7BbM9KtHSocSr7Cl46GEhwtn7A0/vzUce5S1hBX1WO         c8iTI4veYH4Cogqz42iAU/WeuEQQrD7GNQA+RIrq0kglHozmJGOW9/krXNfMzx3b4v6L         SmfISYaf6FclBKOr3BAadzVeCtKKSnpOycrujPzcMBuLwjGMOuo5s8+vvXP5pz4DAhVt         ss3w==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:message-id:from:references:to:subject         :dkim-signature;        bh=joNineQae0phXURj3fx8W3MAKJERmc5iN69/wKredhg=;        b=UX2eb1GOQIiXAfUCXzlLeOtW0xf0dM0le2QpeKHqMttgZgxi4tLuiBT2824Kyv93+X         xq9QXodmJulKT37MMRbzaiIb5nvxkr4FDZ6lMI55/xeuOmaJ44Jr518VYYFkLBLeW5U9         +l4EoGk9QtCLS9mEUTxlEFmFjDxg4sHXtqcofTlTaQs4+StQqqK30f0Dz6Y0udMbLxzm         I7Cr0R+zmUUJnMa3j4WIFrTIQcXlMbAfGPxyte2PDD4/i+undxYqpwzIrUszMITpgLv9         I4lY7QoblHLgb3WXgHsE39d+Y5bts0gYZQb+zUCUIQdQhaDMhOR/kW1uixyr4xR5McA1         uJqA==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1624322098; cv=pass;        d=google.com; s=arc-20160816;        b=VrpA70CEBX+hBh94lMNGjhHrD+lymW8mtY/59IseczGOSm9L+JrDFW5wR0FURUx4nQ         wFRR9jxA4thJykNCkVMp4Low+SsQTFFO3/84kF0jBWHRN0xrx+J0NPLFyhknhSyjIQya         RKon3FH0bUCWdTq33eNdeOPCWMCxHdFaJEVxW+BkkAF5B/mLQ3QFSJ15I3IBs2wfEYBT         /PE+B4FQZkVi7h52EAcFg9hpnJ3i8xrnNkPIPHs6bMOvdPDvwl3ifse9jGIU78m0KruJ         QpxqMvOtE54qKHB/wffdP9+Fnyc1iiKn8A/0pKuVByPsv3usQR/HNv60avP8FKXcGgWk         Eftw==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1624322097; cv=pass;        d=google.com; s=arc-20160816;        b=szft29973wWrbz8O8q+Jrt3doAeTikne1b69Cy534zwQhzD0lcvo3+4CngaXhz/gnP         TLW/p2OoNslAUhZWDCagtB5Z3spp26UBLGPK+gcummAeC+5Q2woA72qxJSqzS+7WsZAM         n8P4H2pstm1dVVjXGHl6k06AKGvpDgw+bw7mVVxIZTYpFRgZ+/96XarTag0Bh8rAKCec         uw4HceK2UaOBuCdauWCD2lxNsKl8Q24MzKPy8Wb/1EmEfRcYuK+FyaljcaDJcousu0on         kcm5RYzGMCSm6iUNfhYkhhlHRjDn6Q4jC6yPd4wNeoUjGAxZqkG+ZqALut5HrllfUSRk         4xNA==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1624322095; cv=pass;        d=google.com; s=arc-20160816;        b=TOeKJQmBvQ8K4L6/anB8sX2zpeYDmGjRC1LEmh9OPoCLuPs5KVNfz6jpLOVTacfF3c         zl56nXxrf7VTHSlZZhf059+ag6J8+ywdC+bDDbcbyKCeIdj30zRyqgk8LFwjNHlMntfd         VVvi3w6CxZD+qPSqebM+t7seCP49S0BkfBLNHt9Sh+Esyrf4r10De9XIY1r0mBRrFTIy         izu+S8lGgJGT9qBMvEd+Pa405vVA2fcAW9bP1OT+kd2cXLd8YlliPP6hxydZHG8f4Shp         D4jwxSpyzk2ATBUofU4vbODifwwetA+xUYzASeXQrDGm2wbzLVzNxqTeFuvxwOq8NFDp         /ntg==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1624322093; cv=none;        d=google.com; s=arc-20160816;        b=v+aNmjtxBdivuKkS23wQo9cvYpxXKkedVS/A+nWw2tC6D5xxjQYODp2xbgnCWUDMX4         cYkaEbjFwUA1QnIJX79gypC07vMLRrXLKhQ9TRcmRwcpA5kDXCS2LPlMSve65UZH4LDD         UvaJXeJSSH5dajgnU7KvmvJ+Eg7nyl67H8KXJZLux61N9k4od1IFEu8zaMyBkTuKW/EC         CRQK86dFD7ugmAhWbUOu33KR9K/numQxt1MSQtaduNblBYlw0WSauaL+Jhpbt2ATbsbE         Yf+4+B4i3Awwh0lJ0M/GiqbpY1ONXfmJ/a2bQhtQz0agNvLc1KbNG/s5xFgrEC8sw17l         jidA==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:subject:to:references:from:date:user-agent:mime-version         :in-reply-to:content-transfer-encoding:content-language:message-id         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=joNineQae0phXURj3fx8W3MAKJERmc5iN69/wKredhg=;        b=nhoAnJ1SkQMCGKiqa3qPOlWmZI4JviJgvdW5sXRp9ZrIaN+iJZM+ea5Qhsd0zyYtjg         CuEnQ0SiFA+5AzyWv7If7r76sgNoWys+4UKRgUpigowAb2+xkMwDk+QTC+vFLUTw0VwQ         6XW1+El3O2GKkvw+zKCDLS0AAcRLQFMJuGtgV68791nLCOuyLjySZwHV6hQvJ9cf2ToF         gE9EMrY820h4M/jWbymTK8+aYQulibppL05yoVDP0N2WVWwaTptbcyADRLIqPl7niyPz         3eXnrQRy6L/IrN2PpKQf9DBKZKcYVAoQS6ubHABRyHMW8pzDcrfTKwwRk3iRrQVpT4VF         f0MA==</li>
<li>In-reply-to: &lt;<a href="msg00954.html">CAP06G6Q256oQsRjOathZpHjLw6aLSRJkvQu5pvpKn2pMsF3TkA@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00954.html">CAP06G6Q256oQsRjOathZpHjLw6aLSRJkvQu5pvpKn2pMsF3TkA@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0) Gecko/20100101 Thunderbird/78.11.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Alexander,

</pre><tt>I haven't tried your examples in any detail, but I think for the map 
</tt><tt>projection vector overlay to work correctly, you would need to have the 
</tt><tt>vector variables on the same grid as the underlying plot.&#xA0; That way the 
</tt><tt>x_page, y_page coordinate variables are defined once and are consistent 
</tt><tt>for the plot:
</tt><pre style="margin: 0em;">

USE RawERA5WindSpeed500Annual.nc
USE RawERA5WindSpeedComp500annual.nc
go mp_mcbryde_fpq
go mp_grid p[D=1]

Set window/asp=0.7 1
SHADE/PALETTE=difference/nolab/LEVELS=(-38, 38, 2) p[D=1], x_page, y_page

let uwnd_ov = uwnd[d=2,gxy=p[d=1]]
let vwnd_ov = vwnd[d=2,gxy=p[d=1]]

</pre><tt>VECTOR/overlay/Thickness=0.25/Xskip=60/Yskip=40/set Uwind_ov, Vwind_ov, 
</tt><tt>x_page, y_page
</tt><pre style="margin: 0em;">
ppl VECSET 0.25,25
ppl VECKEY/NOUSER 3.5,1,,(f3.0,&quot; m/s&quot;)
ppl vector/overlay




On 6/21/2021 9:05 AM, Alexander Audet wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hello ferret community,

</pre><tt>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; Not sure if this is an impossible combination, but 
</tt><tt>I was trying to see if I could refine my vector overlay over my 
</tt><tt>projected shade. In one method, I try to use PPlus commands after 
</tt><tt>setting up the vector overlay, however, without fail this creates a 
</tt><tt>black map and does not seem to produce the desired effect with the legend.
</tt><pre style="margin: 0em;">

USE RawERA5WindSpeed500Annual.nc
USE RawERA5WindSpeedComp500annual.nc
go mp_mcbryde_fpq
go mp_grid p[D=1]
go mp_grid Vwind, Uwind
Set window/asp=0.7 1
SHADE/PALETTE=difference/nolab/LEVELS=(-38, 38, 2) p[D=1], x_page, y_page
</pre><tt>VECTOR/overlay/Thickness=0.25/Xskip=60/Yskip=40/set Uwind, Vwind, 
</tt><tt>x_page, y_page
</tt><pre style="margin: 0em;">
ppl VECSET 0.25,25
ppl VECKEY/NOUSER 3.5,1,,(f3.0,&quot; m/s&quot;)
ppl vector/overlay
GO mp_land
go mp_label 675,80,0,0,0.13&#xA0; &quot;ERA5&quot;
PPL COLOR,6,50,50,50
Go mp_graticule 0, 360, 20, -90, 90, 20, 6, 1

</pre><tt>In another variation, I can use PPlus commands before shading, 
</tt><tt>however, while&#xA0;this does impact the standard vector length, and the 
</tt><tt>format&#xA0;of the vactor key, it does not place the key where desired. It 
</tt><tt>even seems to have mixed results about getting the scale correct, and 
</tt><tt>I think when it gets it correct, it might just be due to rounding.
</tt><pre style="margin: 0em;">

USE RawERA5WindSpeed500Annual.nc
USE RawERA5WindSpeedComp500annual.nc
go mp_mcbryde_fpq
go mp_grid p[D=1]
go mp_grid Vwind, Uwind
Set window/asp=0.7 1
</pre><tt>SHADE/PALETTE=difference/nolab/LEVELS=(-38, 38, 2)/set p[D=1], x_page, 
</tt><tt>y_page
</tt><pre style="margin: 0em;">
ppl VECSET 0.25,25
ppl VECKEY 1,1,,(f3.0,&quot; m/s&quot;)
ppl shade
</pre><tt>VECTOR/over/NOLABELS/KEY/Thickness=0.25/Xskip=60/Yskip=40 Uwind, 
</tt><tt>Vwind, x_page, y_page
</tt><pre style="margin: 0em;">
GO mp_land
go mp_label 520,80,0,0,0.13&#xA0; &quot;ERA5&quot;
PPL COLOR,6,50,50,50
Go mp_graticule 0, 360, 20, -90, 90, 20, 6, 1

</pre><tt>I can live without the scale placement as I can always move it in 
</tt><tt>illustrator, though it may be a pain to keep it the correct size when 
</tt><tt>resizing my images, however not being able to control the scale could 
</tt><tt>be a dealbreaker.
</tt><pre style="margin: 0em;">

Cheers!

Alexander
</pre></blockquote>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00959" href="msg00959.html">Re: [ferret_users] ppl commands for a Vector overlay on a projection.</a></strong>
<ul><li><em>From:</em> Alexander Audet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00954" href="msg00954.html">[ferret_users] ppl commands for a Vector overlay on a projection.</a></strong>
<ul><li><em>From:</em> Alexander Audet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00954.html">[ferret_users] ppl commands for a Vector overlay on a projection.</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00959.html">Re: [ferret_users] ppl commands for a Vector overlay on a projection.</a></strong>
</li>

</UL>
<center>[<a href="msg00954.html">Thread Prev</a>][<a href="msg00959.html">Thread Next</a>][<A HREF="threads.html#00956">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
