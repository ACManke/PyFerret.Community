<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Adding a time&#45;axis -->
<!--X-From-R13: Yney Ezvgu &#45; @AOO Ossvyvngr <xney.fzvguNabnn.tbi> -->
<!--X-Date: Fri, 29 May 2020 09:46:37 &#45;0700 -->
<!--X-Message-Id: CAELLC7VOT7MHLLKRAb_ob1bS2_m71nZwh+VP686bWGhjDXOhfg@mail.gmail.com -->
<!--X-Content-Type: multipart/related -->
<!--X-Reference: CAP06G6ROUiwDL+=BomxwLeQmxKT7jKy_a7CX8oBCU5yh872+tA@mail.gmail.com -->
<!--X-Reference: 57e36b4c&#45;a220&#45;2d58&#45;12b6&#45;89ea0de2c4b6@noaa.gov -->
<!--X-Reference: CAP06G6Qnu4vS1TH2nA27ack=MDeT3K5EGusYVXH4bveX+hSCcw@mail.gmail.com -->
<!--X-Derived: png6hNwOgYPvI.png -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Adding a time-axis</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00707.html">Thread Prev</a>][<a href="msg00706.html">Thread Next</a>][<A HREF="threads.html#00712">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Adding a time-axis</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Alexander Audet &lt;<a href="mailto:alexander.c.audet@DOMAIN.HIDDEN">alexander.c.audet@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Adding a time-axis</strong></li>
<li><strong>From</strong>: <strong>Karl Smith - NOAA Affiliate &lt;<a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 29 May 2020 09:46:24 -0700</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=LQpXrOBx;       spf=pass (google.com: domain of <a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=LQpXrOBx;       spf=pass (google.com: domain of <a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence:cc         :to:subject:message-id:date:from:in-reply-to:references:mime-version         :dkim-signature;        bh=Gf/0b/VqpZZWPE+SB3f8f6DlVLNYnMDDdjkwyzpvaWY=;        b=oabKFOD1zEZqsO4YXkVC/nL+H7Q1vwjYA8Wcg0x9ia6f1xZDz8n4naLpmRNASTiCiu         XCxA1SNcU4cah58w4CWObXEfRR+GisP1hdcJV/GOFHKFr9mQBbMwbQTihBOlSPrNdLCC         kTKONjOMB4MYnxBwlvCDAaUmaiJcOkQjNowzMHAbNR8LGMbYI8u/sG/cq6bYPakmHngD         3sNfEbut+IVDHEBjM2fIhXt5I1x3X7Rmp1unN1+9vojk6OPAcxcssnsCeYYtp7Ej+aiA         +O50llnmW5mSknkmcbONkEkNY2QO2bwZ4RXjAfpgVe4jzHkoKQ+GBp4DEVLHQ0f9epbO         Eo+Q==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=Gf/0b/VqpZZWPE+SB3f8f6DlVLNYnMDDdjkwyzpvaWY=;        b=JjPbgVO627zOa0BqoEMD0fzjrl/rksq5M/LefeMFPkJuRz/WXQE61URdzWyPBkT0zn         2oMS8IwiGsWE4I/FbLYbqWglEmsB8qlPHBcwZhxP3qqxrRul633b7bM0oR06ay8qnZj2         3RbAW3ZIQAfkPIcnQHH53lJM1c4+aeq0Jro3RHqCMfYBr0j+V+dKWyF9ulrzQmlnasAn         +ynQ0171E0TsSMx+JrJ7t7XcltTyFHi8qABx75aL6UjAdEsiClKPeb6i5/oRV8LCu3Xw         UYLzHQ/myK8hKisZvfDp0IrdR5Vz+msjFlYBSas2nY2oqzj/IH5VYD/bUaUHLCttlkoY         3y3w==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1590770797; cv=pass;        d=google.com; s=arc-20160816;        b=BOGd//lW81kV59YE/Vt0MafqiVvWqN64GhcEcWP5TCs+l2gBePVGum6BPZOur6hmSW         MtrNt3j/O5BcwPaOjrTYX4M1CYthIq8Sbts0ifXxotJRA+qeXBoyV4Ty/+Uy7hvJUMdq         FVE/+ybD8ACPXn6wrrZTuXjW6OESOgsUqM1ai4aTbMBaRcEv8LCRIefawAX2/84Gz6m8         GF9FEkHhTpAAun2I3SA8o4RlR8GbkWkS8ekPbn6M3EynmBHS0Fq/UDRJKNVtO6PnKyzk         u1Iw70hfvpeFjRl3somVe/8UoNJG7bprnXzdebM6dyId0E3Szs9272QS9UpNI4gFVsa/         1HQg==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1590770796; cv=none;        d=google.com; s=arc-20160816;        b=Gy+eWsgPIwBB/HyF5nBMiYLbAsPJYH85Hj7oQI9ivRD1AyW2abyjahtD7CBJ2M2wUI         Rd4X2+t16ugd2bcHnwQwJKdSM8dUyBvULxuN50uTfcXttYMw/WaHaH2EhtrIhkZgzCBL         5ay6ZFV/1yCZZMvPcZ2jUYLfZopYf27CiltYC3pOvhy2GdcTQS18Q3La0Id6B4BD7Ruf         TcO4HOFHgdZ2K8/9tX6+hYeusmdriBBiGrpCPofGO/x7tRFPjQHokjDvgXFbDzi09SAH         chw8wN5zqV5RUT6XtG2d1mrFlDLL9d54nkxgdkX1rDBLYhkaOzEvNjx5SR5RnoJhzdRR         B2Hg==</li>
<li>Cc: &quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;,        ferret users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=mime-version:references:in-reply-to:from:date:message-id:subject:to         :cc:x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=Gf/0b/VqpZZWPE+SB3f8f6DlVLNYnMDDdjkwyzpvaWY=;        b=MqKYzrL/ihATaHKO06IbcXPHSaht9Qk0rjrr0B0Szukk5gk9OfmenwmoLUwlnSjY03         KzOD2zmvhUN4yR5QVAKgoFLrKxIsSLw3LlTip+zLqwtpkYOCFfKdB2MlDqisjHJJooQF         2UR8JkX+Ld8SMGc2T4p+K3pFWQtKea1HW/Ak0dBTtPtV4OTpRCvHUDAcB7MeY8EfDuzD         ZTk/y1DtF+yA+EgHyErSBkTwxjrv5sNXLSO+okeUlpdO/XpviK7FMCK0/x12SjzbNoFo         8oAKW40Z7WQapeW4d7h9BQWVF1ygGI9Uwl5kQg5NwWLT9whOooT0p51QR6lkmxUPdvJl         qQ9A==</li>
<li>In-reply-to: &lt;CAP06G6Qnu4vS1TH2nA27ack=MDeT3K5EGusYVXH4bveX+hSCcw@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CAP06G6ROUiwDL+=BomxwLeQmxKT7jKy_a7CX8oBCU5yh872+tA@mail.gmail.com&gt; &lt;<a href="msg00705.html">57e36b4c-a220-2d58-12b6-89ea0de2c4b6@noaa.gov</a>&gt; &lt;CAP06G6Qnu4vS1TH2nA27ack=MDeT3K5EGusYVXH4bveX+hSCcw@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Hi Alexander,<div><br></div><div>When ncdump prints &quot;_&quot; it means the value is whatever is the missing value.&#xA0; So the printout you show is a list of missing values, as expected.</div><div><br></div><div>Karl</div><div><br></div></div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Thu, May 28, 2020 at 4:17 PM Alexander Audet &lt;<a rel="nofollow" href="mailto:alexander.c.audet@xxxxxxxxx">alexander.c.audet@xxxxxxxxx</a>&gt; wrote:<br></div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div dir="ltr"><div dir="ltr"><div dir="ltr"><div dir="ltr"><div dir="ltr"><div dir="ltr"><div>Ansley,</div><div>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; I got my time axis on, thank you! I remember having this issue before and for some reason I never found that little section of the user manual! However, my broader problem is apparently not solved by this. Namely, when I input my variable into Vapor, it does not recognize any variables/data (though there are no error messages). I have two other thoughts of what may be causing this that I am having trouble troubleshooting by myself. (Perhaps though I should explain this problem in a new post?)</div><div><b></b><i></i><u></u><sub></sub><sup></sup><strike></strike><br></div><div>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; My variables act strangely when I try to add them to a new file, requiring me to append them instead. I outlined this at the end of my first post.&#xA0;</div><div><br></div><div>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; Secondly, I am worried about how my file is recording the missing values. For example when I accidently did a ncdump and listed the file contents instead of its attributes, I noticed missing values did not have one of the values specified as either the missing_value = -1.e+34 ; or FillValue = -1.e+34. Instead it has this:</div><div><div><img width="439" height="184" alt="image.png" src="png6hNwOgYPvI.png"></div><div>I have tried using some of the tips in <a rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/VARIABLES#_VPID_75" target="_blank">3.1.6.3</a> &amp; 4 without success.&#xA0;</div><div><br></div><div>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; Basically, I am just going through <a rel="nofollow" href="https://www.docs.vapor.ucar.edu/gettingDataIntoVapor.html" target="_blank">NetCDF and the CF Conventions</a> on the Vapor website to troubleshoot what could be wrong.</div><div><br></div><div>Regards,</div></div><div><br></div><div>Alexander Audet</div></div></div></div></div></div></div><br><div class="gmail_quote"><div class="gmail_attr" dir="ltr">On Wed, May 27, 2020 at 8:29 PM Ansley C. Manke &lt;<a rel="nofollow" href="mailto:ansley.b.manke@xxxxxxxx" target="_blank">ansley.b.manke@xxxxxxxx</a>&gt; wrote:<br></div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;padding-left:1ex;border-left:1px solid rgb(204,204,204)">Hi Alexander,<br>
<br>
Just a quick answer to your first question: Adding a &quot;timestamp&quot; to a <br>
grid that doesn&#39;t have a time axis.&#xA0; You&#39;ll define a zero-valued <br>
variable that has a one-point time axis with the time value that you <br>
want, and add it to the variable that doesn&#39;t have time.<br>
<br>
<a rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SAVE#timestamp" rel="noreferrer" target="_blank">https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SAVE#timestamp</a> <br>
(By the way, look up &quot;time&quot; in the *Users Guide index <br>
&lt;<a rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/index-1/index" rel="noreferrer" target="_blank">https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/index-1/index</a>&gt;*; <br>
there&#39;s an entry &quot;*create time axis when var has none (timestamp) <br>
&lt;<a rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SAVE#timestamp" rel="noreferrer" target="_blank">https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SAVE#timestamp</a>&gt;***).<br>
<br>
Make sure you give your new variable the right title and units, etc.&#xA0;&#xA0; <br>
This uses the Ferret/Pyferret concept of &quot;conformability&quot; which are the <br>
rules used to combine variables with different dimensionality -- again <br>
have a look in the Users Guide index&#xA0; for the word conformability or <br>
conformable. I&#39;m not criticizing you for not finding these things, just <br>
pointing out some good ways to hunt.<br>
<br>
These will get you started.&#xA0; I haven&#39;t studied the rest of what you&#39;ve <br>
written, but write back if you have more questions.<br>
<br>
-Ansley<br>
<br>
On 5/27/2020 4:37 PM, Alexander Audet wrote:<br>
&gt; Ferret community,<br>
&gt; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; My main question is how to add a <br>
&gt; time-axis to a file without one. Regridding the file on a grid with a <br>
&gt; single time point does not seem to work.<br>
&gt;<br>
&gt; Original variable:<br>
&gt; image.png<br>
&gt;<br>
&gt; This is my grid:<br>
&gt; image.png<br>
&gt; *Let PascalVAPOUR = VarMonth[g=fullVAPOUR, gt=@ASN]*<br>
&gt;<br>
&gt; And here is my regridded variable.<br>
&gt; image.png<br>
&gt; (Ignore my pascal labeling, I first experimented with changing those <br>
&gt; units then abandoned that without switching the labels)<br>
&gt;<br>
&gt; Here is some background as to what I am actually trying to do:<br>
&gt; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; I have a netcdf file that is the result <br>
&gt; of a correlation analysis that I am trying to view in VAPOUR (a 3D <br>
&gt; display software). Currently, I have taken the correlation results I <br>
&gt; have calculated for each pressure level and appended them into a file <br>
&gt; with a vertical axis. However because the results are a correlation of <br>
&gt; two time series, the file does not have a T axis as is appropriate. <br>
&gt; However, when I place my completed file into VAPOUR, VAPOUR does not <br>
&gt; read it.<br>
&gt; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; It seems to me that not having a time <br>
&gt; axis might be part of the problem. (See netcdf &amp; cf conventions <br>
&gt; &lt;<a rel="nofollow" href="https://www.docs.vapor.ucar.edu/gettingDataIntoVapor.html" rel="noreferrer" target="_blank">https://www.docs.vapor.ucar.edu/gettingDataIntoVapor.html</a>&gt; on the <br>
&gt; VAPOUR page).<br>
&gt;<br>
&gt; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; On a side note, (it might be part of the <br>
&gt; overall problem) whenever I add the variables I am using to the NC <br>
&gt; files I output,<br>
&gt;<br>
&gt; *SAVE/clobber/FILE=VerticalWindSpeedNZCorrel_VAPOUR2.nc PascalVAPOUR*<br>
&gt;<br>
&gt; &#xA0;it give me this message:<br>
&gt;<br>
&gt; ***TMAP ERR: attempt to redefine line<br>
&gt; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; axis AX006YY of grid for PASCALVAPOUR doesn&#39;t match CDF file*<br>
&gt;<br>
&gt; However, I can then successfully add the variable to the file with the <br>
&gt; append function after it has been created.<br>
&gt;<br>
&gt; *SAVE/append/FILE=VerticalWindSpeedNZCorrel_VAPOUR2.nc PascalVAPOUR<br>
&gt; &#xA0;LISTing to file VerticalWindSpeedNZCorrel_VAPOUR2.nc*<br>
&gt;<br>
&gt; This also happened when I was originally constructing my vertical file <br>
&gt; from each horizontal level. The first time I clobbered and created the <br>
&gt; file, it gave me the identical t-map error and I had to re-append the <br>
&gt; variable. After the file was created though, I could append each <br>
&gt; pressure level without issue.<br>
&gt;<br>
&gt; Alexander Audet<br>
<br>
-- <br>
Ansley Manke<br>
Science Data Integration Group<br>
NOAA Pacific Marine Environmental Laboratory<br>
7600 Sand Point Way NE<br>
Seattle WA 98115<br>
<br>
I am currently teleworking and am available Tue-Wed-Thu.<br>
<br>
</blockquote></div>
</blockquote></div><br clear="all"><div><br></div>-- <br><div dir="ltr" class="gmail_signature"><div dir="ltr">Karl M. Smith, Ph.D.<br>JISAO Univ. Wash. and PMEL NOAA<br><br>Note that I am working remotely (from home)<div><br>The policy of the DOC and NOAA requires me to inform you that the contents<br>of this message are mine personally and do not necessarily reflect any position<br>of the Government or the National Oceanic and Atmospheric Administration.</div></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00704" href="msg00704.html">[ferret_users] Adding a time-axis</a></strong>
<ul><li><em>From:</em> Alexander Audet</li></ul></li>
<li><strong><a name="00705" href="msg00705.html">Re: [ferret_users] Adding a time-axis</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
<li><strong><a name="00707" href="msg00707.html">Re: [ferret_users] Adding a time-axis</a></strong>
<ul><li><em>From:</em> Alexander Audet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00707.html">Re: [ferret_users] Adding a time-axis</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00706.html">[ferret_users] pyferret aliasing in jupyter notebooks</a></strong>
</li>

</UL>
<center>[<a href="msg00707.html">Thread Prev</a>][<a href="msg00706.html">Thread Next</a>][<A HREF="threads.html#00712">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
