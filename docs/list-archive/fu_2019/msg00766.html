<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] PyFerret build failing on Mac 10.15 (Catalina) and MacPorts | Plus some MacPort/PyFerret hints -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Thu, 9 Jul 2020 11:21:58 &#45;0700 -->
<!--X-Message-Id: bfd9c85c&#45;7802&#45;7a3c&#45;dc32&#45;a8fa7684de1f@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: AE362FD3&#45;9572&#45;4A2C&#45;92AE&#45;C70DD2B06AE0@lancaster.ac.uk -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] PyFerret build failing on Mac 10.15 (Catalina) and MacPorts | Plus some MacPort/PyFerret hints</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00765.html">Thread Prev</a>][<a href="msg00767.html">Thread Next</a>][<A HREF="threads.html#00766">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] PyFerret build failing on Mac 10.15 (Catalina) and MacPorts | Plus some MacPort/PyFerret hints</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] PyFerret build failing on Mac 10.15 (Catalina) and MacPorts | Plus some MacPort/PyFerret hints</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 9 Jul 2020 11:21:54 -0700</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=&quot;eI/+tByB&quot;;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.65 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=&quot;eI/+tByB&quot;;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.65 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=/aJU73wje3MGIvUIkxiG3ERTWA2J88qfTl49EhwgE0A=;        b=kD7w6ozGfRhq2yztyn2nMfEwEYo0g60+F84Yg0+j94NRE6bl4iIpY0oN1DHjGxvEO2         Bw10WrG9UMpUDN59H0PSEfVKOhjWW3mFoGdvMEsmL52244TqPeg4Xlwptg3ypkl2Pt7w         SNN996FCBoMtjCwnHV+9JcEvXVffmEHwjPjX30TALbM3M/Ag5lqo3KZgqZublO7ZXg3+         X2thhDB9TRuRhEYgk4u0cypSpn6jZpNnalwa1jNYYi08jBgLrJEl5bjlgwIHtyONCI/5         Yhx0sFDNaqM+7w2OVmdX+cUw6a9ntivjMkbiZais57cqjnVDizoCBBMPUZHol9Mh2vzZ         uN0Q==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=/aJU73wje3MGIvUIkxiG3ERTWA2J88qfTl49EhwgE0A=;        b=qr2wtK9BsZoT4+i9l312GXL/yWoAjmyA+w5TBvz5hnofhYmZdwn8Fg2Tk8tMu6DkV+         qYhuzE03GziOmh4VDmLiQy92lnXUzsgDiqDVSVnKSyzYTULe8lG2B0HMlzziHNONAuYg         Z+UfGrbkwQl1CJR3YZNF5azP87Z2RzUNwQCyrfpd7+mqwRPBPVlMW4vOAkAcP5DZuw09         F/+CvP4bZhvhjKZsfSMpFLhsmx5VEmAXOk1oADDLZ7NdhSbCbkcfwMidH1PqT3p2yrVt         yq9HG8YyTO/lgzvscZPCY1eZdrD/2XFs+f0jtQAnXyKehqAB0Y1fHf88uRK/v1i9g25d         rWUw==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1594318917; cv=pass;        d=google.com; s=arc-20160816;        b=BreQHxRjLWOQNu7YWUhiEW86zZWJEKZpT7Ux/ThRDPriCxMrklp9xYWaUMbedbh+NH         LBF1zrWwkzCSWWG/+3ZSBv1eXMj86gVuoCkP+LHAsmX0mwWoobVIzHrco+1A2c+G8DSm         02Z9frXw1KmoA2z2z3hldB1+nh4aWTlszcU/Og8HcaKkmXqZ2zXZd02UcLk73PBSpwG3         bJcgdsBbKzNQOZyRYbOc8Z6Pfg/0FR5TWGfw6YIgZOCa42+ojh3oLQr/FTuEUGmsO7i6         qaK6dzVWXGBS57Wj1B0lZzhc2yhwfdfWnwqKUgIRBnRWIX7N78XRSWTZiUzLnyIMeFzf         5QIg==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1594318917; cv=none;        d=google.com; s=arc-20160816;        b=ELpf0J/VdhmqdpUX32gZvmcLsH/hKBT/TeyTg0D+6pK7vHw78LhQzA6zvn/3CtoVMg         RcGZWVmwmOBSC20XrY7dCzwhsuRIBdaewAmYe25c6U4DHfHD39Kt9jlJ32mohHzCOkab         yBHhX16HLSbPYOWhG5rDI/hko2Yknf4hR8EBFqS22JbbTjawIaQUx+UttVPD0vqjTaQU         X+ZpzQOixCDQFT9tyIBDqgmvNkyrZ4w7g+CHBGmOJDfXHKwBR7Q93cMccyN/ZWWvno3J         nSp36dpg3AVWpFpdZ1f7Fyc6H2H+JCoJ1Ut/+70+850/ReSzWEFL0YyLFiLCjoSYc0OJ         VMwg==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-language:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=/aJU73wje3MGIvUIkxiG3ERTWA2J88qfTl49EhwgE0A=;        b=RVObdvLtKA+FHPMGMra/Wptw2+oOAGrsX0bIDm3/cjCvJeZSJO7BLZQZCapUtyxMwD         s9aP5e0vMGEk2nJ7m7MABVJzON8KWDgDLX+TZ2iQ+7Vd7YMMhN1lHxJCiA/6FDklsD+0         FmdJ4kpZExyiaiIBcA3oov5QDxT3BWqxWY0FCmUl/WHQNm4C/37AlKIWiNrXv1AoKavR         RWTlVGMa/9aDlc7B7awLPGBUho2PmyZ6sjCu7r4PFBXmzkzTl9rHY/wNZyMgKAv5DeTB         SGhy8RSd47RLEiaJLo6HWEWRHsJ9LwewcTOB6zAonHAGRgnnuvW8tGlZDxErF3epTsPx         cywg==</li>
<li>In-reply-to: &lt;<a href="msg00765.html">AE362FD3-9572-4A2C-92AE-C70DD2B06AE0@lancaster.ac.uk</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00765.html">AE362FD3-9572-4A2C-92AE-C70DD2B06AE0@lancaster.ac.uk</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:68.0) Gecko/20100101 Thunderbird/68.10.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->

  
  
    Hi Paul,<br>
    <br>
    The best way to build PyFerret is with the Miniconda installer, and
    folks also seem to use Homebrew successfully.&#xA0; On the <a rel="nofollow"
      moz-do-not-send="true"
      href="https://github.com/NOAA-PMEL/PyFerret/releases">Releases </a>page,
    scroll down a bit for the details, which I'l copy here.<br>
    <br>
    <h3>Mac OS X:</h3>
    <p>&#xA0;install PyFerret using Anaconda is quite easy. See the <strong>Anaconda
        Installation - Linux, OS X, and Windows 10/bash</strong> section
      about half way through <a rel="nofollow"
        href="https://github.com/NOAA-PMEL/PyFerret/blob/master/README.md">https://github.com/NOAA-PMEL/PyFerret/blob/master/README.md</a></p>
    <p>Alternatively, building PyFerret from the source code using
      Homebrew packages is also fairly simple.<br>
      See <a rel="nofollow"
href="https://github.com/NOAA-PMEL/PyFerret/blob/master/README_pyferret_mac_homebrew.md">https://github.com/NOAA-PMEL/PyFerret/blob/master/README_pyferret_mac_homebrew.md</a>
      for more information.</p>
    <p>It appears the problem with PyFerret displayed windows when using
      High Sierra has been fixed although some warning messages may
      appear when they are first displayed. Note these fixes are not in
      the PyFerret code, but rather either in updates to libraries used
      by PyFerret or in the operating systems.</p>
    <p><br>
    </p>
    <p><br>
    </p>
    <div class="moz-cite-prefix">On 7/9/2020 11:04 AM, Young, Paul
      wrote:<br>
    </div>
    <blockquote type="cite"
      cite="">
      
      Hi ferreters,
      <div class=""><br class="">
      </div>
      <div class="">I&#x2019;m trying to build PyFerret (v7.6.0) on my Mac,
        running OS X 10.15.5 and using MacPorts installs of python 3.8
        and the other various programs and libraries (rather than
        Homebrew). The build is failing with the errors</div>
      <div class=""><br class="">
      </div>
      <div class=""><span class="Apple-tab-span" style="white-space:pre"></span><span
          style="color: rgb(242, 242, 242); font-family: Monaco;
          font-size: 10px; background-color: rgba(0, 0, 0, 0.85);"
          class="">make[1]: *** [pymod_optimized_build] Error 1</span></div>
      <div class=""><span class="Apple-tab-span" style="white-space:pre"></span><span
          style="color: rgb(242, 242, 242); font-family: Monaco;
          font-size: 10px; background-color: rgba(0, 0, 0, 0.85);"
          class="">make: *** [optimized] Error 2</span></div>
      <div class=""><br class="">
      </div>
      <div class="">after issuing the "/opt/local/bin/<b class="">gcc</b>
        <i class="">[lots of flags and&#xA0;options etc]</i>&#xA0;-Wl,-headerpad_max_install_names&#x201D;
        command, after "<span style="color: rgb(242, 242, 242);
          font-family: Monaco; font-size: 10px; background-color:
          rgba(0, 0, 0, 0.85);" class="">python3.8 setup.py --quiet
          build )"</span></div>
      <div class=""><br class="">
      </div>
      <div class="">Some more details appended below, including some
        changes and tricks that I needed to get the scripts to begin to
        work with MacPorts.&#xA0;</div>
      <div class=""><br class="">
      </div>
      <div class="">I guess this follows on from an earlier message on
        this topic from Andy Jacobson in 2019 (<a rel="nofollow"
href="https://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2019/msg00122.html"
          class="" moz-do-not-send="true">here</a>), and I would be
        happy to help make this particular build possible for more
        people&#x2026;.although please note I&#x2019;m definitely a bodger when it
        comes to things like this!</div>
      <div class=""><br class="">
      </div>
      <div class="">Happy to follow this up offline with the developers
        if that would be better.</div>
      <div class=""><br class="">
      </div>
      <div class="">Cheers,</div>
      <div class="">Paul</div>
      <div class="">&#xA0;&#xA0;</div>
      <div class=""><b class="">Details</b></div>
      <div class="">1. Installed the MacPort versions of the HomeBrew
        packages as listed&#xA0;<a rel="nofollow"
href="https://github.com/NOAA-PMEL/PyFerret/blob/master/README_pyferret_mac_homebrew.md"
          class="" moz-do-not-send="true">here</a></div>
      <div class=""><br class="">
      </div>
      <div class="">2a. To get the gfortran alias to work type sudo port
        select&#xA0;--set&#xA0;gcc mp-gcc9</div>
      <div class=""><br class="">
      </div>
      <div class="">2b. Note, using gcc version 9. Latest is version 10,
        which fails on compiling compute_mnstd.F (type conversion
        error). This seems to be related to&#xA0;<a rel="nofollow"
          href="https://github.com/Unidata/netcdf-fortran/issues/212"
          class="" moz-do-not-send="true">this issue</a>&#xA0;detailed on the
        netcdf-fortran GitHub, although adding the &#x201C;<a rel="nofollow"
href="https://gcc.gnu.org/onlinedocs/gfortran/Fortran-Dialect-Options.html"
          class="" moz-do-not-send="true">-fallow-argument-mismatch</a>&#x201D;
        flag doesn&#x2019;t help. No error with gcc v9 or v8.&#xA0;</div>
      <div class="">&#xA0;</div>
      <div class="">3. Edited LIBDIR variables in site_specific.mk to
        point to /opt/local/lib</div>
      <div class=""><br class="">
      </div>
      <div class="">4. Edited&#xA0;copy_dylibs.sh to copy MacPorts dynamic
        libraries (rather than HomeBrew) - but is this needed given
        LIBDIR?</div>
      <div class=""><br class="">
      </div>
      <div class="">5. Edited
        external_functions/ef_utility/site_specific.mk to use the gcc
        compiler rather than the Mac one (from which clang)&#x2026;although it
        didn&#x2019;t work with the latter either.</div>
      <div class=""><br class="">
      </div>
      <div class="">Happy to attach stdout and the scripts etc, but
        didn&#x2019;t want to overload the list initially.</div>
      <div class=""><br class="">
      </div>
      <div class=""><br class="">
      </div>
      <div class=""><br class="">
      </div>
      <div class=""><br class="">
      </div>
      <div class=""><br class="">
      </div>
      <div class=""><br class="">
      </div>
      <div class=""><br class="">
      </div>
      <div class=""><br class="">
      </div>
      <div class=""><br class="">
      </div>
    </blockquote>
    <br>
    <pre class="moz-signature" cols="72">-- 
Ansley Manke
Science Data Integration Group
NOAA Pacific Marine Environmental Laboratory
7600 Sand Point Way NE
Seattle WA 98115

I am currently teleworking and am available Tue-Wed-Thu.</pre>
  


<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00765" href="msg00765.html">[ferret_users] PyFerret build failing on Mac 10.15 (Catalina) and MacPorts | Plus some MacPort/PyFerret hints</a></strong>
<ul><li><em>From:</em> Young, Paul</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00765.html">[ferret_users] PyFerret build failing on Mac 10.15 (Catalina) and MacPorts | Plus some MacPort/PyFerret hints</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00767.html">[ferret_users] Installing ferret on WSL Linux</a></strong>
</li>

</UL>
<center>[<a href="msg00765.html">Thread Prev</a>][<a href="msg00767.html">Thread Next</a>][<A HREF="threads.html#00766">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
