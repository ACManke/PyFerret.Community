<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Re: Extract time excursion -->
<!--X-From-R13: Bngevpx Pebpxznaa <cngevpx.oebpxznaaNyfpr.vcfy.se> -->
<!--X-Date: Tue, 19 Jan 2021 08:11:31 &#45;0800 -->
<!--X-Message-Id: 642721424.1254423.1611072677240.JavaMail.zimbra@lsce.ipsl.fr -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 933804681.672195.1611003827873.JavaMail.zimbra@lsce.ipsl.fr -->
<!--X-Reference: MEXPR01MB16395DD9F51F39E24B92B6069DA30@MEXPR01MB1639.ausprd01.prod.outlook.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Re: Extract time excursion</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00886.html">Thread Prev</a>][<a href="msg00887.html">Thread Next</a>][<A HREF="threads.html#00890">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Re: Extract time excursion</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Fiedler, Russell (O&amp;A, Hobart)&quot; &lt;<a href="mailto:Russell.Fiedler@DOMAIN.HIDDEN">Russell.Fiedler@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Re: Extract time excursion</strong></li>
<li><strong>From</strong>: <strong>Patrick Brockmann &lt;<a href="mailto:patrick.brockmann@DOMAIN.HIDDEN">patrick.brockmann@xxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 19 Jan 2021 17:11:17 +0100 (CET)</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@lsce.ipsl.fr header.s=E682C68A-A940-4689-9079-2ADB5A360654 header.b=WeHCDlxJ;       arc=pass (i=2 dkim=pass dkdomain=lsce.ipsl.fr);       spf=softfail (google.com: domain of transitioning <a href="mailto:patrick.brockmann@DOMAIN.HIDDEN">patrick.brockmann@xxxxxxxxxxxx</a> does not designate 209.85.160.197 as permitted sender) smtp.mailfrom=<a href="mailto:patrick.brockmann@DOMAIN.HIDDEN">patrick.brockmann@xxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@lsce.ipsl.fr header.s=E682C68A-A940-4689-9079-2ADB5A360654 header.b=WeHCDlxJ;       arc=pass (i=2 dkim=pass dkdomain=lsce.ipsl.fr);       spf=softfail (google.com: domain of transitioning <a href="mailto:patrick.brockmann@DOMAIN.HIDDEN">patrick.brockmann@xxxxxxxxxxxx</a> does not designate 209.85.160.197 as permitted sender) smtp.mailfrom=<a href="mailto:patrick.brockmann@DOMAIN.HIDDEN">patrick.brockmann@xxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@lsce.ipsl.fr header.s=E682C68A-A940-4689-9079-2ADB5A360654 header.b=WeHCDlxJ;       arc=pass (i=1 spf=pass spfdomain=lsce.ipsl.fr dkim=pass dkdomain=lsce.ipsl.fr);       spf=softfail (google.com: domain of transitioning <a href="mailto:patrick.brockmann@DOMAIN.HIDDEN">patrick.brockmann@xxxxxxxxxxxx</a> does not designate 65.153.203.166 as permitted sender) smtp.mailfrom=<a href="mailto:patrick.brockmann@DOMAIN.HIDDEN">patrick.brockmann@xxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@lsce.ipsl.fr header.s=E682C68A-A940-4689-9079-2ADB5A360654 header.b=WeHCDlxJ;       spf=pass (google.com: domain of <a href="mailto:patrick.brockmann@DOMAIN.HIDDEN">patrick.brockmann@xxxxxxxxxxxx</a> designates 194.254.240.32 as permitted sender) smtp.mailfrom=<a href="mailto:patrick.brockmann@DOMAIN.HIDDEN">patrick.brockmann@xxxxxxxxxxxx</a></li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :message-id:thread-index:thread-topic:mime-version:subject         :references:in-reply-to:cc:to:from:date:dkim-filter:sender         :dkim-signature;        bh=/+Z2JWz4zw4SN/kb5myZ0Hvy5QlmBqZd/nyMvi6djXQ=;        b=GEestc6FbyFqb4olXq27RXWiwFP2hpXT2penUmMmwEPBGBRkKY15eBDpeorfIrk141         xeulkg59opEusN3Ey1ybuXQSN/izEO2lQ4fdOxB9jOf/dpu0+obK2Ei/ONCR4MUSNzjy         K7IelSW1gFunER0NyNoBr5OOMcDaA1PPMQUjShIXsTSHoCDACUO0YA4IKhTJf01S/7hA         KHPrqniAL3PeTqZ/lHstaK6rF2MPXMUqcEBxLZlu1BKbLvVxvMxhJIy2WHfampAkR2yy         IfVmS/OQj5tqTe0EE1+lk5wN/ViCCm7R2BdufaNxvHDsQlUYvthCdOsCsHH5dQDP8cDT         l3LA==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:thread-index:thread-topic:mime-version:subject         :references:in-reply-to:cc:to:from:date:dkim-signature:dkim-filter;        bh=/+Z2JWz4zw4SN/kb5myZ0Hvy5QlmBqZd/nyMvi6djXQ=;        b=Egrk1msoVFQyy+fJBFnuZUOBalYDR1AUzy1z1kkAvCASQTPpZBcGfR99MHszSfvDq+         P9qmq1YU4afLaqNFAPOk1W3Bwra3jVllUVy3CSn/oMduGcy6xnY16TZEgf44kXKwPKmE         IwVVhmGLmXqbH6D6K6elzXaXrxE+n/6RlsSEeNOa2SAsK3ZVlJQjMn6vP1t3iIQlOEqB         uZmlR7qb7Jx8guQ64/8ieTB6YYNLPAG0sCMWG3O0kclXwh2qNjAbc1tSplOr5I2/5plJ         mernK3qpUbgdRuv1XREOFbqdDi//8T1smI0CX7d04mX93tjUYwUBYNJvq7Qgg5AZdo3g         732A==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=thread-index:thread-topic:mime-version:subject:references         :in-reply-to:message-id:cc:to:from:date:dkim-signature:dkim-filter;        bh=/+Z2JWz4zw4SN/kb5myZ0Hvy5QlmBqZd/nyMvi6djXQ=;        b=v99VA5AiOpdQV9WF5DETgvfPiKqB4GY2vzSyjC29Oty5RnqFF+CGtgsZIz5NHoRALI         skRQlZJGchZ4Mgty5rTxbtq3tiGg+xeRZPk7rM0KQdJP44rZzZVQsK/QA1/0cqeUTF7q         sOiGyLACnIRMVykHDAgpPsYxm9xupDBAKW374FzqYwcMqacU0v4EM8LCfV1CNGpa+40j         jxKmAvLeWSq252deWAvtw8+2GGq20dwK9OdNG3AjcIIzDus6uW6erNj2hXCpGvdBxtic         cXoQSuSgpiXpp/LWs0VSVijPz30C7hSlgBG6EqASXiPwXX4cbdyYSpqRGqlvBBtIt/WZ         iPJA==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=thread-index:thread-topic:mime-version:subject:references         :in-reply-to:message-id:cc:to:from:date:dkim-signature:dkim-filter;        bh=/+Z2JWz4zw4SN/kb5myZ0Hvy5QlmBqZd/nyMvi6djXQ=;        b=09n5Ph52YcnEIClPRgj+J8uXoGbswPYrcEP15axXRB5+UyHvadjsQUHBqjDQ12pzFM         HI+4n2rWNj2q2rJxilJsiLivaru9O/yS7+t9BKt5pxOVcwy5vNn+QrK5p23iuYgz2VqD         bMTMU52cAQWueE6Pyf6O/2vWsR0hr2lsJOpu1F7xtE7zUEYeAiGLB8UcSSjxKxRHgahu         d42eaShlPchL8Z8/eUuJfjLC7QqVc5Ve9cELeLNc9uqw+AtCW4RR/vq+IaAWJlIJZoeu         eWptZxzcHsFC/yAS+YPjUUsnZ1myup1BMteFgVqQ4OdWL9xt4x4YtmtIzfz+1jE8BoK3         nTbA==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1611072688; cv=pass;        d=google.com; s=arc-20160816;        b=E6hCXWh/OzCfofBBh4LPdNjpLPjnqm+DRD8Xtoz/859NURpOW9EkozlMQM5tDBtx7x         MV0rIcZILTHNi53tscDd5fveiyMmTuuLrFrAzA4uQ94ZrEpOqYNvQXQhb4qkUHq10Xhs         5v8X4ITw+aBtGtTY5J7cl0fRQO15z3FHcOkejvH9NboWkN8tKKyPUt7f2nf/9RNvftkd         c3KM5NeCSLpB8GL0rGPdV98/SXrWgDZtjBRgWKVGCGI7NdJmzvOz460SV+ZNIffgTxnm         VFOgQQcP6psYt4KqDWQEeW7SoZrI/ZN26zs3OjXEQXCs+W3t9zfOgGXn3IdMN5hre6mR         wcCA==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1611072687; cv=pass;        d=google.com; s=arc-20160816;        b=Xj+pH8kVkFUu8dfcGOlALhDsVig24R8XRE9U2fUEGyu8q/uZwLKJHlyoCxr5F3Gf6n         oJeQExHN7yLskZcSTbDI8YAr6o48YIO0H6ILhsvF43N7418evMuT8bGk3edIaJ8kG5So         B+d1jBrwtKWzPkdrG4QPrG2uHc30wA2jQotBoMPT56fXr7jn78O5iWv0NKgrGAQny7XL         WURD+IljKVIJVJgSf1fRiRa1Ms8ZUSUu1Qt+zniWAaxqUs7K3FTF1Byb/t+MZpVHICqc         HP9ZD6oxIKVJxj8wT/7yNwTV9ve9evPICnp2PmT/REAB0E94Teeg7LHGnZ1rBQLsIt6u         bBVg==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1611072682; cv=pass;        d=google.com; s=arc-20160816;        b=QpxQosbcKEQnxWgXLIcw/U6lIW0M5XWrPelmNWIYm3br8BNejDSAd0n7HnmHzRE0ag         BXybyqBAQsg5nCmbEzNGBfMxBZNqF7RUhiiB2zS5tYgDxYfa720TPEcTQ8Pi0a1jhjtD         UalCHFfFD+Lk3ey5rtWc/BOMc+/sLkZ6jcY1YGslbuO+dXs/C5ngfdwShYFYw7JVvmCN         tlHzzmfW6Ih4hQw4XTkSPCtZCKUo8xk/FA7C3LNI6EelMzp/tMFe7Fz9fjfRwsiDvDak         GvVxwTZUgpQFFT1xinYltMAgzUxx1lTqJ5eDHbtGz7CeZSIOnI4o+IyLgL2ixmaXg0Rm         mv5w==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1611072680; cv=none;        d=google.com; s=arc-20160816;        b=lmP1INi5ZzwOc+u8214ZDwz4RGlzmt5CZhK3Gf95p9LMqvjjYhVgcAbIMKIrBgg+IF         i9LRsnwAwxAY1UrELju9fdYYNKJnMCQnxZ6ibNbah2+Q3LchFphAz6V+AyqT6IR6dNYX         NJm3uxJJj05gLp1MRzYK3/6Yd5AkSY379vji6o7RAkWWJUeiotF65ZwUTBWQ6drec/Sm         IkHYhw2zXExKLiFrhjMDRparkVyxFT8PDmZHmVRu4McVeTeXAiaH8LY1vJ9o/2ZFxTKy         fBnuhLW6p39Zxzl3G5kyxzzYHpiCLzwAhvIAVCRdv0VimR2o42QDvN7wjcKNHN6qPTas         vsaQ==</li>
<li>Cc: ferret users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-filter: OpenDKIM Filter v2.10.3 zmtaout01.partage.renater.fr 77FB71A0105</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:dkim-filter:date:from:to:cc:in-reply-to:references:subject         :mime-version:thread-topic:thread-index:message-id:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=/+Z2JWz4zw4SN/kb5myZ0Hvy5QlmBqZd/nyMvi6djXQ=;        b=cYCdAZYgaG7rV6KgzfixCFKQFfBLofKg/N3WhRx4rNWylYK+TmPBPqxPXP2kzRvEXw         WjX6ytoZ2Rq+yc405hNSWW5UNktaPcGSEhcu/7ztN0SRSyGoL3O7ErqKmL5DI8+VuVt0         FeaNvLGUOQB+WteJAJ+wQJvmb9UhiKgdGCJN24BdN63fz8uxxIiW7bbgq56OCaEIfJjQ         hJRJ96JSyiTTNmmOfd8mAp+6355NmK0aib2xk8zY4xmXHTAKrbzGLFKuQdqDPDLRnmmi         EwftIRyhBkkaIAFULjgfoSJXv6D9bv+qsLrl1VYoc12NA/JeDdQuDMONc13jkIzySq22         z9zw==</li>
<li>In-reply-to: &lt;<a href="msg00886.html">MEXPR01MB16395DD9F51F39E24B92B6069DA30@MEXPR01MB1639.ausprd01.prod.outlook.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00883.html">933804681.672195.1611003827873.JavaMail.zimbra@lsce.ipsl.fr</a>&gt; &lt;<a href="msg00886.html">MEXPR01MB16395DD9F51F39E24B92B6069DA30@MEXPR01MB1639.ausprd01.prod.outlook.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-index: KeH7LplLXIKbA0fYGyTGM8PvVHIWnunlqg/SxJ+UYtw=</li>
<li>Thread-topic: Extract time excursion</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div style="font-family: arial, helvetica, sans-serif; font-size: 12pt; color: #000000"><div></div><div>Hi,</div><div><br data-mce-bogus="1"></div><div>Thanks to you Russel and Ryo for your explanation.</div><div>Indeed my confusion was due to an uncorrect axis time defintion.</div><div>Solved when you properly set a appropriate calendar.</div><div><br data-mce-bogus="1"></div><div>Thanks again.</div><div>Regards</div><div>Patrick</div><div><br></div><div data-marker="__SIG_PRE__">--<br>Data Analytics and Visualization Engineer / Project Manager<br>LSCE/IPSL, CEA-CNRS-UVSQ laboratory<br>LSCE - Climate and Environment Sciences Laboratory<br>IPSL - Institut Pierre Simon Laplace<br>--</div><div><br></div><hr id="zwchr" data-marker="__DIVIDER__"><div data-marker="__HEADERS__"><b>De: </b>"Fiedler, Russell (O&amp;A, Hobart)" &lt;Russell.Fiedler@xxxxxxxx&gt;<br><b>&#xC0;: </b>"ferret users" &lt;ferret_users@xxxxxxxx&gt;<br><b>Envoy&#xE9;: </b>Mardi 19 Janvier 2021 07:44:28<br><b>Objet: </b>[ferret_users] Re: Extract time excursion<br></div><div><br></div><div data-marker="__QUOTED_TEXT__">


<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
Hi Patrick,</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
The problem here is the conflict between a regular year axis and the irregular gregorian calendar which only repeats every 400 years.</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
yes? define axis/t=1998:2009:1/units=years/t0=01-JAN-0000 tyear</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
yes? sho axis tyear
<div>&nbsp;name &nbsp; &nbsp; &nbsp; axis &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# pts &nbsp; start &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;end</div>
<div>&nbsp;TYEAR &nbsp; &nbsp; TIME &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12 r &nbsp; 31-DEC-1997 12:21 &nbsp; &nbsp;31-DEC-2008 04:22</div>
<div>T0 = 01-JAN-0000</div>
&nbsp; &nbsp;Axis span (to cell edges) = 12</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
! Show 400 year cycle</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
yes? define axis/t=1600:2000:1/units=years/t0=01-JAN-0000 tyear
<div>Replacing definition of axis TYEAR</div>
<div>yes? sho axis tyear</div>
<div>&nbsp;name &nbsp; &nbsp; &nbsp; axis &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# pts &nbsp; start &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;end</div>
<div>&nbsp;TYEAR &nbsp; &nbsp; TIME &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 401 r &nbsp; 01-JAN-1600 00:00 &nbsp; &nbsp;01-JAN-2000 00:00</div>
<div>T0 = 01-JAN-0000</div>
&nbsp; &nbsp;Axis span (to cell edges) = 401<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<div style="font-size:12pt"><br>
</div>
<div style="font-size:12pt"><br>
</div>
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
In your first example there is no calendar implied. In the second a standard/gregorian calendar is assumed. If you had the /CAL=NOLEAP qualifier in your axis definition</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
all would be good.</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
yes? say `a,return=calendar`<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
&nbsp;!-&gt; MESSAGE/CONTINUE GREGORIAN</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
yes? &nbsp;define axis/t=1998:2009:1/units=years/t0=01-JAN-0000/cal=noleap tyear
<div>Replacing definition of axis TYEAR</div>
<div>yes? sho axis tyear</div>
<div>&nbsp;name &nbsp; &nbsp; &nbsp; axis &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# pts &nbsp; start &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;end</div>
<div>&nbsp;TYEAR &nbsp; &nbsp; TIME &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12 r &nbsp; 01-JAN-1998 00:00 &nbsp; &nbsp;01-JAN-2009 00:00</div>
<div>T0 = 01-JAN-0000</div>
<div>CALENDAR = NOLEAP</div>
<div>&nbsp; &nbsp;Axis span (to cell edges) = 12</div>
<div><br>
</div>
<div><br>
</div>
Ah, I just saw that Ryo replied with something similar.</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
<br>
</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
Cheers,</div>
<div style="font-family: Calibri, Arial, Helvetica, sans-serif; font-size: 12pt; color: rgb(0, 0, 0);">
Russ<br>
</div>
<div id="appendonsend"></div>
<hr style="display:inline-block;width:98%">
<div id="divRplyFwdMsg" dir="ltr"><font face="Calibri, sans-serif" style="font-size:11pt" color="#000000"><b>From:</b> owner-ferret_users@xxxxxxxx &lt;owner-ferret_users@xxxxxxxx&gt; on behalf of Patrick Brockmann &lt;patrick.brockmann@xxxxxxxxxxxx&gt;<br>
<b>Sent:</b> Tuesday, 19 January 2021 8:03 AM<br>
<b>To:</b> ferret users &lt;ferret_users@xxxxxxxx&gt;<br>
<b>Subject:</b> [ferret_users] Extract time excursion</font>
<div>&nbsp;</div>
</div>
<div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
<div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
<div>Hi ferreters,</div>
</div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
<br>
</div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
I would like to extract at&nbsp;<span style="color:#000000; font-family:Verdana,Helvetica,Arial,sans-serif; font-size:13px; font-style:normal; font-variant-ligatures:normal; font-variant-caps:normal; font-weight:400; letter-spacing:normal; orphans:2; text-align:left; text-indent:0px; text-transform:none; white-space:normal; widows:2; word-spacing:0px; background-color:#ffffff; text-decoration-style:initial; text-decoration-color:initial; display:inline!important; float:none">ISO
 8601 format&nbsp;</span>
<div style="clear:both">start date and end date of a netcdf file.</div>
<div style="clear:both"><br>
</div>
<div style="clear:both">Here are simplified lines that illustrate a problem of precision.</div>
</div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
<br>
<div><span style="font-family:monospace"><span style="color:#000000; background-color:#ffffff">yes? define axis/t=1998:2009:1/units=years tyear</span></span></div>
<div><span style="font-family:monospace"><span style="font-family:monospace"><span style="color:#000000; font-family:monospace; font-size:16px; font-style:normal; font-variant-ligatures:normal; font-variant-caps:normal; font-weight:400; letter-spacing:normal; orphans:2; text-align:start; text-indent:0px; text-transform:none; white-space:normal; widows:2; word-spacing:0px; background-color:#ffffff; text-decoration-style:initial; text-decoration-color:initial; display:inline!important; float:none">yes?
 let a=t[gt=tyear]<br>
</span></span></span><span style="font-family:monospace">yes? say `a, return=tstart` &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
!-&gt; MESSAGE/CONTINUE 1998 <br>
1998<br>
<br>
</span></div>
<div><span style="font-family:monospace">---&gt; ok</span></div>
<div><span style="font-family:monospace"></span><br>
</div>
<div><span style="font-family:monospace"><span style="color:#000000; background-color:#ffffff">yes? define axis/t=1998:2009:1/units=years/t0=01-JAN-0000 tyear
</span><br>
yes? let a=t[gt=tyear] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
yes? say `a, return=tstart` &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
!-&gt; MESSAGE/CONTINUE 1997-12-31 12:21:36 <br>
1997-12-31 12:21:36<br>
</span></div>
<div><span style="font-family:monospace"></span><br>
</div>
<div><span style="font-family:monospace"></span>---&gt; why this 1997-12-31 ???</div>
<div><span style="font-family:monospace"></span><br>
</div>
</div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
Attached a netcdf file where the problem exists.</div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
yes? use toto.nc</div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
yes?&nbsp;<span style="font-family:monospace"><span style="color:#000000; background-color:#ffffff">let a=t[gt=var]</span><br>
</span></div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
yes?&nbsp;<span style="font-family:monospace"><span style="color:#000000; background-color:#ffffff">say `a, return=tstart`
</span><br>
!-&gt; MESSAGE/CONTINUE 31-DEC-1949 21:00:00 <br>
31-DEC-1949 21:00:00<br>
<br>
</span></div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
<span style="font-family:monospace">PS: tested with last 7.6 release</span></div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
<span style="font-family:monospace"><br>
</span></div>
<div style="font-family:arial,helvetica,sans-serif; font-size:12pt; color:#000000">
<div>Regards</div>
<div>Patrick</div>
<br>
<div>--<br>
Data Analytics and Visualization Engineer / Project Manager<br>
LSCE/IPSL, CEA-CNRS-UVSQ laboratory<br>
LSCE - Climate and Environment Sciences Laboratory<br>
IPSL - Institut Pierre Simon Laplace<br>
--</div>
</div>
<br>
</div>
</div>
</div><br></div></div>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00883" href="msg00883.html">[ferret_users] Extract time excursion</a></strong>
<ul><li><em>From:</em> Patrick Brockmann</li></ul></li>
<li><strong><a name="00886" href="msg00886.html">[ferret_users] Re: Extract time excursion</a></strong>
<ul><li><em>From:</em> Fiedler, Russell (O&amp;A, Hobart)</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00886.html">[ferret_users] Re: Extract time excursion</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00887.html">[ferret_users] Reading ascii file</a></strong>
</li>

</UL>
<center>[<a href="msg00886.html">Thread Prev</a>][<a href="msg00887.html">Thread Next</a>][<A HREF="threads.html#00890">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
