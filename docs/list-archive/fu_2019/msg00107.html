<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] polygon to mask country -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 26 Mar 2019 09:20:49 &#45;0700 -->
<!--X-Message-Id: b01fb1b2&#45;a311&#45;8c3d&#45;986f&#45;4b5aafe1fa44@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CABKKfvVRDXATRc_19TVipwHKKd+j9WzjC=3JgpjKTVDNk5g9bA@mail.gmail.com -->
<!--X-Reference: CAPTKT0e&#45;3hgt_JaQ1+27DM1jXfhU&#45;sTr9GQX8Cn6=PKPpVA+wg@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] polygon to mask country</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00106.html">Thread Prev</a>][<a href="msg00108.html">Thread Next</a>][<A HREF="threads.html#00107">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] polygon to mask country</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] polygon to mask country</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 26 Mar 2019 09:20:45 -0700</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=aqbAiSNl;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=aqbAiSNl;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:message-id:from:references:to:subject         :dkim-signature;        bh=liIwkKV77Fqekj3bCvFiFV6E1RIvG5md/e4MTE4OsCU=;        b=Y0U2hxfl+YCMF3PoCo9dChHnXqR3bUQHotf7Ve+kxN/fO9XJsS736S9ifaf7DiR5wn         cfsfdsGvFoztWcQIkg4+I/+ftiqsXDRqh+uYXpak3EvVn+B8bosaSi0t5DKWYHzpJKWa         v3FgxbIi+Kb0LeKkyvf+Q5UjdN9Ny5djq3Igc1hpY+M2v3XpXvNoeTBpygkPexOByj7I         j7tjN+g/mM4kz/0TgDqEh9wQHV/wKjIhilEme2xQIludqVbYeQOH7jkoTb7+a5nYwnyq         HVAuKqgAUqlMKH+oEwth7YyPxR1ch5QDtkEcEV0ueY61zR7tHZZuMiT96h0T4KmQlUsz         ojMA==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:message-id:from:references:to:subject         :dkim-signature;        bh=liIwkKV77Fqekj3bCvFiFV6E1RIvG5md/e4MTE4OsCU=;        b=WgOIvStpqT769Wg/bSic/3jIrbaZ0gAJFjSg/TVHLmtijX+UrtNPllwiZZX4Awfxhe         pbN7d5uJhhMSUmRKeXmnSNL7Tr00z06rtZsDZ0p46KMroZJXefgfAPLNywp/Y0h8ABCh         /nd5nzE87NT0O2gslvZx2XoqNsB1JMPhYDL2cjilJs4iqYM/TxXlkIiLSWgcXTmOoLLI         ZZScURpvAnJm42jujvlaZz9gimIirZupQVkXyRXhS/1syklhp2fHzBqg8QSeJdapmTHw         qDyJKomDE48CNJJyeC6chXwvhNJe5bG4aM37HVU6yr9gS8aQXpcGseuu8pJgUtLgNAf6         VUYQ==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1553617248; cv=pass;        d=google.com; s=arc-20160816;        b=gaoeYsWxkvpVY2H9lTQd9L1U35QnJXfq8RFSNeKKGJqdsVbv+sXDRACQnbWKbPonqJ         Vq5/tC148CZrCc3Z4bjKNvNDGWmFd7pYT2qWvMzHjT3tQPO4dhuepWfpDxeruthlkvhl         uAh5KtEwBH2pBHfmuQOr93Xmr1VGVISsEiwMGIWbwYpRAXt1CfJY6w26KiswwDM+8Snb         UCbmoA259ghcVE6BC0Bhc3XBgxoF1RGzNdW9q9vV/ZIWTEoJcWph5cZ/A6T8rdBPu2Us         9pDr3gJKRO4ZK2F2q7kofVneH2FQo94leoeIBpFzIyXLWkABH2ZvFY4ZR2qjqpXghu+U         iW6g==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1553617248; cv=none;        d=google.com; s=arc-20160816;        b=eqwlZwfDbKqOzb/ZaOufP648JScHALByHYYR71XcHdn7Xvan8LpiMn7+0tgGa2oHTd         aUlHF3EuICbpDowamQqF8vJ8Q4pQ40wb5TuLT86tYT6/P9dJHm67/c2A8xMjIIITQApr         T+8vTqAnBZFlpsu43XYs7C2iYueAGnDqdrK21ksz4Pbkt7n/TQ+DRYlGt7sNpdEhVtn9         bDqUWAG8M7x+yxyAuz0mAhupqExeJ/DW7lfBAafItwjY/2YVO9IT+pdo8SgcvIElYOqB         wOcRWSRLy4fS7XSU0n5uHx16e66pt6U95Ap+rm8X0ljQZ59iGOTw39gYhDLJYDHGCLpR         lXOQ==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-transfer-encoding:content-language         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=liIwkKV77Fqekj3bCvFiFV6E1RIvG5md/e4MTE4OsCU=;        b=L2nP2GJSOQm/fTJesl3GhId8b0Z8ZK67CtctZa+fZWEw9M1lGjnNlBKVG7VLQl0IPS         o3PfaNRoZOb7Upm3x1//7oD+GlHJnpU+nY5bhBmYPXHwhqKFaw9iZwkAVf608+eBVjNF         O5y8WEi2vr+QXDkrEDi0ZKkF6CJo+57TCfxaNeoy9QB2YMNjcfUcoa3gLXbv4rBy5rAE         2q3aXmqLoGhBRpz/zuJa+aaNDywFSp9IDmY3tcgxmG/hb32/JIwlTGvhmMHOkCnwNy5y         ni4MNqC3MM/UsMNlhXD54tAdmuDgErnvWsWE7D0ZyDKE7WrcLQuZ8VySvrzSkP1UWkxv         QwpA==</li>
<li>In-reply-to: &lt;CAPTKT0e-3hgt_JaQ1+27DM1jXfhU-sTr9GQX8Cn6=PKPpVA+wg@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CABKKfvVRDXATRc_19TVipwHKKd+j9WzjC=3JgpjKTVDNk5g9bA@mail.gmail.com&gt; &lt;CAPTKT0e-3hgt_JaQ1+27DM1jXfhU-sTr9GQX8Cn6=PKPpVA+wg@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101 Thunderbird/60.6.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Nicolas,

As a check of your definition, does a plot of the points

&#xA0; PLOT/VS/LINE xp, yp

show the outline of the boundary you want?

On 3/25/2019 4:18 AM, Nicolas Freychet wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Dear Ferret users,

</pre><tt>I'm trying to create a mask for a country, following this discussion: 
</tt><tt><a  rel="nofollow" href="https://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2012/msg00019.html">https://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2012/msg00019.html</a>
</tt><pre style="margin: 0em;">

</pre><tt>I managed to have a netcdf file with all lon/lat coordinate to define 
</tt><tt>a polygon of the country as in the discussion, but now I am not sure 
</tt><tt>how to apply it to mask my data.
</tt><tt>The pt_in_poly function 
</tt><tt>(<a  rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/appendix-a-external-functions/pt_in_poly">https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/appendix-a-external-functions/pt_in_poly</a>) 
</tt><tt>requires to define a table of xp/yp. I tried to do something like:
</tt><pre style="margin: 0em;">

let xp=LON[d=7,i=1:735178]
let yp=LAT[d=7,i=1:735178]
let mask = if pt_in_poly(Tmax[d=1,l=1],xp,yp) gt 0 then 1

</pre><tt>But it doesn't seem to work. I think it's the way I define xp/yp that 
</tt><tt>is wrong, but I don't know how to make a table {} from a coordinate. 
</tt><tt>Any idea?
</tt><pre style="margin: 0em;">

Cheers,
Nico

</pre></blockquote><pre style="margin: 0em;">

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00108" href="msg00108.html">Re: [ferret_users] polygon to mask country</a></strong>
<ul><li><em>From:</em> Nicolas Freychet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00067" href="msg00067.html">[ferret_users] mp_stereographic_south</a></strong>
<ul><li><em>From:</em> Muyin Wang - NOAA Affiliate</li></ul></li>
<li><strong><a name="00106" href="msg00106.html">[ferret_users] polygon to mask country</a></strong>
<ul><li><em>From:</em> Nicolas Freychet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00106.html">[ferret_users] polygon to mask country</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00108.html">Re: [ferret_users] polygon to mask country</a></strong>
</li>

</UL>
<center>[<a href="msg00106.html">Thread Prev</a>][<a href="msg00108.html">Thread Next</a>][<A HREF="threads.html#00107">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
