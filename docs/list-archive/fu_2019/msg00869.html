<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] Re: scat2gridlaplace used to work -->
<!--X-From-R13: Brgre Emnob <fmnocrg83Ntznvy.pbz> -->
<!--X-Date: Wed, 11 Nov 2020 08:24:15 &#45;0800 -->
<!--X-Message-Id: CAMazgKjWMazkpiiRt9fkT04GQCm8QfFVLkZYxARLjQXZ98GFJg@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAMazgKgieP1o&#45;DBQudPaZmv=CHdkWomZTw2CW=3&#45;oaYBKup9qQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] Re: scat2gridlaplace used to work</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00868.html">Thread Prev</a>][<a href="msg00870.html">Thread Next</a>][<A HREF="threads.html#00869">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] Re: scat2gridlaplace used to work</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>ferret &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] Re: scat2gridlaplace used to work</strong></li>
<li><strong>From</strong>: <strong>Peter Szabo &lt;<a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 11 Nov 2020 17:23:59 +0100</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=luraZpHe;       arc=pass (i=2 dkim=pass dkdomain=gmail.com);       spf=pass (google.com: domain of <a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a> designates 209.85.219.72 as permitted sender) smtp.mailfrom=<a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=luraZpHe;       arc=pass (i=2 dkim=pass dkdomain=gmail.com);       spf=pass (google.com: domain of <a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a> designates 209.85.219.72 as permitted sender) smtp.mailfrom=<a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=luraZpHe;       arc=pass (i=1 spf=pass spfdomain=gmail.com dkim=pass dkdomain=gmail.com dmarc=pass fromdomain=gmail.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a> does not designate 65.153.203.165 as permitted sender) smtp.mailfrom=<a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=luraZpHe;       spf=pass (google.com: domain of <a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:szabpet83@DOMAIN.HIDDEN">szabpet83@xxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :message-id:to:subject:date:from:in-reply-to:references:mime-version         :sender:dkim-signature;        bh=/MEqiagnawS+gcwp07ziWrSUG3nxxdR2GAKprFJd6HY=;        b=rmcaRv2uKWbgWFjc6MF0HkHE/ZHUS7akpaNaIiXydSkpiLebvrQ/7ePOl45+QaNM3z         xAhe/AwjxF3U71fg3LLPUWRym5Eq8jgz1oOYRc5ok2KTGE65405n9kGWTN47P7fxxJ/u         uVU/x2fnejqs5dsH81BoIpjz5NGCclaQY0xtgnGl2YaRSB4Ltn5byjIOBZ1hbkwlo2QQ         dv0t3z1uKmnMxhhxQ0KogMKHJXFXEzvvSC9U2rYtGFwDF8+8Bs0CNP9g77aNI3xUurgq         UXUgNw57fkbRPeAKLeyoKRwj20kxGQ5liGqYO89Rsej8QJs85+na4Ijv/zdtjtD7yZce         BzVw==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:to:subject:date:from:in-reply-to:references:mime-version         :dkim-signature;        bh=/MEqiagnawS+gcwp07ziWrSUG3nxxdR2GAKprFJd6HY=;        b=OqM9XyBWMzbeutQLRK4VF/VtYKzYOGqqQQ7ejmhgjtsX6EtwcJMyfqs2AhPVz8kFzl         oNKRbDljk4h7Ko67U9a+lpdNp16GSboyqol+Cjat8zjBZcEeiij7zNDYwX2qk8ivJ7AG         Uvnar5wWYuhrIgbop8TBpZXex6cp80Kd8jNs9FGoQdKqtnRoEZKXXd1F3DHJSaMoAW5u         HRhI3YelU10PYR3928EvnTfqMDb3jvfgWHCIzpfeT4so/+9m7K6ereDHJ+1lu6DDPAv4         pMiNXOxpBVec8QaaQVEF7qOVqFbX5RRGEh7kmqB72Wi4iLfJkzIljc2JcdSifOrJmG77         MGRg==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:subject:message-id:date:from:in-reply-to:references:mime-version         :dkim-signature;        bh=/MEqiagnawS+gcwp07ziWrSUG3nxxdR2GAKprFJd6HY=;        b=o4JKbDm/I8rS1yn4LrVs/NGsf/HH3p8Nx22DQrDCY5W0/kyEPMYdpv0mtfRe1v+rTv         27yCBfGPJhuSGdxKFy2nSVOQ/3Dtd9eVs7kkIptWe7xOcaiTJaGJk0GsS1jIye1lskIE         AlqxAir87awvCpSbocMHRj3RqXO2H7kVsrgWP6JmxLVWIclIPj1sXLiK1rOJDoakKeKY         CVnoOu7A660RwBzLXmrc2FAW01lentw1UOsK5SsWszX9/BjItPDMpMN//ntpmEw3jLJJ         X9JtCBiJ7VOpsUPHcvLeGlGeOLl1yAhGMsXNNXiZi0mYIEcEFt99+UpdKqMxYNbGfvoh         sG5Q==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:subject:message-id:date:from:in-reply-to:references:mime-version         :dkim-signature;        bh=/MEqiagnawS+gcwp07ziWrSUG3nxxdR2GAKprFJd6HY=;        b=EZPUL3BaOWEQeIVHN68dbWMTgLYE0djk8KZY43G9mysRFpK+WWDtD0jeMSrnlKgZSw         LbnqkCtStmBcWrjpXPRtlBsZZUwRlj+sye18iv5/MmU/aLDd3ytKJVYZ1R4wv4GpGCQm         fHsVDVi2Z+v8ffBnjZZPA/5p4ZWUF2g2do/dcRDpHJLw1XxxkkKussGN7M4pBbVvRXX/         GJu5gvLMSm0cJIA4A2/WI4Mn2XZfwwE0ya1IfohLmb3+mdzwaJZi/dtTQQFV6L0h7KFm         zvWhq8BVPzWwCEiUZN+cIOhz0/BZKBdpAOxkQndun0ApdyoXbygd9KnGk5eCUSPpXpTU         odyQ==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1605111854; cv=pass;        d=google.com; s=arc-20160816;        b=HwpOGsQFH/gkhpmfHAdIt+b6RZRGfIxkQMrdmxwHMRd5622inU2lhZ8wstBVReQGJ5         DeqSxDjEXSjN06tIYhKGQASbDm7r7GIYi4wlzREQKHebmLhHvzs9PcAec6V6+D+zMFSA         Jp6bcCoQHx0/xUCOnhkgJSLPsLG8ZWryf2R+oQLalsq8ANsUjfwZGTqoL9xaxj7tkHjY         HAyJAtAZYwxp/P4S/+P3mfwEqNFp2ZcrOaYM0b85NyEK1G48HDZgBvG1kPm3cFJz78oG         pORyD9nq++T90pwfWNBF4skxYrP/RDMLnaHwz7htIcf+uk201XgsmAe6g0Rw6BRsT1Bc         KwUA==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1605111853; cv=pass;        d=google.com; s=arc-20160816;        b=P4xgUob/gIqMgODoXsrZmfU6ckCZ0n88ZE+fagzA/krYvSpXoPhUBPRB4NgRPglpt5         5Y0JWSSHJRCVf9qgNRi9vJObIR7SIcP+5DVk5WfelG2z/bwLEgfbZNZz13JndMBDl3Zm         tNrp7kB4qcLeNvVq2lwcwGiLbrkRnEuAQOnd5JE97CzKV3bIxUbh888mv8K8Fh/2PH21         Vwzo9yBA/T9oh2WvZaXaY94PErjKi4GqnJgxw2UXI/RkfgbsZf69WdJsXE3WcdF5Netm         XkJIyYdbFY19Pcq9D3Qajt9J3HxylW/Z7U1T3BieB17b0KblnssSCY92mya7aOUwDXUL         DJXg==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1605111851; cv=pass;        d=google.com; s=arc-20160816;        b=ENx3cpGwjAuLoCFQKaDzQcfTSqjVxm5vCgYhgguNDvh4zEBhvx6ue0R2juvX1139gs         i8IBTl+4da4nLS/ofPF1lpknXCtSwZwKO7mkTA0socb9itrmY1NhtCcO8qF3ruF7eGeF         zV9xchsGIGUZlaG4ip0ppRZWVavhjskq5CtNI/1GTy/LruyLOEVRYzzvwiEzM/zEcztt         Mf5sC558/VlVSIniNjysQdG55OtyNMm+Y8JpZp74loVIQMFlV45k04M+jlJQN54WoGS8         9/G8Ap0jJF2YzYATY8d1v5y8vjQLtK9JBUfPOtSS7pf3LCb4zj9ASYq7dR3yZuJUhnMe         /Z4Q==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1605111850; cv=none;        d=google.com; s=arc-20160816;        b=hyVaV+CprzCkvE/GJemgVRwpPYYeb+HonWva1IdSQuhDhBvijjQaPHpwWrm14rIPbN         PvgQsEfpRblSDggJFxao1ZyKb+2grd3RdhFjiY3tHkDbixtRob/omV2wUhuZHlhpixO9         rAk2GFFYtnKDu4OhCTubogRPKePyK9T9wrx3OYQWdcTfUYmjh++NyTpSxYNKtZ52RKqH         PAwuE7vgrze7GWytir+o1a4MD9WaTJcv0/qhW2GlSQnijk4nenFG6SadGkrT17P9GV10         uK9E5uIcJNou1efQimYLo+Mwqqu4F417iNkx48k0pTM46Zgvlizx4+sZs9nUHIqaBmXe         rWVg==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:mime-version:references:in-reply-to:from:date:subject:to         :message-id:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive;        bh=/MEqiagnawS+gcwp07ziWrSUG3nxxdR2GAKprFJd6HY=;        b=PUq7yq2X3BJ6mx/lHHkV7AnFLeNGHJoh6+zLARjpD35PnLNi9PWzcMX+EhlOTekh5Y         Ct7nCqfWvxJ5LXQ3chuU+0rts9u+a8rvdfNew4dsWfzR54/r0d8kloGQ9ybPvpRGrlU3         qGTvw9bWCTeDC7rk4TFv2tsQGsAm7QHvOvCBqZ7caG8dFJvICjQgBaEMfyx+i91e7ECg         fri+MVokhAejAUh2INF6S5Ckbgy4ugIjXv2JDqgKy5Er5tbvNns50NWdyAkdIf1TwRJn         N51McGj8IOCyddKHI1jloQ0dzp6mqBEg7eegX3sxc7T7l3g/D146kdf7GG99fMDu1ENq         /ZBQ==</li>
<li>In-reply-to: &lt;CAMazgKgieP1o-DBQudPaZmv=CHdkWomZTw2CW=3-oaYBKup9qQ@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CAMazgKgieP1o-DBQudPaZmv=CHdkWomZTw2CW=3-oaYBKup9qQ@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Dear Ferreters,<div><br></div><div>I think I could&#xA0;solve this issue by changing the script for reading in the large ASCII file so it reads properly only 1 line (day) at a time (as I wanted):</div><div>file/<b>grid=only1</b>/col=5895/skip=`ll-1`/var=sundxx &quot;/media/sf_D_DRIVE/szabop/CARPATCLIM/CCLIM_sund_19611990_1.dat&quot;<br></div><div><br></div><div>For that I had to define an axis as well:</div><div><b>def ax/x=1:5895:1 only1stline<br>def grid/x=only1stline only1</b>&#xA0;<br></div><div><br></div><div>So it was not the scat2gridlaplace function that changed I assume but then how come the reading in worked now differently than before (<i>file/form=free/col=5895</i>)? A good question for me. :)</div><div><br></div><div>Best,</div><div>Peter</div><div><div><br></div></div></div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">Peter Szabo &lt;<a rel="nofollow" href="mailto:szabpet83@xxxxxxxxx">szabpet83@xxxxxxxxx</a>&gt; ezt &#xED;rta (id&#x151;pont: 2020. nov. 11., Sze, 13:17):<br></div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div dir="ltr">Dear Ferreters,<div><br></div><div>Long time no post, but I have a question now. I usually solve technical issues by myself or following&#xA0;the documentation and the awesome mailing list archive.</div><div><br></div><div>There was this attached script (based on the scat2gridlaplace function) which used to work in Ferret earlier, but now the same script is not working&#xA0;within Pyferret under Conda and using &quot;conda activate FERRET&quot;.</div><div><br></div><div>The goal is to get a large ASCII file with many time (7305) steps into a netCDF format. The file is on a regular lat-lon grid (resolution of 0.1&#xB0;), but not covering a &quot;perfect&quot; rectangle (6161 points) and using only masked coordinates from COORDS.dat file (5895 points). I attach the masked region (CARPATCLIM_area.png) as well and the first two timesteps of the big data file (CCLIM_sund_19912010_2X.dat).</div><div><br></div><div>I am positive this method worked earlier without the following error message:</div><div>&#xA0;! NOAA/PMEL TMAP<br>&#xA0;! PyFerret v7.6 (optimized)<br>&#xA0;! Linux 4.15.0-1089-azure - 06/25/20<br>&#xA0;! 10-Nov-20 18:07&#xA0; &#xA0;<br></div><div>Bailing out of external function &quot;scat2gridlaplace_xy&quot;:<br>	Input scattered XPTS, F(X) have different # of points &#xA0; &#xA0;5895 43062975<br>&#xA0;**ERROR: error in external function<br>LIST/FORMAT=CDF/file=&quot;/media/sf_D_DRIVE/szabop/CARPATCLIM/CCLIM_sund19912010XX.nc&quot;/append/clobber/llimits=1:7305/l=1 sundx<br>Command file, command group, or REPEAT execution aborted<br></div><div><br></div><div>Does anyone know why I get the error message now that&#xA0;worked&#xA0;earlier in Ferret?</div><div>I know that the xpts and the read-in file have a different number of points. Setting a grid when reading in a file (/grid=girdlonslats instead of /form=free/col=5895) also does not change this.</div><div><br></div><div>Kind regards,<br></div><div><div><div dir="ltr"><div dir="ltr"><div><div dir="ltr">Peter Szabo<br></div></div><div dir="ltr"><br></div><div dir="ltr">!---</div><div dir="ltr">file/var=&quot;lon,lat,height&quot; &quot;/media/sf_D_DRIVE/szabop/CARPATCLIM/COORDS.dat&quot;&#xA0;

!the used coordinates of lon and lat<br><br>def ax/x=17.0:27.0:0.1 lons !this is the definition of the full rectangle, 101*61=6161 points<br>def ax/y=44.0:50.0:0.1 lats<br>def axis/t=&quot;1-JAN-1991:12:00&quot;:&quot;31-DEC-2010:12:00&quot;:1/t0=&quot;1-jan-1991:00:00&quot;/units=days time !the 7305 daily time steps, not adjusted to the attached 2 timesteps<br><br>let ff=0*t[gt=time]<br><br>repeat/name=ll/range=1:7305:1 (file/form=free/col=5895/skip=`ll-1`/var=sundxx &quot;/media/sf_D_DRIVE/szabop/CARPATCLIM/CCLIM_sund_19912010_2X.dat&quot;;\<br>let var = scat2gridlaplace_xy(lon[d=1],lat[d=1],sundxx[d=2],x[gx=lons],y[gy=lats],0,1); let sundx=var+0*ff;\<br>save/file=&quot;/media/sf_D_DRIVE/szabop/CARPATCLIM/CCLIM_sund19912010XX.nc&quot;/append/clobber/llimits=1:7305/l=`ll` sundx; set memory/size=1000) !reading in and writing out the values on a daily basis<br></div><div dir="ltr"><br></div><div>!following this step a mask should be applied to cut out the extra points as scat2gridlaplace adds some extra values over the corner of the region, but this is not an issue</div></div></div></div></div></div>
</blockquote></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00868" href="msg00868.html">[ferret_users] scat2gridlaplace used to work</a></strong>
<ul><li><em>From:</em> Peter Szabo</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00868.html">[ferret_users] scat2gridlaplace used to work</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00870.html">[ferret_users] Checking netcdf files / Redirecting Ferret stdout</a></strong>
</li>

</UL>
<center>[<a href="msg00868.html">Thread Prev</a>][<a href="msg00870.html">Thread Next</a>][<A HREF="threads.html#00869">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
