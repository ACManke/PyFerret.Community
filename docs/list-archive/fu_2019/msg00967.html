<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] maximum size of variable (again) -->
<!--X-From-R13: Dlb Thehr <shehrNunjnvv.rqh> -->
<!--X-Date: Mon, 28 Jun 2021 03:23:01 &#45;0700 -->
<!--X-Message-Id: CAEwQpaJ522S8Dkb28Ci+2xUcPWpyachqd3s78YNcpksgfoqypw@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] maximum size of variable (again)</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00961.html">Thread Prev</a>][<a href="msg00968.html">Thread Next</a>][<A HREF="threads.html#00967">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] maximum size of variable (again)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>ferret users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] maximum size of variable (again)</strong></li>
<li><strong>From</strong>: <strong>Ryo Furue &lt;<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 28 Jun 2021 19:22:41 +0900</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=&quot;wTiRwaz/&quot;;       arc=pass (i=2 dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.160.197 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=&quot;wTiRwaz/&quot;;       arc=pass (i=2 dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.160.197 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=&quot;wTiRwaz/&quot;;       arc=pass (i=1 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> does not designate 65.153.203.165 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=&quot;wTiRwaz/&quot;;       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :message-id:to:subject:date:from:mime-version:sender:dkim-signature;        bh=mVdc0J60/Ao0hIJjFJtE/ZheAQtH9xyd6Bpn8Wac/zw=;        b=S46FqXfqKhr4EbCiILN0EWqkROIlzAk2j3ZnuqTpt9sAv7+k+CNLf74xpvM2J+hUys         pCJmZVKnQ5wz5Oe3pl9t9n1GhfUEhIq79ZDY0ewdqvT1nDEhoYjMpVPmEBYUkt11XroE         nU8dF7PqJvn66omremZSEAO1ZhMJ4RJnaCBod9TT6XiQNaY3PoleQMpCqfpOs4xewX5n         aIuVyLXEAPIzUhbQSsNQoUHDPyvMstdgp5nAbFxaY9OiYUNR15AHPn98dt3MRHIjLtBm         wOhzFKs+cZybPfH/OXF4dLRiwiKNhsgibzE4veQ1GCSuquAdqnqnuhejfhpx4aug6xrg         d1Hw==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:to:subject:date:from:mime-version:dkim-signature;        bh=mVdc0J60/Ao0hIJjFJtE/ZheAQtH9xyd6Bpn8Wac/zw=;        b=vuXHG89hihVUgEd+wHYxG8z+YeEe7/HXs4QcK/8dDB0QOItEjlSZ4yUQRVLNh94ntk         ULzF3VPF44EVm7Io5iMyKavcev/vvvoZqz1uhhL6f2VLBrrh0TAfICnV18CaMkCIahhN         pp5dRv2jdzPYlAbjFiGEOEtgjOvqy7Jl/nFpNxCW2sWNGJtJgIiE6IBMlZHRxBDYsGMu         EZ0Shr+Mm3nd0rDm9GpAH6rGCQ7M1dFNyVUvEkSQJOyYNunSQm8HGn70y+zRDWBt2mdi         mGMbmek8It2wiLsKqqVGmx51zCpQC6DKlQ2V7P4CT2bQe07kJOCEeAYtaBXB6YPwHWCX         inYw==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:subject:message-id:date:from:mime-version:dkim-signature;        bh=mVdc0J60/Ao0hIJjFJtE/ZheAQtH9xyd6Bpn8Wac/zw=;        b=I9Q/1AjUKK8LC9RhvocHT91A6PTDASXSB6z9A2FKQCH7d1ECmNR/n4sgt4y87trFQ4         Y4gyDD/uq2TGWH9HI7ZGRj1z9MtznMI9bCj/klG9UvfIrtIQPRPW4YRlmWg50Zz27efF         pLknshUi7F5lC1GzbTRT5jAmSfj8xCs3TTxVv6HXzvYKeUVRL5imRAG1cb/V0mPUwBSo         4lXy9EZY+TnNxVP/V8irx1Jz9p2qTWIyyQeN/UDsWq9/mHuQnZRXWNFVpimBd3nO6BdB         07HKNEY7FeqaBH3YLx2s2iFZ5Qbhj+obmTydksGl2EjeghCGZTgJ1nZzN/jdZq+na9dx         3m8w==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:subject:message-id:date:from:mime-version:dkim-signature;        bh=mVdc0J60/Ao0hIJjFJtE/ZheAQtH9xyd6Bpn8Wac/zw=;        b=eMZ9lmgS2tVFvJL+JIkcX+8GZHbS1lF1P2ToeeSDT7Jsw0eLCLmA29KyFS5L+wVnkS         GvLN/2fhfsOx8ucCIJ7w1yab3jYDFHr18cJsuzByr1+uCqRlREDIfvLFoi3e/6dWJ2ti         kfRc2slLawRgJXXZqamCHuCIwiZDu4mGc6d9UvyTTOT3UhRNSfahr29S8FQY8ElJ0T28         z20ge9VE62Q89QIaK7oDjBlEN4LtK4CDi4joMeq5wM/OEA5TW+Ey/9c+gFSh7FY8E3PQ         sqqrx+T6I9MMDWzbNRwPfwlY2P5vNVXZx8XPFNS69o1gw+SqKWkTezyRRm+IGkcGZiK/         HmyA==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1624875780; cv=pass;        d=google.com; s=arc-20160816;        b=MuxFqZoNY5ulki1RRzlFjhvbGXuAXrkmrhTUgl1wxVT/53P9Yjl598oQ+fkF61d4q6         0QMLDXcDJy71gdGL76Z2BxTSRUSqoaulUtK5+VWkSFZfGJpaPEV7VDHNdE0U8ZynhuKv         OyDURFgPiroEPnE4OUZ+mxavhHZjSB76mRYrf8uQn4u3iFcpf/MLNjt2OYPONPgt/0Rj         HO/jJtNfIEHrhCRvHm+vRfHvxTDn/1L9LvkMPioB5hpgFN77N/WJXmpVWDtHgFrd46sr         rujysaWKsbgWxVcDEnBYJtySI4Y4mYqtFSEC9fX4uGHKeONOYNfVCwbY4Thz4dgvx90z         V4pA==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1624875778; cv=pass;        d=google.com; s=arc-20160816;        b=D/Om8z+BWvgaPnljZE3xW7eJz+CPq7ftT+vvbbzHxrckRlkGSL+Vg7WjrEwBoBZkmx         YZHh4MYXIkmceuHNRP3jPRlo8n+6RXQ7Ph6d84KG/K1iv2qBiQSZnwUgSpPoc78hKIQL         tTnBh+Xj1j+Pi4kdCV1SOpKGNc5bdMQDRGaTyZTzPayJV+d8JTqT6Y89SG3cU5gC3dO+         MIyA5h6HWw1+3TdPKwwlsevMT9NHwK9lmpsqOOKbv5PjnagIGqWtqOXQdV+Yl3tW//i7         0NsWmPK+BFenixUZ9CZEuIBa3TN/gWRB+xKjR07E3lOp1GDFFRl6RKohs6Tq3WmNqyKI         /ntA==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1624875773; cv=pass;        d=google.com; s=arc-20160816;        b=B7e5hG0E5fLkGwDSuakNaPDzifxieuwntpZXBPiE9/tXBNzJg55zpKgxNMl1MLbRGj         uyxaXFdDiFaLq+wggweG3USTrRa+qFgxPbD2bX3sYxQ/FqNeutDSFuXiN2LGKyK5NJt7         3wwIQ9VJRzu7biNkaAsDPqjlQHzpuYNqLgAPNNZwDud4xaBECcb093yDRsr6OK/1bhV0         6uJiHN0oSoHg4djiJfRk2eoPgBg6eofPI8CLG1ECQgH1OJkNYDdHysBLANHNXN2n2o0e         EKuq8/udjPd9bV4uzSXSO2PuLyxT3WtmsaQfba07VDJ5kJS1eusL/BUf/N2SBCdqa9zt         6YCA==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1624875772; cv=none;        d=google.com; s=arc-20160816;        b=JlULf/Jbug7SFcJIHAkqsDus/oieFI+xY4l1jWfYgFB56m8EPUd1KbST+/o99R01Wi         D6D+MfebYGVMKz2jx8Vd34fwtXetKWjXzYiFClOY0tUtfzm0FPlb6AesGpqzSdfYwWry         Xa+d2nr1/GSWnpCTDo3RTqhQDpVtvVpaYAY7EBF7xRzWPtr2MYKbnc6t04gUQcl+4bku         ZUbtP0xcz5u/Z22lz0nOc3KqMd9hxqxrNcl9vBT+N3aJ4u/cJsLg0oGC2/iXW2j13ulv         WOjB3OD0O9xHjslRGBFYanc2D/2BrRhBy7wNeAy8WDtFvrx6CypKNHtKcHStnBM1DGSQ         EUbA==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:mime-version:from:date:subject:to:message-id         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=mVdc0J60/Ao0hIJjFJtE/ZheAQtH9xyd6Bpn8Wac/zw=;        b=GSBe/SgwdYSW+78Bq8wln49PqBzEkC279JgpSVSjzf338EHXLFpgR47ZTnk2WeTbqL         17ARI8CEQaBL/oKtFqM0yGOksihW0E+J99eqW+YUsZmCSNysFiJpqvM+HFsAMuoGTLkp         Fq0T1pb/0aNc1k3wQtuAqiJVEytvBnY0QoyDpBvyWwfLy2Z89MWgSMIHCZcFs3yca56d         13DWWUPcqN9u/Pf4ZKaBlD+4JekS4wQGPSkt9OqxHsc2EfU0sHye958fSm4/Y3VA2KZV         ErgfVp4d6Zws0gqALpJEszozIl2j8dUYI1PZD5kAtrcAHxQO8ZPzYzPYMM8kbbdqZb6L         cBeA==</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Dear Ferreters,<div><br></div><div>I found a discussion in the mailing list (from 2001), which seems to be saying that the maximum size of a single variable which doesn&#39;t include a record dimension is 2 GiB.</div><div><br></div><div>Then I&#39;m puzzled.&#xA0; My variables all have I, J, K, and M dimensions with I=1:500, J=1:400, K=1:67, and M=1:36.&#xA0; All double precision.&#xA0; So each variable is 3.6 GiB.</div><div><br></div><div>I managed to create netCDF files that each include a single variable via</div><div><br></div><div><font face="monospace">repeat/k=1:67 (save/append/klimits=1:67/k=`k` myvar)</font></div><div><br></div><div>The k-size of myvar is 1.</div><div><br></div><div><font face="monospace">ncdump -h</font> says</div><div><br></div><div><font face="monospace">dimensions:<br>	XU = 500 ;<br>	YV = 400 ;<br>	ZT = 67 ;<br>	bnds = 2 ;<br>	FREQ_AX = 36 ;</font><br></div><div><font face="monospace"><br></font></div><div><font face="arial, sans-serif">(freq_ax is the name of my ensemble dimension.)&#xA0; As you can see, there is no record dimension.&#xA0; If the last dimension were a record dimension, the listing would say</font></div><div><font face="arial, sans-serif"><br></font></div><div><font face="monospace">FREQ_AX = UNLIMITED ; // (36 currently)</font><font face="arial, sans-serif"><br></font></div><div><br></div><div>So, somehow I managed to create such datasets as this.</div><div><br></div><div>But then, I wanted to put two such variables into one file:</div><div><br></div><div><font face="monospace">set data <a rel="nofollow" href="http://myvar1.nc">myvar1.nc</a></font></div><div><font face="monospace">set data <a rel="nofollow" href="http://myvar2.nc">myvar2.nc</a></font></div><div><font face="monospace">SPAWN rm <a rel="nofollow" href="http://result.nc">result.nc</a></font></div><div><font face="monospace">repeat/m=1:36 (save/append/mlimits=1:36 var1[d=1], var2[d=2])</font></div><div><br></div><div>This program fails with</div><div><br></div><div><font face="monospace">NetCDF: One or more variable sizes violate format constraints (OPeNDAP/netCDF Error code -62)</font><br></div><div><font face="monospace"><br></font></div><div><font face="arial, sans-serif">When I limit the size by </font><font face="monospace">var1[d=1,k=1:37], var2[d=2,k=1:37]</font><font face="arial, sans-serif">, the above program works.&#xA0; If you calculate the size, then you&#39;ll find that k=1:37 just puts each of var1 and var2 just below 2 GiB.</font></div><div><font face="arial, sans-serif"><br></font></div><div><font face="arial, sans-serif">So, I guess, in the REPEAT loop above, the fact </font><font face="monospace" color="#ff0000">m</font><font face="arial, sans-serif"> takes a single value is somehow missed.</font></div><div><font face="arial, sans-serif"><br></font></div><div><font face="arial, sans-serif">Also, I wasn&#39;t able to add </font><font face="monospace" color="#ff0000">m=`m`</font><font face="arial, sans-serif"> to the SAVE statement because that results in &quot;</font>**ERROR: variable unknown or not in data set: M&quot;.&#xA0; I also tried to use <font face="monospace" color="#ff0000">_m</font> , but <font face="monospace">repeat/_m=1:36</font> results in a syntax error.</div><div><br></div><div>So, I&#39;m stuck.</div><div><br></div><div>Ryo</div><div><br></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00968" href="msg00968.html">Re: [ferret_users] maximum size of variable (again)</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00961.html">[ferret_users] &quot;set win/aspect=1&quot; and &quot;set mode linecolors&quot;---Strange interaction</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00968.html">Re: [ferret_users] maximum size of variable (again)</a></strong>
</li>

</UL>
<center>[<a href="msg00961.html">Thread Prev</a>][<a href="msg00968.html">Thread Next</a>][<A HREF="threads.html#00967">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
