<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] MacOS pyferret problem with eps output -->
<!--X-From-R13: [negva Epuzvqg <znegva.fpuzvqgNvb&#45;jnearzhraqr.qr> -->
<!--X-Date: Sun, 21 Apr 2019 14:39:57 &#45;0700 -->
<!--X-Message-Id: d44e25a6&#45;eb7e&#45;8e66&#45;83ec&#45;30e6fe1512b0@io&#45;warnemuende.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 6FE25465&#45;26B6&#45;4E65&#45;9478&#45;15F80578706E@Gmail.com -->
<!--X-Reference: c0b337c8&#45;0e82&#45;30ea&#45;0058&#45;2186eb0bbb3c@io&#45;warnemuende.de -->
<!--X-Reference: ACDEDEA7&#45;B01A&#45;4BC9&#45;9F84&#45;7CE527F83FB9@Gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] MacOS pyferret problem with eps output</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00136.html">Thread Prev</a>][<a href="msg00139.html">Thread Next</a>][<A HREF="threads.html#00138">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] MacOS pyferret problem with eps output</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] MacOS pyferret problem with eps output</strong></li>
<li><strong>From</strong>: <strong>Martin Schmidt &lt;<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Sun, 21 Apr 2019 23:38:56 +0200</li>
<li>Arc-authentication-results: i=3; mx.google.com;       arc=pass (i=2);       spf=neutral (google.com: 52.222.5.176 is neither permitted nor denied by domain of <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>) smtp.mailfrom=<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       arc=pass (i=1 spf=pass spfdomain=io-warnemuende.de);       spf=neutral (google.com: 65.127.216.231 is neither permitted nor denied by domain of <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>) smtp.mailfrom=<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       spf=pass (google.com: domain of <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a> designates 192.124.245.149 as permitted sender) smtp.mailfrom=<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:from:references:to:subject;        bh=UWKV+EAT2tMWe1Ffz7inZjsxoxFYMrVyGa+fz57lVTo=;        b=0wXtwU79VgFlq2uLYkKjEwjv/90mMlQFaJlUn4gq80i6kccrzYEQkO1Atx1yOtPg3n         8YoFXObULKcsre18n+YEsZAYgGDUYTmafgNVlkmQl2tYJhgqj9ZYN/4UDyoQF9xrCzGU         8p1+/lwnj8XPFmzav2xfayZ/5o0xJPxNIiC2ScAlyDnavZp8esy/xs0/c0Iteyydt0Fk         L9HktrMgwbC/qdz2lGwWXihgleOsdq6uedWF4j+yeDbbUuP3ooTCpoSwxL2XmFxwb1ax         VrpdF0fhy8I3OpafIkfiaT5uINFIyJd314BnN7KJoOz8sZd2Vc1D/LkGY8UvO8vhU7Ll         //6w==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-transfer-encoding:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject;        bh=UWKV+EAT2tMWe1Ffz7inZjsxoxFYMrVyGa+fz57lVTo=;        b=igDJNYgqcMoWO6s+NpgUYqLNZm2f063Db8JTjnMDJu4YJF6f3Yjd0oQ9hUpAcfD55o         O2bUZqFPaWY7HZlPRMjaZV5/WCIRln5YuKu45vbDhGG2FFP7ERnX0ysN+LZrVx2Pqi0A         DteQafzVF1TB0ijhEt8w0TRnzlRvsXHT9wAYmmGLmKcEmADfm5n4GijuHRwyUXVhuOF8         ckUMhi5XrGKRt4Uv5H4nyCx0ayqp4MDwAhgDtwKW7ifSNxu8N6Khg57vvClUt+njRJF8         DjXr1QA/OiJwgoNw6UA02dbS8ATsa5lXmrPdg2n6YpT+9gxl8c/afsE181Snx7tEE7gD         02SA==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-transfer-encoding:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject;        bh=UWKV+EAT2tMWe1Ffz7inZjsxoxFYMrVyGa+fz57lVTo=;        b=mHxW4df3Id/SAiyJVoxhAqnDmhhVucIX0klq+9YCq8S3kA0pgu14KN8H3SDxadK9YS         hQCIWS+lzWDlF/BBaRXQGylK5sj4vD1hOBGJzK+YrekRB4ZsEiIss4vuT/iVvN2a09Dm         lUXlXjVJdck2QCEO0rgDQ0JqdXwoEKAT3kBtfhbayLm4e+WdYW0YHF1MYYn8SrcZ42BQ         K3Xnsrfku8voIJ5dCGOb3C1aPpa15Gp7KHnOLXafvbZwjHqRha9nV9AHSxWSuh05VQ4d         w45bBmqPP+zZWxiAKLzQNocOuXJrvzXBk03iiM38/iT9C6xpQq7u9zIG6rRee9L5xbQF         yENw==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1555882796; cv=pass;        d=google.com; s=arc-20160816;        b=Q/HnZ/VgEcmyz4uUZAJ2CDlZTgkcHfmhtIPIiNRjzJDH/+knl35YstanDFrfHcFjNW         CBITTV/IsPRAzPNY++TqximwaOPorXSsO40wBz3EjvXq4kzWEyMxln3USxykPkwalpH5         Jo8p3nUIyqRMGK0dSLWtAcf4dzcBKjURfY23E6KrlbS0VTbb3fzZcNgvd3nHwXvu7JfC         l+T2S5br6pF/dXjsgItZ4OUcMEbO+8k9CT2VV4XsC57UR+VJfSBusSEkMKDTm/3ipxI5         A3AlLhst+YzXY5m3LaYWybB94i2WtkUOT+pNALGC18yh4ab63cJ8YAEhtatZYPOgjtHF         zuVQ==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1555882791; cv=pass;        d=google.com; s=arc-20160816;        b=SMe87j4/FUjZCRpoSAEjd2OQoEQ7VcgEhoSRRlku6bBy5/iZlSxNNgyyJaD2UG6XnB         prz+1bD6RfKUzyXh1ISsmn+tPAifYlDsypo0ejxH0Dd7QZzsV0llrwyN4p1PqiWmujtw         ZRn/O1YyLneZHMxyQ84fA1SNXGRfK7piaXDBqHC3pO2qEymGwBZ+C5RkhycZ5OPTSbUz         jjUx1vroWQShc6RpNnCS8t4QItlvvLfa7XCjbIVTeyhz5z43YwE3XshrUKu0Ah6FIhMP         X56P6p94xaffeCbmNevV43LOA9NVU0DAvIec1E2K8iFSRcKggq6VVoAa5yTUwxThxnNd         gqTg==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1555882785; cv=none;        d=google.com; s=arc-20160816;        b=j+dlk0eWoDkdQQFkvn7nUID3HyA8igFASEOeNzLG16i68LUVEhhGrdJq3sGIo5TheR         Ab0lzaOGL35SNeSfFXbbwDIb1IWpTaOsc+DStlkG1J36K3wInSxUqZG8rZFCp8rXOi/d         mY6yG6ra8q2tfAXb0+hhDM4vsqOHLZapV82kfbA/0kM9Xlbps7A5cptIVuTr6tT1eeZV         L5YaJEKVah51gFi+zIUfbrD4EKbdXOVvM10yAOQqexTCocmDJCKjqjXZ3EsS3ZRHrNh9         8VeOzbKYiDPZfHcZ1RLApI/7wSyYy8vHgom7FTHbmxl2jGxrbEt6aYdbk0xr9DW9Sdxi         /ksA==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:subject:to:references:from:date:user-agent:mime-version         :in-reply-to:content-transfer-encoding:message-id:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=UWKV+EAT2tMWe1Ffz7inZjsxoxFYMrVyGa+fz57lVTo=;        b=iJ+wp8sNx1CKn1255E1IUFCuUk8DFLKlkaKJetEgrhPu6QcVdBja8LDBYDRp73KlLu         XC2rgTKyHuL5tpZlg/BX22mRtw57Klfn6TXFWJbF87m4Pe/FWqXfy4njyxBcyfGVOj8T         GjCLqjiQ/W/3FPFFi0nO6/sCKIjZajGNIMyqpV0svogrwTqb1v1RmfUl2heApEB2rU8c         8gWr+kW+UtrQtcVCkYmUERDHR/B/xtu2Yq6qVfaXkUAtBPS4OF1dUkk5wO2m/b9eAoEH         WDW8zYQiQqaSPA/lGkkCmd3mjCs4SbQSi7n3QSD5Gc76kjbpHgIfqW5sG0G1MIsR07vO         4VCg==</li>
<li>In-reply-to: &lt;<a href="msg00136.html">ACDEDEA7-B01A-4BC9-9F84-7CE527F83FB9@Gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00132.html">6FE25465-26B6-4E65-9478-15F80578706E@Gmail.com</a>&gt; &lt;<a href="msg00133.html">c0b337c8-0e82-30ea-0058-2186eb0bbb3c@io-warnemuende.de</a>&gt; &lt;<a href="msg00136.html">ACDEDEA7-B01A-4BC9-9F84-7CE527F83FB9@Gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:52.0) Gecko/20100101 Thunderbird/52.9.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Tony,

it is easter and spring here. So I enjoyed the free day.

</pre><tt>If you are using latex: latex accepts also png. Not sure, if pdf accepts 
</tt><tt>&quot;landscape&quot;, but this is another point ... many papers accept or require 
</tt><tt>tiff. I png is well produced you are at the save side and can produce 
</tt><tt>highly resolving images easiely tranformed into other formats with 
</tt><tt>standard tools.
</tt><pre style="margin: 0em;">

</pre><tt>pyferret is using python and qt to render images. Implementing 
</tt><tt>eps-output would be a big deal and there must be strong advantages of 
</tt><tt>eps to justify this work. (I am not a ferret developer, hope I am right 
</tt><tt>here.)
</tt><pre style="margin: 0em;">

</pre><tt>You said, that ferret is &quot;installing&quot; PyQt5. There is an older pyferret 
</tt><tt>in a miniconda, do you mean this? May be it has qt5 as dependency and it 
</tt><tt>is installed when installing pyferret?
</tt><pre style="margin: 0em;">

</pre><tt>What I am speaking about below, is a system where you install qt4, qt5 
</tt><tt>and the python interfaces PyQt4 and PyQt5. This should be possible on a 
</tt><tt>Mac without and with a miniconda.
</tt><pre style="margin: 0em;">

</pre><tt>Miniconda is an installer system, which does not care about installed 
</tt><tt>system components. It installes everythinging in its own &quot;environment&quot;. 
</tt><tt>This is easy to use, things within the conda environment are usually 
</tt><tt>consistent. The price is that you fill your harddrive fastly.
</tt><pre style="margin: 0em;">

How to proceed with qt? May be you test the usability of PyQt first.

please check the following:

</pre><tt>Open a terminal&#xA0; and start that python used with pyferret. You mentioned 
</tt><tt>a miniconda, please use this python. There may be another version in you 
</tt><tt>system. &quot;which python&quot; helps to check, what you are using.
</tt><pre style="margin: 0em;">

&gt; python

Now both should work:

&gt;&gt;&gt; import PyQt5
&gt;&gt;&gt; import PyQt4

</pre><tt>This means both versions of qt, qt4 and qt5, are installed and the 
</tt><tt>python interface is usable. Quit python
</tt><pre style="margin: 0em;">
&gt;&gt;&gt; quit()
&gt;
</pre><tt>Next change to your ferret root directory, where you find the 
</tt><tt>subdirectories bin, lib go etc. Change to
</tt><pre style="margin: 0em;">
&gt; cd lib/python2.7/site-packages/pipedviewer
&gt; grep PyQt4 *
</pre><tt>shows you, where the imports are done by ferret. Open for example 
</tt><tt>cmndhelperpq.py with you preferred ascii-editor. You will find lines 
</tt><tt>like the following:
</tt><pre style="margin: 0em;">

# First try to import PyQt5, then try PyQt4 if that fails
try:
&#xA0;&#xA0;&#xA0; import PyQt5
&#xA0;&#xA0;&#xA0; QT_VERSION = 5
except ImportError:
&#xA0;&#xA0;&#xA0; import PyQt4
&#xA0;&#xA0;&#xA0; QT_VERSION = 4

You may change this to
# First try to import PyQt4, then try PyQt4 if that fails
try:
&#xA0;&#xA0;&#xA0; import PyQt4
&#xA0;&#xA0;&#xA0; QT_VERSION = 4
except ImportError:
&#xA0;&#xA0;&#xA0; import PyQt4
&#xA0;&#xA0;&#xA0; QT_VERSION = 4

</pre><tt>Hence, PyQt4 is used solely. Nothing else to be done in this file. There 
</tt><tt>are some more files to be treated similarly.
</tt><pre style="margin: 0em;">

</pre><tt>I have a ferret version with these changes to produce eps if needed. But 
</tt><tt>this is legathy, not the future.
</tt><pre style="margin: 0em;">

Best,
Martin

Am 21.04.2019 um 19:13 schrieb Jian (Tony) Ma:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi Martin,

I have retained pyqt4 with miniconda2, but still only have pyqt5 when ferret is activated. Pls let me know how to import pyqt4. I tried but unsuccessful.

Thanks,
Tony

Sent from my iPhone

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
On Apr 20, 2019, at 9:30 PM, Martin Schmidt &lt;martin.schmidt@xxxxxxxxxxxxxxxxx&gt; wrote:

Hi Tony,

as far as I know the message is correct. I had the same problem some time ago. There is no simple solution at the horizon. The best recommendation would be, to to make friends with other formats like png or pdf.

I had searched through several forums on qt. The support of Postcript output was discussed and some of the developpers clearly expressed that Postcript will not be supported any more in future. I cannot simply find the links - just remebering in this as a fact.

With linux there is a partial solution to keep eps-output. Most systems, i.e. linux destributions, still deliver qt4. One may install both, qt4 and qt5, in parallel. Qt4 supports eps-output. I am pretty sure, this is also possible for MacOS, but I cannot tell you how. Here you need to ask a Mac-wizzard. The next thing would be to change pyferret a little bit. There are several python scripts (.py-files), importing either PyQt4 or PyQt5. If there is PyQt5 installed, it would be preferred. You would have to edit these files to import the PyQt4 module in any case. Just a few lines to modify.  Even possible without any python knowledge. If you need more details I could help, but in this case please wait until next Tuesday.   So your turn would be to learn, how to keep qt4 and qt5 in parallel on your Mac, no need to downgrade.

Best,

Martin



</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Am 20.04.2019 um 12:24 schrieb Jian (Tony) Ma:
Dear All,

I got problem with PyFerret on Mac. When I use frame/file=1.eps, it tells me there is no postscriptformat for QPrinter. I searched online and found this is a problem with qt5, but I cannot downgrade to pyqt4. Any solution? Frustrated!

Thanks,
Tony

Sent from my iPhone
</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00140" href="msg00140.html">Re: [ferret_users] MacOS pyferret problem with eps output</a></strong>
<ul><li><em>From:</em> Jian (Tony) Ma</li></ul></li>
<li><strong><a name="00139" href="msg00139.html">Re: [ferret_users] MacOS pyferret problem with eps output</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00132" href="msg00132.html">[ferret_users] MacOS pyferret problem with eps output</a></strong>
<ul><li><em>From:</em> Jian (Tony) Ma</li></ul></li>
<li><strong><a name="00133" href="msg00133.html">Re: [ferret_users] MacOS pyferret problem with eps output</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
<li><strong><a name="00136" href="msg00136.html">Re: [ferret_users] MacOS pyferret problem with eps output</a></strong>
<ul><li><em>From:</em> Jian (Tony) Ma</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00136.html">Re: [ferret_users] MacOS pyferret problem with eps output</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00139.html">Re: [ferret_users] MacOS pyferret problem with eps output</a></strong>
</li>

</UL>
<center>[<a href="msg00136.html">Thread Prev</a>][<a href="msg00139.html">Thread Next</a>][<A HREF="threads.html#00138">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
