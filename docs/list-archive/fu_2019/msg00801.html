<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Function MOD : strange behavior -->
<!--X-From-R13: Ayvivre [negv <byvivre.znegvNyfpr.vcfy.se> -->
<!--X-Date: Thu, 27 Aug 2020 00:49:42 &#45;0700 -->
<!--X-Message-Id: FCF4D742&#45;3B56&#45;45EF&#45;BF05&#45;A570E23B2665@lsce.ipsl.fr -->
<!--X-Content-Type: multipart/signed -->
<!--X-Reference: 2B520447&#45;DD3E&#45;4F65&#45;8173&#45;94C408D4A591@lsce.ipsl.fr -->
<!--X-Reference: CAEwQpa+rY8FWYPCWR3mZjyKJpRNouOz_VVNpDoC8qNmScffCQw@mail.gmail.com -->
<!--X-Derived: p7sLTKYItf6k5.p7s -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Function MOD : strange behavior</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00799.html">Thread Prev</a>][<a href="msg00802.html">Thread Next</a>][<A HREF="threads.html#00801">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Function MOD : strange behavior</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Function MOD : strange behavior</strong></li>
<li><strong>From</strong>: <strong>Olivier Marti &lt;<a href="mailto:olivier.marti@DOMAIN.HIDDEN">olivier.marti@xxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 27 Aug 2020 09:49:30 +0200</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@lsce.ipsl.fr header.s=E682C68A-A940-4689-9079-2ADB5A360654 header.b=SE7TJDOv;       arc=pass (i=2 dkim=pass dkdomain=lsce.ipsl.fr);       spf=softfail (google.com: domain of transitioning <a href="mailto:olivier.marti@DOMAIN.HIDDEN">olivier.marti@xxxxxxxxxxxx</a> does not designate 209.85.219.69 as permitted sender) smtp.mailfrom=<a href="mailto:olivier.marti@DOMAIN.HIDDEN">olivier.marti@xxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@lsce.ipsl.fr header.s=E682C68A-A940-4689-9079-2ADB5A360654 header.b=SE7TJDOv;       arc=pass (i=2 dkim=pass dkdomain=lsce.ipsl.fr);       spf=softfail (google.com: domain of transitioning <a href="mailto:olivier.marti@DOMAIN.HIDDEN">olivier.marti@xxxxxxxxxxxx</a> does not designate 209.85.219.69 as permitted sender) smtp.mailfrom=<a href="mailto:olivier.marti@DOMAIN.HIDDEN">olivier.marti@xxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@lsce.ipsl.fr header.s=E682C68A-A940-4689-9079-2ADB5A360654 header.b=SE7TJDOv;       arc=pass (i=1 spf=pass spfdomain=lsce.ipsl.fr dkim=pass dkdomain=lsce.ipsl.fr);       spf=softfail (google.com: domain of transitioning <a href="mailto:olivier.marti@DOMAIN.HIDDEN">olivier.marti@xxxxxxxxxxxx</a> does not designate 65.153.203.172 as permitted sender) smtp.mailfrom=<a href="mailto:olivier.marti@DOMAIN.HIDDEN">olivier.marti@xxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@lsce.ipsl.fr header.s=E682C68A-A940-4689-9079-2ADB5A360654 header.b=SE7TJDOv;       spf=pass (google.com: domain of <a href="mailto:olivier.marti@DOMAIN.HIDDEN">olivier.marti@xxxxxxxxxxxx</a> designates 194.254.241.33 as permitted sender) smtp.mailfrom=<a href="mailto:olivier.marti@DOMAIN.HIDDEN">olivier.marti@xxxxxxxxxxxx</a></li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :message-id:in-reply-to:to:references:date:subject:mime-version:from         :dkim-filter:sender:dkim-signature;        bh=M8wkU6GA/pU/tFVqzzqvneIMkjAb5bGQSmA1+OnM5Qo=;        b=GlRySrkvB59rcMuG+Mdvh5nTcq+WI7ol8pgU8d3PDrAugUGBIwJ0CuuAdcmjeH+uss         zpFfQE6oYzFQZC1iU2bPY5hcow2ZdZ5QwQigv/QXCB6QNi7s6AgFfX5YWQZPC/bdpqQm         deLBLW9vVj7veoO7hLH2CrZpTKGvvoVn45ZWklIWHqWTk5OJuODnUEsLxjNQnDYFgZNT         ra8xkbxGupZB6v4anYQxOpVxgNl6EmiaRBupwzsf82skluV/52jgkMloAv9waLFtmBKb         +0OFq9P42MVRSxybDS+E54MIDFEQjRdaaS7iYsU0g74y/erFVhklsFNSLrC9pdC9cIYE         Wa5Q==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:in-reply-to:to:references:date:subject:mime-version:from         :dkim-signature:dkim-filter;        bh=M8wkU6GA/pU/tFVqzzqvneIMkjAb5bGQSmA1+OnM5Qo=;        b=NvGkAMWf08NRGgWS/07eLUVK63Aahk4WTJQxeumEq1cvDIxSG+B7mI/Aqohbw3hmJg         YMiCplUIvCLY5LuZkmSjEF7FvzgQkpbXSxA17WprnuJARpk5zsOss37QI8aZOEgfVxGD         IdT9dNmdPSF6QUgBNF9gqgmcKyzs8Ar/vxJcY+enuY46Iwad73GkOloNM8azrte+Jc3S         L8Xg/JznkxBnl+0vgIqI/rf113E/hsLU6L841XDQD9GrpDkO2Sp6XuVCqe7NLTvt08e5         xT+rDjJy+mQXOoGfSoRIMVHcNoGPcRuq+FvORp3CcRAl1o122X8Rw4ExzP85xLSEG6w7         WtZw==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:in-reply-to:to:references:date:subject:mime-version:from         :dkim-signature:dkim-filter;        bh=M8wkU6GA/pU/tFVqzzqvneIMkjAb5bGQSmA1+OnM5Qo=;        b=cJUlXLKoqaMmBewZox4Bubv34xD+e56cWL0vUkvPZeKxIDwjzrjkzd0F7zSUdct1ib         tF3Io7b5L02pKRGF2JNdXlswbL6TIPgukDO6FOXIqJq3JGsPfxf7S0jxyaFB/uAAxXC/         NJ7LheBfIYzUTzuJZGhlGVYoz8bvH0igW64aj2bAyA7OsTs61k27CD1Qs6GYy/92eHJo         YExkYzmic/1PHm9H7uqvxCu/T8TbpnOj5eCXc6vEa06evkfuvvpTaUloX02zSQWgxf6E         y9vAALO6E4lToGNP+YaTczVktZB+P8ydf2kK+RNTFleHpeoXJ0zTufko0t5cis3uG2v9         uayQ==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:in-reply-to:to:references:date:subject:mime-version:from         :dkim-signature:dkim-filter;        bh=M8wkU6GA/pU/tFVqzzqvneIMkjAb5bGQSmA1+OnM5Qo=;        b=W7FeX5u9X838X5S4EulgkJyJcrlISkHhXkbfpXN+P7KbYf8yzqaPOZ2gQD6fRf4ZOo         JotvXVbvZoopEqsFCeKzihaOR9b1VJWCU+uVnBbliNyL2AmBfK8IwaCNdYUi2X74uf/s         IbtJlODEvMuLRJbCwgExctwPIMLsqwtn7uGKyC4uEsVhF9qrD1JryPhB1TwHzjSPnhEJ         589g14+8Pcq9ZCtKvu+V32cGEYkDhefS2Lr8JTU3Gdk9SEm7JETK5TyxGD56YfH/Iukd         U5WdQLjEkEjIyAeWKHrVVi/KUyhzx2G+m/063mJcI/J3HLspWlydFrXOQYOSuZ+/Pm9j         VymA==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1598514581; cv=pass;        d=google.com; s=arc-20160816;        b=jbxgRFuknXebd0qrNhCjTPaQr9gFKl7mMRkbODEV3aIjoM0SAFePYwJZAVENl0QOkZ         5QBgMijAQUTbEVskF4sGV4Zm5h3fHGaKgPjxrxeb2P/1hdFF/ijjJlafLMj3LE7tLhXa         8IECkKvP8FR9EtegPwkQ/IEHqwcCwR7UJrM/VJrvokC7sGH0tKBoBWFIdH68C31Zj/yc         qcLrf+QWoDRcGlk1pV/eme+61uzh9VFimh1ldyAItzM8osXxKuiJK+EUbKbd3FVC6KPK         oDeW++iXYI0kPMiVKd+q6C2o1bVHyX0IS9wMZ0esw/pKxJ1vlhJlcFBXUBAi9xILkR26         qaKA==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1598514579; cv=pass;        d=google.com; s=arc-20160816;        b=PODuawn5KsWI92B04pi6sswrXTmcI7Rdl6lDmhn61tUTeg0WzMOhmxsVpx9dErwD2V         TxifhVwu9OF2wzqNq1HUWhmVn1fRGxX+n34pso+DA6EiFhDdyt7+ihHocvZOT55kilt/         UxPtN0IHxa+4TatzfKdGDWVaS3YUN6GGEG7LxsWCv9siXNmvlWAUYdOeRCRJQx74u0Ja         hli7Xri7gJ9Rq6DYhZiw7O+G+1oj0Te3t6NOr9z7HO5POJ3zyQzKmLSc/LCSJUHoh/Up         UruWwB4Qk9XDkELHDh6hzCDUhAhomBh5Z/rv+Rxlbe4+itgDw150ovy6yq8VmrcMF2bm         yKbQ==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1598514575; cv=pass;        d=google.com; s=arc-20160816;        b=d8mDKiXn+GWOgsXpIRilXTPWWWGzcVx07qrpP3xBAteXcdnQbhT70PpZIyv8QXvkO/         N83ghe7+4v2eNr9AbNg6CkdZ8eNbCjrEQeKWKb7A/JujhQMKnfuWXng5gImctExy95ZU         jGxBjH75j9F1G+k4niR0dNBgfZWisjOSZm4CY1B9njAqbWdTjXCiv/2zm5ZNkg0Cf/UH         Gm93F7v5p1e8znM9BRVX91Ga8hZkTS/0iUrW60nUT5M56oIFMyhMFDGcqD8z+ptXD9fG         enblJrV1sX7ypwFrMlkN3M/jgS0IbkQKHdsXWpRgpePwn2xWXqaXHaG3pi5AUCOw2LAN         dyoQ==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1598514572; cv=none;        d=google.com; s=arc-20160816;        b=nnUokSD3mYcgfaq4u+ude4Fsw43JeoyOQAmWY64LsGhF26G63UpPCsNbVTslyRWBUp         dlkZvqezsAZg9Y8u+yQ8WGbCBBJSMsQEiauQVfDtc4KGJdTsuwk3/RggcCaKuvm/sLxz         y1OhAyDY41Pwjj7Yex1Quiva3d3DUTCQzZx4gIZOmwehSUlV459eze3TG+o/7rAES08c         VCRrllhun/ez9UbU5I5jUPyBAiroh2PJjFiwfhBzrn7vy5Z5SGvTTa40d2v7r6kS4u9/         8kdutQnMEKp+HLllSXsPykiq80ly/ABRM+2CYDf5lj8b2NHxBkODg+hmj4khc4K3bGr7         AnOw==</li>
<li>Dkim-filter: OpenDKIM Filter v2.10.3 zmtaauth02.partage.renater.fr 72590A013E</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:dkim-filter:from:mime-version:subject:date:references:to         :in-reply-to:message-id:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=M8wkU6GA/pU/tFVqzzqvneIMkjAb5bGQSmA1+OnM5Qo=;        b=Mvdoyj8O8glc7KWloY9QQICYV8Q8+uVfmZzPTtc4W8aVWEYJxCIzlJtEX4sqQVImH6         r//D19qQobBBJTmOn+PsOeJ635S7l3Akj9B/bZctkszqBKr0rGQ0V8BMZ5cYFDGWZzff         kmzWsllaBIcr3v+T0eoD0Wal2Z2OPxDWIdzTDFk9uFlLEiO755SyONYhUVROMDjfo65/         Je0NbIAbeqiPW8Ro2cvtI6e4SDH3d2lmzePHoqUvJfdgHksy7TAjrJddnkOIDpPAsKl2         KSFmkXJwS9+dJbgx6knLnQlPEoV3IZYtAPGCcIVShwoZWlCxqRB2ASrlBJX4lg4HYIg4         KD/Q==</li>
<li>In-reply-to: &lt;<a href="msg00799.html">CAEwQpa+rY8FWYPCWR3mZjyKJpRNouOz_VVNpDoC8qNmScffCQw@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00797.html">2B520447-DD3E-4F65-8173-94C408D4A591@lsce.ipsl.fr</a>&gt; &lt;<a href="msg00799.html">CAEwQpa+rY8FWYPCWR3mZjyKJpRNouOz_VVNpDoC8qNmScffCQw@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style="">For the integer division, there is often a difference between the computer implementation and the generally accepted definition in math. See&nbsp;<a rel="nofollow" href="https://en.wikipedia.org/wiki/Modular_arithmetic" class="">https://en.wikipedia.org/wiki/Modular_arithmetic</a> for the definition of modulo and congruence : the result of modulo is always positive.<div class=""><br class=""></div><div class="">In computer, there is a difference between the "truncated division" (also called "symmetric") and the "floored division". Most langage implement the truncated division, when the math definition is the "floored division". And I agree that modulo and integer division should be compatible to get&nbsp;<span style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: monospace;" class="">(m div n) * n&nbsp;+ (m mod n) == m</span></div><div class=""><span style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: monospace;" class=""><br class=""></span></div><div class=""><span style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: monospace;" class="">I</span><font color="#000000" class="">n Fortran, <font face="Courier" class="">MOD</font> and <font face="Courier" class="">MODULO</font> functions have different behaviour with negative numbers !! I'm&nbsp;afraid&nbsp;Fortran misses a floored&nbsp;division (?)</font></div><div class=""><br class=""></div><div class="">This could be a long discussion about math, computer implementation, etc ...</div><div class=""><br class=""></div><div class="">But my point is far more practical : I define some geographical areas with mask from latitude and longitude values. The work would be simpler if I could use a MOD (or MODULO or whatever) function that return a number in [0,360[, and not in ]-360,360[</div><div class=""><br class=""></div><div class="">For instance :&nbsp;</div><div class=""><br class=""></div><div class="">I have data with longitude in [0,360]. I want to mask some of them, and plot them for longitude -30:110. This is possible because the longitude is properly defined as modulo in the NetCDF file.</div><div class=""><br class=""></div><div class="">I need to define the mask as :&nbsp;</div><div class=""><br class=""></div><div class=""><span style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);" class=""><font face="Courier" class="">LET m1 = IF lat LT 63 AND ( lon GT 330 OR (lon LT 0 AND lon GT -30) ) THEN 0 ELSE 1</font></span></div><div class=""><font color="#000000" class=""><span style="caret-color: rgb(0, 0, 0);" class=""><br class=""></span></font></div><div class=""><font color="#000000" class=""><span style="caret-color: rgb(0, 0, 0);" class="">this would be simpler if I could write :</span></font></div><div class=""><font color="#000000" class=""><span style="caret-color: rgb(0, 0, 0);" class=""><br class=""></span></font></div><div class=""><span style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);" class=""><font face="Courier" class="">LET m1 = IF lat LT 63 AND MODULO(lon,360) &nbsp;LT 330 THEN 0 ELSE 1</font></span></div><div class=""><font color="#000000" class=""><span style="caret-color: rgb(0, 0, 0);" class=""><br class=""></span></font></div><div class=""><font color="#000000" class="">A floored division&nbsp;could also be useful :-)</font></div><div class=""><font color="#000000" class=""><br class=""></font></div><div class=""><font color="#000000" class="">Olivier<br class=""></font><div><br class=""><blockquote type="cite" class=""><div class="">Le 26 ao&#xFB;t 2020 &#xE0; 17:14, Ryo Furue &lt;<a rel="nofollow" href="mailto:furue@xxxxxxxxxx" class="">furue@xxxxxxxxxx</a>&gt; a &#xE9;crit :</div><br class="Apple-interchange-newline"><div class=""><div dir="ltr" class=""><div class="">Hi&nbsp;Olivier,</div><br class=""><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Wed, Aug 26, 2020 at 5:45 PM Olivier Marti &lt;<a rel="nofollow" href="mailto:olivier.marti@xxxxxxxxxxxx" class="">olivier.marti@xxxxxxxxxxxx</a>&gt; wrote:<br class=""></div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div style="overflow-wrap: break-word;" class=""><div class=""><br class=""></div><div class=""><div class=""><font face="Courier" class="">yes? LIST MOD(lon &nbsp; &nbsp;,360), MOD(lon-360,360), MOD(lon-720,360), MOD(lon+360,360)</font></div><div class="">[ . . . ]</div><div class=""><font face="Courier" class="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; EX#1 &nbsp; EX#2 &nbsp; EX#3 &nbsp; EX#4</font></div><div class=""><font face="Courier" class="">1 &nbsp; &nbsp;/ &nbsp;1: &nbsp; 36.0 -324.0 -324.0 &nbsp; 36.0</font></div><div class=""><br class=""></div></div></div></blockquote><div class="">[ . . . ]&nbsp;</div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div style="overflow-wrap: break-word;" class=""><div class=""><div class=""></div></div><div class=""><font face="Courier" class=""><br class=""></font></div><div class="">The result of <font face="Courier" class="">EX#2</font> and <font face="Courier" class="">EX#3</font> puzzles me. From what I remember from my math studies, the <font face="Courier" class="">MOD</font> function should return a result in the interval [0,360[. All <font face="Courier" class="">EX#s</font> should print the same result than <font face="Courier" class="">EX#1</font> and <font face="Courier" class="">EX#4.</font></div><div class=""><br class=""></div><div class="">Is this a bug or a feature ? If this is a feature, it should be at last documented. And another <font face="Courier" class="">MOD</font> function with the "correct" behaviour would be strongly appreciated ;-)</div></div></blockquote><div class=""><br class=""></div><div class="">This Q&amp;A session</div><div class=""><br class=""></div><div class=""><a rel="nofollow" href="https://stackoverflow.com/questions/11720656/modulo-operation-with-negative-numbers" class="">https://stackoverflow.com/questions/11720656/modulo-operation-with-negative-numbers</a></div><div class=""><br class=""></div><div class="">explains why Ferret's MOD is the "correct" one.</div><div class=""><br class=""></div><div class=""><font face="monospace" class="">(m div n) * n&nbsp;+ (m mod n) == m</font></div><div class=""><font face="monospace" class="">&nbsp;</font><br class=""></div><div class="">shall be an identity for any integers m and n.&nbsp; Therefore,</div><div class=""><br class=""></div><div class=""><font face="monospace" class="">(m mod n) = m - (m div n) * n</font></div><div class=""><font face="monospace" class="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = (-324) - ( -324 div 360) * 360</font></div><div class=""><font face="monospace" class="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = -324 - 0 * 360</font></div><div class=""><font face="monospace" class="">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = -324</font></div><div class=""><br class=""></div><div class="">*Your* "correct" mod is found in the form of the MODULO function in Fortran.&nbsp; I don't know whether Ferret implements it or not.</div><div class=""><br class=""></div><div class="">To visualize what's going on, imaging an axis with integer labels and divide it into segments with a length of 360.</div><div class=""><br class=""></div><div class="">The MODULO(m, 360) function you want measures the distance of m from the nearest left edge of the segment. In contrast, the MOD(m, 360) function finds a vector from the nearest edge closer to 0, to m.&nbsp; The vector can be leftward (negative) or rightward (positive).</div><div class=""><br class=""></div><div class="">By the way, for the above identity to hold for the MODULO function, we would have to redefine</div><div class=""><br class=""></div><div class=""><font face="monospace" class="">-324 div 360 = -1</font></div><div class=""><br class=""></div><div class="">This kind of makes sense.&nbsp; Because MODULO is one-sided (always measures from the left edge of the interval), DIV should be one-sided, too, to be consistent.</div><div class=""><br class=""></div><div class="">Regards,</div><div class="">Ryo</div><div class=""><br class=""></div></div></div>
</div></blockquote></div><br class=""><div class="">
<div dir="auto" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><div dir="auto" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><div dir="auto" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><div dir="auto" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><div dir="auto" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><div dir="auto" style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none; word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><div dir="auto" style="word-wrap: break-word; -webkit-nbsp-mode: space; line-break: after-white-space;" class=""><div style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;"><span style="font-size: 12px;" class="">&#x2014;&nbsp;</span></div><div style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant-caps: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;" class=""><span style="font-size: 12px;" class=""><b style="font-weight: normal;" class="">Olivier Marti &nbsp;</b>-<span class="Apple-converted-space">&nbsp;</span><b class="">LSCE</b><span class="Apple-converted-space">&nbsp;</span>B&#xE2;t 714 p. 1049</span></div><div style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant-caps: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;" class=""><span style="font-size: 12px;" class=""><b class="">MERMAID Team</b></span></div><div style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: Helvetica; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;" class=""><span style="font-size: 12px;" class=""><i class="">Normal situation : &nbsp;+33 1 69 08 77 27&nbsp;</i></span></div><div style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;" class=""><span style="font-size: 12px;" class="">Corona lockdown &nbsp;: &nbsp;+33 6 45 36 43 74</span></div><div style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0); font-family: Helvetica; font-style: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration: none;" class=""><span style="font-size: 12px;" class=""><font face="Courier" class=""><a rel="nofollow" href="mailto:olivier.marti@xxxxxxxxxxxx" class="">mailto:olivier.marti@xxxxxxxxxxxx</a></font><br class=""></span><br class=""></div></div></div></div></div></div></div></div>
</div>
<br class=""></div></td></tr></table><p><strong>Attachment:
<a href="p7sLTKYItf6k5.p7s" ><tt>smime.p7s</tt></a></strong><br>
<em>Description:</em> S/MIME cryptographic signature</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00802" href="msg00802.html">Re: [ferret_users] Function MOD : strange behavior</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00797" href="msg00797.html">[ferret_users] Function MOD : strange behavior</a></strong>
<ul><li><em>From:</em> Olivier Marti</li></ul></li>
<li><strong><a name="00799" href="msg00799.html">Re: [ferret_users] Function MOD : strange behavior</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00799.html">Re: [ferret_users] Function MOD : strange behavior</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00802.html">Re: [ferret_users] Function MOD : strange behavior</a></strong>
</li>

</UL>
<center>[<a href="msg00799.html">Thread Prev</a>][<a href="msg00802.html">Thread Next</a>][<A HREF="threads.html#00801">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
