<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [EXTERNAL] Re: [ferret_users] ensemble or compare data from two time series -->
<!--X-From-R13: Dlb Thehr <shehrNunjnvv.rqh> -->
<!--X-Date: Wed, 1 Dec 2021 23:23:01 &#45;0800 -->
<!--X-Message-Id: CAEwQpa+BRJJjNyT3qURN7RFqen7omVVtmqmhNmWzX8YMzXKu5g@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAKE4FWqUQPj5WmRwNZDxHj2X2pMdUDFMo_70JdVepXJMJUVrFw@mail.gmail.com -->
<!--X-Reference: 08760b2e&#45;2ee0&#45;a232&#45;018e&#45;4b10d3bfc67f@gmail.com -->
<!--X-Reference: CAKE4FWqDRgzJq+f&#45;=EyM5cG4C6XDW7rHhFr=&#45;fSLaBgZvc9gBA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [EXTERNAL] Re: [ferret_users] ensemble or compare data from two time series</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg01035.html">Thread Prev</a>][<a href="msg01057.html">Thread Next</a>][<A HREF="threads.html#01036">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [EXTERNAL] Re: [ferret_users] ensemble or compare data from two time series</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Xiaoyu Bai &lt;<a href="mailto:xbai1@DOMAIN.HIDDEN">xbai1@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [EXTERNAL] Re: [ferret_users] ensemble or compare data from two time series</strong></li>
<li><strong>From</strong>: <strong>Ryo Furue &lt;<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 2 Dec 2021 16:22:41 +0900</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@hawaii-edu.20210112.gappssmtp.com header.s=20210112 header.b=C1RN+LKS;       arc=pass (i=2 dkim=pass dkdomain=hawaii-edu.20210112.gappssmtp.com);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.219.69 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@hawaii-edu.20210112.gappssmtp.com header.s=20210112 header.b=C1RN+LKS;       arc=pass (i=2 dkim=pass dkdomain=hawaii-edu.20210112.gappssmtp.com);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.219.69 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@hawaii-edu.20210112.gappssmtp.com header.s=20210112 header.b=C1RN+LKS;       arc=pass (i=1 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii-edu.20210112.gappssmtp.com);       spf=fail (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> does not designate 65.153.203.175 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@hawaii-edu.20210112.gappssmtp.com header.s=20210112 header.b=C1RN+LKS;       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence:cc         :to:subject:message-id:date:from:in-reply-to:references:mime-version         :sender:dkim-signature;        bh=hnDaRBXsbmr+5JYE61PKdX44HthhlhAOsYKeOWkWuAY=;        b=0puqPGzdngOvN/spD1lLjWdsb1chFOHbtVXoWzmQ7LsSGunT8szbbKO47QsnXCEtCI         HAw/B9qyBZr+FmOUqKcmPdsIO7eR8HEHAeqgHFuw3jaz6FPVR4kZVbA2VWErGYA4QPsH         MPR67X/UBaKl1gCCj3j7GSUC5WYjUBHd9aGtoi0BU5Qg5fugra5otAa9pqoDtuhUtkl4         cu0zrWyPfQIrOWx/DV/8E9+edw0hSmy6fzqPzClDFjhFqk32BPVGLcMzeNKuRvRO8K8v         jdDWmbONIUOdwM02+oIl2VEVDTBi8UIWTL3q4e1mRw5my/zUfzgOWY+Y88cT6xYWhhY1         r0LA==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=hnDaRBXsbmr+5JYE61PKdX44HthhlhAOsYKeOWkWuAY=;        b=XWQpBt+gI0SyfJnaoM5zAFFz9AbkPxZRdXuQDY4/+O66YA/0lSRxm+dEG7wthwHL07         sGy2jLHwMgZN61T9ZKhzG5vd7CyKSrmOr7C/GepzxYzxmscoOjmyKyRSbz5mAiHgXwbu         cCUvFqZm8mNN8l2Die0J3W5dW1Qq54IP6LLwtZ3jv7A7I+vtCHJHbbawaPhnoFkBaewM         d8SCUik/ah2wuBqxAB4afUaNktmO0lsCNk6mz6VOinflDwm/3PE+qp4LPPTBoi77b+un         JRafL5wgc10jXzC9BdsMLuAi3jwTBXXb61ouqhGKrE5WIq+FMZNNFaS4xbsHgWbW6TKz         HcRg==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=hnDaRBXsbmr+5JYE61PKdX44HthhlhAOsYKeOWkWuAY=;        b=WCb+/5hxGRVtvkYPGqqXcbhqzmEp+amLMZXikwzsrPOZJ1icYuUB4nkj8OnOpTMR49         zC79BD5Oe2JrIbocKWZ/X6z2BPoUDmBf6sqRuJica0s/P0K03xnA36ONqoQpO2y3r73s         YuucjdOPXcpq9dgkvx1Q97dlgyxaemjaporT78qiiCi8CTu3CCLEZgVMW5lusZLFpLI+         Jj80gCfPT9UuYU/U/XGroZoNdsB4hfR8y1kyTzVE1t/jO57rDBItrnuKmQxWFKnalYtJ         8glC4WNZBukrBMjh7X6K5gaK6i9XA+piQdn3+UtjNnWE2ugbGv0r3IutmLuCaGL8J7lJ         XhOw==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=hnDaRBXsbmr+5JYE61PKdX44HthhlhAOsYKeOWkWuAY=;        b=oMv/othkPeqMXPPdWg0ahfjBItEDrVhXBenO9Rs3DwXpYjXHG0wHR4pG0caR+Har2M         +7OH818hCAUbDrqXV0EU+oEEe5ZewWTyjOqfYqKOqHuq5rt//zKMfT7Xu/cowrnYWWgy         61H13yuxlE9e8JsLSEv9UNW4+Y6RtKTUbDx/jTxXB8fuuLv284cYeeIio5GnAzvrNIzE         8P700QguUT+S8sPmpH4z6yOz1ysRJceXhpZ2pn6yprsrCFPUGWaJO+K6g8rVi69E5RUD         JpgOIB71ryZAgGA07/0a8BtaIKc3W8v4YOGTE/bnVZUzFZ7n00r9Imn39amFxMRwvp4w         ZNvQ==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1638429778; cv=pass;        d=google.com; s=arc-20160816;        b=1Id+mCc3Kkc9klN2tf49vaaimLRihjxWzyuhK4t8HSFeD9wTk/mAJg8eAOBIdV3aD6         GzZTVzz80n+ABUll4bAJQJvIN6JnguDuMSiJlh/++5TAU6Ez9FAKwm7aoPc2K7tZ8s5m         rAEz6z8xl0HVX6/o6FZGAPaz4zuNYQ015vPD+9giZvdj2BDIuMUC9bZ0VJxe4cmWB3QU         2KvFoGY3GIMcihOvlkntsEBVD5zlJONj3EllwHg4sbPzmUJjTi9P1qNxLX3iXQl99ixK         hselFHgYergDdOtiPKs/G6U8QpSBdZOeW62Vum+/55Bdxb/Fi3JO5LRZ7xq6ghZtd3iT         Tl3g==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1638429778; cv=pass;        d=google.com; s=arc-20160816;        b=zQjgUQzmUS9KvTjJ29tQGqf0rM3TIx43k9z3reghCFBxp3YUbDH92Nz7z8kl7zolgG         skEGoRXF3RcRlhNmvy+l+ThlKgON0i3Owm6Ro9aul6Eu5MXd/lSGuNykmlIfUrxlKLg7         k18aj23a7d65pRBjTdKXnJeTGZmuZG2FuJmzWPlZMWo2UmXl4nb2mViz0gk5mJ8BkdlA         ukNeyYUDXHPqHo5EGvhV+aodIIPCSm/gWgUZS5fk/86lHiVTknz7MY1sHgisATEp9Boz         be5o15UQyFUIpXZ66kNnOQ/GoVErWtXtXKlCLYNwLzML3WFJ22eYtGTz6xBLr7KggI1f         pkvg==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1638429773; cv=pass;        d=google.com; s=arc-20160816;        b=i6w/N6fX4vP5xLblB7kmZ6JwCoyWJLyZSrLMYKNVI3Aq8r+XoiW7Jg+Kb0sZShBU91         dfkuG+44r+baJZFJ43n00yKQhYVS/uV6y2GhQdwXJJI1VF9ZmM6K3JtpHWOov99J3Ojo         OFnNMl9JPyP+jgtM2eJdfkOmJTQDivWjpaNYpCHUCa5Mpx33gNT6JRd11q1DozP9/S46         +ElfdWo7RYzWfi/96Qa8B4vDTgVB+MNTMOorlqCb6BZ04Uw1nLvvprPDGRcnSZGwLtkG         HD960op6tm4RSJHtyjakumNtwec27ELf8JMY6Bxxvl1JDQuPasEzYUTR9gZjseM6Bw1A         TWjw==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1638429772; cv=none;        d=google.com; s=arc-20160816;        b=n0YzNwjl1mphFccS7+TeteTH6Pzvd07OnYrVEyDzyLEBzZ9zsZ7S1AiBmbZhTfizrT         wLJsR//GDgclSinde3WMZb2c61Dobv1ienkz2tkHJagbObaAW+0Tr6T+nPRI9pgK5HdP         4YaEbW8OjmyJ0SfLryziWdiCjDA8+iPjxZyjACez5+E0fiDUm2JnCodStWlCwNzsNgU6         VC9vHRERnxMHkfmd4+B+9Rcd/6UPnJalv5gWL9eVgtwKJQZUHnkh11yFkhvSvTJkF9oh         J7p+yBSOpYHyVsfwJ7cywsLnVd9GbI8fPN1EvbAAY5qGESleLxWMY10pUCMyJuf64TA4         MH6A==</li>
<li>Cc: Ansley Manke &lt;<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a>&gt;, ferret &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:mime-version:references:in-reply-to:from:date:message-id         :subject:to:cc:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive;        bh=hnDaRBXsbmr+5JYE61PKdX44HthhlhAOsYKeOWkWuAY=;        b=Xbv+07jbSgGbb0qj9ng5ig2/roDtEu55QVTph9CzUK8x9nRVA3e0a9Gyu4sQ8BpLjG         /0uadU9l/stnwtKC2ByCyPyBW+KpUkBQoaWn+ogNY0lAyKTnNu9FTlwjlPh8X958Ia+N         9GVWIruWV6liQaunPXjPG6kzWgfazEb8Ld46E2zHPF3L9uBhM/h9Fjfrt3yKzJHPJXGg         SVPG/dRDB97Dh6lxInrDkLAy5AmfsShooXHrpN9m1ZsT1WWFHg+VSy5RLWniP1NDDO0/         Uamyot3ohIZWu6KtghJ/hCd5TkPceXnAEpuVyYjQdPkUKLxbPU1v7oMmRawHsXNkRg+0         x7jg==</li>
<li>In-reply-to: &lt;CAKE4FWqDRgzJq+f-=EyM5cG4C6XDW7rHhFr=-fSLaBgZvc9gBA@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg01030.html">CAKE4FWqUQPj5WmRwNZDxHj2X2pMdUDFMo_70JdVepXJMJUVrFw@mail.gmail.com</a>&gt; &lt;<a href="msg01033.html">08760b2e-2ee0-a232-018e-4b10d3bfc67f@gmail.com</a>&gt; &lt;CAKE4FWqDRgzJq+f-=EyM5cG4C6XDW7rHhFr=-fSLaBgZvc9gBA@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><div dir="ltr">Dear&#xA0; Xiaoyu,</div><br><div class="gmail_quote"><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div dir="ltr"><div><br><br></div><div>use agg_macav2metdata_pr_NorESM1-M_r1i1p1_historical_1950_2005_CONUS_monthly.nc<br>yes? let/like=precipitation <font color="#ff0000">p_tave=precipitation[t=@AVE]</font><br>yes? save/file=NorESM_hist_ave.nc p_tave<br>&#xA0;LISTing to file NorESM_hist_ave.nc<br></div><div>cancel data 1<br>yes? use NorESM_hist_ave.nc<br>yes? use agg_macav2metdata_pr_NorESM1-M_r1i1p1_rcp85_2006_2099_CONUS_monthly.nc<br>yes? let/d=2/like=precipitation <font color="#ff0000">p_tave</font>=precipitation[t=@AVE,gxy=<font color="#ff0000">p_tave</font>[d=1]]<br></div><div><br></div><div><font face="monospace">I got an error saying:</font></div><div><br></div><div>**ERROR: variable unknown or not in data set: <font color="#ff0000">PRECIPITATION[T=@AVE]</font></div></div></blockquote><div><br></div><div>In the second LET statement, the variable <font face="monospace" color="#ff0000">p_tave</font> is re-defined using its own previous definition. Essentially,</div><div><br></div><div>let <font color="#ff0000">p_tave</font> = precip[gxy=<font color="#ff0000">p_tave</font>[d=1]]</div><div><br></div><div>But you have already canceled the former dataset 1 by &quot;cancel data 1&quot;.</div><div><br></div><div>Although I don&#39;t know exactly what&#39;s happening in this case, I suspect this is the cause of the problem you encounter.&#xA0; So, I suspect you&#39;ll get a result you like if you don&#39;t use the same name &quot;p_tave&quot; and don&#39;t cancel dataset 1.</div><div><br></div><div>Hope this helps,</div><div><br></div><div>Ryo</div><div><br></div><div><br></div><div><br></div><div><br></div><div>&#xA0;</div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div dir="ltr"><div><br></div><div><br></div><div><font face="monospace">When I checked the data:</font></div><div><br></div><div>&#xA0;sh data<br>&#xA0; &#xA0; &#xA0;currently SET data sets:<br>&#xA0; &#xA0; 1&gt; ./NorESM_hist_ave.nc<br>&#xA0;name &#xA0; &#xA0; title &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; I &#xA0; &#xA0; &#xA0; &#xA0; J &#xA0; &#xA0; &#xA0; &#xA0; K &#xA0; &#xA0; &#xA0; &#xA0; L<br>&#xA0;P_TAVE &#xA0; Monthly Precipitation Amount &#xA0; &#xA0; 1:251 &#xA0; &#xA0; 1:144 &#xA0; &#xA0; ... &#xA0; &#xA0; &#xA0; ...<br>&#xA0; &#xA0; &#xA0; &#xA0;(T=30-DEC-1949 12:00:30-DEC-2005 00:00)<br>&#xA0;<br>&#xA0; &#xA0; 2&gt; ./agg_macav2metdata_pr_NorESM1-M_r1i1p1_rcp85_2006_2099_CONUS_monthly.nc &#xA0;(default)<br>&#xA0;name &#xA0; &#xA0; title &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; I &#xA0; &#xA0; &#xA0; &#xA0; J &#xA0; &#xA0; &#xA0; &#xA0; K &#xA0; &#xA0; &#xA0; &#xA0; L<br>&#xA0;PRECIPITATION<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; Monthly Precipitation Amount &#xA0; &#xA0; 1:251 &#xA0; &#xA0; 1:144 &#xA0; &#xA0; ... &#xA0; &#xA0; &#xA0; 1:1128<br>&#xA0;------------------------------<br>&#xA0;P_TAVE[D=agg_macav2metdata_pr_NorESM1-M_r1i1p1_rcp85_2006_2099_CONUS_monthly] = PRECIPITATION[T=@AVE,GXY=P_TAVE[D=1]]<br>&#xA0;<br></div><div><font face="monospace">So I tested&#xA0;</font></div><div><br></div><div>let test= PRECIPITATION[T=@AVE,d=2]-P_TAVE[d=1]<br></div><div><br></div><div><font face="monospace">but still got the same error. Interestingly, If I only compare the two variables&#39; T=@AVE, I got an error:</font></div><div><font face="monospace"><br></font></div><div>contour Precipitation[d=2,T=@AVE]-Precipitation[d=1,T=@AVE]<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;*** NOTE: Ambiguous coordinates on T axis: PRECIPITATION[D=2,L=@AVE]-PRECIPITATION[D=1,L=@AVE]<br>&#xA0;**ERROR: illegal limits: PRECIPITATION is not in the range T=30-DEC-1949 12:00:30-DEC-2005 00:00@AVE<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; Axis extremes are T=30-DEC-2005 12:00:30-DEC-2099 00:00<br></div><div><br></div><div><br></div><div><font face="monospace">I am using Pyferret v7.6 on Linux 4.15.0-1089-azure. I am wondering how to solve this problem.</font></div><div><font face="monospace"><br></font></div><div><font face="monospace">Stay healthy,</font></div><div><font face="monospace"><br></font></div><div><font face="monospace">Xiaoyu</font></div><div><font face="monospace"><br></font></div></div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Wed, Nov 24, 2021 at 6:24 PM Ansley Manke &lt;<a rel="nofollow" href="mailto:a.c.manke@xxxxxxxxx" target="_blank">a.c.manke@xxxxxxxxx</a>&gt; wrote:<br></div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex">
  
    
  
  <div>[<strong><font color="red">Caution</font></strong>: Email from External Sender. Do not click or open links or attachments unless you know this sender.]<br><span>&#xA0;</span>
    <p>Hi,</p>
    <p>Your datasets do not share a time range, so this is not a typical
      ensemble.</p>
    <p>Usually, you can define an ensemble when the datasets do not have
      the same space/time grids,&#xA0; by first defining a regridding
      operation so that all datasets have the same space/time grid as
      the first dataset in your list. On the page,</p>
    <p><a rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/DEFINE#_define_data_agg" target="_blank">https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/DEFINE#_define_data_agg</a></p>
    <p>scroll down in that page to find &quot;Ensemble Examples&quot;. Example 3
      shows how to define an ensemble for data on two different grids,
      including for this data a modulo regridding operation to define
      variables with consistent grids. The variable names must also
      match, so that example also shows how to rename the file variable
      within the Ferret session, and then define the new regridded
      variables using the desired names.</p>
    <p><br>
    </p>
    <p>I am not sure what commands you tried using @AVE.&#xA0; If you did a
      time average, then the resulting grid no longer depends on time,
      so there should not be an error message about time axes. Look at
      this example:</p>
    <p><font face="monospace">! Make a file containing the variables in
        the first dataset, averaged in time.&#xA0; <br>
        ! An ensemble needs one file with the grid that is going to be
        used in the <br>
        ! ensemble; not all of the grids can come from LET definitions.<br>
      </font></p>
    <p><font face="monospace">yes? use dataset_1<br>
        yes? let/like=precip p_tave = precip [t=@ave]<br>
        yes? save/file=<a rel="nofollow" href="http://data1.nc" target="_blank">data1.nc</a> p_tave <br>
        yes? cancel data 1</font></p>
    <p><font face="monospace">! Now open this data and define variables
        in the other dataset(s) so that <br>
        ! they can be included in an ensemble.<br>
      </font></p>
    <p><font face="monospace">yes? use <a rel="nofollow" href="http://data1.nc" target="_blank">data1.nc</a><br>
      </font></p>
    <p><font face="monospace">yes? use dataset_2<br>
        yes? let/d=2/like=precip p_tave = precip[t=@ave,gxy=p_tave
        [d=1]]<br>
        <br>
        yes? ensemble time_ave = 1,2<br>
        <br>
        ! The ensemble dataset should contain the variable p_tave with a
        grid in X-Y-E<br>
      </font></p>
    <p><font face="monospace">yes? show data time_ave </font></p>
    <p><br>
    </p>
    <div>On 11/18/2021 3:22 PM, Xiaoyu Bai
      wrote:<br>
    </div>
    <blockquote type="cite">
      
      <div dir="ltr">Dear ferreters,
        <div><br>
        </div>
        <div>I am trying to ensemble&#xA0;RCPs (2005-2099) and control runs
          (1949-2005) together but keep getting T axis differs error.</div>
        <div><br>
        </div>
        <div>*** NOTE: Variable &quot;PRECIPITATION&quot; excluded from aggregate:
          T axis differs among members<br>
          &#xA0;**ERROR: error defining aggregate dataset: No valid datasets
          or datasets share no variables that can be aggregated.<br>
        </div>
        <div><br>
        </div>
        <div>It makes sense for pyferret to think the time axis are
          different. But comparing the&#xA0;@AVE value from different time
          series should also make sense to&#xA0;pyferret. I am wondering how
          to solve this problem.</div>
        <div><br>
        </div>
        <div>By the way, I already tried to read data in separately&#xA0;and
          do&#xA0;@AVE first then compare. It still showed the same
          error&#xA0;because the data still come from different time series.&#xA0;</div>
        <div><br>
        </div>
        <div>If you want to learn more about&#xA0;ensembles: <a rel="nofollow" href="https://ferret.pmel.noaa.gov/tutorials/PyFerret_exploring_ensembles.pdf" target="_blank">https://ferret.pmel.noaa.gov/tutorials/PyFerret_exploring_ensembles.pdf</a></div>
        <div>
          <div><br>
          </div>
          -- <br>
          <div dir="ltr">
            <div dir="ltr">Xiaoyu (she/her)</div>
          </div>
        </div>
      </div>
    </blockquote>
  </div>
</blockquote></div><br clear="all"><div><br></div>-- <br><div dir="ltr"><div dir="ltr">Xiaoyu (she/her)</div></div>
</blockquote></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01030" href="msg01030.html">[ferret_users] ensemble or compare data from two time series</a></strong>
<ul><li><em>From:</em> Xiaoyu Bai</li></ul></li>
<li><strong><a name="01033" href="msg01033.html">Re: [ferret_users] ensemble or compare data from two time series</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="01035" href="msg01035.html">Re: [EXTERNAL] Re: [ferret_users] ensemble or compare data from two time series</a></strong>
<ul><li><em>From:</em> Xiaoyu Bai</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg01035.html">Re: [EXTERNAL] Re: [ferret_users] ensemble or compare data from two time series</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01057.html">Re: [EXTERNAL] Re: [ferret_users] ensemble or compare data from two time series</a></strong>
</li>

</UL>
<center>[<a href="msg01035.html">Thread Prev</a>][<a href="msg01057.html">Thread Next</a>][<A HREF="threads.html#01036">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
