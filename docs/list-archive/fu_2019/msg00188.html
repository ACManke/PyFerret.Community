<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] short and missing data -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Fri, 24 May 2019 14:58:12 &#45;0700 -->
<!--X-Message-Id: 79e3c539&#45;6e76&#45;035a&#45;db90&#45;14f0303fb7c0@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 0bf10819&#45;7049&#45;1e74&#45;b191&#45;672b72f72686@mercator&#45;ocean.fr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] short and missing data</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00187.html">Thread Prev</a>][<a href="msg00189.html">Thread Next</a>][<A HREF="threads.html#00188">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] short and missing data</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Bruno Levier &lt;<a href="mailto:bruno.levier@DOMAIN.HIDDEN">bruno.levier@xxxxxxxxxxxxxxxxx</a>&gt;,        Ferret &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] short and missing data</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 24 May 2019 14:58:09 -0700</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=Lg09Jbmh;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=Lg09Jbmh;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=8SqlcTmUHuEKp0sVoVJkD1Jf7P13PMmXOmVDk+Re3tA=;        b=zdu8H86B3KBKhxporYT2Qg0a5w7OaEWv84yocvYAXWFyVP4tJMWZyKPyvz30aPyg52         SyAmVp7LDhqIMCnRgqDzSZ5BddIZDtuiwEjrsMKnt9s3eq9Uzvr/8POeaUuiTM/ZYrk5         QvqO2JY/BlSdu31F9YmEoRH/ovNlOf6T6h4d7+mG5f+JorHsMQeBvyvd4t83AIgOMcLt         LGf+KIsVlzc63T0qkbVce3UbkNOoVoNBS0QJu7Kq4d1ZRsqygCOSzpgVkibYN5JiqwKe         BdZP/h208+x5KN/RKdtPnrgSQv4D5kr5GKsSrLKrui/eJZUe/5Z6VbzHWVMPiXgdzfCH         0bLA==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=8SqlcTmUHuEKp0sVoVJkD1Jf7P13PMmXOmVDk+Re3tA=;        b=uMMB3xSwE7quQRMxnHTt2HQdXQU5Q3Uc8cLKmJr7gGkPX9AqfkYVb4XwntPRofLpjt         QcbRzwLqatPPeev/3HHATmOZJBNcnTL7v0JdJ4OlXZzTpk2wvqp8XF5NrsCU/3wgoiMb         ggmWrzzX4E6GWskf5jdoTXKU9tE5N2svrz+DJvZZMALb83AegxwMTpmjWd/sIvpd7I/y         YrG6cF1mPqVyX7/iDZvOr4CASkKKIv1dq7Lt6he4y/oSC2EARAMpJee0LM1aDzen2cz1         iQiAaH7gteTS+yhHre6GJxxBxthOtIVxRLGfRFj+ZSojuiIAg+t2WGgjPWOokIeMPYw/         cngg==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1558735092; cv=pass;        d=google.com; s=arc-20160816;        b=aagknM2V7SSuwgbiqY6Tminkt+wFFqZRBN6NEMcI6UBfPMB2pYEovDmK4G/qevcd8k         W33+adW6+QGz1JqJRADRrgbWi/1afRCrI63uGXIZZOgwRsH9kv6dRLNtagpOmretI1x/         1v62H2+RsWFcZqb+y5oPMlKGfk2f71GbOdMqWrWpn/Q1dW9k4IeVtS2z3MhL0xlhqFK/         vTMDWojuWlIpNi5IX5mib+6rRHc+FjSTp6dq3b+5mhGuXDdVtdEiHnqeo6yuIa90qLzJ         kUCq7SpSFYfa7GfKKdqS2nnCtMy1QIfVNTgqiCGlLf/kvA9A8wwwPkidf3FuHq05/s2o         adXA==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1558735091; cv=none;        d=google.com; s=arc-20160816;        b=vLRRzgQRfU1euIJwoFUe5uarBLb/HQ6QzdIJ04HUUTiGVBjbIAcX2uayZqdhOxTtK8         oIQTCzDXw6SrNwyMDvwalrFYNFcr+/X0PucJ1bGYzStilrq2ycfTLx8iUPkTKW4hy02p         t0Pbz28KKk0XSwBiz5fXeVFfC7TAnOjHOuoGidu9C3HkiAtc7oHU6qCMP5NtiLpZBbam         XCq2GTdvLGR0jsBOmVrUzkzMNkbcKFdaWbOf3V4/Kdzkp8lgDEMJFUXIy4s1v6z4EkeK         enP+Az+tmIfTNzSThNcM5EPUyuEIvdOULnTgaKyoAw8Dxgdi9Z2tuTEPpe/MkYA8Tg+j         VAqQ==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-language:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=8SqlcTmUHuEKp0sVoVJkD1Jf7P13PMmXOmVDk+Re3tA=;        b=oiAPayEoNfu8LD1OH45yYqMJurVK4IPjkaFCCAbawU7eD52VvU7KdEBZpEN8bdmbDU         hyqL424lnwaNJn3AzLKn+VJbKSXQWBQOh9Zk4GF/pdBP18m11DfslK7QzB7FDFIYKsUM         pywHKLVwQnd69Nc33MW2f2yNtBOKE3jPm+WVxFwNLLH9Y90fjdI6/gsAXqicsacLQ8K9         prKw59J4vkoDR+gT6Di0TJ3z4lF7cUaI6LWqOyCVQ/AWFRHof5CxCgRffUx1B2yWX+qp         imaAP25UEMR0cPcI8zn8/nY8vyAjz60PUbbxY56KMjs9YjFwEucFXerPqXHlYGOdso1m         891w==</li>
<li>In-reply-to: &lt;<a href="msg00187.html">0bf10819-7049-1e74-b191-672b72f72686@mercator-ocean.fr</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00187.html">0bf10819-7049-1e74-b191-672b72f72686@mercator-ocean.fr</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101 Thunderbird/60.6.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<address>Title: <strong>Signature</strong></address>
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi Bruno, <br>
    This is a bug in the Ferret/PyFerret handling of the _FillValue and
    missing flag.&#xA0; Because the _FillValue or a missing_value attribute
    os taken into account when the data is packed, the logic is to first
    check the _FillValue and then scale the data.&#xA0; The file is correct.&#xA0;
    When Ferret is checking whether there is a the_FillValue or a
    missing_value attribute, it is doing the wrong thing in the case of&#xA0;
    this file which has a _FillValue but no missing_value attribute.<br>
    <br>
    We will get this corrected.&#xA0; In the meantime, a workaround would be
    to add this attribute to your dataset:<br>
    <br>
    &#xA0;&#xA0; VMDR_SW1:missing_value = -32767s ;<br>
    <br>
    <br>
    &gt;&#xA0; ncatted -O -a missing_value,VMDR_SW1,a,s,-32767 file.nc<br>
    <br>
    <br>
    <div class="moz-cite-prefix">On 5/24/2019 9:04 AM, Bruno Levier
      wrote:<br>
    </div>
    <blockquote type="cite"
      cite="">
      
      Hi<br>
      <br>
      Could anyone explain why one of the point of the field I try to
      display appears as missing (and how to fix it)? See attached
      figure (point at 19E and 59.2N), and also the file with the data.<br>
      <br>
      The file is written is short. And the value of the point which
      appears as missing is zero. So applying the offset and scale
      factor, the value of the point should be 180. I tried to modified
      the "FillValue" attribute but it didn't change anything. It seems
      like the value "zero" of a short file is considered as a missing
      value.<br>
      <br>
      Thanks for your help,<br>
      Bruno Levier<br>
      <br>
      ps: I use Ferret 7.43<br>
      <br>
      <div class="moz-signature">-- <br>
        
        
        </div>
    </blockquote>
    <div class="moz-signature">-- <br>
      <i>Ansley Manke<br>
        NOAA/PMEL Science Data Integration Group<br>
        7600 Sand Point Way NE<br>
        206-526-6246</i></div>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00187" href="msg00187.html">[ferret_users] short and missing data</a></strong>
<ul><li><em>From:</em> Bruno Levier</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00187.html">[ferret_users] short and missing data</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00189.html">[ferret_users] How to set Z-axis as elevation</a></strong>
</li>

</UL>
<center>[<a href="msg00187.html">Thread Prev</a>][<a href="msg00189.html">Thread Next</a>][<A HREF="threads.html#00188">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
