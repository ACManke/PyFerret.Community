<!-- MHonArc v2.6.18 -->
<!--X-Subject: RE: [ferret_users] rho_un calculation -->
<!--X-From-R13: "XbfuOP1995Nbhgybbx.pbz" <XbfuOP1995Nbhgybbx.pbz> -->
<!--X-Date: Sun, 5 May 2019 02:01:29 &#45;0700 -->
<!--X-Message-Id: DM6PR03MB43484A516354C72E23C2CCB8C5370@DM6PR03MB4348.namprd03.prod.outlook.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: DM6PR03MB4348AED64DF2290C9A61261BC53A0@DM6PR03MB4348.namprd03.prod.outlook.com -->
<!--X-Reference: 28798782&#45;409D&#45;4D3B&#45;A3F2&#45;3702ECE981C8@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>RE: [ferret_users] rho_un calculation</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00155.html">Thread Prev</a>][<a href="msg00154.html">Thread Next</a>][<A HREF="threads.html#00161">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: [ferret_users] rho_un calculation</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>William Kessler - NOAA Federal &lt;<a href="mailto:william.s.kessler@DOMAIN.HIDDEN">william.s.kessler@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>RE: [ferret_users] rho_un calculation</strong></li>
<li><strong>From</strong>: <strong>&quot;<a href="mailto:JoshAB1995@DOMAIN.HIDDEN">JoshAB1995@xxxxxxxxxxx</a>&quot; &lt;<a href="mailto:JoshAB1995@DOMAIN.HIDDEN">JoshAB1995@xxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Sun, 5 May 2019 09:01:06 +0000</li>
<li>Accept-language: en-GB, en-US</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=X4h2FY1g;       arc=pass (i=2 dkim=pass dkdomain=outlook.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=outlook.com</li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=X4h2FY1g;       arc=pass (i=2 dkim=pass dkdomain=outlook.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=outlook.com</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=X4h2FY1g;       arc=pass (i=1 spf=pass spfdomain=outlook.com dkim=pass dkdomain=outlook.com dmarc=pass fromdomain=outlook.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> does not designate 65.127.216.231 as permitted sender) smtp.mailfrom=<a href="mailto:JoshAB1995@DOMAIN.HIDDEN">JoshAB1995@xxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=X4h2FY1g;       spf=pass (google.com: domain of <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> designates 40.92.10.89 as permitted sender) smtp.mailfrom=<a href="mailto:JoshAB1995@DOMAIN.HIDDEN">JoshAB1995@xxxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=outlook.com</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :message-id:mime-version:content-language:accept-language         :in-reply-to:references:date:thread-index:thread-topic:subject:cc:to         :from:sender:dkim-signature;        bh=FqkHUFkGkFBp6DkRUD85XqO4akKrbNZy+Db5D4WWGpo=;        b=PgMsWMoX7cG5MLo1sV/g+7AbhtqBYWKlEmkPQru/k9qVcKTddl8GD2KMZB+FExmSi8         k/o9yprnJ8+mS1IU+++fNh+WC5W1J4UkyvPYO1JLu23frREYCvQG7AJ0hcEC3WKP2Mem         2UkcZt9Zxjxo9/EvPhW9g/+Ki+n2FPVutv1hXq5r6wiiNGckQde7VKsBfvrBT6VKviEL         Pkqd5gfgxzb01CYnGo6bMbN0Fqo8VgPJucsppQyczkytipXF1UMw5Xk59/I5Rez6zDaa         d2SjH0neOZARQsAu4ZkTccEENjfaWtGgGUO1raQp73iG0u9lpmGIVv7rdJBT6UGZxhk6         Bt/Q==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:mime-version:content-language:accept-language         :in-reply-to:references:date:thread-index:thread-topic:subject:cc:to         :from:dkim-signature;        bh=FqkHUFkGkFBp6DkRUD85XqO4akKrbNZy+Db5D4WWGpo=;        b=hFdIdK6CH+gZIcB1EUODo5s3SoPGds+/MVMg2kdX1G/HHgObONIp0cQKVUGGkfV9D4         SZhl7BH4inBZryBhpSDwhraYQcGBNfKKjJjC0H2kclp4mSgr/KiaQH+apZuWByU+p1MR         uZjwt0wthcVERz2OKmU6g7kRv8FPV0UgBPt2bYO5KI5/VKFQZv9vrji1mlK4ndKz936H         RqhD4CpQPVDrWom3aETUfR+/iqfLVi9KfRseItCOk6nOAGwze2vS7mhwl9z7hwnRB8Os         q4GZL31vT00sgi9s+amomKtH7MlaHtUIVv1djPczf3Tj8y7SF1/sW5JQ/nt5ygFEr1WH         Z6WQ==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:content-language:accept-language:in-reply-to         :references:message-id:date:thread-index:thread-topic:subject:cc:to         :from:dkim-signature;        bh=FqkHUFkGkFBp6DkRUD85XqO4akKrbNZy+Db5D4WWGpo=;        b=HYcr4SsuDRHB8OOsiakDpmiYsle8mLI9Gfd4ghWMPMUFU/SaMhavK0AkkexqPYzRpU         Vk0YYkbgEFTAqtqGFRH5B19u+j7K+yVufKAkXLaME98RiQeGLMeq8voDul3aY7elrVNM         Ij3kWv1u2PJIQx+kAVUi3ZvxHHegZ5aJFjcGM0O110lW2S7xC6DO4xI8n7hLM4iagpr1         ctH6lZ50EP+Hjzt8mg9zSJ/WRdvaKdn/D9whuIlzPl9aTqueTMQjn4u7h6Bos5pzYVJb         YuW7qW7pj05Urp1Q+fmCNXICsC2HvTUrqgXIgVFxNLIMIEZ9DjZgu00enrZxReg0jjbc         EcOQ==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:content-language:accept-language:in-reply-to         :references:message-id:date:thread-index:thread-topic:subject:cc:to         :from:dkim-signature;        bh=FqkHUFkGkFBp6DkRUD85XqO4akKrbNZy+Db5D4WWGpo=;        b=VpuSDaZ/Yzl3Lm/eBqSjbS/WQ4OW5jm6sARBTI6tufmT/+YqAJ9QhJxwKBj2NyEIZV         bpuMolQnyhvFDZi2t/Q5iF6fisSbgHTTxXRp+xk415L7Loz+hNUO2altT6OQG/1n39hi         8cUXhc6Dh8iXczehIsYgBqYUDU+0rEeHjQtBUfmdSPxmWwTlkDjZILbtXZK1xe8fydhz         PfN1nQyKoaLPfy3z6YGrHnNX6+ts3wGfZ3Ak3JCH9J8dGK94OwhB7jZQ6Cmh+oSeVXUk         +3MDW2ZdJRzk1u7aSBj6oZ/rLVUjs6kGhVruGShB4jRHsqYEn5UEFz4qPvdVEmhzj0m2         f2bg==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1557046888; cv=pass;        d=google.com; s=arc-20160816;        b=A0tOxM6JOROIYR76RafE+ZT9qPfBiJvJNlqVlDTG+wlHS4BPo/guGodzds4BzA3eoM         40+IFY/1LPlIUey3bvwAsyDwtRjEqUS6AMkHmK8roBREGoqEfcbNAfA1mxRXTu7NdXdd         MuP+AeIW40LUxz5wF+PkclAadiK0HXObw3AtAFi3epec1+xTBC2wBoFzBMf16WKn/ezC         thYyNMlcxnkRVj7Q28/POLy0F+N2vV283ta40jwypZGkUhpqogjMDnMS9Tmh+NA0i4IH         5RQHRSaXB5dg6SlhLAE0WCAkDu3Jh51OdWjEVJRmXNfSmeJXaCzCNgU4i4OFl2GjZVam         +KGA==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1557046888; cv=pass;        d=google.com; s=arc-20160816;        b=badMl9h6xpM7x85V7JHecet/MNx8Zkl3U+qtn2Xq/Db8tvLYxY7pDnvl25lr2m5Hj5         1e06xq2hCDBeh3EdEM5gx6Zm8UJYg83Nb3t76oB3rs++T4bwoKyWJRlWag04vUwNpUzT         ZJubTyHtVHQc6Mfgek3/Af9sMDXLRJHgu3XEWs6UE4/CWUuU4+2uHYShZzWtR6L3y8W3         jf+f3W7MWzQFSvWy0BCR/czmQH6jIJZCvEIJ3wIimmcoobvh8bJnvlr90TxRToXjx8Eh         wfpC2jg0Fj650BprR726QkRzrIYGeId5BSXLiBpmQEnBJT/UEKa4mJxRVZCu0v5zz5Ik         PNiA==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1557046878; cv=pass;        d=google.com; s=arc-20160816;        b=EPOxXxupBtt26K9G8sDBnkamkwrMg5R7aMJIA8j6MqWsxdqEnbbjHY5NzlPZNj/lCB         p3L2bIObJR2LwMkcSRJ3MTrZXJt1l4S2PDrbH3c7nkT182xOs+q5stwXG2uUKv51Jy43         GG1ZavfJta3dmEHYh9/hDAy8iRb83L5byY/AI3YKWx5tbkGFtsCNJrafInebKI3nsFhL         BStsaqMZMryTwVDkvEW4QJvSEX5pqF8VKOevkt43hLNgMpNctX7NtpCIxew4Cf6aa+bp         ny0ws/0NG3jWACaTC9gngb1vLC887ueWrQvAT1QEjJe8JYHovQfzfCoCkXRPszS1HeTt         /jHQ==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1557046871; cv=none;        d=google.com; s=arc-20160816;        b=GJcG6Rm6P3OEDDnonLP9sh6h6VjEhKRJhc5Dhk6g3fRie2TptKQb+OO0M9tntgEQBB         L51S/J9neI+xEu+e2vOdq+kfkbXNHYAtKIozxWOVz9wnKuMnzEcY/KRV3EY7HH6xZIcX         +O1qUtAOtiC0MhSaRym1P+9UN8pKoprrr0ItjMPyHKmVbxxZQs0CVgowa72pFFd2D5+L         K1eW8Wl2Hhc8/v5hGc6PkOMHNVbTGW51TF+R3j6gyX4PRl+VYtZNBhF5BSgq2gk+58un         X7CYM3dkHZDMpX42BKoA9I3vPLRi/zPJmqOMRwEsUfPwNBi8Z2bEd1mpU7SAl9GCJzMQ         C7/A==</li>
<li>Cc: &quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:from:to:cc:subject:thread-topic:thread-index:date:references         :in-reply-to:accept-language:content-language:mime-version         :message-id:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive;        bh=FqkHUFkGkFBp6DkRUD85XqO4akKrbNZy+Db5D4WWGpo=;        b=TLP/tb7/B8akxmSBEZqlqmaqvA+5SpZy7rmMnEEjLvqqWlSVM3X/zKopkmnWeEjbwo         v99nQWkyIGZKY2zo4vmh7VRia5enFU9OyXnqHVEPbZbDGmeBFX9J1js2qb0XfUzqgzFU         2vpSvlybexpn13IUj4rarEtoVzdTGXv0OmYpRkRks77L+L+vn2DlauWRH2CHBAGvRPGr         2BKDFD2+WxqjR6KuOCc1MazJ4oYszZHBBsvrWxAGoRxZBmfdW8yB8A87Uy+i/nHgCapS         Tv4idDYwfvfcEumD5OR4/1fGw4r15xGMNgEXR+li8zuvMfyzdC6yGAX6RS+yV2+K9FZv         WVjA==</li>
<li>In-reply-to: &lt;<a href="msg00155.html">28798782-409D-4D3B-A3F2-3702ECE981C8@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00153.html">DM6PR03MB4348AED64DF2290C9A61261BC53A0@DM6PR03MB4348.namprd03.prod.outlook.com</a>&gt;,&lt;<a href="msg00155.html">28798782-409D-4D3B-A3F2-3702ECE981C8@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-index: AQHU/2FMjGo9dc4ybUyu5qLgzn3KR6ZWMA8AgAYSsG0=</li>
<li>Thread-topic: [ferret_users] rho_un calculation</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style="">




<div class="WordSection1">
<p class="MsoNormal">Hi William,</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal">Thanks for the helpful info! So now I&#x2019;ve come up with this script, is this what you meant by keeping a consistent reference pressure?
</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal"><i>yes? use &quot;./ECP85_sal.nc&quot;</i><o:p></o:p></p>
<p class="MsoNormal"><i>yes? use &quot;./ECP85_temp.nc&quot;</i><o:p></o:p></p>
<p class="MsoNormal"><i>yes? let temp=ocn_temp[d=2]*1.00024 </i><o:p></o:p></p>
<p class="MsoNormal"><i>yes? let salt=ocn_sal[d=1] </i><o:p></o:p></p>
<p class="MsoNormal"><i>yes? let potemp=THETA_FO(SALT,TEMP,Z[G=TEMP],2303.5) !Only define a single reference pressure to enable direct comparison between densities?<o:p></o:p></i></p>
<p class="MsoNormal"><i>yes? let surfdens=rho_un(salt,potemp,0)</i><o:p></o:p></p>
<p class="MsoNormal"><i>yes? let benthdens=rho_un(salt,potemp,2303.5) </i><o:p></o:p></p>
<p class="MsoNormal"><i>yes? let y250strat= surfdens[k=1,l=250] - benthdens[k=12,l=250]</i><o:p></o:p></p>
<p class="MsoNormal"><i>yes? list y250strat</i><o:p></o:p></p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal">Many thanks,</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal">Josh</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal">Sent from <a rel="nofollow" href="https://go.microsoft.com/fwlink/?LinkId=550986">
Mail</a> for Windows 10</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
<hr style="display:inline-block;width:98%" tabindex="-1">
<div id="divRplyFwdMsg" dir="ltr"><font face="Calibri, sans-serif" style="font-size:11pt" color="#000000"><b>From:</b> William Kessler - NOAA Federal &lt;william.s.kessler@xxxxxxxx&gt;<br>
<b>Sent:</b> Wednesday, May 1, 2019 1:14:22 PM<br>
<b>To:</b> JoshAB1995@xxxxxxxxxxx<br>
<b>Cc:</b> ferret_users@xxxxxxxx<br>
<b>Subject:</b> Re: [ferret_users] rho_un calculation</font>
<div>&nbsp;</div>
</div>
<div>
<div dir="ltr"></div>
<div dir="ltr">You second script is correct. First one is not. When comparing densities at different depths, always use a consistent reference pressure. Thus sigma-theta (what you call &#x201C;surfdens&#x201D; in your second script). That is valid for comparing depths above
 about 1000m:</div>
<div dir="ltr"><br>
</div>
<div dir="ltr">strat_0_1000db=surfdens[z=1000]-surfdens[z=0]</div>
<div dir="ltr"><br>
</div>
<div dir="ltr">To compare deeper, then you need to use sigma2 (your &#x201C;benthdens&#x201D; or similar). That would allow, say:</div>
<div dir="ltr"><br>
</div>
<div dir="ltr">strat_1500_2500=benthdens[z=2500]-benthdens[z=1500]</div>
<div dir="ltr"><br>
</div>
<div dir="ltr">The point here is to use THETA_FO (function of depth and reference pressure) and RHO_UN (at reference depth) to get values comparable across z-ranges. These need a consistent reference pressure.</div>
<div dir="ltr"><br>
</div>
<div dir="ltr">Comparing density across very wide ranges (as you are trying to do with y250strat, using two different reference pressures) is harder, and generally not done. That garbles the combined effects of P,T,S in the nonlinear eqn of state to make values
 that are not comparable.</div>
<div dir="ltr"><br>
</div>
<div dir="ltr">But try the alternatives and see how different they are! That will give you an estimate of the uncertainty of these calculations. Sigma-theta may be ok until you are getting into the abyss. I.e. how different are surfdens and benthdens at 2000db?</div>
<div dir="ltr"><br>
On Apr 30, 2019, at 10:33 AM, &quot;<a rel="nofollow" href="mailto:JoshAB1995@xxxxxxxxxxx">JoshAB1995@xxxxxxxxxxx</a>&quot; &lt;<a rel="nofollow" href="mailto:JoshAB1995@xxxxxxxxxxx">JoshAB1995@xxxxxxxxxxx</a>&gt; wrote:<br>
<br>
</div>
<blockquote type="cite">
<div dir="ltr">


<div class="WordSection1">
<p class="MsoNormal">Hi guys,</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal">I&#x2019;m currently calculating the density differences across the open ocean and have run into a little issue...</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal">Slightly confused myself by finding two methods for calculating density on the expressions page, am I correct in thinking that:</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal"><i><span style="font-family:&quot;inherit&quot;,serif;color:black;background:white">yes? Use &#x201C;./ECP85_sal.nc&#x201D;<o:p></o:p></span></i></p>
<p class="MsoNormal"><i><span style="font-family:&quot;inherit&quot;,serif;color:black;background:white">yes? Use &#x201C;./ECP85_temp.nc&#x201D;<o:p></o:p></span></i></p>
<p class="MsoNormal"><i><span style="font-family:&quot;inherit&quot;,serif;color:black;background:white">yes? SET REGION/I=1:36/J=1:36<o:p></o:p></span></i></p>
<p class="MsoNormal"><i><span style="font-family:&quot;inherit&quot;,serif;color:black;background:white">yes? LET salt = ocn_sal[d=1]</span></i><i><span style="font-size:10.5pt;font-family:&quot;Arial&quot;,sans-serif;color:black"><br>
</span></i><i><span style="font-family:&quot;inherit&quot;,serif;color:black;background:white">yes? LET t68 = 1.00024 * ocn_temp[d=2]</span></i><i><span style="font-size:10.5pt;font-family:&quot;Arial&quot;,sans-serif;color:black"><br>
</span></i><i><span style="font-family:&quot;inherit&quot;,serif;color:black;background:white">yes? LET dens = rho_un (salt[K=1], t68[K=1], Z[G=temp,K=1:10])<o:p></o:p></span></i></p>
<p class="MsoNormal"><i><span style="font-family:&quot;inherit&quot;,serif;color:black;background:white">yes? LET y250strat = dens[k=1,l=250] &#x2013; dens[k=10,l=250]<o:p></o:p></span></i></p>
<p class="MsoNormal"><i><span style="font-family:&quot;inherit&quot;,serif;color:black;background:white">yes? List y250strat</span><o:p></o:p></i></p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal">Would be less accurate than calculating with the following script, because it&#x2019;s generating the density based on surface water salinity and temperature values?:
</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal"><i>yes? use &quot;./ECP85_sal.nc&quot;<o:p></o:p></i></p>
<p class="MsoNormal"><i>yes? use &quot;./ECP85_temp.nc&quot;<o:p></o:p></i></p>
<p class="MsoNormal"><i>yes? let temp=ocn_temp[d=2]*1.00024 !convert to different temp scale for accuracy<o:p></o:p></i></p>
<p class="MsoNormal"><i>yes? let salt=ocn_sal[d=1] <o:p></o:p></i></p>
<p class="MsoNormal"><i>yes? let potemp=THETA_FO(SALT, TEMP,Z[G=TEMP],0) !Define the potential temperature for surface ocean<o:p></o:p></i></p>
<p class="MsoNormal"><i>yes? let potemp2=THETA_FO(SALT,TEMP,Z[G=TEMP],2303.5) !Define the potential temperature for benthic ocean<o:p></o:p></i></p>
<p class="MsoNormal"><i>yes? let surfdens=rho_un(salt,potemp,0) !calculate density at surface 0 = dBar pressure<o:p></o:p></i></p>
<p class="MsoNormal"><i>yes? let benthdens=rho_un(salt,potemp2,2303.5) !calculate density at 2303.5m deep, with 2303.5dBar pressure<o:p></o:p></i></p>
<p class="MsoNormal"><i>yes? let y250strat= surfdens[k=1,l=250] - benthdens[k=12,l=250]<o:p></o:p></i></p>
<p class="MsoNormal"><i>yes? list y250strat<o:p></o:p></i></p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal">Also is there anything obviously wrong with the script I&#x2019;ve made? First time calculating ocean densities!</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal">Cheers,</p>
<p class="MsoNormal">Josh</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal">Sent from <a rel="nofollow" href="https://go.microsoft.com/fwlink/?LinkId=550986">
Mail</a> for Windows 10</p>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
</div>
</blockquote>
</div>


</td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00153" href="msg00153.html">[ferret_users] rho_un calculation</a></strong>
<ul><li><em>From:</em> JoshAB1995@xxxxxxxxxxx</li></ul></li>
<li><strong><a name="00155" href="msg00155.html">Re: [ferret_users] rho_un calculation</a></strong>
<ul><li><em>From:</em> William Kessler - NOAA Federal</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00155.html">Re: [ferret_users] rho_un calculation</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00154.html">[ferret_users] zaxreplace - convert z-axis of density to the z-axis of `m`</a></strong>
</li>

</UL>
<center>[<a href="msg00155.html">Thread Prev</a>][<a href="msg00154.html">Thread Next</a>][<A HREF="threads.html#00161">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
