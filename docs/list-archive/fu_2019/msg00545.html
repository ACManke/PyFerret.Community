<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Edges and @AVG -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 25 Feb 2020 15:02:27 &#45;0800 -->
<!--X-Message-Id: e39962d8&#45;48ab&#45;7b18&#45;7d18&#45;34d5bd6a0c55@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAP06G6Qt&#45;GLxUqLY0AA+aHEEVq_3wTKhB6cLC3yFeMVtUjOVcg@mail.gmail.com -->
<!--X-Reference: CAEwQpa+SgCVR19G5bx2KXzNOKOKV52N7068YiTcU&#45;rbEHrDQTA@mail.gmail.com -->
<!--X-Reference: CAP06G6QuNKn59BwAS7udR3i5Ef37dhEo74ku5xy95f_LxeSb5Q@mail.gmail.com -->
<!--X-Reference: AEB9D751&#45;C106&#45;4BDC&#45;8808&#45;4313B0CE067E@noaa.gov -->
<!--X-Reference: CAP06G6SmYC+TsgacshQEk2+44o=eb8d9sSkQo1xh3LxKA=9BRA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Edges and @AVG</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00544.html">Thread Prev</a>][<a href="msg00546.html">Thread Next</a>][<A HREF="threads.html#00545">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Edges and @AVG</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Edges and @AVG</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 25 Feb 2020 15:02:23 -0800</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=Y7mcoPqC;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=Y7mcoPqC;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=wjcdBG9wiDl+r3pHPdgVHuXv252Cx1ek3UI1LfMhcf0=;        b=avREEZrLu9XK1dk410j5E5cV94hsmBwgrX2i2LpGgVaTilDxBQ1bLWAWF7Uunfc6WT         Je60sMhhpFHIvrRBtV6HZ2vq1JIsgbgtWuIH0iYSmXQvHKJ3r5sm686w0M2d54iZxPaG         BThSyeZ03Q1vunEWZGZddMYIPzwMlldg5Z+E1Tq5YCpO+NzVbDuLDW8Zvh4o0YhC6hQv         MVFVo5gce3BDjrvnhvEDqOorBh1vTNkwr6tMrH/hEq8gVofWY0fa4aeP6zZwydE19PlL         rmOWcSqn1CdMaggaZSNeSlYWuwt+YNDDT0zb61J8hE6eq3ykDH6wldrPGeB27yamxM1A         9hng==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=wjcdBG9wiDl+r3pHPdgVHuXv252Cx1ek3UI1LfMhcf0=;        b=YnVvmewmDvA/vI2LMsCtinThC5npDRgIoi8NJuaEd6Rmm/Q9VcBfqiDoPVffeoScH6         ThrHDhaPfRg6MRDy6fgSuW9yzNcTMhw+IAUxZHoegSaBz+uRjeYFPB73DPtkrvDiHSmE         4voDg+LLx1MHRQ08lQytiSTNj6igWbJHW2SSWjLE0ea0DIkYesREMhISsKf+bBgSfWxS         y4Q2t2xsaPECHUgo147XdnMb2nFfsuKcAklAvKlCEw5UNp/2WeEznG2IQteI5+msvAYP         eKBAYTk8sw+KwjsJ/ePvk0GO0lEDu0VgRdTNNDt1EQgKaaiI89ZNKHi3wI3N45bBy9aj         dSdw==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1582671747; cv=pass;        d=google.com; s=arc-20160816;        b=ixuElp07L+jDdEnDxWMcg0q5JIUrIMWt43davhN+XpqnI5w4MQUFXW/8YthF799T02         LoWCbPqF/7Cca9qouRBNawKlfcirA3xDcjkS3gwZHtH7aTX3VRJuj5jJjTfQAHjBPNba         GRQzoqC7nGxxjrhzEVStw/rtEUM7RNyOBBWdECkmwHnE/56imiLKhmLvPHp7YFm9bU3Y         I6g4nwtP3VMq4bk0ap+5emWYFk7Gz2n8euy202WIY7LMQ3WWF/7OPDkPk+/IvvtAJf2O         VG5Bt7+pOpyhDhjAEpOb0JOMZw9li+zY/S6Q2ISpIitFWvVuNXoKgQsaHbBkkEEGIHYL         6O8Q==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1582671746; cv=none;        d=google.com; s=arc-20160816;        b=vtltCSAtGB0Vana4DCtKEsOLlVyCArMFmA2t5KE2FQ8M+U1ciBNXViJ9ET6eFOjOSx         TYjzh9uRB8T58JvBhhpCXfXRqPub6V7hZ20c7xVzw774wDFSNF4IhFu1n7aa6ST35Idn         KpONbkgFFGIu+gGPgX6ZWbc9ZK1NLZHGj8iXRb91BdD4VIyaSEFuJlS92u2hZ/lmStxc         8cZQTKfqRAPYI3b0t2o49QRZOyQKcWU9lA1fDyuWHzOxc3BLWKeL/EfRXIoM+8j+95Ox         Zf43SO7AUCtVfxbfOEO3gjiQlZ9ABGMGHxbkLR5LkkhC/kvwRLoKU8lesiXjR9mVy02r         T4Xw==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-language:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=wjcdBG9wiDl+r3pHPdgVHuXv252Cx1ek3UI1LfMhcf0=;        b=h1ePvrv2ECY8rJ+jSopsy29Ef9Kz3LIk5Emes4Z0+NeX9mRpoRaWCPEHsH4+Bd8+9n         l1i6rqZEClPJ2CpO6j2+BzNpEyGkkIdZmsIWp/Y8Bm4DqUb12wLeW53IMD58OT64Dz66         ZabdeV9ukmbf+EC8qZQWWwSy8WL9AYYhhnGd5nbWgueKilDTAsJXXe5rFoIG8XV3WFx5         igH5n/LULFkCBn7Zou1e/aInTaUEdgluvRo7O+ecrMgkOmVLAfkUOPK04rGUoOj/cn3Q         xuBVJrlYSlWasPaoJoQoP7IlqPbRHJqXU334iReE5LweBijQ2IZZLbTImw+BQ8YVeZDD         np9w==</li>
<li>In-reply-to: &lt;CAP06G6SmYC+TsgacshQEk2+44o=eb8d9sSkQo1xh3LxKA=9BRA@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00540.html">CAP06G6Qt-GLxUqLY0AA+aHEEVq_3wTKhB6cLC3yFeMVtUjOVcg@mail.gmail.com</a>&gt; &lt;<a href="msg00541.html">CAEwQpa+SgCVR19G5bx2KXzNOKOKV52N7068YiTcU-rbEHrDQTA@mail.gmail.com</a>&gt; &lt;<a href="msg00542.html">CAP06G6QuNKn59BwAS7udR3i5Ef37dhEo74ku5xy95f_LxeSb5Q@mail.gmail.com</a>&gt; &lt;<a href="msg00543.html">AEB9D751-C106-4BDC-8808-4313B0CE067E@noaa.gov</a>&gt; &lt;CAP06G6SmYC+TsgacshQEk2+44o=eb8d9sSkQo1xh3LxKA=9BRA@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:68.0) Gecko/20100101 Thunderbird/68.5.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->

  
  
    <p>Hi Alexendar,</p>
    <p>You're right. If the monthly data is meant to represent the first
      through end of the month, then the best way to recenter would be
      by using the @ASN transformation as you suggested.&#xA0; That doesn't
      do any operation on the data itself.<br>
    </p>
    <p>Alternatively you can redefine the time axis within the session,
      which replaces the definition that Ferret/PyFerret is using within
      the session (but doesn't change the file).&#xA0; It really comes down
      to the same thing.&#xA0; Give it the right time-axis definition,
      probably using /EDGES to put the cell edges at the start/end of
      months and therefore the grid points at the middle,<br>
    </p>
    <p><tt>yes? use my_data.nc</tt><tt><br>
      </tt><tt>yes? define axis/edges/t[...]&#xA0; `var,return=taxis` <br>
      </tt></p>
    <p>You'd get a warning message like this,<tt><br>
      </tt></p>
    <p><tt>Replacing definition of axis TIME<br>
        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; *** NOTE: grid GDN1 used by data set my_data<br>
        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; *** NOTE: Redefinition may alter apparent contents of
        data set<br>
      </tt><br>
    </p>
    <div class="moz-cite-prefix">On 2/25/2020 2:15 PM, Alexander Audet
      wrote:<br>
    </div>
    <blockquote type="cite"
cite="">
      
      <div dir="ltr">
        <div>Afternoon Billy,</div>
        <div><br>
        </div>
        As far as I can tell (<a rel="nofollow"
href="https://confluence.ecmwf.int/display/CKB/ERA5%3A+data+documentation#ERA5:datadocumentation-Monthlymeans"
          moz-do-not-send="true">link</a>) although the monthly means
        are timestamped at the first of the month and seem to be
        centered there, they actually represent the average value of the
        month instead 1/2 the last and 1/2 the named month. I am still
        confused about this, so I could be wrong.&#xA0;
        <div><br>
        </div>
        <div>If so, by my understanding, it wouldn't be smoothing to
          recenter the data into the middle of the month?</div>
        <div><br>
        </div>
        <div>Thank you for your comments! These are&#xA0;definitely&#xA0;details I
          need to think about!</div>
        <div><br>
        </div>
        <div>Alexander Audet</div>
      </div>
      <br>
      <div class="gmail_quote">
        <div dir="ltr" class="gmail_attr">On Tue, Feb 25, 2020 at 4:28
          PM William S. Kessler &lt;<a rel="nofollow"
            href="mailto:william.s.kessler@xxxxxxxx"
            moz-do-not-send="true">william.s.kessler@xxxxxxxx</a>&gt;
          wrote:<br>
        </div>
        <blockquote class="gmail_quote" style="margin:0px 0px 0px
          0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><br>
          <br>
          &gt; On Feb 25, 2020, at 12:26 PM, Alexander Audet &lt;<a rel="nofollow"
            href="mailto:alexander.c.audet@xxxxxxxxx" target="_blank"
            moz-do-not-send="true">alexander.c.audet@xxxxxxxxx</a>&gt;
          wrote:<br>
          &gt; <br>
          &gt; The full fix would probably be to first regrid it into
          proper 1-month time slots using the @ASN transformation as
          described in the above link, then regrid it a second time into
          the seasonal 3 months using the @AVG.<br>
          <br>
          There's a danger here: The first step of averaging to put the
          data onto explicit months when the time points are centered on
          the first of the month is a smoothing operation before you
          start to do anything else. Won't that have a larger effect
          than the length-of-month problem?<br>
          <br>
          It seems to me that "1/2 December, January, February, and 1/2
          of March" is the right way (least smoothing) to define DJF.
          You could do this manually, or use @ave specifying dates; in
          that case if Ferret understands the calendar it will do this
          correctly.<br>
          <br>
          Billy K</blockquote>
      </div>
    </blockquote>
  


<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00540" href="msg00540.html">[ferret_users] Edges and @AVG</a></strong>
<ul><li><em>From:</em> Alexander Audet</li></ul></li>
<li><strong><a name="00541" href="msg00541.html">Re: [ferret_users] Edges and @AVG</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="00542" href="msg00542.html">Re: [ferret_users] Edges and @AVG</a></strong>
<ul><li><em>From:</em> Alexander Audet</li></ul></li>
<li><strong><a name="00543" href="msg00543.html">Re: [ferret_users] Edges and @AVG</a></strong>
<ul><li><em>From:</em> William S. Kessler</li></ul></li>
<li><strong><a name="00544" href="msg00544.html">Re: [ferret_users] Edges and @AVG</a></strong>
<ul><li><em>From:</em> Alexander Audet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00544.html">Re: [ferret_users] Edges and @AVG</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00546.html">Re: [ferret_users] Edges and @AVG</a></strong>
</li>

</UL>
<center>[<a href="msg00544.html">Thread Prev</a>][<a href="msg00546.html">Thread Next</a>][<A HREF="threads.html#00545">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
