<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] computation of derivatives -->
<!--X-From-R13: Dlb Thehr <shehrNunjnvv.rqh> -->
<!--X-Date: Mon, 5 Dec 2022 22:47:37 &#45;0800 -->
<!--X-Message-Id: CAEwQpaLCiMwJyC3m&#45;Ku61BUOTbjsjAdys2QWdkL7=v9F8Cc_vQ@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAFXLzPgqAiki1EuKHUUAYAHaVek3HGPPLn+XPf1zDDe3AQ9a0g@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] computation of derivatives</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg01203.html">Thread Prev</a>][<a href="msg01206.html">Thread Next</a>][<A HREF="threads.html#01204">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] computation of derivatives</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>saurabh rathore &lt;<a href="mailto:rohitsrb2020@DOMAIN.HIDDEN">rohitsrb2020@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] computation of derivatives</strong></li>
<li><strong>From</strong>: <strong>Ryo Furue &lt;<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 6 Dec 2022 15:47:19 +0900</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=GaV66L9T;       arc=pass (i=2 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii.edu);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.222.200 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=GaV66L9T;       arc=pass (i=2 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii.edu);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.222.200 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=GaV66L9T;       arc=pass (i=1 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii.edu dmarc=pass fromdomain=hawaii.edu);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=GaV66L9T;       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=hawaii.edu</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence:cc         :to:subject:message-id:date:from:in-reply-to:references:mime-version         :sender:dkim-signature;        bh=JyPN9TWhW6aNWR/wJrHf1Gt/gNlZ5edNSJWmITy9XMo=;        b=DHf04apvAvyGc39S6FzXOnZ56snJRC9iMbpMHDQLS2NqehzE5UiJKaQDGM+ePu3omO         z3XdmD0GN2wzHFLUSvPscOWYw/lpJgDGr44hAcdqK6WctOpz5EzS+2idNhxCEqa2q9x3         hre3VetB4jILLLrwIejECRhupv8eEd+ePlukZvfXLJZA8IbuWrGNeEfivfN1sAx9uUuj         1Dp5zbTeV9ASFp8aJ65dSCA5LuKmR4bAjTZ0S973pjPHpawVzqD2I2xZt3GPiUv1ePSD         jNXjTrhJMUQ7OWHd0sT5pjxthD0lM0VPcrAjAOUzk/LWSCoFzEeb470733xLSC/Rp20h         omyQ==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=JyPN9TWhW6aNWR/wJrHf1Gt/gNlZ5edNSJWmITy9XMo=;        b=azup0jaHOoXfzPmDNuAkCP9au7WvXrIYPA3KMNjp2VrwhjBhOLbxNRVrkNME5r0oXr         qJ8O8mgvQTcvRoiMBtExnN5d20SqrM+RfCiyYAHlcHvk5jDZfrXg9qWzPiEXNmxf/U5V         MJ5PiTz1uPiISjblfrcuQscVCtBWqcIgzW13z/X9pOZEvbuqljlaXhT0psI2UTI53a8h         lbYUxIj5Y3//n4xb/NMsn6R4KtqoAZ0Q7VIOawX7K5h+YXBnfJ9iGjI/1whqpg4EZ3WH         tKk+JdQz/smresYSLAs86HA0q9Mwf0ok3tV82GgsgoJzMYtyTYIKhqX8LNGM7sMGR4IX         abiQ==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=JyPN9TWhW6aNWR/wJrHf1Gt/gNlZ5edNSJWmITy9XMo=;        b=dXXkgx4jyIdNBzGRu/tKhXTRC9ZIxV2/WwGDezRLtZGkNH+cd2v8YvznZWpDjcSKvx         P6Cj1baVnMqEtbH+YuSqIBUxfk9eVkX3/NEqVeZgzBa2XvkECCFI8M0zs8ylqAsmtKLR         /vo2tyVdq4sVGPK5rusBsErVfAdYMSOZ/bVzk9K6zpVqi0Ut3AQ3QtwG6hLPRYr3Cs0J         BGi3ofg7IEijbId9zMBzSn0mN0RE8p2xnRgb+sRLKSPNvCC2RkHEzonsAlzLKuGo5nlF         r+Fm6A2NOu5zI3foRcdMA1N8Y/Xy95oUJZtZ0vBtoe2F3Eq1Qn8j5t3mUBgXOugUADyh         bEUg==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=JyPN9TWhW6aNWR/wJrHf1Gt/gNlZ5edNSJWmITy9XMo=;        b=OH6nyApTcbrbEyZiEJHnpHJVZf4XLV78UfkcZ4OJF5fdjFI29zVeRgFQxHAoK24o3X         nSMpBs0Xyxe6xcMWeSl7iEBDYZTbjgDDAzQrNtXIpxrXXy2fRVLc8SfhRhUYLDTJQ3lt         W/bX3DfpKc0veCtJKj0sQUx1QcOAubnMaf68C3R6XK4rD9/0FLVsSdy3a8WTPf/rZUzC         Xq43tcwIN2hjyfuRFL/TvH2qqPBD3nQ/LIfIXp5O4XMgb0sxmDQiID1z7f7DPlzdfuqx         awcvCtOY6Imij3pdQ1oS/fdTsaBiZFnkjMDX+M7vXD1Zl5Le3NAXl79lXYjYUIu3uShH         T+Ww==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1670309256; cv=pass;        d=google.com; s=arc-20160816;        b=MsihWQRF8Ta9/BOVWddnrcUGc5JBbK5hvEQ0ffT8rAfCBpdyhK7+Y0YjKpkLsQ+jbX         7K11ifJLy16ie8n2NxIsrvhDq9g3DcZaDUe2Npt2Smh5TxO1zaWW1dFOzIvnuWZkZdDW         0ZHf+pimp/NmLn6Q0iME8XsOTJ7mBsbC6JBVVBTAR8qJwC5TG9VJwmTidEmnnWLiT1V1         L8PlPBMre7h9oGyiHIEdQ7N4PFhFFI7n2vq5PO6tXxqJy4bZpcXIOmduWhIFG9ajkgpE         +/NtBxss6Cqur7S4OHU+81qWEyFIswnS4S9QP1/DDHd8p8/cMkZ7JPJdemBmy9baFRl/         D57A==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1670309255; cv=pass;        d=google.com; s=arc-20160816;        b=MccVfr1gUU+xd5py5ys9DdEear1pusrejUtNmtE1NHE2Z5JL9+y8ey4RIWvG4gYAXQ         w3hQRzcJtVV8axMg4lU9JHZyvLDUiB7wkxvhMJi68q0nVmWqHTyMH7Ic9iFsVw+ypxoA         BCN7+sEKcwiZJxeAs8pNVs7J77dYqfmz1ieEMsyb4LexvEcW6TajEAoymw0ZnPCOBV/h         Wx4u9y3dhgXz3zA3ekkFlrqPAsNgmQh8K9s4xWeKU/6tg/x1VrNlzJZ0WFoyolfAgLzP         6DNuqo9Lnmbyouhe9Rb3XMb0GLb4N6A9X73RktQEWdY9jM7TnSa8ZnpJc+LcsfV/+FoF         zoTA==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1670309252; cv=pass;        d=google.com; s=arc-20160816;        b=Xn9N+Ub2JQGghw897yevxvC1tWZ0zgvFhb/r/VZMrtBRGhbUwxYzlCcCqagTzNbiz3         zDb6NTJkk9ZV26kIbHjjVwB5cVuMLeUMdOgkj62gRmCz0jeN74KT+J2cYIYjK0FAJbQ0         e+jAIFc0jWGH5HF+xnHSNI5JA9issYA4bA1s1eqNY9JrK3Lop75aYKjlpPRx5nhQUQff         9Z5fNNuHZFOjo1kAU5CloQYwBn9g+9mfOpmEUTw7KjXRZwgDDMViqjpfXbr6QCZRnw/6         cxToC7MY1xMf85gbInpJqTLo6kZBwJr7F8Wp4Oifc5sq4Sg31JF7pCGG1XYjSnGUGcxI         vWgA==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1670309251; cv=none;        d=google.com; s=arc-20160816;        b=eVoanwI3ZTd4r/sAQnv3jm2WW4lFm6YC9ADGd3P1AFmTCRHe7x+lX7wlVCSOMw/0U5         xNawMoO2cxYIQjOm/rDyMDSB7Fbw+OG+H4N9q2ADnAzGU2Hyg/nwmPSRVYlLGdtE3AJB         m04hgPbN1T1SRTxUPqtKgD/DAt6Sl3gUWlKMHMaKVh6dBYb46V039d/7H2vnxQN5S1/z         pFdckNjh3MeqQMwLJNtedv3RntWvjbUInXYoXZZmBAVoHhmCMdxmmV2lro7m6nztvt2C         UpQ7Rn0c/lK/9TO0gITuBLOSU52bpAcxATmJo1sdKdVND4rKYtSL6pqQCkr2XXSCdP5F         9qRQ==</li>
<li>Cc: ferret users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :x-original-authentication-results:x-original-sender:cc:to:subject         :message-id:date:from:in-reply-to:references:mime-version:sender         :from:to:cc:subject:date:message-id:reply-to;        bh=JyPN9TWhW6aNWR/wJrHf1Gt/gNlZ5edNSJWmITy9XMo=;        b=a72fPvodkRCoB1vsvtWZbV5C38OylcuXb6qrRceblFZOPMHLIZIQpsWnpqgOM5ri8a         K/jS7Ce3E3UTk8ugY+hrpus40kBd/u3Y4tbz1IMR8EqNhiXDhFCNv8yfndX2aoFmC0nr         ZEVGMxNKe9PqQX0eIhG0wBUcJokfIE4wzDO0xZo3qTo5XbqabpDpi5/Q8LyS1OoPJvz9         THiN6fqF6gt4/F7gV4AHxCBPFEOBOwxGwaUpaoXMpng15zrNtZjD+3Kb0osS666Bs38A         uYc+eUh0qlYJaY/6TmHT6iUbP2Sg9iKmVLUnFZCGBlro4HA7IN2LcZyvw7IL8I1KBd2U         ce6w==</li>
<li>In-reply-to: &lt;<a href="msg01203.html">CAFXLzPgqAiki1EuKHUUAYAHaVek3HGPPLn+XPf1zDDe3AQ9a0g@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg01203.html">CAFXLzPgqAiki1EuKHUUAYAHaVek3HGPPLn+XPf1zDDe3AQ9a0g@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><div>Dear Saurabh</div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Tue, Dec 6, 2022 at 7:48 AM saurabh rathore &lt;<a rel="nofollow" href="mailto:rohitsrb2020@xxxxxxxxx">rohitsrb2020@xxxxxxxxx</a>&gt; wrote:<br></div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div dir="ltr"><div style="color:rgb(0,0,0)"><br></div><div style="color:rgb(0,0,0)">here is the problem that I am having variables var1(time,lev,lat,lon) and var2(time,lev,lat,lon) and I want to differentiate&#xA0;var1 w.r.t. var2 i.e. d(var1)/d(var2).</div></div></blockquote><div><br></div><div><br></div><div>Before discussing how to implement it in Ferret, we need to make it clear what you mean by d(var1)/d(var2) in a multidimensional space.</div><div><br></div><div>To illustrate the problem, let&#39;s consider 2D variables var1(x,y) and var2(x,y). Along a zonal section at a fixed latitude y0, we observe how these variables change:</div><div><br></div><div>var1(x&#xA0;+ dx, y0) = var1(x, y0)&#xA0;+ [&#x2202;(var1)/&#x2202;x] dx,</div><div>var2(x&#xA0;+ dx, y0) = var1(x, y0)&#xA0;+ [&#x2202;(var2)/&#x2202;x] dx.</div><div><br></div><div>So the changes are</div><div><br></div><div>d(var1) = [&#x2202;(var1)/&#x2202;x] dx,</div><div>d(var2) = [&#x2202;(var2)/&#x2202;x] dx.<br></div><div><br></div><div>Along this zonal section, therefore,</div><div><br></div><div>d(var1)/d(var2)</div><div>= {[&#x2202;(var1)/&#x2202;x] dx} / {[&#x2202;(var2)/&#x2202;x] dx}</div><div>= [&#x2202;(var1)/&#x2202;x] / [&#x2202;(var2)/&#x2202;x]</div><div><br></div><div>This result is the same as a 1D case.&#xA0; You can easily implement this in Ferret using the partial derivative operator(s) in the x direction.</div><div><br></div><div>Similarly, along a meridional, you get d(var1)/d(var2) =&#xA0; [&#x2202;(var1)/&#x2202;y] / [&#x2202;(var2)/&#x2202;y].</div><div><br></div><div>Along an arbitrary section, we move from point (x,y) to point (x&#xA0;+ dx, y&#xA0;+ dy) and observe</div><div><br></div><div>var1(x+dx, y+dy)</div><div>= var1(x, y)&#xA0;+ [&#x2202;(var1)/&#x2202;x] dx&#xA0;+&#xA0; [&#x2202;(var1)/&#x2202;y] dy</div><div>= var1(x,y)&#xA0;+ {[&#x2202;(var1)/&#x2202;x] cos &#x3B8; +&#xA0; [&#x2202;(var1)/&#x2202;y] sin &#x3B8;} dl,</div><div><br></div><div>where dl = sqrt(dx^2&#xA0;+ dy^2) is the length of the (dx,dy) vector and &#x3B8; is the angle that the vector makes from due east.&#xA0; So,</div><div><br></div><div>d(var1) =&#xA0; {[&#x2202;(var1)/&#x2202;x] cos &#x3B8; + &#xA0;[&#x2202;(var1)/&#x2202;y] sin &#x3B8;} dl.</div><div><br></div><div>Likewise for d(var2).&#xA0; Therefore,</div><div><br></div><div>d(var1)/d(var2) =&#xA0; {[&#x2202;(var1)/&#x2202;x] cos &#x3B8; + &#xA0;[&#x2202;(var1)/&#x2202;y] sin &#x3B8;} /&#xA0;<span style="color:rgb(0,0,0)">&#xA0;</span>{[&#x2202;(var2)/&#x2202;x] cos &#x3B8; + &#xA0;[&#x2202;(var2)/&#x2202;y] sin &#x3B8;}</div><div><br></div><div>in the direction &#x3B8;.</div><div><br></div><div>In the 4D space (x,y,z,t), you specify the direction (dx, dy, dz, dt) and do the same as the above.</div><div><br></div><div>Cheers,</div><div><br></div><div>Ryo</div><div><br></div></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01203" href="msg01203.html">[ferret_users] computation of derivatives</a></strong>
<ul><li><em>From:</em> saurabh rathore</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg01203.html">[ferret_users] computation of derivatives</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01206.html">Re: [ferret_users] computation of derivatives</a></strong>
</li>

</UL>
<center>[<a href="msg01203.html">Thread Prev</a>][<a href="msg01206.html">Thread Next</a>][<A HREF="threads.html#01204">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
