<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] inconsistent data grids: File needs axis attributes on coordinate variables indicating correct direction -->
<!--X-From-R13: Oafyrl [naxr <n.p.znaxrNtznvy.pbz> -->
<!--X-Date: Wed, 29 Sep 2021 17:19:44 &#45;0700 -->
<!--X-Message-Id: 208d7f8a&#45;b8e0&#45;58ad&#45;de55&#45;a8834a6eaa1a@gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 931333798.462866.1632754107286.JavaMail.zimbra@lsce.ipsl.fr -->
<!--X-Reference: 692792214.1528520.1632916840765.JavaMail.zimbra@lsce.ipsl.fr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] inconsistent data grids: File needs axis attributes on coordinate variables indicating correct direction</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg01013.html">Thread Prev</a>][<a href="msg01015.html">Thread Next</a>][<A HREF="threads.html#01014">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] inconsistent data grids: File needs axis attributes on coordinate variables indicating correct direction</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] inconsistent data grids: File needs axis attributes on coordinate variables indicating correct direction</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 29 Sep 2021 17:19:33 -0700</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20210112 header.b=VU4YRYgC;       arc=pass (i=2 dkim=pass dkdomain=gmail.com);       spf=pass (google.com: domain of <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> designates 209.85.219.71 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20210112 header.b=VU4YRYgC;       arc=pass (i=2 dkim=pass dkdomain=gmail.com);       spf=pass (google.com: domain of <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> designates 209.85.219.71 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20210112 header.b=VU4YRYgC;       arc=pass (i=1 spf=pass spfdomain=gmail.com dkim=pass dkdomain=gmail.com dmarc=pass fromdomain=gmail.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> does not designate 65.153.203.169 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20210112 header.b=VU4YRYgC;       spf=pass (google.com: domain of <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:sender:dkim-signature;        bh=isK1fVGNs6kXhOpD2txwSc2i5GC+JExOC5BoDq+vl4w=;        b=izSg+ShM8RVS6zpNn73G22NMVVuQbLGVO/SM1kcIkAwNtSQf+jmR+iNTG6bvLu/rMz         ef14fPqdA3KYv2cyzs/bzO/iw+rewqkPfq38yqhli1JcruSFjjfjBVeeFuKEY7iLGn+5         QB1pVeY0/4jrNM7IJFNsGupcri16C7qfJa3AAH/Axt4+Jox9t+EYW9p7zr7Q8Z7Sqe0R         tEMBgpgyMPQUN6NGcOyZJ7tGVQw1GpX4isVwKaVTJ1+4RzYMWf2ly0mdNnhvj2jPA4Hr         9u6LqQmB9paC53zCChpyNHksK5+gzFiuO0KhMzTG7yn3/xxIiwfOANexpzuq8puDqTSa         4gjA==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=isK1fVGNs6kXhOpD2txwSc2i5GC+JExOC5BoDq+vl4w=;        b=HnQ9ALCCnzgR0l3pBlVmbXdItI8c6yWIPmuT+NAgwWhRlAmRVhWjl/84vO/V5qpYYE         iBQ19tDgTKs5X5YlJo6pBYVq9uF3jmGdoOVx/6A8g3XiOqg/W4FEHmC07l+g2xVNO/47         wuVoOnzVXj9dUEgGtk4K9ccKuqg7DCtmvliiRWnvJFyT4sOgHtAL6POnHk5V5YKqTzmj         JXRaoMR70vgv5bzUb6YU6uwnCLIOXz1rVkHFwcMvIl/IBPwR8d2EccAQv7aF3KcgodGe         TvMP1PMx+ryxR222Ke89DsHjwjr/fiFHm/+hQy1+ne7y7vbodwoJ3uy/mf9iABa+2Gcj         hXPw==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=isK1fVGNs6kXhOpD2txwSc2i5GC+JExOC5BoDq+vl4w=;        b=F4xhfkT3iwW38/dE3KRFq4N/l8pRI/TBg0tdSWfDkcbX5JaEgcwXfEZNqULb1CThjc         zlzswoNmbzdL4Hf3l1ehcddCq6I97QxaB3jErukeFn+N0XeX78gWlupAdSTBIZ+fYlun         /zOTz6lCuykhlBL1GI+1cEqjsglB//EFbruc8lcZvfKNd8PDPsJ9kRCGQHMeg/V0xn+d         zhQo/kRngYadyGoqa7ZkF+mNe3ft5h82ndylmdmVZw7TUQJLiUzmgSNvlpS19w4u7Lg6         Al/mFxb4h8YlrWyFKiSKY4/pJw49ziwGjPUvLJFfy10PktxQqNAJn9lLTkK5EqTQR10f         /l0g==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=isK1fVGNs6kXhOpD2txwSc2i5GC+JExOC5BoDq+vl4w=;        b=XbZfwOeKDqTqZcqPXn/gTJMLbcFlEWjZohj+bwHDiVlLc3FyJdGjrMd6cg2jhnMdjw         rhXMnsw82vZSsX0a/pyaOEDf8lkz24jpzlMC/3D7bvkuyqmLJ+LV6SPxNv0Qcf1O6pPQ         LQbzCj34pv6aETvvRE0xCDBPlEfo4HOYPH0d1qmMwYMdblr8cy423c5M5OyQ07HCgeb+         sWsLqa9Fd/Id3TpTzsGL4FcFJQrs0QBxISmRA2qPZPPRzP1XWF3zBp5p9YvDMEUQPvpX         7TgCkHS2Llyf7/VVV3zrvI/ubpY50EJrbxYHX0/D4mvNpLOS7Rl1JzAMBpccrC9mtOBN         c45Q==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1632961183; cv=pass;        d=google.com; s=arc-20160816;        b=uF2WbH0QluaPUJUG9vlYy0eSg3Bs66sxDjuhmemkFluGDePb55XgLzVV6Nto1VAtdK         9hul03TaPpU3/WzG+kYMMn/mJxbzjcfS7fb1Az5zcMY/aiYc6elXUzQh+Qf+EdStelGa         KBxoKIFqVcl93MPrfRl5eL4acKkSVK0HGLty8WjlBN9KlGSk0/kbWsM72FaD3oVverEG         RxLl9hkYO2M6mpQt4aAGXNIAEOmvIaG9Q/JsiQpDjGVv39rCKLJIq/CqTG+1CvoRhWqC         oWlWPD7Pl6ZdkA1N8htd6KibP1fO0CQY4Pw0uzdWefr3UDxncYTXPrOByDsSHI04KAoi         8Itw==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1632961179; cv=pass;        d=google.com; s=arc-20160816;        b=t3MzPHCOw/1/ccpvv8JPV5cat0T/ckEV/QIxuKUrSRgsWORpGXIEkMC+PNXu65ENz5         H6xit9p9xL2UvNtqoVhhXo23c3aBbgOsMCFwh1b9o5WrBlymEvQiKBvYDrss4Y88p3hX         hEFyilWGf1JsP5WoJ9bminJzFxjclZV7fp4VRzwPqYs3GRY/Vpid0NSdNdFmgamG6Nk+         KFR9dLfboa6uDiUtgI+P1HyNGp0owiqnprT4b+yZ0FGTl6dIY+h34UHmQiTKMofUglWn         KCLMwXB1LsefybZH+HUCn5Qtj1Fk/lnFizdG9cgYyX5pE2uqP8Tpfl5R7OtX+dVjH2Qv         dT8Q==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1632961176; cv=pass;        d=google.com; s=arc-20160816;        b=OCELESNYGX3yq5lDnYMlwOD5bIFrwPUBYuFxA93ZzNaqP+FKmSlQZh7YPwdVoE/YAy         tXaTENUP83/eWZvepQKtaxjz+IskZPjPOBjjP/TKcgqU8mFrq7YitAm4lmH5cdNUTwgB         sOS4MDaavT2Dsyilzm77xY2YZpmbR4Tyz0Y/tCHyPgTeZt2o6GW0VFKV8h7aBw4Nn+VU         6FJ3omrNOBovr3LMdXKGirQ+TJZmaci6voLPiB1mgA5YE1wwPaSCrzPVQK104dhcF+TJ         OwC1rzkX6y+gDNucitdWNxxwX+rXCGsEiDggPxJM0NZq/J0tshcJnRmuvwkrWduoNE2Y         FZ/w==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1632961174; cv=none;        d=google.com; s=arc-20160816;        b=JRpg1x+wbKHN6ZZW8e5zBF7mkZ7MeUrsu5Hhh6dkpd0fR5UPrzhQvRMNI9qY4J5uQt         1nT1SC+N+xoDBprQuvBm/a224bfJlteDZAhm6CAvWTj5u2/iL1OF59vmDtlKOHVdH+X7         hC2pZ2kRBgw7xzlR7T/LfVr5/2FWMYfnHWDx7k+ffGQAuHtflBktOByFgRBoi1rOskCh         XEznRqgoHKGxCazT6jwOwaVXZ9gRmkPoZEE7sG5txzBI4y7sU336lStWYrzWlO3b6RCB         d5Q21bTEBcG+FxpAr/MnJNHrZmUy78XZ6MCazB+eei66FMjmh4q7hWEfFKKBo9lCAaZd         LuSg==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:subject:to:references:from:message-id:date:user-agent         :mime-version:in-reply-to:content-language:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=isK1fVGNs6kXhOpD2txwSc2i5GC+JExOC5BoDq+vl4w=;        b=mWRt6hSfMa5LQAwmLQHfGZlYrd6v8nM6X4Fw50omNh3bnFbNvZ9lYpZlq2gVQc7+cm         0odk5BH2CUI1A4Sf+WGOuqySMNM51QBoay3njc3SF83U9H2uCnrRReaW8Pm+ki6+k8eu         MI1dYSwZf6PB1ixjbaikLBNBg69nQYGM4B8VrEJWvKS8OrVSebWhM7jzy94C+H+3b4A7         MvQtEDsf3Jw73ZdemwNHpXkleAZSNNAyZ3ayiZCKK5KiuXYgR+q+2SDHejvnOznBZfDy         3C/nm7j5/+BFjfMCb6tAgxNsCMq0l7vzSG+nJV4L1fQKnUFcoLdkoCPu2+HRp82F3MY9         HxWw==</li>
<li>In-reply-to: &lt;<a href="msg01012.html">692792214.1528520.1632916840765.JavaMail.zimbra@lsce.ipsl.fr</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg01010.html">931333798.462866.1632754107286.JavaMail.zimbra@lsce.ipsl.fr</a>&gt; &lt;<a href="msg01012.html">692792214.1528520.1632916840765.JavaMail.zimbra@lsce.ipsl.fr</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0) Gecko/20100101 Thunderbird/78.14.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->

  
  
    <p>Hi,</p>
    <p>There is another detail about these file examples which is
      important.&#xA0; PyFerret does not have an implementation of bounds
      variables for 2-D coordinates. It does fully implement bounds for
      1-dimensional coordinate axes, using them to determine the
      location of the cell edges along an axis. It writes a bounds
      variable when writing data that has an irregular axis.</p>
    <p>For 2-dimensional coordinate variables, bounds such as <b>bounds_lat(jmax,
        imax, nv)</b> are not recognized, and it iss that nv dimension
      that is making it hard for PyFerret to initialize the file. A
      dimension to the right of the x dimension is not part of
      PyFerret's data model. If a file had only the 2-D lon(jmax, imax)
      and lat(imax,jmax)&#xA0; and the data variable, it would be able to use
      the file even with the original naming and no axis attributes. <br>
    </p>
    <p>Some capability for 2-D coordinates is available in PyFerret; the
      coordinate variables can be specified for graphics commands and
      there is some functionality for regridding and sampling; see
      "curvilinear coordinates" in the documentation.&#xA0; The
      implementation of curvilinear coordinates for graphics also allows
      for 2-D coordinate variables that describe the vertices of the
      grid cells.&#xA0; Those would have nvx = ncx+1 and nvy = ncy+1 values.
      Those are expected to be in the files as 2-D variables not 3-D
      variables. So an ncdump -h of a file might look like this to
      contain both grid cell centers and grid cell vertices:</p>
    <p><br>
    </p>
    <p><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b>netcdf curvi_coord { </b><b><br>
          </b><b>dimensions:</b><b><br>
          </b><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ncx = 180 ;</b><b><br>
          </b><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ncy = 90 ;</b><b><br>
          </b><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; nvx = 181 ;</b><b><br>
          </b><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; nvy = 91 ;</b><b><br>
          </b><b>variables:</b><b><br>
          </b><b>&#xA0;&#xA0;&#xA0; int ncx;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span>ncx:axis = "x" ;</b><b><br>
          </b><b>&#xA0;&#xA0;&#xA0; int ncy;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span>ncy:axis = "y" ;</b><b><br>
          </b><b>&#xA0;&#xA0;&#xA0; int nvx;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span>nvx:axis = "x" ;</b><b><br>
          </b><b>&#xA0;&#xA0;&#xA0; int nvy;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span>nvy:axis = "y" ;</b></span></span><span
        style="font-family: monospace;" data-mce-style="font-family:
        monospace;"><span style="color: #000000; background-color:
          #ffffff;" data-mce-style="color: #000000; background-color:
          #ffffff;"><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b>&#xA0;&#xA0;&#xA0; </b></span></span></b><b>double
            lonc(jmax, imax) ;</b></span></span><span
        style="font-family: monospace;" data-mce-style="font-family:
        monospace;"><span style="color: #000000; background-color:
          #ffffff;" data-mce-style="color: #000000; background-color:
          #ffffff;"><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span>latc:long_name
            = "geographic longitude of cell centers" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>lonc:units
            = "degrees_east" ;</b></span></span><span
        style="font-family: monospace;" data-mce-style="font-family:
        monospace;"><span style="color: #000000; background-color:
          #ffffff;" data-mce-style="color: #000000; background-color:
          #ffffff;"><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0; </b></span></span><span
        style="font-family: monospace;" data-mce-style="font-family:
        monospace;"><span style="color: #000000; background-color:
          #ffffff;" data-mce-style="color: #000000; background-color:
          #ffffff;"><b>double latc(ncy, ncx) ;</b></span></span><span
        style="font-family: monospace;" data-mce-style="font-family:
        monospace;"><span style="color: #000000; background-color:
          #ffffff;" data-mce-style="color: #000000; background-color:
          #ffffff;"></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>latc:long_name
            = "geographic latitude of cell centers" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>latc:units
            = "degrees_north" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b>&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span>double
            lon_vert(jmax, imax, nv) ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>lon_vert:long_name
            = "geographic latitude of cell vertices" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>lon_vert:units
            = "degrees_north" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b>&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span>double
            lat_vert(jmax, imax, nv) ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>lat_vert:long_name
            = "geographic latitude of cell vertices" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>lat_vert:units
            = "degrees_north" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b>&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span>double
            u(ncx, ncy) ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>u:lont_name
            = "zonal current" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>u:units
            = "m/sec" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>u:coordinates
            = "lonc latc" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>double
            v(ncx, ncy) ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>v:lont_name
            = "meridional current" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>v:units
            = "m/sec" ;</b><b><br>
          </b></span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"><span style="color:
          #000000; background-color: #ffffff;" data-mce-style="color:
          #000000; background-color: #ffffff;"><b><span
              style="font-family: monospace;"
              data-mce-style="font-family: monospace;"><span
                style="color: #000000; background-color: #ffffff;"
                data-mce-style="color: #000000; background-color:
                #ffffff;"><b><span style="font-family: monospace;"
                    data-mce-style="font-family: monospace;"><span
                      style="color: #000000; background-color: #ffffff;"
                      data-mce-style="color: #000000; background-color:
                      #ffffff;"><b><span style="font-family: monospace;"
                          data-mce-style="font-family: monospace;"><span
                            style="color: #000000; background-color:
                            #ffffff;" data-mce-style="color: #000000;
                            background-color: #ffffff;"><b>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; </b></span></span></b></span></span></b></span></span>v:coordinates
            = "lonc latc" ;</b><b><br>
          </b><b>}</b><br>
        </span></span><span style="font-family: monospace;"
        data-mce-style="font-family: monospace;"></span></p>
    <p><br>
    </p>
    <p>PyFerret would be able to open this file, and we could do plots
      such as:</p>
    <p><b><font face="monospace">yes? fill u, lonc, latc<br>
          yes? vector u, v, lonc, latc</font></b></p>
    <p>Or,&#xA0; PtFerret will see that the dimensions of the vertex
      coordinates is one larger than the size of the coordinates of the
      data variables, and will treat that data as the edges of the grid
      cells:<br>
    </p>
    <p><b><font face="monospace">yes? shade u, lon_vert, lat_vert&#xA0;&#xA0; !
          Which would look a bit different from "shade lon_c, lat_c"</font></b><br>
    </p>
    <p><br>
    </p>
    <p>( I am just typing things, here.&#xA0; Typos are possible!)</p>
    <p><br>
    </p>
    <p>Ansley<br>
    </p>
    <p><br>
    </p>
    <div class="moz-cite-prefix">On 9/29/2021 5:00 AM, Patrick Brockmann
      wrote:<br>
    </div>
    <blockquote type="cite"
      cite="">
      
      <div style="font-family: arial, helvetica, sans-serif; font-size:
        12pt; color: #000000">
        <div>Hi all,</div>
        <div><br data-mce-bogus="1">
        </div>
        <div>I have investigated a little bit more on the internal
          ferret mechanism that leads to produce this error.&#xA0;</div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;"><br>
            **ERROR: inconsistent data grids: File needs axis attributes
            on coordinate variables indicating correct directions<br>
          </span></div>
        <div><br>
        </div>
        <div>Starting from an example given by the CF convention
          description from the folowing paragraph</div>
        <div><a rel="nofollow"
href="https://cfconventions.org/Data/cf-conventions/cf-conventions-1.9/cf-conventions.html#cell-boundaries"
            moz-do-not-send="true">https://cfconventions.org/Data/cf-conventions/cf-conventions-1.9/cf-conventions.html#cell-boundaries</a><br
            data-mce-bogus="1">
        </div>
        <div>I have reproduced the error from a very simple exemple.</div>
        <div><br data-mce-bogus="1">
        </div>
        <div>$ cat notok.cdl</div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;"><span style="color:
              #000000; background-color: #ffffff;"
              data-mce-style="color: #000000; background-color:
              #ffffff;">netcdf notok { </span><br>
            dimensions: <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;jmax = 1 ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;imax = 1 ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nv = 4 ; <br>
            variables: <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double lat(jmax, imax) ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lat:long_name = "latitude" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lat:units = "degrees_north" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lat:bounds = "bounds_lat" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double lon(jmax, imax) ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lon:long_name = "longitude" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lon:units = "degrees_east" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lon:bounds = "bounds_lon" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double bounds_lat(jmax, imax, nv) ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double bounds_lon<span style="color: #000000;
              background-color: #54ffff;" data-mce-style="color:
              #000000; background-color: #54ffff;">(</span><span
              style="color: #000000; background-color: #ffffff;"
              data-mce-style="color: #000000; background-color:
              #ffffff;">jmax, imax, nv</span><span style="color:
              #000000; background-color: #54ffff;"
              data-mce-style="color: #000000; background-color:
              #54ffff;">)</span><span style="color: #000000;
              background-color: #ffffff;" data-mce-style="color:
              #000000; background-color: #ffffff;"> ; </span><br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double sample(jmax, imax) ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sample:coordinates = "lon lat" ; <br>
            data: <br>
            lat = -28; <br>
            lon = 157; <br>
            bounds_lat = -29, -29, -27, -27; <br>
            bounds_lon = 156, 158, 158, 156; <br>
            sample = 1 ; <br>
            }<br>
            $ ncgen -o notok.nc notok.cdl</span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;">$ ferret</span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;">yes? use notok.nc</span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*** NOTE:
            <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*** NOTE: Could not adjust grid for variable lat <br>
            **ERROR: inconsistent data grids: File needs axis attributes
            on coordinate variables indicating correct directions<br>
          </span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;"><br
              data-mce-bogus="1">
          </span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;">The same file with
            modified dimension names (jmax, imax replaced by y, x)&#xA0;</span><span
            style="font-family: monospace;" data-mce-style="font-family:
            monospace;">can be openned.</span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;"><br
              data-mce-bogus="1">
          </span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;">$ cat ok.cdl</span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;"><span style="color:
              #000000; background-color: #ffffff;"
              data-mce-style="color: #000000; background-color:
              #ffffff;">netcdf ok { </span><br>
            dimensions: <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;y = 1 ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;x = 1 ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nv = 4 ; <br>
            variables: <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double lat(y, x) ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lat:long_name = "latitude" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lat:units = "degrees_north" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lat:bounds = "bounds_lat" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double lon(y, x) ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lon:long_name = "longitude" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lon:units = "degrees_east" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;lon:bounds = "bounds_lon" ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double bounds_lat(y, x, nv) ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double bounds_lon(y, x, nv) ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double sample(y, x) ; <br>
            &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;sample:coordinates = "lon lat" ; <br>
            data: <br>
            lat = -28; <br>
            lon = 157; <br>
            bounds_lat = -29, -29, -27, -27; <br>
            bounds_lon = 156, 158, 158, 156; <br>
            sample = 1 ; <br>
            }<br>
            $ ncgen -o ok.nc ok.cdl</span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;">$ ferret</span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;">yes? use ok.nc</span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;"><br
              data-mce-bogus="1">
          </span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;">I would like to
            understand why ?</span></div>
        <div><br data-mce-bogus="1">
        </div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;">Best regards</span></div>
        <div><span style="font-family: monospace;"
            data-mce-style="font-family: monospace;">Patrick</span></div>
        <div><br data-mce-bogus="1">
        </div>
        <div data-marker="__SIG_PRE__">--<br>
          Data Analytics and Visualization Engineer / Project Manager<br>
          LSCE/IPSL, CEA-CNRS-UVSQ laboratory<br>
          LSCE - Climate and Environment Sciences Laboratory<br>
          IPSL - Institut Pierre Simon Laplace<br>
          --</div>
        <div><br>
        </div>
        <hr id="zwchr" data-marker="__DIVIDER__">
        <div data-marker="__HEADERS__"><b>De: </b>"Patrick Brockmann"
          <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:patrick.brockmann@xxxxxxxxxxxx">&lt;patrick.brockmann@xxxxxxxxxxxx&gt;</a><br>
          <b>&#xC0;: </b>"ferret users" <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:ferret_users@xxxxxxxx">&lt;ferret_users@xxxxxxxx&gt;</a><br>
          <b>Cc: </b>"Thanh-Lam Nguyen"
          <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:sebastien.nguyen@xxxxxxxxxxxx">&lt;sebastien.nguyen@xxxxxxxxxxxx&gt;</a><br>
          <b>Envoy&#xE9;: </b>Lundi 27 Septembre 2021 16:48:27<br>
          <b>Objet: </b>[ferret_users] inconsistent data grids: File
          needs axis attributes on coordinate variables indicating
          correct direction<br>
        </div>
        <div><br>
        </div>
        <div data-marker="__QUOTED_TEXT__">
          <div style="font-family:'arial' , 'helvetica' ,
            sans-serif;font-size:12pt;color:#000000">
            <div>Hi ferreters,<br>
            </div>
            <br>
            <div>A colleague has encountered a strange problem as he was
              trying to<br>
            </div>
            <div>nicely respect the netCDF CF conventions to describe a
              curvilinear grid (NEMO configuration).<br>
            </div>
            <br>
            <div>ferret complains about some inconsistent data grid and
              missing axis attributes.<br>
            </div>
            <pre><span style="font-family:monospace;font-size:8pt"><span style="color:#000000;background-color:#ffffff">use notok.nc </span>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*** NOTE: 
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;*** NOTE: Could not adjust grid for variable mask_T 
**ERROR: inconsistent data grids: File needs axis attributes on coordinate variables indicating correct directions</span></pre>
            <div><span style="font-family:monospace"><br>
              </span></div>
            <div><span style="font-family:monospace">Stranger, if I
                change the name of the dimension, then the file<br>
              </span></div>
            <div><span style="font-family:monospace">is read. I have not
                been able to fix this by adding a direction attribute as
                requested.<br>
              </span></div>
            <div><span style="font-family:monospace"><br>
              </span></div>
            <div><span style="font-family:monospace">The file is simple
                as:<br>
              </span></div>
            <pre><span style="font-family:monospace"><span style="color:rgb( 0 , 0 , 0 );background-color:rgb( 255 , 255 , 255 );font-size:8pt">$ ncdump notok.nc
netcdf notok { </span>
<span style="font-size:8pt">dimensions: </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;y_grid_T = 1 ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;x_grid_T = 1 ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nvertex_grid_T = 4 ; </span>
<span style="font-size:8pt">variables: </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double bounds_lat_grid_T(y_grid_T, x_grid_T, nvertex_grid_T) ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double bounds_lon_grid_T(y_grid_T, x_grid_T, nvertex_grid_T) ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;byte mask_T(y_grid_T, x_grid_T) ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;mask_T:cell_measures = "area: area_grid_T" ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;mask_T:coordinates = "nav_lat_grid_T nav_lon_grid_T" ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double nav_lat_grid_T(y_grid_T, x_grid_T) ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nav_lat_grid_T:standard_name = "latitude" ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nav_lat_grid_T:long_name = "Latitude" ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nav_lat_grid_T:units = "degrees_north" ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nav_lat_grid_T:bounds = "bounds_lat_grid_T" ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;double nav_lon_grid_T(y_grid_T, x_grid_T) ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nav_lon_grid_T:standard_name = "longitude" ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nav_lon_grid_T:long_name = "Longitude" ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nav_lon_grid_T:units = "degrees_east" ; </span>
<span style="font-size:8pt">&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;nav_lon_grid_T:bounds = "bounds_lon_grid_T" ; </span>
<span style="font-size:8pt">data: </span>
<span style="font-size:8pt">bounds_lat_grid_T = </span>
<span style="font-size:8pt">&#xA0;-29.5895932339965, -29.5895932339965, -27.835621888657, -27.835621888657 ; </span>
<span style="font-size:8pt">bounds_lon_grid_T = </span>
<span style="font-size:8pt">&#xA0;156.999148343641, 158.999201071309, 158.999201071309, 156.999148343641 ; </span>
<span style="font-size:8pt">mask_T = </span>
<span style="font-size:8pt">&#xA0;1 ; </span>
<span style="font-size:8pt">nav_lat_grid_T = </span>
<span style="font-size:8pt">&#xA0;-28.7162844516478 ; </span>
<span style="font-size:8pt">nav_lon_grid_T = </span>
<span style="font-size:8pt">&#xA0;157.999608915878 ; </span>
<span style="font-size:8pt">}</span>

If I remove _grid_T suffix then the file is read correctly.
<span style="color:#000000;background-color:#ffffff">$ ncgen -o notok.nc notok.cdl
$ sed -e 's/_grid_T//g' notok.cdl &gt; ok.cdl</span>
$ ncgen -o ok.nc ok.cdl


Any idea on why there is the unexpected behaviour (test on names of dimensions) ?
</span></pre>
            <div>Patrick<br>
            </div>
            <div><span style="font-family:monospace"><br>
              </span></div>
            <div>--<br>
              Data Analytics and Visualization Engineer / Project
              Manager<br>
              LSCE/IPSL, CEA-CNRS-UVSQ laboratory<br>
              LSCE - Climate and Environment Sciences Laboratory<br>
              IPSL - Institut Pierre Simon Laplace<br>
              --<span style="font-family:monospace"><span
                  style="color:#000000;background-color:#ffffff">sed -e
                  's/_grid_T//g' tyty.cdl &gt; tyty1.cdl</span></span></div>
          </div>
          <br>
        </div>
      </div>
    </blockquote>
  


<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="01015" href="msg01015.html">Re: [ferret_users] inconsistent data grids: File needs axis attributes on coordinate variables indicating correct direction</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01010" href="msg01010.html">[ferret_users] inconsistent data grids: File needs axis attributes on coordinate variables indicating correct direction</a></strong>
<ul><li><em>From:</em> Patrick Brockmann</li></ul></li>
<li><strong><a name="01012" href="msg01012.html">Re: [ferret_users] inconsistent data grids: File needs axis attributes on coordinate variables indicating correct direction</a></strong>
<ul><li><em>From:</em> Patrick Brockmann</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg01013.html">Re: [ferret_users] inconsistent data grids: File needs axis attributes on coordinate variables indicating correct direction</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01015.html">Re: [ferret_users] inconsistent data grids: File needs axis attributes on coordinate variables indicating correct direction</a></strong>
</li>

</UL>
<center>[<a href="msg01013.html">Thread Prev</a>][<a href="msg01015.html">Thread Next</a>][<A HREF="threads.html#01014">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
