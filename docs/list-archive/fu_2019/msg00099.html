<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Opening identical datasets define axis that are shared -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Thu, 21 Mar 2019 09:29:13 &#45;0700 -->
<!--X-Message-Id: 8c1ffda8&#45;3099&#45;4567&#45;bd4e&#45;f5166e24b0d5@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 717489672.1759881.1553180598508.JavaMail.zimbra@lsce.ipsl.fr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Opening identical datasets define axis that are shared</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00098.html">Thread Prev</a>][<a href="msg00100.html">Thread Next</a>][<A HREF="threads.html#00099">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Opening identical datasets define axis that are shared</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Opening identical datasets define axis that are shared</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 21 Mar 2019 09:29:08 -0700</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=XqxySIwS;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=XqxySIwS;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=bEhL142o/tSPJXrrOpp6bE7g6HX9jWUfkMQRuFvStBw=;        b=vv47MrCtic0/lRO06ygHFbKxYnZsXiKt/9uzs865XmVEuJIeicxkOunjQuiCoO0jZP         O+dVzFO/cMehvrwVOs0ZQURDIEdVydUvgyilOIT3rFA3Aw9GtEf20fQX8RjtI8Qodo7R         ZkW28atyJdQsX3wVsyaMtnRqIXJSt+M9mSAGGXFuyPrIa0fE5gEcjzet/Yq0L6yxUhPw         l7bEdZdRrQcdN1Wwytm6I2w+KpI8GZEd/5tdB6NGH83EpQER5IIKNj0z+zRVZ5t3FzdD         xu6Hj5Sax3PU1w6LuYKXhSZD3JtAiMxjDuM8I+cLprkklh0n6OzEuPf0Vsz1DN9INQWX         fr+w==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=bEhL142o/tSPJXrrOpp6bE7g6HX9jWUfkMQRuFvStBw=;        b=V+Z3na9PT7K4nLhKEONT53/6obvGDCDyRk8Tuwg9OCQFwSifWmRF2MWhbsRB49f9Zy         tuhA4BvEHgRMJVvf+sh4ADdttYE52EckysxbjM0gawZNh/AchgWxCl/yOJ5nnZ2dn7LV         ctHunMEZhW93WDSbE7wIJxNqwNsDknBgCd74vBdyWQ4MXXa6IDiizMAM3Kx06iHuGcV0         NYWDr6Ir/oexVibFAxcRa+ZvHSKSyaWJSYuzP749y5K8R70MR5H6Wg6v9Et49u3xaOdr         Xu2SIuo+pJHYKGGHD4NRIkp8hF6o1uWPLj8lmiTmeo7qAp0GBq+wK9EIyGdoajeShi4w         Hb2w==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1553185752; cv=pass;        d=google.com; s=arc-20160816;        b=hSF9W9zCmFcSp0ahcommJ2+Sgq5O6dUOp6TMI4yQ3MLSuxKSuUGlNNfJnxlEQOWwlZ         SjM1I4d7sDQcJajxRUbULKGO77Cx/QQ9Ae5p0afaFmqQ4tV/Wabwdlt0amJcURQpT79V         bVQmQwbLYXq37ynyJy5h58g+7xH/fCIqs3JozvucQVDEdAowSC4Ki4BfGd92rooabYCw         ZBOspr2AzEALdWYCQ4yDP/1CbrEmhT1AvYv4qwThMBNoptQqV4ZHnAYUNrN7mb89K0XA         xSEeyLBnjT/0+sNUFoXLI/+kPpi//YZVs8HZXPpSR0leTLSxkf6aaoHi2y/3pFF+tYlc         wlvA==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1553185751; cv=none;        d=google.com; s=arc-20160816;        b=RmJlX48lZDrN0LIa4RiQzu1WLneod/ns1JTuGXyjWRSsH2hzq3XkrX5rfFlP7JR7zP         YH/aclm8xUZTuw09FjOEZp/gQNhJoh4P8LRHGYXLhHt65XbuYHxJqjl+xyCnOBs3WDFU         OnifSmfApQFyYb5so6nzddAjwn58avq0ZulbB9T3HRJ4/X+a0czax5V+VKOJb+gygQVc         CaZdwuTLnAX7ZDF8ABqL2eqegp+QKhmO5PYluaj/lEu7USZ1OQxsMbzFSyufYqYhGg76         qlAj5D06v6aVF/iIDbnG+WEXIVSfN+4i2Qe7yKhqQoKyIqU5qXWpAfg3ivhMjnSSadnp         KXxg==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-language:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=bEhL142o/tSPJXrrOpp6bE7g6HX9jWUfkMQRuFvStBw=;        b=U7Xn8Vt2aYvJFDe0/5g4NrXGwmeIuTZkCC5/3CUheNbFrqT9LdY/aDePJirdCa2xR4         G5wV2116L134dHpMX7VaU1YJlImhjxEEl9iBh+ElnyqdE5Me6xCo1PWOdRnem4Y+5QH3         V8zJzNpb1i1ReAc7fQj9oYb21LfF/y+KBRMUEHHCxZPxgcMDt4OlK9I1MXlL5MjO8L3i         h9l3jtZvD/TCzFkOf3Dx2xqFG+mPUBnsVcDmlXvbDK8snkiX7xB3z4Oo1G2kNzBIdZmG         AdHvu4A4KPB7gcyzP5aTV2LmUqc+FVEHffiPkWvZhCBe0/pLL/xan2z6+JkYJPguXQF9         e1+w==</li>
<li>In-reply-to: &lt;<a href="msg00098.html">717489672.1759881.1553180598508.JavaMail.zimbra@lsce.ipsl.fr</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00098.html">717489672.1759881.1553180598508.JavaMail.zimbra@lsce.ipsl.fr</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101 Thunderbird/60.5.3</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    <p>Hi Patrick,</p>
    <p>Identical axes are shared as datasets are opened.&#xA0; For them to be
      shared, they need to be identical in all respects including axis
      name, units, and coordinates. For your purposes it should be
      enough to just rename the first dataset's axis before opening the
      second set.<br>
      <br>
      use
<a rel="nofollow" class="moz-txt-link-freetext" href="http://vesg.ipsl.upmc.fr/thredds/dodsC/work_thredds/p86pasb/IPSLCM6/PROD/midHolocene/CM61-LR-H6k-03/MONITORING/files/ATM_t2m_global_prio_ave.nc">http://vesg.ipsl.upmc.fr/thredds/dodsC/work_thredds/p86pasb/IPSLCM6/PROD/midHolocene/CM61-LR-H6k-03/MONITORING/files/ATM_t2m_global_prio_ave.nc</a></p>
    <p>set axis/name=new_name `var,return=taxis<br>
    </p>
    <p>use
<a rel="nofollow" class="moz-txt-link-freetext" href="http://vesg.ipsl.upmc.fr/thredds/dodsC/work_thredds/p86pasb/IPSLCM6/PROD/midHolocene/CM61-LR-H6k-02/MONITORING/files/ATM_t2m_global_prio_ave.nc">http://vesg.ipsl.upmc.fr/thredds/dodsC/work_thredds/p86pasb/IPSLCM6/PROD/midHolocene/CM61-LR-H6k-02/MONITORING/files/ATM_t2m_global_prio_ave.nc</a><br>
    </p>
    <div class="moz-cite-prefix">On 3/21/2019 8:03 AM, Patrick Brockmann
      wrote:<br>
    </div>
    <blockquote type="cite"
      cite="">
      
      <div style="font-family: arial, helvetica, sans-serif; font-size:
        12pt; color: #000000">
        <div>Hi ferreters,<br>
        </div>
        <div><br data-mce-bogus="1">
        </div>
        <div>I have encountered a problem when I open multiple identical
          datasets.<br data-mce-bogus="1">
        </div>
        <div>I can see that time axis are not defined for each dataset
          but shared.<br data-mce-bogus="1">
        </div>
        <div><br data-mce-bogus="1">
        </div>
        <div>It is a strategy.</div>
        <div>But as a consequence, if I apply a change on a axis (for
          example a 10 days offset on the 1st one) then </div>
        <div>other variables that share the time axis get this offset as
          well.</div>
        <div><br data-mce-bogus="1">
        </div>
        <div>Is there a way to force ferret to define a unique time axis
          for each dataset ?<br data-mce-bogus="1">
        </div>
        <div><br data-mce-bogus="1">
        </div>
        <div>Below a simplified script that shows the problem.<br
            data-mce-bogus="1">
        </div>
        <div><br data-mce-bogus="1">
        </div>
        <div>!==============================================================================<br
            data-mce-bogus="1">
        </div>
        <div>cancel data/all; cancel var/all; cancel axis/all<br>
          &#xA0; <br>
          use
<a rel="nofollow" class="moz-txt-link-freetext" href="http://vesg.ipsl.upmc.fr/thredds/dodsC/work_thredds/p86pasb/IPSLCM6/PROD/midHolocene/CM61-LR-H6k-03/MONITORING/files/ATM_t2m_global_prio_ave.nc">http://vesg.ipsl.upmc.fr/thredds/dodsC/work_thredds/p86pasb/IPSLCM6/PROD/midHolocene/CM61-LR-H6k-03/MONITORING/files/ATM_t2m_global_prio_ave.nc</a><br>
          use
<a rel="nofollow" class="moz-txt-link-freetext" href="http://vesg.ipsl.upmc.fr/thredds/dodsC/work_thredds/p86pasb/IPSLCM6/PROD/midHolocene/CM61-LR-H6k-02/MONITORING/files/ATM_t2m_global_prio_ave.nc">http://vesg.ipsl.upmc.fr/thredds/dodsC/work_thredds/p86pasb/IPSLCM6/PROD/midHolocene/CM61-LR-H6k-02/MONITORING/files/ATM_t2m_global_prio_ave.nc</a><br>
          <br>
          let var=T2M_GLOBAL_PRIO[L=@SBX:120]<br>
          <br>
          show axis `var[d=1], return=taxis`<br>
          show axis `var[d=2], return=taxis`<br>
          <br>
          let tt = t[gt=`var[d=2],return=taxis`]<br>
          define
axis/t/t0="`var[d=2],return=t0`"/units="`var[d=2],return=tunits`"/calendar="`var[d=2],return=cal`"
          `var[d=2],return=taxis` = tt + `10*24*60*60`<br>
          <br>
          show axis `var[d=1], return=taxis`<br>
          show axis `var[d=2], return=taxis`<br data-mce-bogus="1">
        </div>
        <div>!==============================================================================</div>
        <div><br data-mce-bogus="1">
        </div>
        <div>I get a note from ferret telling<br data-mce-bogus="1">
        </div>
        <div>Replacing definition of axis TIME_COUNTER<br>
          &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; *** NOTE: grid GOO1 used by data set
          ATM_t2m_global_prio_ave<br>
          &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; *** NOTE: Redefinition may alter apparent contents
          of data set<br>
          &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; *** NOTE: grid GOO2 used by data set
          ATM_t2m_global_prio_ave<br>
          &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; *** NOTE: Redefinition may alter apparent contents
          of data set</div>
        <div><br data-mce-bogus="1">
        </div>
        <div>How could I do then to apply an offset on the 2nd dataset
          without modifying the 1st one ?<br data-mce-bogus="1">
        </div>
        <div><br data-mce-bogus="1">
        </div>
        <div>Thanks<br data-mce-bogus="1">
        </div>
        <div>Patrick <br data-mce-bogus="1">
        </div>
        <div><br>
        </div>
        <div data-marker="__SIG_PRE__">--<br>
          Data Analysis and Visualization Engineer / Project Manager<br>
          LSCE/IPSL, CEA-CNRS-UVSQ laboratory<br>
          LSCE - Climate and Environment Sciences Laboratory<br>
          IPSL - Institut Pierre Simon Laplace<br>
          --</div>
      </div>
    </blockquote>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00098" href="msg00098.html">[ferret_users] Opening identical datasets define axis that are shared</a></strong>
<ul><li><em>From:</em> Patrick Brockmann</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00098.html">[ferret_users] Opening identical datasets define axis that are shared</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00100.html">Re: [ferret_users] Opening identical datasets define axis that are shared</a></strong>
</li>

</UL>
<center>[<a href="msg00098.html">Thread Prev</a>][<a href="msg00100.html">Thread Next</a>][<A HREF="threads.html#00099">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
