<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: [ferret_users] aline -->
<!--X-From-R13: "Ivyyvnz E. Yrffyre" <Ivyyvnz.E.YrffyreNabnn.tbi> -->
<!--X-Date: Sun, 8 Oct 2006 22:02:30 &#45;0700 -->
<!--X-Message-Id: BCE218E9&#45;B96B&#45;40A7&#45;88C8&#45;E6AEA57A49CF@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 369E5F85&#45;DB35&#45;40F7&#45;AD56&#45;9CF8036FF6DA@astr.ucl.ac.be -->
<!--X-Reference: 892A5D5B&#45;76A4&#45;40CB&#45;A9B5&#45;20E0D93F2849@astr.ucl.ac.be -->
<!--X-Reference: 2A9D5513&#45;4293&#45;45B9&#45;9431&#45;3007B090D2CA@noaa.gov -->
<!--X-Reference: 4526C26F.4080601@noaa.gov -->
<!--X-Reference: DA55D7B9&#45;8D7B&#45;4141&#45;9B81&#45;6B5EE38617E5@astr.ucl.ac.be -->
<!--X-Reference: F735D515&#45;CC79&#45;4BFD&#45;93C0&#45;9B3C2AB50E30@noaa.gov -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: [ferret_users] aline</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00664.html">Thread Prev</a>][<a href="msg00666.html">Thread Next</a>][<A HREF="threads.html#00665">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] aline</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ferret users &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] aline</strong></li>
<li><strong>From</strong>: <strong>&quot;William S. Kessler&quot; &lt;<a href="mailto:William.S.Kessler@DOMAIN.HIDDEN">William.S.Kessler@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Sun, 08 Oct 2006 22:02:24 -0700</li>
<li>Cc: Emilie Vanvyve &lt;<a href="mailto:vanvyve@DOMAIN.HIDDEN">vanvyve@xxxxxxxxxxxxxx</a>&gt;,       Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="msg00664.html">F735D515-CC79-4BFD-93C0-9B3C2AB50E30@noaa.gov</a>&gt;</li>
<li>References: &lt;<a href="msg00658.html">369E5F85-DB35-40F7-AD56-9CF8036FF6DA@astr.ucl.ac.be</a>&gt;&lt;<a href="msg00659.html">892A5D5B-76A4-40CB-A9B5-20E0D93F2849@astr.ucl.ac.be</a>&gt;&lt;<a href="msg00660.html">2A9D5513-4293-45B9-9431-3007B090D2CA@noaa.gov</a>&gt; &lt;<a href="msg00662.html">4526C26F.4080601@noaa.gov</a>&gt;&lt;<a href="msg00663.html">DA55D7B9-8D7B-4141-9B81-6B5EE38617E5@astr.ucl.ac.be</a>&gt;&lt;<a href="msg00664.html">F735D515-CC79-4BFD-93C0-9B3C2AB50E30@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi all -<br>
<br>
While the method below works for overlaying lines, a confusion is  
that when a time axis is used, the &quot;user units&quot; that are used to  
place labels are not the same &quot;user units&quot; as the ones used to plot  
variables. The reason my definition of &quot;tt&quot; below works is because in  
this case t is measured in days from T0 of the time axis, which is  
how Ferret plots. But the units used to plot labels on a time axis  
are, in general, completely different. In my case:<br>
<br>
yes? sho axis tmonth<br>
name       axis              # pts   start                end<br>
TMONTH    TIME               132 r   16-JAN-1992 05:10    15-DEC-2002  
18:49<br>
T0 = 15-JAN-1901 00:00:00<br>
   Axis span (to cell edges) = 4017<br>
<br>
yes? ppl list taxis<br>
<br>
         TAXIS QUALITIES<br>
         LO= 8.76E+03 DT= 6.00E+01 CSIZE= 1.00E-01 TYPE= TAXIS3  
VANG= 0.00E+00<br>
          TOP AXIS= ON  BOTTOM AXIS= ON<br>
           TMIN=19920101000000  0:00 JAN  1,1992<br>
           TMAX=20030101000000  0:00 JAN  1,2003<br>
         TSTART=19910101000000  0:00 JAN  1,1991<br>
         NMTC= -1 LABEL= -3 IFDB=  3 ISDB=  1 TAXIS= OFF   IAUTOT= ON<br>
<br>
For label purposes, TSTART is 1-jan-1991, and time is measured in  
hours (DT= 6.00E+01 as above, where the base unit is minutes for long- 
ago historical reasons). TSTART is recomputed every time a plot is  
made, based on the limits chosen. However for the time axis (and for  
plots), time is measured in days relative to 15-Jan-1901 (these are  
given by the definition of the variable's time axis tmonth). (For  
those of a technical mindset, note that in the definition of tmonth,  
4017/132=30.43..., which is the number of days in an average month).   
My definition of tt in the example below gives time in units of the  
variable (i.e. of the axis tmonth), and cannot be used to choose the  
position of a label.<br>
<br>
This difference is confusing and unfortunate. I believe it is the  
cause of Emilie's difficulties.<br>
<br>
Billy<br>
<br>
On Oct 8, 2006, at 8:50 PM, William S. Kessler wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi Emilie -<br>
<br>
Yes, a time axis is a little more complicated, but the method still  
works.<br>
<br>
Suppose I make a plot of a variable u, on a time axis, and want to  
draw a line connecting 2 specific points:<br>
<br>
let tt=t[gt=u]       ! first define a variable with the values of  
the time axis points<br>
plot/vs/over/nolab/line=2  {`tt[t=1-jul-1993]`,`tt[t=13-sep-1997]`}, 
{-.12,-.08}<br>
<br>
Billy<br>
<br>
On Oct 7, 2006, at 2:37 AM, Emilie Vanvyve wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi Ansley and Billy,<br>
<br>
I finally could do it with the ALINE command and never understood  
why it wasn't working initially.<br>
Thanks for the trick with PLOT and LET, I knew the one with PLOT,  
tried it but couldn't make it work.<br>
My plot is time series. I got the abscisse max and min values with  
PPL LISTSYM but never could get a line appearing. I don't  
understand why since the same values used with LABEL/user worked  
perfectly.<br>
<br>
Cheers,<br>
<br>
Emilie<br>
<br>
<br>
<br>
_______________________________________________________________<br>
<br>
Emilie VANVYVE &#x2014;&#x2014; Physicist, PhD student<br>
<br>
Universit&eacute; catholique de Louvain (UCL)<br>
Institut d'astronomie et de g&eacute;ophysique Georges Lema&icirc;tre (ASTR)<br>
Chemin du Cyclotron, 2, 1348 Louvain-la-Neuve, Belgium<br>
<br>
Phone: +32 (0)10 473338  &amp;  Fax: +32 (0)10 474722<br>
E-mail: vanvyve@astr.ucl.ac.be (www.astr.ucl.ac.be/u/vanvyve)<br>
_______________________________________________________________<br>
<br>
<br>
<br>
On 6 Oct 2006, at 21:54, Ansley Manke wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi Billy, Emilie<br>
I quite agree. ALINE is often more trouble than it's worth. I've  
added some text to the description of ALINE in the Users Guide.   
Note that one can use PLOT/VS/LINE and specify the line color and  
thickness directly with /COLOR= and /THICK=  (and as Billy notes,  
all the qualifiers of the PLOT command, such as /DASH specifiers)<br>
<br>
Try this example<br>
yes? ! Draw a plot<br>
yes? plot/line/sym=22/i=1:5 i-3<br>
<br>
yes? ! PUt a label inside the plot window at (3,-2) and<br>
yes? ! draw a line from (3,2) to (2,-1)<br>
<br>
yes? label 3,-2,-1,0,0.2 &quot;here is the point (2,-1)&quot;<br>
yes? plot/vs/line/over/nolab/color=red/thick {3,2}, {-2,-1}<br>
<br>
yes? ! Make a label outside the plot window at (3,3) and<br>
yes? ! draw a line from (3,3) to (4,1)<br>
<br>
yes? label 3,3,-1,0,0.2 &quot;here is the point (4,1)&quot;<br>
yes? plot/vs/line/over/nolab/color=blue/thick/set {3,4}, {3,1}<br>
yes? ppl window,off<br>
yes? ppl plot/over<br>
<br>
William S. Kessler wrote:<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi Emilie -<br>
<br>
I have stopped using ALINE as it is often flaky. You can achieve  
the same effect with less bother and much more flexibility by  
defining your endpoints with LET:<br>
<br>
let xpts={4,8}; let ypts={-3,0}<br>
plot/vs/over/nolab/line=N/dash=(...)/col= ... xpts,ypts<br>
<br>
If you want the line to go outside the plot box:<br>
<br>
plot/vs/over/set/....<br>
ppl window,off<br>
ppl plot/over<br>
<br>
Billy K<br>
<br>
On Oct 6, 2006, at 6:26 AM, Emilie Vanvyve wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Just for info, I eventually found how to do: use &quot;ppl line  
1,,0&quot;, cfr PPLUS guide for details.<br>
<br>
Emilie<br>
<br>
<br>
On 6 Oct 2006, at 13:23, Emilie Vanvyve wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi everyone,<br>
<br>
On a time series of a variable (made with PLOT), the command  
PPLUS ALINE 1,x1,y1,x2,y2&quot; persists to draw a dashed black  
line instead of a solid black line.<br>
Does anybody know how to prevent that behaviour? I thought  
solid was the default case.<br>
<br>
Many thanks,<br>
<br>
Emilie<br>
<br>
<br>
<br>
<br>
</blockquote><pre>
</pre>
</blockquote><pre>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
William S. Kessler
NOAA / Pacific Marine Environmental Laboratory
7600 Sand Point Way NE
Seattle WA 98115 USA

william.s.kessler@noaa.gov
Tel: 206-526-6221
Fax: 206-526-6744
Home page: <a  href="http://www.pmel.noaa.gov/people/kessler/">http://www.pmel.noaa.gov/people/kessler/</a>


</pre>
</blockquote>
-- ~&gt; ~&gt; ~&gt; ~&gt; ~&gt; ~&gt; ~&gt; ~&gt; ~&gt; ~&gt; ~&gt; Ansley Manke, NOAA/PMEL  
ansley.b.manke@noaa.gov 7600 Sand Point Way NE, Seattle WA Phone  
206-526-6246, FAX 206-526-6744<br>
</blockquote><pre>
</pre>
</blockquote><pre>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
William S. Kessler
NOAA / Pacific Marine Environmental Laboratory
7600 Sand Point Way NE
Seattle WA 98115 USA

william.s.kessler@noaa.gov
Tel: 206-526-6221
Fax: 206-526-6744
Home page: <a  href="http://www.pmel.noaa.gov/people/kessler/">http://www.pmel.noaa.gov/people/kessler/</a>



</pre>
</blockquote><pre>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
William S. Kessler
NOAA / Pacific Marine Environmental Laboratory
7600 Sand Point Way NE
Seattle WA 98115 USA

william.s.kessler@noaa.gov
Tel: 206-526-6221
Fax: 206-526-6744
Home page: <a  href="http://www.pmel.noaa.gov/people/kessler/">http://www.pmel.noaa.gov/people/kessler/</a>



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00658" href="msg00658.html">[ferret_users] aline</a></strong>
<ul><li><em>From:</em> Emilie Vanvyve</li></ul></li>
<li><strong><a name="00659" href="msg00659.html">Re: [ferret_users] aline</a></strong>
<ul><li><em>From:</em> Emilie Vanvyve</li></ul></li>
<li><strong><a name="00660" href="msg00660.html">Re: [ferret_users] aline</a></strong>
<ul><li><em>From:</em> William S. Kessler</li></ul></li>
<li><strong><a name="00662" href="msg00662.html">Re: [ferret_users] aline</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00663" href="msg00663.html">Re: [ferret_users] aline</a></strong>
<ul><li><em>From:</em> Emilie Vanvyve</li></ul></li>
<li><strong><a name="00664" href="msg00664.html">Re: [ferret_users] aline</a></strong>
<ul><li><em>From:</em> William S. Kessler</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00664.html">Re: [ferret_users] aline</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00666.html">[ferret_users] diapycnal velocity</a></strong>
</li>

</UL>
<center>[<a href="msg00664.html">Thread Prev</a>][<a href="msg00666.html">Thread Next</a>][<A HREF="threads.html#00665">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
