<!-- MHonArc v2.5.13 -->
<!--X-Subject: [ferret_users] Ferret and variable thickness of bottom layer of model data -->
<!--X-From-R13: Xnzrf Qnirra <wnzrf_pnirraNhdne.dp.pn> -->
<!--X-Date: Thu, 2 Mar 2006 13:30:30 &#45;0800 -->
<!--X-Message-Id: 1141335019.3364.6.camel@caveenjt42.uqar.qc.ca -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>[ferret_users] Ferret and variable thickness of bottom layer of model data</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00142.html">Thread Prev</a>][<a href="msg00145.html">Thread Next</a>][<A HREF="threads.html#00144">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] Ferret and variable thickness of bottom layer of model data</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] Ferret and variable thickness of bottom layer of model data</strong></li>
<li><strong>From</strong>: <strong>James Caveen &lt;<a href="mailto:james_caveen@DOMAIN.HIDDEN">james_caveen@xxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 02 Mar 2006 16:30:19 -0500</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi,

We use an ocean model in which the thickness of the bottom layer varies
with each X,Y data point.  I can easily define a common Z axis and
zedges in meters for all the layers of all columns but when it comes to
the bottom layer the lower bounding limit is different for each column.
For example, if at some X,Y point the thickness of the last layer is 10m
and the bottom of that layer is 2m above the sea floor, we need to add
2m to the thickness in order to obtain correct reslults when performing
a vertical integration.   We have tried to use the zaxreplace function
but it does not seem to do exactly what we need in that zaxreplace seems
to perform a linear interpolation to a new depth but does not take into
account the layer thickness of the new cell.

Of course, we could use a scaling factor in order to adjust the value of
the bottom layer so that the 'real' thickness is accounted for in
calculations, but when it comes to displaying the results (as in a cross
section for instance) then the values of the bottom layer will not be a
true representation of the real values.

So here it is for my questions.  Is there a way (does not have to be
easy or elegant) that we can perform vertical integrations of a variable
on a model domain while taking into account a varying bottom layer
thickness for each column?  Is there a way that we can do cross-section
graphics where the zedges of the botom layer are different for each data
point?

Perhaps this problem is more related to data representation in NetCDF
files than to Ferret. If that is the case, then I dont really know (read
I really dont know!) how to store my data in a NetCdf file so that I can
have a zaxis and zedges for each single data point of my model grid.  

Any suggestions or help will be much appreciated.


Regards,

James

-- 
James Caveen
Programmeur-Analyste
Université du Québec à Rimouski

Tel:   (418) 723-1986, poste 1295
Courriel: james_caveen@uqar.qc.ca



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00145" href="msg00145.html">Re: [ferret_users] Ferret and variable thickness of bottom layer ofmodel data</a></strong>
<ul><li><em>From:</em> Andrew Wittenberg</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00142.html">[ferret_users] contour/spacing</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00145.html">Re: [ferret_users] Ferret and variable thickness of bottom layer ofmodel data</a></strong>
</li>

</UL>
<center>[<a href="msg00142.html">Thread Prev</a>][<a href="msg00145.html">Thread Next</a>][<A HREF="threads.html#00144">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
