<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: [ferret_users]convert lat,lon in km -->
<!--X-From-R13: Xnzrf Aee <Xnzrf.AeeNprn.se> -->
<!--X-Date: Wed, 8 Feb 2006 00:32:42 &#45;0800 -->
<!--X-Message-Id: Pine.LNX.4.44.0602080924590.14950&#45;200000@localhost.localdomain -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 43E9888C.8050006@noumea.ird.nc -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: [ferret_users]convert lat,lon in km</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00079.html">Thread Prev</a>][<a href="msg00082.html">Thread Next</a>][<A HREF="threads.html#00081">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users]convert lat,lon in km</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Xavier Couvelard &lt;<a href="mailto:xavier.couvelard@DOMAIN.HIDDEN">xavier.couvelard@xxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users]convert lat,lon in km</strong></li>
<li><strong>From</strong>: <strong>James Orr &lt;<a href="mailto:James.Orr@DOMAIN.HIDDEN">James.Orr@xxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 08 Feb 2006 09:32:30 +0100 (CET)</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00079.html">43E9888C.8050006@noumea.ird.nc</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Xavier,

Attached is a simple script (distance.jnl) that I wrote to compute
distance (in km) between two points of different latitude and
longitude.  It uses the classical approach (spherical law of
cosines).  Other formulas such as the Haversine formula can also be
found at

  <a  href="http://www.movable-type.co.uk/scripts/LatLong.html">http://www.movable-type.co.uk/scripts/LatLong.html</a>

Here is an example of using this distance script:

let lat1=0 ; let lon1=0
let lat2=90 ; let lon2=0
go distance
list dist

-- Jim


On Wed, 8 Feb 2006, Xavier Couvelard wrote:

&gt; Hi,
&gt; 
&gt; Using samplexy, i obtain a new xaxis from 1 to 90, so i need to have 
&gt; some meters to get a transport in m3/s.
&gt; 
&gt; How can i get the distance in meters from to points in lat lon coords?
&gt; 
&gt; Thanks
&gt; Xavier
&gt; 

-- 
======================================================================
   James Orr                      
   LSCE/IPSL, Laboratoire des Sciences du Climat et de l'Environnement
   CEA-CNRS-UVSQ

   LSCE/IPSL, CEA Saclay           <a  href="http://www.ipsl.jussieu.fr/~jomce">http://www.ipsl.jussieu.fr/~jomce</a>
   Bat. 712 - Orme                 mailto:  orr@cea.fr
   Point courrier 132
   F-91191 Gif-sur-Yvette Cedex    Phone:   (33) (0)1 69 08 77 23
   FRANCE                          Fax:     (33) (0)1 69 08 30 73
======================================================================
</pre>
<pre>!See formulas on <a  href="http://www.movable-type.co.uk/scripts/LatLong.html">http://www.movable-type.co.uk/scripts/LatLong.html</a>

! Distance formula from the spherical law of cosines

  let R = 6371         !Earth's mean radius 
  let pi = acos(-1)
  let deg2rad = pi/180 !Conversion factor to convert between degrees to radians
! Convert lons and lats from degrees to radians:
  let rlon1 = lon1 * deg2rad ; let rlon2 = lon2 * deg2rad
  let rlat1 = lat1 * deg2rad ; let rlat2 = lat2 * deg2rad

! let delrlat = rlat2 - rlat1
  let delrlon = rlon2 - rlon1
  let dist = acos(sin(rlat1) * sin(rlat2) + cos(rlat1) * cos(rlat2) * cos(delrlon)) * R
</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00079" href="msg00079.html">[ferret_users]convert lat,lon in km</a></strong>
<ul><li><em>From:</em> Xavier Couvelard</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00079.html">[ferret_users]convert lat,lon in km</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00082.html">[ferret_users] anomaly and climatology</a></strong>
</li>

</UL>
<center>[<a href="msg00079.html">Thread Prev</a>][<a href="msg00082.html">Thread Next</a>][<A HREF="threads.html#00081">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
