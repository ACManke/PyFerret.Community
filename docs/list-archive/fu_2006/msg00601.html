<!-- MHonArc v2.5.13 -->
<!--X-Subject: RE: [ferret_users] How can I produce a time series of JJA averages (orother intervals) from a monthly time series? -->
<!--X-From-R13: Xnvfba Yhevna <wnvfbaNpnbf.vvfp.rearg.va> -->
<!--X-Date: Wed, 20 Sep 2006 09:45:51 &#45;0700 -->
<!--X-Message-Id: Pine.LNX.4.58.0609202149590.5020@caos.iisc.ernet.in -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: F83C6ACE124F3E4D83B3A90C9CA0922D2E5085@exwa3&#45;per.nexus.csiro.au -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>RE: [ferret_users] How can I produce a time series of JJA averages (orother intervals) from a monthly time series?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00600.html">Thread Prev</a>][<a href="msg00602.html">Thread Next</a>][<A HREF="threads.html#00601">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: [ferret_users] How can I produce a time series of JJA averages (orother intervals) from a monthly time series?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:Yun.Li@DOMAIN.HIDDEN">Yun.Li@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>RE: [ferret_users] How can I produce a time series of JJA averages (orother intervals) from a monthly time series?</strong></li>
<li><strong>From</strong>: <strong>Jaison Kurian &lt;<a href="mailto:jaison@DOMAIN.HIDDEN">jaison@xxxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 20 Sep 2006 22:18:01 +0530 (IST)</li>
<li>Cc: <a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>, <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00600.html">F83C6ACE124F3E4D83B3A90C9CA0922D2E5085@exwa3-per.nexus.csiro.au</a>&gt;</li>
<li>References: &lt;<a href="msg00600.html">F83C6ACE124F3E4D83B3A90C9CA0922D2E5085@exwa3-per.nexus.csiro.au</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Yun,
        Recent versions of Ferret write two attributes for a variable
(when saved to a NetCDF file) called &quot;long_name&quot; and &quot;long_name_mod&quot;
and the extra title you complainted comes from the NetCDF attribute
&quot;long_name_mod&quot;. This information is usefull sometimes and there is 
no need to worry about this. If you want to remove it from the default
plot title, then define a new variable and assign the title you want.
Or if you want to remove it from the NetCDF file, you have to use some
NetCDF editing tools....or write it first to an intermediate file, read
it back and assign a new variable name and title to it, then save to the
final destination file. As far as i know, nothing can be done while
saving data in NetCDF format from Ferret.

Also please have a look at these mails in the archive:

<a  href="http://ferret.wrc.noaa.gov/Ferret/Mail_Archives/fu_2004/msg00018.html">http://ferret.wrc.noaa.gov/Ferret/Mail_Archives/fu_2004/msg00018.html</a>
<a  href="http://www.ferret.noaa.gov/Ferret/Mail_Archives/fu_2004/msg00667.html">http://www.ferret.noaa.gov/Ferret/Mail_Archives/fu_2004/msg00667.html</a>

Hope this helps,

Jaison

On Wed, 20 Sep 2006 Yun.Li@csiro.au wrote:

&gt; Hi Jaison,
&gt; 
&gt;  
&gt; 
&gt; Thanks for your help. The example is very useful. I have obtained a
&gt; solution to my problem following the lines of the example. 
&gt; 
&gt;  
&gt; 
&gt; A minor question is why the extra item &quot;(X=18.8E:18.8E(378.8),
&gt; Y=91.3S:91.3N)&quot; appears in the title of new variable UWND_JJA (see
&gt; following lines). 
&gt; 
&gt;  
&gt; 
&gt; yes? use uwnd_jja_mean.nc
&gt; 
&gt; yes? show data
&gt; 
&gt;      currently SET data sets:
&gt; 
&gt;     1&gt; .\uwnd_jja_mean.nc  (default)
&gt; 
&gt;  name     title                             I         J         K
&gt; L
&gt; 
&gt;  UWND_JJA JJA Seasonal Mean UWND           1:144     1:73      ...
&gt; 1:11
&gt; 
&gt;        (X=18.8E:18.8E(378.8), Y=91.3S:91.3N)
&gt; 
&gt;  
&gt; 
&gt;  
&gt; 
&gt; This extra item &quot;(X=18.8E:18.8E(378.8), Y=91.3S:91.3N)&quot; also appeared in
&gt; my SLP_JJA case. How can I remove it?
&gt; 
&gt;  
&gt; 
&gt; Best regards,
&gt; 
&gt;  
&gt; 
&gt; Yun
&gt; 
&gt;  
&gt; 
&gt; -----Original Message-----
&gt; From: Jaison Kurian [<a  href="mailto:jaison@caos.iisc.ernet.in">mailto:jaison@caos.iisc.ernet.in</a>] 
&gt; Sent: Wednesday, 20 September 2006 4:16 PM
&gt; To: Li, Yun (CMIS, Floreat)
&gt; Cc: Ansley.B.Manke@noaa.gov; oar.pmel.ferret_users@noaa.gov
&gt; Subject: RE: [ferret_users] How can I produce a time series of JJA
&gt; averages (or other intervals) from a monthly time series?
&gt; 
&gt;  
&gt; 
&gt; Hi Yun,
&gt; 
&gt;         Here is an example using monthly_navy_winds dataset.
&gt; 
&gt; Also see these two mails, which deals with somewhat similar
&gt; 
&gt; questions :
&gt; 
&gt;  
&gt; 
&gt; <a  href="http://ferret.pmel.noaa.gov/Ferret/Mail_Archives/fu_2004/msg00575.html">http://ferret.pmel.noaa.gov/Ferret/Mail_Archives/fu_2004/msg00575.html</a>
&gt; 
&gt; <a  href="http://www.ferret.noaa.gov/Ferret/Mail_Archives/fu_2005/msg00018.html">http://www.ferret.noaa.gov/Ferret/Mail_Archives/fu_2005/msg00018.html</a>
&gt; 
&gt;  
&gt; 
&gt; Hope this helps...
&gt; 
&gt;  
&gt; 
&gt; Jaison
&gt; 
&gt;  
&gt; 
&gt;  
&gt; 
&gt; !-------Example : JJA seasonal mean from monthly data-----------
&gt; 
&gt; !
&gt; 
&gt; \ cancel mode verify
&gt; 
&gt; ! Drawbacks : Data should start at January of a year. Otherwise
&gt; 
&gt; !             &quot;yr_months&quot; variable should be modified accordingly. 
&gt; 
&gt; !
&gt; 
&gt; ! monthly navy winds : 16-JAN-1982 to 17-DEC-1992
&gt; 
&gt; !-----------------------------------------------------------
&gt; 
&gt;  
&gt; 
&gt;      use monthly_navy_winds
&gt; 
&gt;  
&gt; 
&gt;      ! create a mask such that only JJA is valid and all other months
&gt; 
&gt;      !    are set to missing value
&gt; 
&gt;  
&gt; 
&gt;      let L_indx    = L[GT=uwnd]
&gt; 
&gt;      let yr_months = L_indx- 12*INT((L_indx-1)/12) 
&gt; 
&gt;      list yr_months
&gt; 
&gt;  
&gt; 
&gt;      ! JJA --&gt;  L is 6-8
&gt; 
&gt;  
&gt; 
&gt;      let mask_other_months = IF yr_months GT 5 AND yr_months LT 9 THEN 1
&gt; 
&gt;      list yr_months, mask_other_months
&gt; 
&gt;  
&gt; 
&gt;      ! Apply the mask
&gt; 
&gt;  
&gt; 
&gt;      let uwnd_masked = uwnd[d=1] * mask_other_months
&gt; 
&gt;      list/x=60/y=10 uwnd_masked 
&gt; 
&gt;  
&gt; 
&gt;      ! Club the JJA values together
&gt; 
&gt;  
&gt; 
&gt;      let uwnd_compr  = COMPRESSL(uwnd_masked)
&gt; 
&gt;      list/x=60/y=10 uwnd_compr
&gt; 
&gt;  
&gt; 
&gt;      ! 1982-1992 --&gt; 11 years --&gt; 11*3=33 data points
&gt; 
&gt;      ! we need to average this data points in pairs of 3 to find the
&gt; 
&gt;      !  seasonal mean. Easy way is to use two abstract axes, one
&gt; 
&gt;      !  with 33 points (ranging from 1-33) and another one with
&gt; 
&gt;      !  11 points (ranging from 2-32) and regrid using @AVE.
&gt; 
&gt;  
&gt; 
&gt;      define axis/t=1:33:1 t33
&gt; 
&gt;      let uwnd_jja_all = uwnd_compr[gt=t33@ASN] 
&gt; 
&gt;      list/x=60/y=10 uwnd_jja_all
&gt; 
&gt;  
&gt; 
&gt;      define axis/t=2:32:3 t11  ! for the exact seasonal mean
&gt; 
&gt;      let uwnd_jja_av  = uwnd_jja_all[gt=t11@AVE]
&gt; 
&gt;  
&gt; 
&gt;      ! now assign a proper yearly time axis defined over 1982-1992
&gt; 
&gt;      !  here we dont need any interpolation but the grid change
&gt; 
&gt;      !  ..so use @ASN regridding
&gt; 
&gt;  
&gt; 
&gt;      define axis/t=1982:1992:1/units=years tyear
&gt; 
&gt;      let uwnd_jja  = uwnd_jja_av[gt=tyear@ASN]
&gt; 
&gt;      list/x=60/y=10 uwnd_jja ! 6.36 7.99 7.12  8.51 9.46 9.32
&gt; 
&gt;      set var/title=&quot;JJA Seasonal Mean UWND&quot;/units=&quot;m/s&quot; uwnd_jja
&gt; 
&gt;      
&gt; 
&gt;      ! save to a NetCDF file for future use
&gt; 
&gt;  
&gt; 
&gt;      ! sp rm -f uwnd_jja_mean.nc
&gt; 
&gt;      ! save/file=uwnd_jja_mean.nc/APPEND uwnd_jja
&gt; 
&gt;  
&gt; 
&gt; !-------------end of example-------------------------------------
&gt; 
&gt;  
&gt; 
&gt;  
&gt; 
&gt; On Wed, 20 Sep 2006 Yun.Li@csiro.au wrote:
&gt; 
&gt;  
&gt; 
&gt; &gt; Hi Ansley,
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; I am trying to do &quot;Leaving only JJA SLP data&quot; from a monthly NCEP SLP
&gt; 
&gt; &gt; data &quot;slp.mon.mean.nc&quot;. I have looked at
&gt; 
&gt; &gt; <a  href="http://ferret.pmel.noaa.gov/Ferret/FAQ/analysis/seasonal_masking.html">http://ferret.pmel.noaa.gov/Ferret/FAQ/analysis/seasonal_masking.html</a>.
&gt; 
&gt; &gt; But I could not get a solution because of my poor ferret skills.
&gt; Could
&gt; 
&gt; &gt; you please give me a help here?
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; Thanks,
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; Yun
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;   _____  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; From: Ansley Manke [<a  href="mailto:Ansley.B.Manke@noaa.gov">mailto:Ansley.B.Manke@noaa.gov</a>] 
&gt; 
&gt; &gt; Sent: Wednesday, 20 September 2006 3:02 AM
&gt; 
&gt; &gt; To: Li, Yun (CMIS, Floreat)
&gt; 
&gt; &gt; Cc: oar.pmel.ferret_users@noaa.gov
&gt; 
&gt; &gt; Subject: Re: [ferret_users] How can I produce a time series of JJA
&gt; 
&gt; &gt; averages (or other intervals) from a monthly time series?
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; Hi Yun,
&gt; 
&gt; &gt; Here are a couple of FAQ's for you to look at - if one of these is the
&gt; 
&gt; &gt; kind of thing you want to do. If you need help applying the ideas,
&gt; 
&gt; &gt; please write back to the users list.
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; This FAQ makes a &quot;seasonal mask&quot; to pick out data from part of each
&gt; 
&gt; &gt; year.  It does the problem with units of time in days; but if you're
&gt; 
&gt; &gt; starting with monthly data you could do a similar thing with months,
&gt; 
&gt; &gt; with JJA being months 6,7,8.  You could combine this with the COMPRESS
&gt; 
&gt; &gt; functions to remove the missing data and leave only the JJA data.
&gt; 
&gt; &gt; <a  href="http://ferret.pmel.noaa.gov/Ferret/FAQ/analysis/seasonal_masking.html">http://ferret.pmel.noaa.gov/Ferret/FAQ/analysis/seasonal_masking.html</a>
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; Or, did you have in mind a climatology, averaging all of the JJA data
&gt; 
&gt; &gt; for all years, and returning just one point?  In that case, see
&gt; 
&gt; &gt; &quot;climatology, creating&quot; in the Users Guide, and this FAQ for more
&gt; 
&gt; &gt; examples
&gt; 
&gt; &gt; <a  href="http://ferret.pmel.noaa.gov/Ferret/FAQ/analysis/climatologies.html">http://ferret.pmel.noaa.gov/Ferret/FAQ/analysis/climatologies.html</a>
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; Ansley
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; Yun.Li@csiro.au wrote: 
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; Dear Ferreters,
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; I am trying to produce a seasonal time series (such as JJA time
&gt; series)
&gt; 
&gt; &gt; from a monthly time series. 
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; There is an example from the Ferret FAQ on &quot;How can I produce a time
&gt; 
&gt; &gt; series of annual averages (or other intervals) from a monthly time
&gt; 
&gt; &gt; series?&quot;
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;
&gt; <a  href="http://ferret.wrc.noaa.gov/Ferret/FAQ/analysis/annual_from_monthly.html">http://ferret.wrc.noaa.gov/Ferret/FAQ/analysis/annual_from_monthly.html</a>
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; I would be most grateful if you can let me know how to produce a
&gt; 
&gt; &gt; seasonal averaged time series (such as June-July-August average time
&gt; 
&gt; &gt; series) from a monthly time series by modifying the code used to
&gt; produce
&gt; 
&gt; &gt; annual time series in the above web page, that is,
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;      yes?  SET DATA monthly_navy_winds
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;      yes?  DEFINE AXIS/EDGES/T0=1-jan-1900/UNITS=days tann82_92 =
&gt; 
&gt; &gt; DAYS1900(X[i=1982:1993:1],1,1)
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;      yes?  PLOT/X=180/Y=0 uwnd
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;      yes?  PLOT/X=180/Y=0/over uwnd[gt=tann82_92@ave]     ! the above
&gt; 
&gt; &gt; plot 
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; Thanks, 
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt;  
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; Yun Li
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; CSIRO, Australia
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; 
&gt; 
&gt; &gt; 
&gt; 
&gt; 
</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00602" href="msg00602.html">Re: [ferret_users] How can I produce a time series of JJA averages (orother intervals) from a monthly time series?</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00600" href="msg00600.html">RE: [ferret_users] How can I produce a time series of JJA averages (orother intervals) from a monthly time series?</a></strong>
<ul><li><em>From:</em> Yun.Li</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00600.html">RE: [ferret_users] How can I produce a time series of JJA averages (orother intervals) from a monthly time series?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00602.html">Re: [ferret_users] How can I produce a time series of JJA averages (orother intervals) from a monthly time series?</a></strong>
</li>

</UL>
<center>[<a href="msg00600.html">Thread Prev</a>][<a href="msg00602.html">Thread Next</a>][<A HREF="threads.html#00601">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
