<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: [ferret_users] Why does ferret fail to support swapping integraland differential? -->
<!--X-From-R13: TS@U VS <sraturNjvfp.rqh> -->
<!--X-Date: Fri, 17 Mar 2006 11:11:26 &#45;0800 -->
<!--X-Message-Id: eec2acb47e8e.7e8eeec2acb4@wiscmail.wisc.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: ed1da454416e.416eed1da454@wiscmail.wisc.edu -->
<!--X-Reference: 441AF9C3.9050005@noaa.gov -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: [ferret_users] Why does ferret fail to support swapping integraland differential?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00177.html">Thread Prev</a>][<a href="msg00179.html">Thread Next</a>][<A HREF="threads.html#00178">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Why does ferret fail to support swapping integraland differential?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Why does ferret fail to support swapping integraland differential?</strong></li>
<li><strong>From</strong>: <strong>FENG HE &lt;<a href="mailto:fenghe@DOMAIN.HIDDEN">fenghe@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 17 Mar 2006 11:09:38 -0800</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00177.html">441AF9C3.9050005@noaa.gov</a>&gt;</li>
<li>References: &lt;<a href="msg00171.html">ed1da454416e.416eed1da454@wiscmail.wisc.edu</a>&gt;&lt;<a href="msg00177.html">441AF9C3.9050005@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Ansley 
Thank you for your reply. 
Right now, I understand the curvature of earth gives the difficulty for
this problem. 

I would like to know what is the right way to calculate the
streamfunction using Kessler's script
(<a  href="http://ferret.pmel.noaa.gov/Ferret/Mail_Archives/fu_2002/msg00155.html">http://ferret.pmel.noaa.gov/Ferret/Mail_Archives/fu_2002/msg00155.html</a>)
Mathematically, the solution (Psi = Int{y0:y}u dy - Int{x_0:x}v(x,y_0)
dx) is perfect, but in Ferret, because it could not support swapping
integral and differential, I could not reproduce v using -d(Psi)/dx
Best regards

Feng He 
Center for Climate Research
Atmospheric and Oceanic Sciences
University of Wisconsin - Madison

----- Original Message -----
From: Ansley Manke &lt;Ansley.B.Manke@noaa.gov&gt;
Date: Friday, March 17, 2006 10:02 am
Subject: Re: [ferret_users] Why does ferret fail to support swapping
integral and differential?
To: FENG HE &lt;fenghe@wisc.edu&gt;
Cc: oar.pmel.ferret_users@noaa.gov

&gt; Hi Feng,
&gt; Thank you for sending a clear example.
&gt; 
&gt; This turns out to be because derivatives and integrals on fields in 
&gt; latitude and longitude are done in units of meters on the earth, 
&gt; rather 
&gt; than degrees latitude and longitude. The fact that degrees of 
&gt; longitude 
&gt; are not a constant length over the earth means that the 
&gt; computations are 
&gt; not linear. Try this case, where the numbers may be easier to 
&gt; interpret.
&gt;   yes? use coads_climatology
&gt;   yes? set reg/x=1:3/y=51:55/L=1
&gt; 
&gt;   yes? let uu_ddb = uu[x=@ddb]
&gt;   yes? let uu_ddb_iin = uu_ddb[y=@iin]
&gt;   yes? let uu_iin = uu[y=@iin]
&gt;   yes? let uu_iin_ddb = uu_iin[x=@ddb]
&gt; 
&gt;    ! Define a function with simple integer values
&gt; 
&gt;   yes? let uu = x[gx=uwnd] + y[gy=uwnd]
&gt;   yes? list uu
&gt; 
&gt;    ! Set the axes so they are NOT in units of degrees
&gt;    ! longitude and latitude.
&gt; 
&gt;   yes? set axis/units=&quot; &quot; coadsx
&gt;   yes? set axis/units=&quot; &quot; coadsy
&gt; 
&gt;    ! The results are as you would expect.
&gt; 
&gt;   yes? list uu_ddb
&gt;   yes? list uu_iin
&gt;   yes? list uu_ddb_iin
&gt;   yes? list uu_iin_ddb
&gt; 
&gt; 
&gt; 

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00209" href="msg00209.html">Re: [ferret_users] Why does ferret fail to support swapping integraland differential?</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00179" href="msg00179.html">[ferret_users] how to fill using ASCII data</a></strong>
<ul><li><em>From:</em> Wendy Wang</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00171" href="msg00171.html">[ferret_users] Why does ferret fail to support swapping integral and differential?</a></strong>
<ul><li><em>From:</em> FENG HE</li></ul></li>
<li><strong><a name="00177" href="msg00177.html">Re: [ferret_users] Why does ferret fail to support swapping integraland differential?</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00177.html">Re: [ferret_users] Why does ferret fail to support swapping integraland differential?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00179.html">[ferret_users] how to fill using ASCII data</a></strong>
</li>

</UL>
<center>[<a href="msg00177.html">Thread Prev</a>][<a href="msg00179.html">Thread Next</a>][<A HREF="threads.html#00178">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
