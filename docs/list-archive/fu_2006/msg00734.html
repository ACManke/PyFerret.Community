<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: [ferret_users] Plotting curvilinear vectors -->
<!--X-From-R13: thvzbaqNpbncf.sfh.rqh -->
<!--X-Date: Mon, 20 Nov 2006 13:08:55 &#45;0800 -->
<!--X-Message-Id: 20061120150627.wfnlwpnfisw8w04g@webmail.fsu.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20061118222415.ofjt98285goss00g@webmail.fsu.edu -->
<!--X-Reference: 91DFB434&#45;4347&#45;439B&#45;9DED&#45;35403B00ED0B@noaa.gov -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: [ferret_users] Plotting curvilinear vectors</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00731.html">Thread Prev</a>][<a href="msg00740.html">Thread Next</a>][<A HREF="threads.html#00734">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Plotting curvilinear vectors</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;E. D. (Ned) Cokelet&quot; &lt;<a href="mailto:Edward.D.Cokelet@DOMAIN.HIDDEN">Edward.D.Cokelet@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Plotting curvilinear vectors</strong></li>
<li><strong>From</strong>: <strong><a href="mailto:guimond@DOMAIN.HIDDEN">guimond@xxxxxxxxxxxxx</a></strong></li>
<li>Date: Mon, 20 Nov 2006 15:06:27 -0500</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00731.html">91DFB434-4347-439B-9DED-35403B00ED0B@noaa.gov</a>&gt;</li>
<li>References: &lt;<a href="msg00726.html">20061118222415.ofjt98285goss00g@webmail.fsu.edu</a>&gt;&lt;<a href="msg00731.html">91DFB434-4347-439B-9DED-35403B00ED0B@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
<li>User-agent: Internet Messaging Program (IMP) H3 (4.0.4)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hello Ned,<br>
 Thank you for your response.  I had a go with &quot;poly_vector.jnl&quot;, but 
there is something wrong with the plot.  My winds are not on a regular 
grid, but rather scattered, such as satellite data. I tried this:<br>
<br>
file/var=&quot;lat,lon,u,v&quot; fort.8  !a listing of lat,lon,u,v<br>
<br>
go basemap x=280:310 y=20:40 5<br>
<br>
go poly_vectors lon lat u v 10 &quot;arrow&quot;  !randomly chose 10 for scale<br>
<br>
polygon/overlay/noax/nolab/line plt_x_arrow,plt_y_arrow  !no fill, just 
vectors<br>
<br>
This appears:<br>
<br>
*** NOTE: Ambiguous axes in 2D coordinate arrays<br>
*** NOTE: Continuing as /COORD_AX=Y<br>
<br>
I tried making a 2-d array of lat,lon,u,v, but I still get this message 
and the plot is still not right.  Any suggestions?  I am able to get 
the right plot with &quot;plot_vectors.jnl&quot; from Patrick Brockman, but don't 
know how to implement the key.<br>
<br>
<br>
Thanks,<br>
Steve<br>
<br>
<br>
<br>
Quoting &quot;E. D. (Ned) Cokelet&quot; &lt;Edward.D.Cokelet@noaa.gov&gt;:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">I think that the Ferret vectors are wrong because they were written  
with the idea that the entire vector - tail location, shaft length,  
arrow head and direction - should be transformed in your coordinate  
transformation.  That is invalid.  The only thing the should be  
mapped is the tail locations.  The shaft length and  arrowhead should 
 not be transformed.  That leaves the direction which is a bit  
trickier.  I wrote a journal script that Ansley has made available to 
 the community called poly_vector.jnl.   It works with the various  
Ferret map projections, e.g. Mercator, etc, gets the directions right 
 and lets you scale the vector lengths.  If you can use one of those  
for your curvilinear mapping, or make up a new mapping transform that 
 follows their style, then you should be able to map vectors 
correctly  with the new script.  Billy Kessler has modified this a 
bit to give  better arrowheads when the arrows get really short.  I 
am not sure if  that is implemented community-wide yet.<br>
------------------------------------------------------------------------ 
------------------<br>
Edward D. (Ned) Cokelet, Ph.D.		Oceanographer<br>
NOAA/PMEL						off:  (206) 526-6820<br>
7600 Sand Point Way NE			fax: (206) 526-6485<br>
Seattle, WA 98115-6439<br>
<br>
Edward.D.Cokelet@noaa.gov<br>
<br>
The contents of this message are mine personally and do not  
necessarily reflect any position of the Government or the National  
Oceanic and Atmospheric Administration.<br>
<br>
<br>
<br>
<br>
<br>
</blockquote><pre>


----------------------------------------------------------------


</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00741" href="msg00741.html">Re: [ferret_users] Plotting curvilinear vectors</a></strong>
<ul><li><em>From:</em> E. D. (Ned) Cokelet</li></ul></li>
<li><strong><a name="00740" href="msg00740.html">Re: [ferret_users] Plotting curvilinear vectors</a></strong>
<ul><li><em>From:</em> E. D. (Ned) Cokelet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00726" href="msg00726.html">[ferret_users] Plotting curvilinear vectors</a></strong>
<ul><li><em>From:</em> Stephen R. Guimond</li></ul></li>
<li><strong><a name="00731" href="msg00731.html">Re: [ferret_users] Plotting curvilinear vectors</a></strong>
<ul><li><em>From:</em> E. D. (Ned) Cokelet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00731.html">Re: [ferret_users] Plotting curvilinear vectors</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00740.html">Re: [ferret_users] Plotting curvilinear vectors</a></strong>
</li>

</UL>
<center>[<a href="msg00731.html">Thread Prev</a>][<a href="msg00740.html">Thread Next</a>][<A HREF="threads.html#00734">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
