<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: [ferret_users] undesirable missing_value -->
<!--X-From-R13: [negva Epuzvqg <zfpuzvqgNvb&#45;jnearzhraqr.qr> -->
<!--X-Date: Fri, 10 Feb 2006 00:38:57 &#45;0800 -->
<!--X-Message-Id: 200602100838.k1A8c3114866@phy&#45;33.io&#45;warnemuende.de -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: [ferret_users] undesirable missing_value</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00092.html">Thread Prev</a>][<a href="msg00097.html">Thread Next</a>][<A HREF="threads.html#00094">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] undesirable missing_value</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>, <a href="mailto:climater@DOMAIN.HIDDEN">climater@xxxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] undesirable missing_value</strong></li>
<li><strong>From</strong>: <strong>Martin Schmidt &lt;<a href="mailto:mschmidt@DOMAIN.HIDDEN">mschmidt@xxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 10 Feb 2006 09:38:03 +0100</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi David,

the operation

list/x=140w/y=0 temp, newtemp

limits the region of temp and newtemp. Hence temp[x=@ave,y=@ave]
gets a different meaning. This is often not taken into account.
Please note also, that temp is defined at x=140.5 and x=139.5. So some
interpolation is done here.

What helps.

- save newtemp to a new file. 

save/clobber/file=newtemp.nc newtemp

- delete the variable newtemp

cancel var newtemp

- get the complete set newtemp from newtemp.nc

use newtemp.nc
list/x=140w/y=0 temp[d=1], newtemp   ! testing

It should be now, what you expect. 

My experience with ferret is the following: Doing things with
averaging, filling or shift operation and applying some
regional limits later gives unexpected results. These are not
errors but is a &quot;misunderstanding&quot; between user and ferret. 
Ferret executes commands, when output is required. When you
define newtemp about nothing happens. In matlab the field would
be generated, ferret says &quot;yessir - understood&quot; and waits what 
really is to do and is so much faster in many cases. If you list
newtemp at x=140w and y=0 ferret executes the commands defined
previously only for a small region around x=140w. If you
really want the average over all x and y you have to tell ferret
to execute this. Saving to a file does exactly this. Making
a figure with &quot;shade&quot; also. However, issuing the list command later,
ferret gets &quot;oops, the same again, but now only for x=140w and y=0.&quot;

One could try to &quot;think like ferret&quot;. However, a saver way is to save complete
intermediate variables to intermediate files, remove the variable definition
and to read data from file. This &quot;stores&quot; the ferret results.
This seems to  be slower and expensive in compute power but is save and there is no need
for error search. Finally one gets the desired result much faster.

Regards,
Martin Schmidt

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00098" href="msg00098.html">Re: [ferret_users] undesirable missing_value</a></strong>
<ul><li><em>From:</em> Andrew Wittenberg</li></ul></li>
<li><strong><a name="00097" href="msg00097.html">Re: [ferret_users] undesirable missing_value</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00092.html">Re: [ferret_users] undesirable missing_value</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00097.html">Re: [ferret_users] undesirable missing_value</a></strong>
</li>

</UL>
<center>[<a href="msg00092.html">Thread Prev</a>][<a href="msg00097.html">Thread Next</a>][<A HREF="threads.html#00094">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
