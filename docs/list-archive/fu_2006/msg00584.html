<!-- MHonArc v2.5.13 -->
<!--X-Subject: [ferret_users] spatial regridding -->
<!--X-From-R13: Szvyvr Hnailir <inailirNnfge.hpy.np.or> -->
<!--X-Date: Mon, 18 Sep 2006 07:52:59 &#45;0700 -->
<!--X-Message-Id: 7AC3CE39&#45;F8B1&#45;4A72&#45;86B5&#45;558C648CC161@astr.ucl.ac.be -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>[ferret_users] spatial regridding</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00582.html">Thread Prev</a>][<a href="msg00587.html">Thread Next</a>][<A HREF="threads.html#00584">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] spatial regridding</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] spatial regridding</strong></li>
<li><strong>From</strong>: <strong>Emilie Vanvyve &lt;<a href="mailto:vanvyve@DOMAIN.HIDDEN">vanvyve@xxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 18 Sep 2006 16:52:47 +0200</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi,<br>
<br>
Could anybody help me to understand how exactly Ferret computes a  
spatial average?<br>
<br>
I have a regular horizontal grid, its resolution is 40 km and I am  
trying to reduce the resolution to 80, 160 and 320 km. The initial x  
axis ranges from -2880 to 2440 km and the y axis from -2560 to 2760  
km. The coordinates of each grid box correspond to the centre of the  
box: for example, the grid box centred in (-2880, -2560) covers the  
area x=-2900:-2860 and y=-2580:-2540, i.e. a square of 1600 km2.<br>
<br>
The computation works fine and the resolution is reduced nicely&#x2014;I get  
the same using @SBX:2 or @SBX:4 or @SBX:8, with the difference that  
in the latter case the plot resolution is still 40 km.<br>
The problems arises when I try to check how Ferret did the  
computation, I get totally lost and I assume there is probably a  
trick I don't know.<br>
I know how work the time axis and that the time step must correspond  
to the middle of the average period in order to take into account the  
correct time steps. Is there something similar with the spatial axes?<br>
<br>
Here is what I do to go from the 40-km resolution to the 80-km  
resolution (initially in a script) :<br>
<br>
yes? define axis/x=-2840:2360:80/unit=km xax<br>
yes? define axis/y=-2520:2680:80/unit=km yax<br>
yes? define grid/x=xax/y=yax grd<br>
yes? let var80km = var40km[g=grd@ave]<br>
<br>
The new x and y axis are slightly shorter so that no missing points  
are found at the boundaries.<br>
What I want Ferret to do is the following. Let's zoom on 9 grid boxes:<br>
A  B  C<br>
D  E  F<br>
G  H  I<br>
<br>
In order to get the 80-km resolution, E should be replaced by: ( E +  
(D+B+F+H)/2 + (A+C+G+I)/4 ) / 4, meaning that D, B, F and H  
contributes for half of their surface, A, C, G and I for a quarter.  
When I check the values of var80km, it is not what I get. Why?<br>
<br>
Thanks very much for any idea on this!<br>
<br>
Emilie V.<br>
<br>
<br>
<br>
<br>
<br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00587" href="msg00587.html">Re: [ferret_users] spatial regridding</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00582.html">[ferret_users] shakey: number format</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00587.html">Re: [ferret_users] spatial regridding</a></strong>
</li>

</UL>
<center>[<a href="msg00582.html">Thread Prev</a>][<a href="msg00587.html">Thread Next</a>][<A HREF="threads.html#00584">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
