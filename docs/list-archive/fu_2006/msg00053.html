<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: [ferret_users] [Ferret_users] : improving the plot quality -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 31 Jan 2006 13:51:24 &#45;0800 -->
<!--X-Message-Id: 43DFDBDB.6000303@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.LNX.4.61.0602010104100.18879@caos.iisc.ernet.in -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: [ferret_users] [Ferret_users] : improving the plot quality</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00052.html">Thread Prev</a>][<a href="msg00054.html">Thread Next</a>][<A HREF="threads.html#00053">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] [Ferret_users] : improving the plot quality</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Jaison Kurian &lt;<a href="mailto:jaison@DOMAIN.HIDDEN">jaison@xxxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] [Ferret_users] : improving the plot quality</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 31 Jan 2006 13:51:23 -0800</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00052.html">Pine.LNX.4.61.0602010104100.18879@caos.iisc.ernet.in</a>&gt;</li>
<li>References: &lt;<a href="msg00052.html">Pine.LNX.4.61.0602010104100.18879@caos.iisc.ernet.in</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
<li>User-agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi Jaison,<br>
Thank you for this list.  We always want to know when there are either 
bugs or things that are inconsistent or annoying to users, particularly 
long-term users like you.  I'll put in my quick responses to some of 
these here, inserted into your list, and we'll look into some of the 
others as time allows.<br>
<br>
For some of your comments, especially about the details of fonts and 
labels, some users have found that they prefer to use a graphics program 
for fine-tuning once the final plot is made, as a final step before 
publication. We're aware that the fonts and some of the controls for 
contouring and labelling are difficult and it's not always possible 
within Ferret commands to get just exactly what you'd want.<br>
<br>
Ansley<br>
<br>
<br>
Jaison Kurian wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre>Hi,
    I am using Ferret for last few years and occationally runs
into problems as the ones listed below, while making plots.
During this period Ferret got many updates and i think in
the plot making/quality side there wasn't much improvement.
I am sure that Ferret is a powerfull and easy to use tool
for data analysis but the plot quality (see No.10 below) as
well as the ease to make plots are of important concern.

  This is a request to the developer team. Please have a look at
the problems listed below (please correct me if i am wrong
anywhere). Hope that these problems can be fixed in coming
version/s of Ferret.

Thanks &amp; Regards

Jaison

---------------------------------------------------------------------
 1. ppl pen,0,7 ; shade/i=1:10/j=1:8 i+j  ---------- (1)
    ppl pen,0,7 ; fill/i=1:10/j=1:8 i+j   ---------- (2)

       (1) gives bold lines/markings for main plot and the color
       key. But (2) gives the normal color key (the lines and
       labels are in the default thickness) ...why ??
</pre>
</blockquote>
This is a bug, the labels on the color key for the FILL plot are not 
bold. It's already on our bug list - a workaround is to do 
fill/color=7/i=1:10/j=1:8 i+j<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre>
 2. PPL PEN, 0, 7 --&gt; given bold line for the plot axes and thick
       thick axes labels. But how to control them independently ?
</pre>
</blockquote>
There is not a syntax to control these independently.  If you wanted 
bold axis lines but regular labels, you could do the trick of overlaying 
two identical viewports:<br>
<br>
define viewport/x=0:1/y=0:1 v1<br>
define viewport/x=0:1/y=0:1 v2<br>
set view v1; fill/i=1:10/j=1:8 i+j<br>
set view v2; fill/nolab/set/i=1:10/j=1:8 i+j<br>
 ppl axlabp,0,0<br>
 ppl pen,0,7<br>
 ppl fill<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><br>
 3. When the contours for very fine resolution datasets (for example<br>
       TMI SST) are plotted in small viewports, it will not have<br>
       proper labels anywhere if the field is not smooth (i mean when<br>
       the contours are like saw-tooth instead of a smooth line)..<br>
       there is no point in tuning the parameters like /SPACING. The<br>
       &quot;CONSET&quot; command is also useless during these situations.<br>
       /SIGDIG also not effective !!<br>
<br>
       THERE SHOULD BE SOME BETTER WAY TO CONTROL THE CONTOUR<br>
       LABELLING !!! 
</blockquote><pre>
</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><br>
4. Increasing the font thickness for contour labels using /SIZE<br>
       qualifier leads to disappearance of labels !!! There should be<br>
       some efficient way to control this. 
</blockquote><pre>
This should be possible to fix.

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre> 5. The default 'greyscale' paletts have the white end as &quot;95 95 95&quot;.
       For a case in which only lower/higher few values are shaded
       (eg. SSTs &gt; 28^oC), then the white edge is too difficult to
       distinguish. A better choice will be &quot;85 85 85&quot;

</pre>
</blockquote>I think for this one, the solution is to have one's own custom palette.  
When overlaying a grey palette over another color palette, for instance, 
having the white end look really white is what's desired.<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre> 6. &quot;fill/line&quot; will not work if this command have a /set qualifier
      (and is followed by ppl fill).
</pre>
</blockquote>
True.  I'll add this to our bug list.  Note that you can get around this 
by adding a contour/overlay/lev/nolab  command after the PPL FILL<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre> 7. For labelling the plots (inside) as &quot;(a)&quot;, &quot;(b)&quot;, &quot;(c)&quot;...etc,
       we can use label command. What will do to change the
       background color of this label (only), if it is not clearly
       visible ? (please dont tell me to define another viewport
       and write inside that !!!)
</pre>
</blockquote><pre>
</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre> 8. Sometimes (especially with large datasets) Ferret issues wrong
       warning message

       *ERROR: insufficient memory: 247831716 words were requested.
       *** NOTE: You can use SET MEMORY/SIZE=xxx to increase memory.
       *** NOTE: The &quot;Memory use&quot; section of the FERRET Users Guide
            has further tips.

       instead of

       **ERROR: dimensions improperly specified: must be a 2D region

       if dimentions are not specified properly. This should be
       corrected.

</pre>
</blockquote>I'd have to see an example of this one. We haven't had it reported 
before.  If the dataset is not standard in some way, one certainly can 
get unexpected results or a misleading error message.  If the dimensions 
are not specified properly, sometimes you can use DEFINE AXIS commands 
to fix the definitions so that the dataset is then read correctly.  Look 
at the output of the unix command ncdump -h filename.nc, and compare it 
with the output of Ferret commands SHOW DATA, SHOW GRID varname, SHOW 
AXIS axisname,  to see what the trouble is.<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre> 9. Sometimes &quot;go land&quot; will lead to an extraline outside the plot
       area and we need to adjust the /hlimits slighly to get rid
       of this extra line (<a  href="http://ferret.pmel.noaa.gov/Ferret/">http://ferret.pmel.noaa.gov/Ferret/</a>
       Mail_Archives/fu_2005/msg01071.html)
</pre>
</blockquote>
That's a bug - I've put it on our list. 
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre>
 10. Does it is possible to improve the line quality of Ferret plots?
       In most situations the small dashes with makes up the contour
       line or tail of the arrow is clearly distinguishable and kills
       the neatness of the plot:

           define axis/z=0:100:5/depth zax
           let var = randu(z[gz=zax])
           plot var
</pre>
</blockquote>
This slightly jagged character of lines seems to be a property of the 
underlying graphics.  The graphics calls do nothing but move to a 
location, draw to the next location, and so on.  I see it whether I make 
gif files or postscript, so I don't see a way to resolve this one. 
You'll see the same kind of thing if you open up a PC &quot;paint&quot; program 
and draw straight diagonal lines.)<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre>
 11. The same font size will give bigger letters in big viewport and
       smaller letters in small viewport. I think this scaling
       demands additional effort to get the correct visible/readable
       font size whenever the viewport size is changed.

 12. I think the most painfull task with ferret is to label a plot
       with time axis. I prefer to use label/nouser in this kind of
       situations but the coordinates to label/nouser also depends
       on viewport size. Hence a Ferret plot can be finalyzed only
       after quiet a number of trials.

 13. Few of the PPL commands are stand alone but some should be given
       between the main action command with /SET qualifier and
       &quot;PPL FILL&quot; or &quot;PPL PLOT&quot;. In user guide, i think it will be
       better to mension clearly wether a particular PPL command
       belongs to stand alone catogory or the other one.
</pre>
</blockquote>
I agree this is a confusing issue - some of the PPL commands have 
effects that persist through a session until they're reset, and others 
are reset to the default after each plot command.  I'll<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre>-------------------------------------------------------------------------

</pre>
</blockquote>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00052" href="msg00052.html">[ferret_users] [Ferret_users] : improving the plot quality</a></strong>
<ul><li><em>From:</em> Jaison Kurian</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00052.html">[ferret_users] [Ferret_users] : improving the plot quality</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00054.html">[ferret_users] Re: [Ferret_users] : increase font size on tick labels</a></strong>
</li>

</UL>
<center>[<a href="msg00052.html">Thread Prev</a>][<a href="msg00054.html">Thread Next</a>][<A HREF="threads.html#00053">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
