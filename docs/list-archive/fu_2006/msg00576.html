<!-- MHonArc v2.5.13 -->
<!--X-Subject: [ferret_users] Embedded expressions and @LOC -->
<!--X-From-R13: "Egrcura D. Uhvzbaq" <thvzbaqNpbncf.sfh.rqh> -->
<!--X-Date: Tue, 12 Sep 2006 17:55:08 &#45;0700 -->
<!--X-Message-Id: 20060912205045.7gvow3cko4oookck@webmail.fsu.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>[ferret_users] Embedded expressions and @LOC</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00574.html">Thread Prev</a>][<a href="msg00579.html">Thread Next</a>][<A HREF="threads.html#00576">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] Embedded expressions and @LOC</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] Embedded expressions and @LOC</strong></li>
<li><strong>From</strong>: <strong>&quot;Stephen R. Guimond&quot; &lt;<a href="mailto:guimond@DOMAIN.HIDDEN">guimond@xxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 12 Sep 2006 20:50:45 -0400</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
<li>User-agent: Internet Messaging Program (IMP) H3 (4.0.4)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hello,<br>
 I want to find the maximum value for each time step in an array of 
data, and then find the coordinate position that the maximum value 
occurs at.  I have used a loop in a script like this:<br>
<br>
repeat/range=1:18:1/name=g (let max_val = lf[l=`g`,j=@MAX];let max_rad 
= lf[l=`g`,j=@LOC:`max_val`];say `max_val`;say `max_rad`;list/l=`g` lf)<br>
<br>
However, &quot;max_val&quot; is not finding the precise locations of my maximum 
value.  I thought this had to do with precision, so I used 
`max_val,p=-3` in the @LOC statement to specify 3 decimal places, but 
there is still a problem.  See the output below.  For output 1, the 
@LOC value should be 150, but it comes up as 149.97.  For output 2, the 
@LOC value should be 50, but it comes up &quot;bad&quot; even though it has the 
exact same number.  Any ideas??<br>
<br>
Thanks,<br>
Steve<br>
<br>
OUTPUT.....<br>
<br>
result of `max_val,p=-3` = 5.309<br>
result of @LOC = 149.97<br>
            VARIABLE : LF<br>
            FILENAME : quad_rain_trop.dat<br>
            SUBSET   : 20 points (Y)<br>
            TIME     : 01-AUG-2004 18:00<br>
50     /  1:  3.298<br>
100    /  2:  4.598<br>
150    /  3:  5.309<br>
200    /  4:  3.017<br>
250    /  5:  1.740<br>
300    /  6:  1.111<br>
350    /  7:  0.669<br>
400    /  8:  1.114<br>
450    /  9:  0.663<br>
500    / 10:  0.781<br>
550    / 11:  0.900<br>
600    / 12:  1.161<br>
650    / 13:  1.535<br>
700    / 14:  1.620<br>
750    / 15:  1.194<br>
800    / 16:  1.335<br>
850    / 17:  0.660<br>
900    / 18:  0.266<br>
950    / 19:  0.682<br>
1000   / 20:  0.547<br>
<br>
result of `max_val,p=-3` = 5.331<br>
result of @LOC = bad<br>
            VARIABLE : LF<br>
            FILENAME : quad_rain_trop.dat<br>
            SUBSET   : 20 points (Y)<br>
            TIME     : 02-AUG-2004 18:00<br>
50     /  1:  5.331<br>
100    /  2:  2.335<br>
150    /  3:  2.186<br>
200    /  4:  0.892<br>
250    /  5:  0.329<br>
300    /  6:  0.778<br>
350    /  7:  1.785<br>
400    /  8:  1.896<br>
450    /  9:  1.289<br>
500    / 10:  0.792<br>
550    / 11:  1.213<br>
600    / 12:  1.934<br>
650    / 13:  1.697<br>
700    / 14:  0.743<br>
750    / 15:  0.828<br>
800    / 16:  0.818<br>
850    / 17:  0.999<br>
900    / 18:  1.374<br>
950    / 19:  1.599<br>
1000   / 20:  2.458<br>
<br>
<br>
=======================================================<br>
Stephen R. Guimond<br>
Graduate Research Assistant<br>
Center for Ocean-Atmospheric Prediction Studies (COAPS)<br>
Tallahassee, FL 32304<br>
=======================================================<br>
<br>
----------------------------------------------------------------<br>
<br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00579" href="msg00579.html">Re: [ferret_users] Embedded expressions and @LOC</a></strong>
<ul><li><em>From:</em> Jaison Kurian</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00574.html">[ferret_users] impossible to append a variable to a netcdf</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00579.html">Re: [ferret_users] Embedded expressions and @LOC</a></strong>
</li>

</UL>
<center>[<a href="msg00574.html">Thread Prev</a>][<a href="msg00579.html">Thread Next</a>][<A HREF="threads.html#00576">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
