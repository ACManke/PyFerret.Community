<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Monthly and annual mean time series plot from amulti&#45;year data file. -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Thu, 27 May 2010 09:20:47 &#45;0700 -->
<!--X-Message-Id: 4BFE9BDB.6090705@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 39513.10.3.100.148.1274830598.squirrel@coral.iitkgp.ernet.in -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Monthly and annual mean time series plot from amulti-year data file.</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00331.html">Thread Prev</a>][<a href="msg00332.html">Thread Next</a>][<A HREF="threads.html#00334">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Monthly and annual mean time series plot from amulti-year data file.</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;C. Shaji&quot; &lt;<a href="mailto:cshaji@DOMAIN.HIDDEN">cshaji@xxxxxxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Monthly and annual mean time series plot from amulti-year data file.</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 27 May 2010 09:20:43 -0700</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="mailto:39513.10.3.100.148.1274830598.squirrel@DOMAIN.HIDDEN">39513.10.3.100.148.1274830598.squirrel@xxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:39513.10.3.100.148.1274830598.squirrel@DOMAIN.HIDDEN">39513.10.3.100.148.1274830598.squirrel@xxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.1.9) Gecko/20100317 Thunderbird/3.0.4</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">



Hi Shaji,<br>
Here is an FAQ about annual time series:&nbsp; <b><a rel="nofollow"
 href="http://ferret.pmel.noaa.gov/FERRET_17sep07/FAQ/analysis/annual_from_monthly.html">How

can I produce a time series of annual averages (or other intervals)
from a monthly time series?</a></b><br>
<a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/FERRET_17sep07/FAQ/analysis/annual_from_monthly.html">http://ferret.pmel.noaa.gov/FERRET_17sep07/FAQ/analysis/annual_from_monthly.html</a><br>
<br>
Ansley<br>
<br>
On 5/25/2010 4:36 PM, C. Shaji wrote:
<blockquote
 cite=""
 type="cite">
  <pre wrap="">Dear Ansley and Izidine,
Thanks a lot for both of your suggestions.

I could almost get the plot except the annual mean field. Hence I need
some help on that.

Please see below the commands I have used.
-----------------------------------------------------------
yes? use sst_mon_81_07.nc

yes? show data
     currently SET data sets:
    1&gt; /users/cshaji/NOW/sst_mon_81_07.nc  (default)
 name     title                             I         J         K         L
 SST      ** monthly from december 1981 (  1:360     1:180     1:1      
1:311

!Get the climatological axis we want to use
!------------------------------------
yes? USE climatological_axes
 *** NOTE: regarding /usr/local/ferret/go/climatological_axes.cdf ...
 *** NOTE: Climatological axes SEASONAL_REG, MONTH_REG, MONTH_IRREG,
MONTH_GREGORIAN, MONTH_NOLEAP, MONTH_360_DAY  defined

yes? CANCEL DATA climatological_axes

!Define monthly SST for the region &amp; period of interest
!------------------------------------
yes? let sst_area_avg=sst[x=30:78@ave,y=5:31@ave]
yes? let sst_of_interest=sst_area_avg[T=1-jan-1982:31-dec-2006]

!Define monthly SST climatology for the region &amp; period of interest
!------------------------------------
yes? let sst_mon_clm  = sst_area_avg[GT=month_reg@MOD]
yes?  let sst_of_interest_clm=sst_mon_clm[T=1-jan-1982:31-dec-2006]

!Time series plot of sst monthly &amp; monthly climatology
!------------------------------------
yes? plot sst_of_interest
yes? plot/overlay sst_of_interest_clm
-----------------------------------------------------------

I also attach the figure I am getting along with this email.

In the same figure I would like to have the annual mean SST of each year
also plotted (a curve connecting all 25 SST values).

I could not understand the steps how to do this. Can you please give me
some suggestions in this?

Also how can I get the 3-months running mean SST also plotted in the same
time seris plot?

Thanks in advance,

Shaji.

On Tue, May 25, 2010 9:50 pm, Ansley Manke said:
  </pre>
  <blockquote type="cite">
    <pre wrap="">Hi -
A good way to find things in the Ferret Users Guide is to load the Index
into your browser,
<a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/index-1">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/index-1</a>
and search for the words you want in there.

To do an average in X and Y, look at the index entry "average,
transformation @AVE", where there are examples of the kind of thing you
want to do.

For making an annual mean from data on a monthly time axis, you will
define a time axis with units of a year, and use a regridding
transformation to put your area-averaged variable onto that new time
axis. You could use viewports to show both the monthly and yearly time
series together (set view upper; plot monthly_variable; set view lower;
plot yearly_variable).  I'll let you work out the details and if you
have questions once you've made a start, please feel free to write back
to the list.

Ansley

On 5/24/2010 1:50 PM, C. Shaji wrote:
    </pre>
    <blockquote type="cite">
      <pre wrap="">Dear all,
I am interested to get a time series plot of monthly and annual mean SST
using multi-year SST field. There is only one data file conatining all
time levels data.

Please see the data info below.

yes? show grid
  Default grid for DEFINE VARIABLE is ABSTRACT
  Last successful data access was on grid GEU1
     GRID GEU1
  name       axis              # pts   start                end
  LON       LONGITUDE          360mr   0.5E                 0.5W
  LAT       LATITUDE           180 r   89.5S                89.5N
  LEV       HEIGHT (millib       1 r-  1                    1
  TIME      TIME               311 i   01-DEC-1981 00:00    01-OCT-2007
00:00
yes? show data
      currently SET data sets:
     1&gt;  /users/cshaji/NOW/sst_mon_81_07.nc  (default)
  name     title                             I         J         K
  L
  SST      ** monthly from december 1981 (  1:360     1:180     1:1
1:311

First I want to get an area (x=30E:78E,y=5N:31N) average of SST. Then
plot
the time series of the area-averaged monthly as well as annual mean SST
for the time period from l=2 to l=301 only (covering January 1982 to
December 2006) in the same figure window.

I could not find any demonstration on this.

I would highly appreciate if somebody please give me some suggestions.

Thanks in advance

Shaji.


      </pre>
    </blockquote>
    <pre wrap="">
    </pre>
  </blockquote>
</blockquote>


</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00331" href="msg00331.html">Re: [ferret_users] Monthly and annual mean time series plot from amulti-year data file.</a></strong>
<ul><li><em>From:</em> C. Shaji</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00331.html">Re: [ferret_users] Monthly and annual mean time series plot from amulti-year data file.</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00332.html">[ferret_users] code to convert .nc file to ASCII files</a></strong>
</li>

</UL>
<center>[<a href="msg00331.html">Thread Prev</a>][<a href="msg00332.html">Thread Next</a>][<A HREF="threads.html#00334">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
