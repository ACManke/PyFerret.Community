<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] How to fix error in reading hdf data? -->
<!--X-From-R13: pfunwvNpbeny.vvgxtc.rearg.va -->
<!--X-Date: Wed, 24 Nov 2010 11:01:39 &#45;0800 -->
<!--X-Message-Id: 1075198414.322.1290625144349.JavaMail.root@mailstore1.iitkgp.ac.in -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: AANLkTikCtZGgcZqUq52cro4yHRjNt8LVwwZs9jAPmDyB@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] How to fix error in reading hdf data?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00722.html">Thread Prev</a>][<a href="msg00725.html">Thread Next</a>][<A HREF="threads.html#00723">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] How to fix error in reading hdf data?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Antonio Rodr&#xED;guez &lt;<a href="mailto:antonio.raju@DOMAIN.HIDDEN">antonio.raju@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] How to fix error in reading hdf data?</strong></li>
<li><strong>From</strong>: <strong><a href="mailto:cshaji@DOMAIN.HIDDEN">cshaji@xxxxxxxxxxxxxxxxxxxxx</a></strong></li>
<li>Date: Thu, 25 Nov 2010 00:29:04 +0530 (IST)</li>
<li>Cc: Yogesh Tiwari &lt;<a href="mailto:yogesh.mpi@DOMAIN.HIDDEN">yogesh.mpi@xxxxxxxxxxxxxx</a>&gt;,        Ferret mailing list &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;,        Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="mailto:AANLkTikCtZGgcZqUq52cro4yHRjNt8LVwwZs9jAPmDyB@DOMAIN.HIDDEN">AANLkTikCtZGgcZqUq52cro4yHRjNt8LVwwZs9jAPmDyB@xxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Dear Ansley &amp; All:
Nice to see all the discussions regarding reading hdf data file.
Please note that I have taken my data file from the following URL. 

<a  rel="nofollow" href="ftp://podaac.jpl.nasa.gov/pub/sea_surface_temperature/avhrr/pathfinder/data_v5/monthly/night/04km/1985/bsst/">ftp://podaac.jpl.nasa.gov/pub/sea_surface_temperature/avhrr/pathfinder/data_v5/monthly/night/04km/1985/bsst/</a>

I downloaded the following file and tried it in my 64-bit linux running machine having Ferret version 6.64.
-rw-r--r--    1 ftp      ftp       7165044 Jun 15  2009 198501.s04m1pfv50-bsst-16b.hdf
But I ended up with the following error. I understand that this is hdf version 4.

[cshaji@circulation dataver5]$ ferret
        NOAA/PMEL TMAP
        FERRET v6.64  
        Linux(gfortran) 2.6.9-89.0.20.ELsmp - 09/16/10
        25-Nov-10 11:25     

yes? use 198501.s04m1pfv50-bsst-16b.hdf
 **netCDF error
             Attempt to use feature that was not turned on when netCDF was built. (OPeNDAP/netCDF Error code -128)
             Data set: ./198501.s04m1pfv50-bsst-16b.hdf

I will also follow your suggestions in reading hdf 4 file in Ferret 6.64.

Best regards

Shaji.

----- Original Message -----
Hi Ansley, 

I used this other link (seems the wrong one) : 

<a  rel="nofollow" href="http://www.hdfgroup.org/hdf-java-html/samples/">http://www.hdfgroup.org/hdf-java-html/samples/</a> 

Yes, yours works fine. Anyway, I will follow your advice and take a look on the TDS server. I will love to read the modis data (oceancolour) directly into ferret. 

Best regards, and thanks! 

Antonio 


2010/11/24 Ansley Manke &lt; Ansley.B.Manke@xxxxxxxx &gt; 



Hi Antonio, 
Which files are you trying? I downloaded some files from www.hdfgroup.org , from the first and second links here, 

<a  rel="nofollow" href="http://www.hdfgroup.org/HDF5/hdf5-files.html">http://www.hdfgroup.org/HDF5/hdf5-files.html</a> 





and they open successfully with Ferret v6.6 and higher (both our 64-bit and 32-bit executables) 



NOAA/PMEL TMAP 
FERRET v6.64 
Linux rh5 (gfortran) 2.6.18-164.11.1.el5 - 09/09/10 
24-Nov-10 09:48 

yes? use h5ex_d_compact.h5 
yes? show data 
currently SET data sets: 
1&gt; ./h5ex_d_compact.h5 (default) 
name title I J K L 
DS1 1:7 1:4 ... ... 

yes? list ds1 
VARIABLE : DS1 
FILENAME : h5ex_d_compact.h5 
SUBSET : 7 by 4 points (X-Y) 
1 2 3 4 5 6 7 
1 2 3 4 5 6 7 
1 / 1: 0.00 -1.00 -2.00 -3.00 -4.00 -5.00 -6.00 
2 / 2: 0.00 0.00 0.00 0.00 0.00 0.00 0.00 
3 / 3: 0.00 1.00 2.00 3.00 4.00 5.00 6.00 
4 / 4: 0.00 2.00 4.00 6.00 8.00 10.00 12.00 

For hdf4 files, there is a possible roundabout solution which is to install a TDS server, put your files there, and then ferret could read them via their thredds URL. This is something I have done, and it's not too difficult. The software and instructions are here, 
<a  rel="nofollow" href="http://www.unidata.ucar.edu/projects/THREDDS/">http://www.unidata.ucar.edu/projects/THREDDS/</a> 


On 11/24/2010 8:48 AM, Antonio Rodr&#xED;guez wrote: 

Hi, 

I've found very frustrating the task of reading a hdf file in ferret (v6.64). I've tried with samples from the hdfgroupc but with any of them I get the same message: 




**netCDF error 
Attempt to use feature that was not turned on when netCDF was built. (OPeNDAP/netCDF Error code -128) 


or with other type of data (i.e: oceancolour datasets: modis aqua) 

I get: 

**netCDF error 
Can't open HDF5 attribute (OPeNDAP/netCDF Error code -107) 

In this last case I know that they are hdf4 so I do not complain ;-) (I tried to convert to hdf5 with h4toh5 tools, but no way) The point is that the first examples above (hdfgroup) are hdf5 files 

Do you know any hdf data source readable by ferret? Just to make a couple of tests 

Best regards! 

Antonio 


2010/11/24 Ansley Manke &lt; ansley.b.manke@xxxxxxxx &gt; 



hi- 
Well, Ferret was built with a NetCDF library that we built ourselves specifically with HDF reading enabled, and have passed the tests that are part of the process of building those libraries. But we have not had a variety of files to test with. The library reads HDF-5 files and not HDF-4. Yogesh and Shaji, do you know what version of HDF was used to write the files you are trying to use? 

Ansley 


On 11/23/2010 2:44 PM, Yogesh Tiwari wrote: 


Hi Ansley, 

I am also getting similar error as below Shaji gets. I am using ferret v6.64 on linux. 
I was trying to read hdf CO2 files from AIRS retrievals. 

Thanks, 

Regards, 
Yogesh 



On Tue, Nov 23, 2010 at 1:54 PM, &lt; cshaji@xxxxxxxxxxxxxxxxxxxxx &gt; wrote: 



Dear Ansley: 


Thanks for your above suggestion. I was in fact using Ferret version 6.2. But after getting your reply, I installed Ferret version 6.6 and tried the same hdf file. Now I get a different error with version 6.6 as follows. 

[cshaji@circulation dataver5]$ ferret 
NOAA/PMEL TMAP 
FERRET v6.64 
Linux(gfortran) 2.6.9-89.0.20.ELsmp - 09/16/10 
24-Nov-10 13:14 

yes? use &quot;/work/data/sst/dataver5/198501.s04m1pfv50-bsst-16b.hdf&quot; 
**netCDF error 
Attempt to use feature that was not turned on when netCDF was built. (OPeNDAP/netCDF Error code -128) 
Data set: /work/data/sst/dataver5/198501.s04m1pfv50-bsst-16b.hdf 

Perhaps this can this be a problem with the hdf data file itself while its creation? If so, any way to fix it? 
Please give me a reply. 

Best regards, 






On 11/23/2010 2:39 AM, cshaji@xxxxxxxxxxxxxxxxxxxxx wrote: 
&gt; Dear All: 
&gt; I am trying to read an hdf sst data file in Ferret. I get the following error. 
&gt; 
&gt; yes? use &quot;/work/data/sst/dataver5/198510.s04m1pfv50-bsst-16b.hdf&quot; 
&gt; **netCDF error 
&gt; NetCDF: Unknown file format (OPeNDAP/netCDF Error code -51) 
&gt; Data set: /work/data/sst/dataver5/198510.s04m1pfv50-bsst-16b.hdf 
&gt; 
&gt; What is Error code 51 means and how to fix it in Ferret? 
&gt; 
&gt; Can somebody give me a good suggestion? 
&gt; 
&gt; Regards 
&gt; 
&gt; Shaji. 




-- 

Yogesh K. Tiwari (Dr.rer.nat), 
Scientist, 
Centre for Climate Change Research, 
Indian Institute of Tropical Meteorology, 
Homi Bhabha Road, 
Pashan, 
Pune-411008 
INDIA 

Phone: 0091-99 2273 9513 (Cell) 
: 0091-20-25904452 (O) 
Fax : 0091-20-258 93 825 




</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00725" href="msg00725.html">Re: [ferret_users] How to fix error in reading hdf data?</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00722" href="msg00722.html">Re: [ferret_users] How to fix error in reading hdf data?</a></strong>
<ul><li><em>From:</em> Antonio Rodr&#xED;guez</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00722.html">Re: [ferret_users] How to fix error in reading hdf data?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00725.html">Re: [ferret_users] How to fix error in reading hdf data?</a></strong>
</li>

</UL>
<center>[<a href="msg00722.html">Thread Prev</a>][<a href="msg00725.html">Thread Next</a>][<A HREF="threads.html#00723">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
