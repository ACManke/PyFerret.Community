<!-- MHonArc v2.6.16 -->
<!--X-Subject: [ferret_users] Re: How to extract DJF average time series from a monthly time series? -->
<!--X-From-R13: "\"EFSSHS@ BOGZ\" \"KSDDOUG@FZO\"" <fgrriracnhyNtznvy.pbz> -->
<!--X-Date: Tue, 12 Oct 2010 23:51:06 &#45;0700 -->
<!--X-Message-Id: AANLkTikqp_98gUoeDh+HJha2a6kb5UdoxbnFG+uYzyE0@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: AANLkTi=Zgk4Xk2rB7dPwxjGr9CbiUU4uJpwNE8HUegQA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] Re: How to extract DJF average time series from a monthly time series?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00613.html">Thread Prev</a>][<a href="msg00619.html">Thread Next</a>][<A HREF="threads.html#00618">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] Re: How to extract DJF average time series from a monthly time series?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] Re: How to extract DJF average time series from a monthly time series?</strong></li>
<li><strong>From</strong>: <strong>&quot;\&quot;STEEVEN PAUL\&quot; \&quot;YERRAGUNTLA\&quot;&quot; &lt;<a href="mailto:steevenpaul@DOMAIN.HIDDEN">steevenpaul@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 13 Oct 2010 12:20:39 +0530</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:received:mime-version:received:reply-to     :in-reply-to:references:from:date:message-id:subject:to:content-type; bh=GBqQtT5UJmlPPnQdmrcCURBTtmn1NbVRZMZr4eR25MY=; b=rL9C1VmbfiipPd5kYen7/ARgI10IPEgaE+6pROdD3lIrYyh6Ak/iiv+qM8FxiYIBuO 6AVHw9QvAOat7fEQjoCvI/OmdoiOMQjXVBW778yZngvboEWqRdo3KkX0VFF0sby8+wv/ G7PLGkFRqetwEbC2PibOVQka7CwVtxJHIUTdU=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:reply-to:in-reply-to:references:from:date:message-id :subject:to:content-type; b=n9J4OD2aYaIT+aC4i7k2MY62ky5L1klimWOb8/FaKUeOWTgsrPcK0+SvUy+CEKmNwK wMqwiwyeziExWSJnUjWkuc+722U0IFeW9mUH1A1cuccIO9+BkPl2AukMtQt+qpsHtQZ/ WgUsis6kz2PviTrJHDJZkTpFUkbww3G/0I+nQ=</li>
<li>In-reply-to: &lt;<a href="mailto:AANLkTi%3DZgk4Xk2rB7dPwxjGr9CbiUU4uJpwNE8HUegQA@DOMAIN.HIDDEN">AANLkTi=Zgk4Xk2rB7dPwxjGr9CbiUU4uJpwNE8HUegQA@xxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:AANLkTi%3DZgk4Xk2rB7dPwxjGr9CbiUU4uJpwNE8HUegQA@DOMAIN.HIDDEN">AANLkTi=Zgk4Xk2rB7dPwxjGr9CbiUU4uJpwNE8HUegQA@xxxxxxxxxxxxxx</a>&gt;</li>
<li>Reply-to: <a href="mailto:steeven_paul@DOMAIN.HIDDEN">steeven_paul@xxxxxxxxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Dear ferreters,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; I could find the answer to my question from few threads in Archives.&#xA0; I got major help from the the following thread&#xA0; <a rel="nofollow" href="http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2009/msg00211.html">http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2009/msg00211.html</a> and thanks to Peter.<br>

<br>The ferret script as follows<br><br>---------------------------------------------------------<br>use SST.nc<br>!With the mod function we create a mask for all the Decembers, Januarys and Februarys.<br>let month=l[gt=sst]<br>

let DJF = if (mod(month,12) le 2) OR (mod(month,12) le 2) then 1<br><br>!Now we need to place this mask onto our data on a monthly axis.<br>let wintersst=sst[d=1]*DJF <br>list/x=60/y=15&#xA0; wintersst<br><br>!club the DJF values together<br>

<br>let sst_compr = COMPRESSL(wintersst)<br>list/x=60/y=15&#xA0; sst_compr<br><br>&#xA0;! 1870-2010 --&gt; 140 years --&gt; 140*3=420 data points<br>&#xA0;&#xA0;&#xA0;&#xA0; ! we need to average this data points in pairs of 3 to find the<br>&#xA0;&#xA0;&#xA0;&#xA0; !&#xA0; seasonal mean. Easy way is to use two abstract axes, one<br>

&#xA0;&#xA0;&#xA0;&#xA0; !&#xA0; with 33 points (ranging from 1-420) and another one with<br>&#xA0;&#xA0;&#xA0;&#xA0; !&#xA0; 11 points (ranging from 2-419) and regrid using @AVE.<br><br>!defining to abstract axes one to put the data on the time axis another is to average the DJF months<br>

<br>define axis/t=1:420:1 t420<br>let sst_djf_all = sst_compr[gt=t420@ASN]<br>list/x=60/y=15 sst_djf_all<br><br>define axis/t=2:419:3 t11<br>let sst_djf_av = sst_djf_all[gt=t11@AVE]<br><br>define axis/t=1870:2010:1/units=years tyear<br>

let sst_djf = sst_djf_av[gt=tyear@ASN]<br>list/x=60/y=15 sst_djf<br><br>set var/title=&quot;DJF sesonal mean SST&quot;/units=&quot;degC&quot; sst_djf<br><br>!saving the extracted data to a ncfile for future purpose<br><br>

sp rm -f <a rel="nofollow" href="http://sst_djf_mean.nc">sst_djf_mean.nc</a><br>save/file=<a rel="nofollow" href="http://sst_djf_mean.nc/append">sst_djf_mean.nc/append</a> sst_djf<br><br>------------------------------- END OF THE SCRIPT ---------------------------------------------------<br>

<br><br><br><br><br><div class="gmail_quote">On Mon, Oct 11, 2010 at 6:42 PM, steeven paul yerraguntla <span dir="ltr">&lt;<a rel="nofollow" href="mailto:steevenpaul@xxxxxxxxx" target="_blank">steevenpaul@xxxxxxxxx</a>&gt;</span> wrote:<br>

<blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
<font size="2">Dear ferreters,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; I want to extract the DJF months time series in the following format.<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 15-dec-1980<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 15-jan-1981<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 15-feb-1981<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 15-dec-1981<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 15-jan-1982<br>



&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 15-feb-1982<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ----<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; and so on<br>I tried to follow the examples in archives, provided by Jaison Kurian and Ansley which are for extracting JJA months and i could not get time series for DJF months though making some changes to the scripts. Hope someone will help me in this connection.&#xA0;&#xA0;&#xA0; Ansley&#39;s&#xA0; Scripts as follows<br>



--------------&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; -----------------&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ---------------------------------------&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ------------------------------------------<br></font><font size="2"><br></font>


	
	
	
	

<p style="line-height: 100%; font-family: courier new,monospace;"><font size="2" color="#000000">use monthly_navy_winds<br>


let nmon = `uwnd,return=Lend`<br>
let tt = t[t=1:`nmon`]<br>
let june = if mod(tt,12) ge 6 then tt<br>
let june_aug = if mod(june,12) le 8 then june<br>
list june_aug<br>
<br>
! The number of summer months.<br>
let nja = `june_aug[t=@ngd]`<br>
<br>
let just_summer = compressl(june_aug)<br>
list just_summer[L=1:`nja`]<br>
<br>
! Now sample the Lth point of uwnd for the summer months<br>
let uwnd_jja = samplel(uwnd,just_summer[l=1:`nja`])<br>
<br>
! Define a calendar axis containing these months.<br>
def axis/t0=&quot;`uwnd,return=t0`&quot;/units=&quot;months&quot; tsummer =
just_summer[l=1:`nja`]<br>
<br>
! Put the sampled summer data on the calendar axis<br>
let uwnd_summer = uwnd_jja[gt=tsummer@asn]<br>
list/x=180/y=0 uwnd_summer</font></p>
<font size="2">--------------------------------------------------------------- end of script --------------------------------------------------------------------------------------------------</font><br><br>Thanks in advance,<br>


<font color="#888888">
<br><br>&#xA0;<br clear="all"><br>-- <br>Steeven Paul Y<br>Research Fellow<br>NIO RC Vizag<br>176 Lawsons Bay Colony<br>Visakhapatnam - 530017<br>
</font></blockquote></div><br><br clear="all"><br>-- <br>Steeven Paul Y<br>Research Fellow<br>NIO RC Vizag<br>176 Lawsons Bay Colony<br>Visakhapatnam - 530017<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00619" href="msg00619.html">Re: [ferret_users] Re: How to extract DJF average time series from a monthly time series?</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00613" href="msg00613.html">[ferret_users] How to extract DJF average time series from a monthly time series?</a></strong>
<ul><li><em>From:</em> steeven paul yerraguntla</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00613.html">[ferret_users] How to extract DJF average time series from a monthly time series?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00619.html">Re: [ferret_users] Re: How to extract DJF average time series from a monthly time series?</a></strong>
</li>

</UL>
<center>[<a href="msg00613.html">Thread Prev</a>][<a href="msg00619.html">Thread Next</a>][<A HREF="threads.html#00618">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
