<!-- MHonArc v2.6.16 -->
<!--X-Subject: RE: [ferret_users] defining common time axis for 2 datasets with different origin/end -->
<!--X-From-R13: Jhrova.LunatNpfveb.nh -->
<!--X-Date: Wed, 1 Dec 2010 14:56:43 &#45;0800 -->
<!--X-Message-Id: D7383CD4D59FEA4DA879EF5096A5A8CB153A5C29B9@exvic&#45;mbx03.nexus.csiro.au -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4CF60938.4080303@msem.univ&#45;montp2.fr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>RE: [ferret_users] defining common time axis for 2 datasets with different origin/end</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00737.html">Thread Prev</a>][<a href="msg00743.html">Thread Next</a>][<A HREF="threads.html#00738">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: [ferret_users] defining common time axis for 2 datasets with different origin/end</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:delclaux@DOMAIN.HIDDEN">delclaux@xxxxxxxxxxxxxxxxxxx</a>, <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>RE: [ferret_users] defining common time axis for 2 datasets with different origin/end</strong></li>
<li><strong>From</strong>: <strong><a href="mailto:Xuebin.Zhang@DOMAIN.HIDDEN">Xuebin.Zhang@xxxxxxxx</a></strong></li>
<li>Date: Thu, 02 Dec 2010 09:56:31 +1100</li>
<li>Accept-language: en-US, en-AU</li>
<li>Acceptlanguage: en-US, en-AU</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=simple/simple;  d=csiro.au; <a href="mailto:i%3DXuebin.Zhang@DOMAIN.HIDDEN">i=Xuebin.Zhang@xxxxxxxx</a>; q=dns/txt;  s=email; t=1291244201; x=1322780201; h=from:to:date:subject:message-id:references:in-reply-to: content-transfer-encoding:mime-version; z=From:=20&lt;<a href="mailto:Xuebin.Zhang@DOMAIN.HIDDEN">Xuebin.Zhang@xxxxxxxx</a>&gt;|To:=20&lt;<a href="mailto:delclaux@DOMAIN.HIDDEN">delclaux@xxxxxxxx</a> v-montp2.fr&gt;,=20&lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;|Date:=20Thu,=202 =20Dec=202010=2009:56:31=20+1100|Subject:=20RE:=20[ferret _users]=20defining=20common=20time=20axis=20for=202=20dat asets=20with=0D=0A=20different=20origin/end|Message-ID: =20&lt;<a href="mailto:D7383CD4D59FEA4DA879EF5096A5A8CB153A5C29B9@DOMAIN.HIDDEN">D7383CD4D59FEA4DA879EF5096A5A8CB153A5C29B9@exvic-mbx0</a> 3.nexus.csiro.au&gt;|References:=20&lt;<a href="mailto:4CF60938.4080303@DOMAIN.HIDDEN">4CF60938.4080303@xxxxxxx</a> iv-montp2.fr&gt;|In-Reply-To:=20&lt;<a href="mailto:4CF60938.4080303@DOMAIN.HIDDEN">4CF60938.4080303@xxxxxxxxxx</a> montp2.fr&gt;|Content-Transfer-Encoding:=20quoted-printable |MIME-Version:=201.0;  bh=anpCwRFgR3JEQT4f8KsYRR//q1fJrCVKs4suqX65pAQ=; b=K+Dm+w5qMax1809+QJ7UVxPLfABJ8lfDbQNh/nLeCMEHvIQ4b3Iekfrp j+MVqvNKXQAyU1cPEb+VFgNjLAoYGY9oO7fZoyaVS03CHAOvK2yHo41OX   jp7lrXRLE09FVIq;</li>
<li>In-reply-to: &lt;<a href="mailto:4CF60938.4080303@DOMAIN.HIDDEN">4CF60938.4080303@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:4CF60938.4080303@DOMAIN.HIDDEN">4CF60938.4080303@xxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-index: AcuRNdCsLBpVyDR8Q1e0iZFOxbP0RwAcmaBQ</li>
<li>Thread-topic: [ferret_users] defining common time axis for 2 datasets with different origin/end</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Francois, 

   The second dataset starts at 16-Jan-1951, but the starting point of the new time axis &quot;gtd&quot; is 1-jan-1951, so the first data point should be &quot;missing&quot; after regridding (let p2 = pm[d=D2, gt=gtd]). The reason is that FERRET doesn't know how to extrapolate.   

   One simple solution is that you can just regrid dataset 1 onto dataset 2, i.e., 
   Let p1= pm[d=D1, gt=pm[d=2]]
   
   One more thing is that, data points are located in the beginning of each month for the first dataset, while in the middle for the second dataset. Since they are all monthly datasets, you may want to align them to the middle of month. For this purpose, you may use the &quot;@asn&quot; transformation. Basically, you have to get a subset of first dataset for the period 1951-2006, then associate this subset to a common grid with @asn transformation (without interpolation). 
   For your reference.
   
Xuebin

-----Original Message-----
From: owner-ferret_users@xxxxxxxx [<a  rel="nofollow" href="mailto:owner-ferret_users@xxxxxxxx">mailto:owner-ferret_users@xxxxxxxx</a>] On Behalf Of DELCLAUX Francois
Sent: Wednesday, 1 December 2010 7:37 PM
To: ferret_users@xxxxxxxx
Subject: [ferret_users] defining common time axis for 2 datasets with different origin/end

Hi Ferret users,

I would like to compare (bias and correlation maps) 2 monthly 
precipitation datasets.

The first one, D1, starts on 1rst january 1901 and ends on 1rst december 
2006, so 106 years and 1272 months: L varies from 1 to 1272
  01-JAN-1901 /    1:    60.
  31-JAN-1901 /    2:    10.
  03-MAR-1901 /    3:    31.
....
  01-OCT-2006 / 1270:    88.
  01-NOV-2006 / 1271:     9.
  01-DEC-2006 / 1272:    16.


The second one, D2, starts at 16 jan 1951 and ends at 16 december 2007, 
so 57 years and 684 values: L varies from 1 to 684
  16-JAN-1951 /   1:   21.4
  15-FEB-1951 /   2:    3.3
  18-MAR-1951 /   3:    7.0
...
  16-OCT-2007 / 682:   42.4
  16-NOV-2007 / 683:    2.3
  16-DEC-2007 / 684:    0.0

In order to compare D1 and D2 over the same period, I defined a common 
time axis/grid over 1951-2006 period such as :
define axis/t=&quot;1-jan-1951&quot;:&quot;31-dec-2006&quot;:30.436875/units=day axd ; 
define grid/t=axd gtd
and regrid the two datasets on this axis.

let p1 = pm[d=D1, gt=gtd]
let p2 = pm[d=D2, gt=gtd]

But when I list these new variables on one point new datasets, I have 
the following output:
                      P1     P2
01-JAN-1951 /   1:    4.0   ....
31-JAN-1951 /   2:   36.5   12.3
02-MAR-1951 /   3:   33.2    5.1
...
31-OCT-2006 / 671:   11.2   11.3
01-DEC-2006 / 672:   16.8    9.1
31-DEC-2006 / 673:   ....    8.7

Consequently, it's impossible to compare these 2 regridded datasets.
Then, how can I define the correct time axis (i.e. identical L values)  
wich will give consistent regrided datasets ?

Thanks in advance.

-- 
Francois DELCLAUX
------------------------------------------------------------
UMR HydroSciences Montpellier
Universite Montpellier II - Place Eugene Bataillon
Case courrier MSE
34095  Montpellier Cedex 5      FRANCE
<a  rel="nofollow" href="http://www.hydrosciences.fr/">http://www.hydrosciences.fr/</a>
mailto: delclaux@xxxxxxxxxxxxxxxxxxx
Tel : (33) (0)4 67 14 90 11      Fax : (33) (0)4 67 14 47 74
------------------------------------------------------------



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00743" href="msg00743.html">Re: [ferret_users] defining common time axis for 2 datasets with different origin/end</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00737" href="msg00737.html">[ferret_users] defining common time axis for 2 datasets with different origin/end</a></strong>
<ul><li><em>From:</em> DELCLAUX Francois</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00737.html">[ferret_users] defining common time axis for 2 datasets with different origin/end</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00743.html">Re: [ferret_users] defining common time axis for 2 datasets with different origin/end</a></strong>
</li>

</UL>
<center>[<a href="msg00737.html">Thread Prev</a>][<a href="msg00743.html">Thread Next</a>][<A HREF="threads.html#00738">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
