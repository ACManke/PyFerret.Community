<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] @max and @min functions -->
<!--X-From-R13: fnaqvc gvxne <fnaqvcegNtznvy.pbz> -->
<!--X-Date: Wed, 24 Mar 2010 02:12:01 &#45;0700 -->
<!--X-Message-Id: 7f8665de1003240211k22678254ldca4d2e5b512d2ae@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 7f8665de1003080347s4a0a5a0aq84b7b48eb23f2cb6@mail.gmail.com -->
<!--X-Reference: 7f8665de1003220222k94b113cof05aa40965f5f2ae@mail.gmail.com -->
<!--X-Reference: 4BA7938B.1070801@noaa.gov -->
<!--X-Reference: 201003231138.12237.russell.fiedler@csiro.au -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] @max and @min functions</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00208.html">Thread Prev</a>][<a href="msg00177.html">Thread Next</a>][<A HREF="threads.html#00215">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] @max and @min functions</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Russell Fiedler &lt;<a href="mailto:russell.fiedler@DOMAIN.HIDDEN">russell.fiedler@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] @max and @min functions</strong></li>
<li><strong>From</strong>: <strong>sandip tikar &lt;<a href="mailto:sandiprt@DOMAIN.HIDDEN">sandiprt@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 24 Mar 2010 14:41:58 +0530</li>
<li>Cc: &quot;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma; h=domainkey-signature:mime-version:received:in-reply-to:references :date:message-id:subject:from:to:cc:content-type; bh=sbEci5yIQ0d1WPGr98nlCK3q+zDk+zr1fUyjZzIv+7o=; b=Y91ltj/qUd2eEyYRMY7P9Lt+mLXW7o6aZz4Aw8LEwyedVAH2vnBNrQz/Q6Vf111crO NKmggExaYuXTNZlwoyiyu1tRIhNtb3pBApkL/pjZnqTAgQlkqTP7mQzh9IDBdzg7rzXu QYsuVYY4oohbqAoTem6Gak3vvwCY87zGfZeD8=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :cc:content-type; b=kHF7ng9Ji4/chg063GiOPEPwtyVYeLWUrlXMaIk+W1UD7YtVyN8uPHfdoumUx5j+T2 R6l5CKDUTa8kPJcaSWQHknYEvNMC53f5fpEE4i6kMhOvx/e+xjVobuRluhvuSoR7OqW/ roaevxD4a0MKUphNcZcg2NrhKg1qZ9G82RwRA=</li>
<li>In-reply-to: &lt;<a href="mailto:201003231138.12237.russell.fiedler@DOMAIN.HIDDEN">201003231138.12237.russell.fiedler@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:7f8665de1003080347s4a0a5a0aq84b7b48eb23f2cb6@DOMAIN.HIDDEN">7f8665de1003080347s4a0a5a0aq84b7b48eb23f2cb6@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:7f8665de1003220222k94b113cof05aa40965f5f2ae@DOMAIN.HIDDEN">7f8665de1003220222k94b113cof05aa40965f5f2ae@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4BA7938B.1070801@DOMAIN.HIDDEN">4BA7938B.1070801@xxxxxxxx</a>&gt; &lt;<a href="mailto:201003231138.12237.russell.fiedler@DOMAIN.HIDDEN">201003231138.12237.russell.fiedler@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Dear Russell,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; The original files (e.g. <a rel="nofollow" href="http://ocn_temp_0.nc">ocn_temp_0.nc</a>) are ok and can be read. I am using nco-3.9.5 and netcdf-3.6.2 versions. What is exactly meant by version of NCO is broken? how to overcome this broken version?<br>
<br>Thanks &amp; Regards,<br>Sandip.<br><br><br><div class="gmail_quote">On Tue, Mar 23, 2010 at 6:08 AM, Russell Fiedler <span dir="ltr">&lt;russell.fiedler@xxxxxxxx&gt;</span> wrote:<br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
Hi,<br>
<br>
Sandip&#39;s attachment indicates that he is getting ludicrous high and low values for temperature.<br>
If the original files (e.g. <a rel="nofollow" href="http://ocn_temp_0.nc" target="_blank">ocn_temp_0.nc</a> ) are ok and can be read then I would suspect that your version<br>
of NCO is broken. Otherwise it looks like whatever is generating the original files is producing rubbish<br>
(possibly not masking values correctly or using the wrong precision). Linking to an incorrect version of<br>
the netCDF library can also cause this sort of problem especially if using autopromotion to double precision.<br>
<br>
Russ<br>
<div><div></div><div class="h5"><br>
On Tuesday 23 March 2010 02:58, Ansley Manke wrote:<br>
&gt; Hi Sandip,<br>
&gt; What Ferret does &#xA0;when it reads a data field that is stored as NC_DOUBLE is to convert it to FLOAT. &#xA0;It does the conversion using a call to netCDF library, and so the error message comes from that library. The error message indicates that apparently there are values that can&#39;t be represented as FLOAT. &#xA0;The missing-value flag listed here is typical for &#xA0;data that we see. It should be representable in single-precision floating point. I can only assume that there are other values in the data field that are causing the problem<br>

&gt;<br>
&gt; temp: # dim. = 4, NC_DOUBLE, # att. = 3, ID = 3<br>
&gt; temp dimension 0: TIME, size = 12 NC_DOUBLE, dim. ID = 0 (CRD)(REC)<br>
&gt; temp dimension 1: zt, size = 1 NC_FLOAT, dim. ID = 3 (CRD)<br>
&gt; temp dimension 2: grid_y_T, size = 6 NC_FLOAT, dim. ID = 2 (CRD)<br>
&gt; temp dimension 3: grid_x_T, size = 6 NC_FLOAT, dim. ID = 1 (CRD)<br>
&gt; temp memory size is 12*1*6*6*nco_typ_lng(NC_DOUBLE) = 432*8 = 3456 bytes<br>
&gt; temp attribute 0: long_name, size = 52 NC_CHAR, value = THETA_FO(SALT_EXTRAP,TEMP_EXTRAP,Z[G=TEMP_EXTRAP],0)<br>
&gt; temp attribute 1: units, size = 7 NC_CHAR, value = nounits<br>
&gt; temp attribute 2: missing_value, size = 1 NC_DOUBLE, value = -9.99999979021e+33<br>
&gt;<br>
&gt;<br>
&gt; What version of Ferret are you running?<br>
&gt;<br>
&gt; Ansley<br>
&gt;<br>
&gt; sandip tikar wrote:<br>
&gt;<br>
&gt; Hi ,<br>
&gt; &#xA0; &#xA0;I am trying @max transformation by using<br>
&gt; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;list TEMP[I=@max,J=@max,K=@max,L=@max]<br>
&gt; &#xA0; &#xA0;but I am getting error as<br>
&gt; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;**netCDF error<br>
&gt; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;NetCDF: Numeric conversion not representable (OPeNDAP/netCDF Error code -60)<br>
&gt; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Data set: ./VL_58.nc<br>
&gt;<br>
&gt; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; After analyzing in detail, I think it can be problem because of double with an exponent too large to be represented in a float. The part of data, metadata is attached for reference. This file is generated by using ncks command.<br>

&gt; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; How should I resolve this Numeric conversion issue ?<br>
&gt;<br>
&gt; Thanks &amp; Regards,<br>
&gt; Sandip<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
</div></div><div><div></div><div class="h5">&gt; On Tue, Mar 9, 2010 at 3:39 AM, Ansley Manke &lt;<a rel="nofollow" href="mailto:Ansley.B.Manke@xxxxxxxx">Ansley.B.Manke@xxxxxxxx</a>&lt;mailto:<a rel="nofollow" href="mailto:Ansley.B.Manke@xxxxxxxx">Ansley.B.Manke@xxxxxxxx</a>&gt;&gt; wrote:<br>

&gt; Sandip,<br>
&gt; In Users&#39; Guide Index under &quot;Transformations&quot; there are links to the general information about transformations and some examples.<br>
&gt;<br>
&gt; The syntax is to list the transformations you want for each axis. &#xA0;Here are a few more examples. &#xA0;Try them out on your data-<br>
&gt; var[x=@max,y=@max,z=@max,t=@max] ! @MAX transformation over the whole range of all axes<br>
&gt; var[x=@max,y=@max,z=@max] &#xA0;! The maximum over X, Y, and Z for each time<br>
&gt; var[x=300:330@max,y=0:40@max,Z=@max,T=@max] &#xA0;! Just a sub-range on some axes.<br>
&gt; var[x=300:330@max,y=0:40@max,Z=@max,T=@AVE] ! The time average of the max over XYZ.<br>
&gt;<br>
&gt; sandip tikar wrote:<br>
&gt; Dear all,<br>
&gt; &#xA0; &#xA0; &#xA0; &#xA0; I am not familiar with ferret. I want to find maximum and minimum values in 4D variable ( with I=1:4320, J=1:2160, K=1:70, L=1:12 ) . How should I use @min and @max functions for this? I will &#xA0;also like to use @ngd and @nbd functions to get good and bad points.<br>

&gt; &#xA0; &#xA0; &#xA0; &#xA0;It will be really useful for me if someone can point to good references.<br>
&gt;<br>
&gt;<br>
&gt; Thanks &amp; Regards,<br>
&gt; Sandip.<br>
&gt;<br>
&gt;<br>
&gt;<br>
</div></div></blockquote></div><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00172" href="msg00172.html">[ferret_users] @max and @min functions</a></strong>
<ul><li><em>From:</em> sandip tikar</li></ul></li>
<li><strong><a name="00207" href="msg00207.html">Re: [ferret_users] @max and @min functions</a></strong>
<ul><li><em>From:</em> sandip tikar</li></ul></li>
<li><strong><a name="00208" href="msg00208.html">Re: [ferret_users] @max and @min functions</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00208.html">Re: [ferret_users] @max and @min functions</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00177.html">[ferret_users] Converting from one polar stereographic grid (curvilinear) to another</a></strong>
</li>

</UL>
<center>[<a href="msg00208.html">Thread Prev</a>][<a href="msg00177.html">Thread Next</a>][<A HREF="threads.html#00215">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
