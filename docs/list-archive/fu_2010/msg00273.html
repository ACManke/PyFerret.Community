<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] regriding problem -->
<!--X-From-R13: Kbtrfu Fvjnev <lbtrfu.zcvNtbbtyrznvy.pbz> -->
<!--X-Date: Mon, 3 May 2010 23:58:40 &#45;0700 -->
<!--X-Message-Id: u2j71cc5ca21005032358of6d34ebaq2619a5ab8c5ae7bd@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: w2w71cc5ca21004300409z1e4bf87ax11819d95dd89c647@mail.gmail.com -->
<!--X-Reference: 4BDB0074.3000405@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] regriding problem</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00271.html">Thread Prev</a>][<a href="msg00274.html">Thread Next</a>][<A HREF="threads.html#00273">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] regriding problem</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] regriding problem</strong></li>
<li><strong>From</strong>: <strong>Yogesh Tiwari &lt;<a href="mailto:yogesh.mpi@DOMAIN.HIDDEN">yogesh.mpi@xxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 04 May 2010 12:28:37 +0530</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=googlemail.com; s=gamma; h=domainkey-signature:mime-version:received:received:in-reply-to :references:date:message-id:subject:from:to:content-type; bh=jM59j03RgyFe97CMLa+mCFyLedGyDXN+H8nzsnSAZrQ=; b=dfM7REb/0DmHMmJZrKrXESsHysqti7+RqtKEjmK1iwnjtqsaY7fRHmwzrjhug2m2j2 Durzz2ffSvk9pHDqEWfQyVjISvJ+m1J008/uVVKyJTHS7Q/2yJ9gMffLZS5aFO8cJxQv 72GgT4yE/udaC/T5zHSoRU0tQ5Ze/qPO6Au0k=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=googlemail.com; s=gamma; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :content-type; b=m3fbcw81tPLnHX2jK4ATRqlXgU2YMZAJxvkgXM3ijPd7tnCSwYIvdFITZXxSqkI+qT OiOaTnzkhE+oHou7IzG9ojdzAAN3Zhj+59UP7bKOG6Ik8Q7vZrU/j0219h2NPpsTkOBc FXZmzqr/spafSdA5EfQfogpc4/Nz/vtr+dgN4=</li>
<li>In-reply-to: &lt;<a href="mailto:4BDB0074.3000405@DOMAIN.HIDDEN">4BDB0074.3000405@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:w2w71cc5ca21004300409z1e4bf87ax11819d95dd89c647@DOMAIN.HIDDEN">w2w71cc5ca21004300409z1e4bf87ax11819d95dd89c647@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4BDB0074.3000405@DOMAIN.HIDDEN">4BDB0074.3000405@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi Ansley,<br>Thanks, <br>I think the data is not on a curvilinear grid because the person who sent me the data<br>
mentioned that he has regridded the data onto a 1x1 degree grid with the Ferret function<br>
SCAT2GRIDGAUSS_XY(). Please let me know how I to use this?<br>
<br>
Also, when I tried the CURV_TO_RECT_MAP, this is what I get.<br>
<br>
currently SET data sets:<br>
 &#xA0; &#xA0;1&gt; ./IPSL_HIST_A2_fgCO2_1980_<div id=":9l" class="ii gt">2009_2D.nc &#xA0;(default)<br>
&#xA0;name &#xA0; &#xA0; title &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; I &#xA0; &#xA0; &#xA0; &#xA0; J &#xA0; &#xA0; &#xA0; &#xA0; K &#xA0; &#xA0; &#xA0; &#xA0; L<br>
&#xA0;FGCO2 &#xA0; &#xA0;air-to-sea CO2 flux &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;1:182 &#xA0; &#xA0; 1:149 &#xA0; &#xA0; ... &#xA0; &#xA0; &#xA0; 1:360<br>
<br>
yes? define axis/x=40:110:1/modulo/units=degrees xax<br>
yes? define axis/y=0:30:1/modulo/units=degrees yax<br>
yes? let lonlatout = y[gy=yax] + x[gx=xax]<br>
yes? let lonin = lon_fgco2[d=1]<br>
yes? let latin = lat_fgco2[d=1]<br>
yes? &#xA0;let map = curv_to_rect_map ( lonin,latin,lonlatout,0.5)<br>
yes? save/clobber/file=<a rel="nofollow" href="http://io_map.nc/" target="_blank">io_map.nc</a> map<br>
&#xA0;**ERROR: variable unknown or not in data set: LAT_FGCO2[D=1]<br>
<br>
Thanks,<br>
Aparna<br>
<div class="im"><br></div></div><br><br><div class="gmail_quote">On Fri, Apr 30, 2010 at 9:38 PM, Ansley Manke <span dir="ltr">&lt;<a rel="nofollow" href="mailto:Ansley.B.Manke@xxxxxxxx">Ansley.B.Manke@xxxxxxxx</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">


  
  

<div bgcolor="#ffffff" text="#000000">
Hi Yogesh,<br>
If I understand correctly, the model data is on the curvilinear grid
defined by the second dataset you open in your example . Is that
correct? To work with data on a curvilinear grid you can either regrid
it to a rectilinear grid using the CURV_TO_RECT_MAP and CURV_TO_RECT
functions; or to find the index ranges corresponding to
longitude/latitude regions, use the methods in this FAQ. <b><a rel="nofollow" href="http://ferret.pmel.noaa.gov/FERRET_17sep07/FAQ/custom_plots/subsetting_curvi_data.html" target="_blank"><b>How
can I plot a subset of my curvilinear data?</b></a> </b><br>
at<b> </b><a rel="nofollow" href="http://ferret.pmel.noaa.gov/FERRET_17sep07/FAQ/custom_plots/subsetting_curvi_data.html" target="_blank">http://ferret.pmel.noaa.gov/FERRET_17sep07/FAQ/custom_plots/subsetting_curvi_data.html</a><br>
<br>
Looking back, the curvilinear regridding functions became available in
Ferret v5.8, so you will have these; however there have been some more
recent improvements such as the /MODULO qualifier on the SHADE and FILL
commands so you might do well to upgrade to a more recent version of
Ferret.<br><font color="#888888">
<br>
Ansley</font><div><div></div><div class="h5"><br>
&#xA0;<br>
Yogesh Tiwari wrote:
<blockquote type="cite">Hello Ferret Users,<br>
I am using Ferret 5.81 on RedHat Linux<br>
  <br clear="all">
  <font face="Arial, Helvetica">I am trying to get output data from a
model where the results are in an irregular grid. <br>
After following the method explained below, when I try to get the
dataset for my region of <br>
interest (40E:110E/0-30N) ferret keeps looking for data in the
irregular grid. I want to <br>
plot the time series, climatology etc for the dataset in the regular
grid <br>
  <br>
use &quot;<a rel="nofollow" href="http://dods.extra.cea.fr/cgi-bin/nph" target="_blank">http://dods.extra.cea.fr/cgi-bin/nph</a>-
  <br>
dods/data/p48bopp/CARBOOCEAN/IPSL/HIST_A2/fgCO2/IPSL_HIST_A2_fgCO2_1980_2009_2D.nc&quot;
  <br>
show data <br>
fill fgCO2[x=1:182,y=1:149,l=1] <br>
use &quot;<a rel="nofollow" href="http://dods.extra.cea.fr/cgi-bin/nph-dods/data/p48bopp/CARBOOCEAN/GRID/IPSL_grid.nc" target="_blank">http://dods.extra.cea.fr/cgi-bin/nph-dods/data/p48bopp/CARBOOCEAN/GRID/IPSL_grid.nc</a>&quot;
  <br>
let lon2 = if lon gt 360 then (lon-360.) else lon <br>
shade/key/hlim=40E:100E/vlim=0:30N
fgco2[x=1:182,y=1:149,l=1,d=1],lon2[d=2],lat[d=2] <br>
  <br>
So after this how do I <br>
1. list the basin averaged values for certain time period of the data
in the regular grid? <br>
2. get time-series/climatology for particular region and time period of
the data in the <br>
regular grid? <br>
  <br>
Thanks for the help, <br>
Yogesh</font><br>
</blockquote>
</div></div></div>

</blockquote></div><br><br clear="all"><br>-- <br>Yogesh K. Tiwari (Dr.rer.nat), <br>Scientist,<br>Indian Institute of Tropical Meteorology, <br>Homi Bhabha Road,<br>Pashan,<br>Pune-411008<br>INDIA<br><br>Phone: 0091-99 2273 9513 (Cell) <br>
 &#xA0; &#xA0; &#xA0; &#xA0; : 0091-20-25904350 (O)<br>Fax &#xA0; &#xA0;: 0091-20-258 93 825<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00274" href="msg00274.html">Re: [ferret_users] regriding problem</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00270" href="msg00270.html">[ferret_users] regriding problem</a></strong>
<ul><li><em>From:</em> Yogesh Tiwari</li></ul></li>
<li><strong><a name="00271" href="msg00271.html">Re: [ferret_users] regriding problem</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00271.html">Re: [ferret_users] regriding problem</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00274.html">Re: [ferret_users] regriding problem</a></strong>
</li>

</UL>
<center>[<a href="msg00271.html">Thread Prev</a>][<a href="msg00274.html">Thread Next</a>][<A HREF="threads.html#00273">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
