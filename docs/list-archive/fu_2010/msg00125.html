<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Reading variables from an ascii file -->
<!--X-From-R13: Oegheb Oivyn Dbfnf <nnivyneNvzc.zk> -->
<!--X-Date: Tue, 16 Feb 2010 14:14:30 &#45;0800 -->
<!--X-Message-Id: 1A52D13FC5504836AF8033868052EF3B@AAVILAR -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 7F702E6C3158497D95C036DEA173A836@AAVILAR -->
<!--X-Reference: 4B75AC4D.9020207@noaa.gov -->
<!--X-Reference: C02379D1D60B4796B694CF5CAA43DB24@AAVILAR -->
<!--X-Reference: 4B7AF205.1000104@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Reading variables from an ascii file</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00122.html">Thread Prev</a>][<a href="msg00126.html">Thread Next</a>][<A HREF="threads.html#00125">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Reading variables from an ascii file</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Reading variables from an ascii file</strong></li>
<li><strong>From</strong>: <strong>Arturo Avila Rosas &lt;<a href="mailto:aavilar@DOMAIN.HIDDEN">aavilar@xxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 16 Feb 2010 16:13:30 -0600</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>References: &lt;<a href="mailto:7F702E6C3158497D95C036DEA173A836@DOMAIN.HIDDEN"><a href="msg00110.html">7F702E6C3158497D95C036DEA173A836@AAVILAR</a></a>&gt; &lt;<a href="mailto:4B75AC4D.9020207@DOMAIN.HIDDEN">4B75AC4D.9020207@xxxxxxxx</a>&gt; &lt;<a href="mailto:C02379D1D60B4796B694CF5CAA43DB24@DOMAIN.HIDDEN"><a href="msg00113.html">C02379D1D60B4796B694CF5CAA43DB24@AAVILAR</a></a>&gt; &lt;<a href="mailto:4B7AF205.1000104@DOMAIN.HIDDEN">4B7AF205.1000104@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">


<DIV><FONT size=2 face=Arial>Hi Ansley,</FONT></DIV>
<DIV><FONT size=2 face=Arial>Thanks a lot, it works fine! Now, some 
data&nbsp;are&nbsp;over&nbsp;land and they are NaN values indeed. According to 
"Setting a missing value"&nbsp;at Ferret FAQ having an ocean mask with earth's 
surface may help to get only data over ocean, Where could I find </FONT><FONT 
size=2 face=Arial>an ocean mask with earth's surface at 0.2 minute resolution? 
</FONT></DIV>
<DIV><FONT size=2 face=Arial>Cheers</FONT></DIV>
<DIV><FONT size=2 face=Arial>Arturo</FONT></DIV>
<DIV><FONT size=2></FONT>&nbsp;</DIV>
<BLOCKQUOTE 
style="BORDER-LEFT: #000000 2px solid; PADDING-LEFT: 5px; PADDING-RIGHT: 0px; MARGIN-LEFT: 5px; MARGIN-RIGHT: 0px" 
dir=ltr>
  <DIV style="FONT: 10pt arial">----- Original Message ----- </DIV>
  <DIV 
  style="FONT: 10pt arial; BACKGROUND: #e4e4e4; font-color: black"><B>From:</B> 
  <A rel="nofollow" title=ansley.b.manke@xxxxxxxx href="mailto:ansley.b.manke@xxxxxxxx">Ansley 
  Manke</A> </DIV>
  <DIV style="FONT: 10pt arial"><B>To:</B> <A rel="nofollow" title=aavilar@xxxxxx 
  href="mailto:aavilar@xxxxxx">Arturo Avila Rosas</A> </DIV>
  <DIV style="FONT: 10pt arial"><B>Cc:</B> <A rel="nofollow" 
  title=oar.pmel.ferret_users@xxxxxxxx 
  href="mailto:oar.pmel.ferret_users@xxxxxxxx">oar.pmel.ferret_users@xxxxxxxx</A> 
  </DIV>
  <DIV style="FONT: 10pt arial"><B>Sent:</B> Tuesday, February 16, 2010 1:29 
  PM</DIV>
  <DIV style="FONT: 10pt arial"><B>Subject:</B> Re: [ferret_users] Reading 
  variables from an ascii file</DIV>
  <DIV><BR></DIV>Hi Arturo- <BR>It might be helpful for your C program to add 
  the longitude and latitude values in each line so it's easier to see what 
  you're doing, but that's not strictly necessary. So, the second and third 
  columns would be lat and lon - but read on and see if you think this is 
  necessary -<BR><TT><BR>19600101000000 18.05000 271.94998&nbsp; 7.2 278. 0.26 
  1.34 0.72&nbsp; 0.88&nbsp; 5.73&nbsp; 4.50&nbsp; 3.99&nbsp; 3.64 255.&nbsp; 
  26.&nbsp; ...<BR>19600101010000 18.05000 271.94998&nbsp; 7.2 278. 0.26 1.34 
  0.72&nbsp; 0.88&nbsp; 5.73&nbsp; 4.50&nbsp; 3.99&nbsp; 3.64 255.&nbsp; 26. 
  <BR>...<BR>19601231230000 18.05000 271.94998&nbsp; 7.2 278. 0.26 1.34 
  0.72&nbsp; 0.88&nbsp; 5.73&nbsp; 4.50&nbsp; 3.99&nbsp; 3.64 255.&nbsp; 
  26.&nbsp; <BR>19600101000000 18.05000 272.1500&nbsp;&nbsp; 7.2 278. 0.26 1.34 
  0.72&nbsp; 0.88&nbsp; 5.73&nbsp; 4.50&nbsp; 3.99&nbsp; 3.64 255.&nbsp; 
  26.&nbsp; <BR>19600101010000 18.05000 272.1500&nbsp;&nbsp; 7.2 278. 0.26 1.34 
  0.72&nbsp; 0.88&nbsp; 5.73&nbsp; 4.50&nbsp; 3.99&nbsp; 3.64 255.&nbsp; 
  26.&nbsp; <BR>...<BR>19601231230000 18.05000 272.1500&nbsp;&nbsp; 7.2 278. 
  0.26 1.34 0.72&nbsp; 0.88&nbsp; 5.73&nbsp; 4.50&nbsp; 3.99&nbsp; 3.64 
  255.&nbsp; 26.&nbsp; </TT><FONT 
  face="Times New Roman, Times, serif"><BR>&nbsp;</FONT><BR>Is time listed as 
  each hour of the year?&nbsp; If so you should be able to read the data in a 
  way similar to the ASCII reading Examples 6 and 7 (see "ASCII data, reading, 
  examples" in the Users Guide Index).&nbsp; Time is varying fastest, then 
  Longitude, then Latitude, correct?<BR><BR>So, first just learning how to read 
  one variable.&nbsp; I'll just make up some example longitude and latitude 
  axes; you'll adjust these to match your data. They don't have to be regularly 
  spaced, but we are assuming they're on a grid.<BR><BR>There are several ways 
  to define coordinate axes - see the documentation.<BR>
  <BLOCKQUOTE><TT>DEFINE AXIS/X=271.95:279.0:0.2/UNITS=degrees_lon xaxis&nbsp; 
    <BR>DEFINE AXIS/Y=18.05:19.0:0.05/UNITS=degrees_lat&nbsp; yaxis<BR>DEFINE 
    AXIS/T="1-jan-1960:00:00":"31-Dec-1960:23:00":1/UNITS=hours taxis<BR>DEFINE 
    GRID/X=xaxis/Y=yaxis/T=taxis 
    xytgrid<BR><BR>FILE/var="tvar,v1"/grid=xytgrid/order=txy 
  file.dat</TT><BR></BLOCKQUOTE>I'm assuming the data looks like this - without 
  the lon and lat variables I talked about at the start of this 
  message.<BR><TT>&nbsp;19600101000000&nbsp;&nbsp; 7.2 278. 0.26 1.34 0.72&nbsp; 
  0.88&nbsp; 5.73&nbsp; 4.50&nbsp; 3.99&nbsp; 3.64 255.&nbsp; 26.&nbsp; 
  0.67&nbsp; 4.74&nbsp; 3.68&nbsp; 3.34&nbsp; 3.09 271.&nbsp; 21.&nbsp; 
  0.58&nbsp; 5.73&nbsp; 5.59&nbsp; 5.38&nbsp; 5.22 236.&nbsp; 
  19.<BR>&nbsp;19600101010000&nbsp;&nbsp; 7.2 278. 0.26 1.34 0.72&nbsp; 
  0.88&nbsp; 5.73&nbsp; 4.50&nbsp; 3.99&nbsp; 3.64 255.&nbsp; 26.&nbsp; 
  0.67&nbsp; 4.74&nbsp; 3.68&nbsp; 3.34&nbsp; 3.09 271.&nbsp; 21.&nbsp; 
  0.58&nbsp; 5.73&nbsp; 5.59&nbsp; 5.38&nbsp; 5.22 236.&nbsp; 
  19.<BR>...<BR>&nbsp;19601231230000&nbsp;&nbsp; 7.2 278. 0.26 1.34 0.72&nbsp; 
  0.88&nbsp; 5.73&nbsp; 4.50&nbsp; 3.99&nbsp; 3.64 255.&nbsp; 26.&nbsp; 
  0.67&nbsp; 4.74&nbsp; 3.68&nbsp; 3.34&nbsp; 3.09 271.&nbsp; 21.&nbsp; 
  0.58&nbsp; 5.73&nbsp; 5.59&nbsp; 5.38&nbsp; 5.22 236.&nbsp; 
  19.</TT><BIG><BR></BIG><BR><BR>If you do put the lon and lat data into the 
  file, then you'd read it with FILE/var="tvar,xvar,yvar,v1"/...<BR><BR>This 
  will read the time variable into "tvar" which you can just ignore, because it 
  contains information that's already captured in the definition of the time 
  axis. Then the variable whose value as listed in your examples as 7.2 will be 
  v1.&nbsp; Try this, and look at your variable in Ferret (do some commands like 
  SHADE at a particular time, or plot a time series at a single XY location and 
  see if it looks correct.)<BR><BR>Now you can read more variables.&nbsp; A 
  detail here is that Ferret will only read 20 variables from an ASCII 
  file.&nbsp; I count 26 in your example.&nbsp; So if you try <BR><TT>yes? 
  file/var="tvar,v1,v2,v3,v4,v5,v6,v7,v8,v9,v10,v11,v12,v13,v14,v15,v16,v17,v18,v19,v20,v21,v22,v23,v24,v25,v26"/grid=xytgrid 
  file.dat</TT><BR><BR>you'll get an error message.&nbsp; To get around 
  that&nbsp; you might do this - probably naming your variables with meaningful 
  names -<BR>
  <BLOCKQUOTE><TT>yes? 
    file/var="tvar,v2,v3,v4,v5,v6,v7,v8,v9,v10,v11,v12,v13,v14,v15"/grid=xytgrid 
    file.dat</TT><BR><TT>yes? save/clobber/file=my_data.nc 
    v1,v2,v3,v4,v5,v6,v7,v8,v9,v10,v11,v12,v13,v14,v15,v16,v17,v18,v19</TT><BR><BR><TT>yes? 
    cancel data file.dat</TT><BR><TT>yes? 
    file/var="v20,v21,v22,v23,v24,v25,v26"/grid=xytgrid/format=(99x,F6.2,...) 
    file.dat</TT><BR><TT>yes? save/append/file=my_data.nc 
    20,v21,v22,v23,v24,v25,v26 </TT><BR></BLOCKQUOTE>where the FORMAT statement 
  would specify the Fortran format for the remaining variables to be read 
  in.<BR><BR>Hope this gets you started!&nbsp; 
<BR><BR>Ansley<BR><BR></BLOCKQUOTE>
</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00126" href="msg00126.html">Re: [ferret_users] Reading variables from an ascii file</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00110" href="msg00110.html">[ferret_users] Reading variables from an ascii file</a></strong>
<ul><li><em>From:</em> Arturo Avila Rosas</li></ul></li>
<li><strong><a name="00112" href="msg00112.html">Re: [ferret_users] Reading variables from an ascii file</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00113" href="msg00113.html">Re: [ferret_users] Reading variables from an ascii file</a></strong>
<ul><li><em>From:</em> Arturo Avila Rosas</li></ul></li>
<li><strong><a name="00122" href="msg00122.html">Re: [ferret_users] Reading variables from an ascii file</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00122.html">Re: [ferret_users] Reading variables from an ascii file</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00126.html">Re: [ferret_users] Reading variables from an ascii file</a></strong>
</li>

</UL>
<center>[<a href="msg00122.html">Thread Prev</a>][<a href="msg00126.html">Thread Next</a>][<A HREF="threads.html#00125">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
