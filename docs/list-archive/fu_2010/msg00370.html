<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] how to get the selected values or indexes from an array -->
<!--X-From-R13: Oaqerj Ivggraoret <Oaqerj.IvggraoretNabnn.tbi> -->
<!--X-Date: Wed, 16 Jun 2010 14:19:14 &#45;0700 -->
<!--X-Message-Id: alpine.LRH.2.00.1006161635540.4773@atw -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 477171.94172.qm@web30608.mail.mud.yahoo.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] how to get the selected values or indexes from an array</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00369.html">Thread Prev</a>][<a href="msg00361.html">Thread Next</a>][<A HREF="threads.html#00370">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] how to get the selected values or indexes from an array</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>jean li &lt;<a href="mailto:xgeast@DOMAIN.HIDDEN">xgeast@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] how to get the selected values or indexes from an array</strong></li>
<li><strong>From</strong>: <strong>Andrew Wittenberg &lt;<a href="mailto:Andrew.Wittenberg@DOMAIN.HIDDEN">Andrew.Wittenberg@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 16 Jun 2010 17:19:13 -0400 (EDT)</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="mailto:477171.94172.qm@DOMAIN.HIDDEN">477171.94172.qm@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:477171.94172.qm@DOMAIN.HIDDEN">477171.94172.qm@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>Reply-to: Andrew Wittenberg &lt;<a href="mailto:Andrew.Wittenberg@DOMAIN.HIDDEN">Andrew.Wittenberg@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Alpine 2.00 (LRH 1167 2008-08-23)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Jean,

Along the lines of what Ned was saying, here are two examples:

1) If &quot;1&quot; is equivalent to your missing value, you can do

   set var/bad=1 a
   let b = samplei(compressi(a),x[gx=1:`a[i=@ngd]`:1])

Here we set A's missing value to 1.  We then compress the valid values of
A to the front of the variable, and then sample that compressed variable
only up to the number of valid (good) values -- giving a result array of
the correct size, without any trailing missing values.

2) If you already have a missing value (say, -1e34), and you want to designate
&quot;1&quot; as an additional missing value, you can do

   let a_cmp = compressi(IF a NE 1 THEN a)
   let b = a_cmp[i=1:`a_cmp[i=@ngd]`]

This sets the 1 values to missing (without unmasking any prior missing
values), compresses the remaining valid values to the front, and then
samples up to the number of valid values.

Cheers,

Andrew

On Wed, 16 Jun 2010, jean li wrote:

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi All:
&#xA0;
I'd like to get the abnormal values from an array, e.g. a={1,1,1,500,1,1,1,1,1,600,1,1,560}
The new array will be b={500,600,560}. How can I do this? Note that using the &quot;if&quot; statement will
give me the array that&#xA0;is of the same size&#xA0;as&#xA0;&quot;a&quot;, and @loc is for&#xA0;finding the&#xA0;indexes with
the&#xA0;constant values.
&#xA0;
Thanks very much for your help.
&#xA0;
Jean&#xA0;




</pre></blockquote>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00368" href="msg00368.html">[ferret_users] how to get the selected values or indexes from an array</a></strong>
<ul><li><em>From:</em> jean li</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00369.html">Re: [ferret_users] how to get the selected values or indexes from an array</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00361.html">[ferret_users] seasonal climatologies</a></strong>
</li>

</UL>
<center>[<a href="msg00369.html">Thread Prev</a>][<a href="msg00361.html">Thread Next</a>][<A HREF="threads.html#00370">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
