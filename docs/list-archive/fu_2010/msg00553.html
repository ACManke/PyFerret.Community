<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] contour/fill and contour/line &#45; different algorithm? -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 29 Sep 2010 17:29:20 &#45;0700 -->
<!--X-Message-Id: 4CA3D9DE.3060804@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 038079DA&#45;220B&#45;4E24&#45;A613&#45;EFF16EBE3D0D@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] contour/fill and contour/line - different algorithm?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00552.html">Thread Prev</a>][<a href="msg00560.html">Thread Next</a>][<A HREF="threads.html#00553">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] contour/fill and contour/line - different algorithm?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Paul Young &lt;<a href="mailto:Paul.J.Young@DOMAIN.HIDDEN">Paul.J.Young@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] contour/fill and contour/line - different algorithm?</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 29 Sep 2010 17:29:18 -0700</li>
<li>Cc: Ferret Usergroup &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="mailto:038079DA-220B-4E24-A613-EFF16EBE3D0D@DOMAIN.HIDDEN">038079DA-220B-4E24-A613-EFF16EBE3D0D@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:038079DA-220B-4E24-A613-EFF16EBE3D0D@DOMAIN.HIDDEN">038079DA-220B-4E24-A613-EFF16EBE3D0D@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.2.9) Gecko/20100915 Thunderbird/3.1.4</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
 Hi Paul,
The FILL and CONTOUR commands use the same algorithm. What's the difference between your symbols ($my_levels) and ($lv)?  Maybe it's just a typo in what you sent.

   fill/lev=($my_levels)
   contour/over/nolab/lev=($lv)

If you want the same contour lines as colors, try doing it in one command with FILL/LINE.  If that shows any differences, then it may be in the rendering of the colors, or in any case we should hunt further.

Ansley

On 9/29/2010 1:56 PM, Paul Young wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi all,

I've been doing some plots where I do a &quot;fill&quot; with a &quot;contour/line&quot; over the top. This has worked out fine for the most part, but today I've been trying it on some data where I transform the pressure axis to log pressure. In essence, the problem is that the contour lines do not line up with the shading, mostly at higher altitudes. (see attached) The vertical model levels are certainly more spread out there, but I would have guessed that the contour/line would still follow contour/fill.....

Commands follow:

use my_water_vap_climatology.nc                             !Model water vapor output

define axis/depth/from_data/name=lnpz/z ln(z[gz=my_data])    !Put on log pressure axis
let x_lnp = my_data[gz=lnpz@asn]

let zmin = 250                                            !Set up plot (range and axes etc)
let zmax = 25
ppl axlabp -1, 0
ppl tics 0.125, 0.25, 0, 0

set region/z=`ln(zmin)`:`ln(zmax)`
fill/lev=($my_levels)/nokey \
  (x_lnp[l=@max]-x_lnp[l=@min])                              !Contour/fill yearly range
contour/over/nolab/lev=($lv) \
  (x_lnp[l=@max]-x_lnp[l=@min])                            !Over plot contour lines - PROBLEM HERE?!

Thanks for any pointers,

Paul














</pre></blockquote><pre style="margin: 0em;">

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00560" href="msg00560.html">Re: [ferret_users] contour/fill and contour/line - different algorithm?</a></strong>
<ul><li><em>From:</em> Paul Young</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00552" href="msg00552.html">[ferret_users] contour/fill and contour/line - different algorithm?</a></strong>
<ul><li><em>From:</em> Paul Young</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00552.html">[ferret_users] contour/fill and contour/line - different algorithm?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00560.html">Re: [ferret_users] contour/fill and contour/line - different algorithm?</a></strong>
</li>

</UL>
<center>[<a href="msg00552.html">Thread Prev</a>][<a href="msg00560.html">Thread Next</a>][<A HREF="threads.html#00553">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
