<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates -->
<!--X-From-R13: Emlzba Dbmvrjfxv <fmlzba.ebmvrjfxvNtznvy.pbz> -->
<!--X-Date: Fri, 8 Oct 2010 13:08:00 &#45;0700 -->
<!--X-Message-Id: AANLkTi=3yNDBxqjZvp&#45;dKE=L2S92M&#45;J4F&#45;&#45;aK9ey17kF@mail.gmail.com -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: AANLkTi=8Q23JqDj_5svXvLO06HitAzt&#45;eukb6XYaLOdo@mail.gmail.com -->
<!--X-Reference: AANLkTin+DHfyArs6EH269t2P5=MhWjiO+G&#45;juVzSzUTS@mail.gmail.com -->
<!--X-Reference: AANLkTikEDgwDnLLXXDJiNENMztLc183RZG_ntmGOWqKk@mail.gmail.com -->
<!--X-Reference: AANLkTikRVPw87m3kwZV0O0MNtkCXNBLQCuyzEdVCfH2L@mail.gmail.com -->
<!--X-Reference: 4CAF408D.1040701@noaa.gov -->
<!--X-Reference: AANLkTikyjcJi3RN7u&#45;ru1RDzQmnKBFhz5&#45;baqhQsC1D7@mail.gmail.com -->
<!--X-Reference: 4CAF466C.5000903@noaa.gov -->
<!--X-Reference: AANLkTikDsqgaviN8mqCuE5Sirg+kL7onQ78TUDs+QGUw@mail.gmail.com -->
<!--X-Reference: 4CAF6C7C.4060100@noaa.gov -->
<!--X-Reference: AANLkTinnkcctAoXotKXGGcy5u6q3weTZ9JA+pP93HVqD@mail.gmail.com -->
<!--X-Derived: gifNUEG_SoLcV.gif -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00611.html">Thread Prev</a>][<a href="msg00609.html">Thread Next</a>][<A HREF="threads.html#00612">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;, <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates</strong></li>
<li><strong>From</strong>: <strong>Szymon Roziewski &lt;<a href="mailto:szymon.roziewski@DOMAIN.HIDDEN">szymon.roziewski@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 08 Oct 2010 22:07:33 +0200</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma; h=domainkey-signature:mime-version:received:received:in-reply-to :references:date:message-id:subject:from:to:content-type; bh=1Q6vPuvsVmGkbWCNYOJ2G23iYWS8L7MYz2T2PNLZJxM=; b=uyGhjbRhpYUcZECR5qRL66cQpsdwItW41/V6kG7hzVq6yPFM2gV1zJ5lfbFmNNSZIc sfncWwcjQ7zgYxwK9WgHZoi97ugvHGtoRzRbJAENCMvW/6H3ALqECzg70wzU7JoOkCcA 07cE38OrWa/SA01RPUjZ6HbLwpqulY5oeN65A=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :content-type; b=p6r4bAsy4nP5DvPNv5r5dtAonDLbLetuCYoVcpJpAPVS5BVkQSShJtzU8YnwizYp0s 7GPbaUrZNdw3ROPCB40g08JV5xYiiSaocwnyDR340E4e/9OUw6JKr8zCOuMUwRkrh1Vd eXQ+x2tUCTvwLxXM9E163LbKuFwrm6ILKgQPU=</li>
<li>In-reply-to: &lt;<a href="mailto:AANLkTinnkcctAoXotKXGGcy5u6q3weTZ9JA%2BpP93HVqD@DOMAIN.HIDDEN">AANLkTinnkcctAoXotKXGGcy5u6q3weTZ9JA+pP93HVqD@xxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:AANLkTi%3D8Q23JqDj_5svXvLO06HitAzt-eukb6XYaLOdo@DOMAIN.HIDDEN">AANLkTi=8Q23JqDj_5svXvLO06HitAzt-eukb6XYaLOdo@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTin%2BDHfyArs6EH269t2P5%3DMhWjiO%2BG-juVzSzUTS@DOMAIN.HIDDEN">AANLkTin+DHfyArs6EH269t2P5=MhWjiO+G-juVzSzUTS@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTikEDgwDnLLXXDJiNENMztLc183RZG_ntmGOWqKk@DOMAIN.HIDDEN">AANLkTikEDgwDnLLXXDJiNENMztLc183RZG_ntmGOWqKk@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTikRVPw87m3kwZV0O0MNtkCXNBLQCuyzEdVCfH2L@DOMAIN.HIDDEN">AANLkTikRVPw87m3kwZV0O0MNtkCXNBLQCuyzEdVCfH2L@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4CAF408D.1040701@DOMAIN.HIDDEN">4CAF408D.1040701@xxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTikyjcJi3RN7u-ru1RDzQmnKBFhz5-baqhQsC1D7@DOMAIN.HIDDEN">AANLkTikyjcJi3RN7u-ru1RDzQmnKBFhz5-baqhQsC1D7@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4CAF466C.5000903@DOMAIN.HIDDEN">4CAF466C.5000903@xxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTikDsqgaviN8mqCuE5Sirg%2BkL7onQ78TUDs%2BQGUw@DOMAIN.HIDDEN">AANLkTikDsqgaviN8mqCuE5Sirg+kL7onQ78TUDs+QGUw@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4CAF6C7C.4060100@DOMAIN.HIDDEN">4CAF6C7C.4060100@xxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTinnkcctAoXotKXGGcy5u6q3weTZ9JA%2BpP93HVqD@DOMAIN.HIDDEN">AANLkTinnkcctAoXotKXGGcy5u6q3weTZ9JA+pP93HVqD@xxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
I forgot to attach the file, I&#39;m sorry about it.<br><br><div class="gmail_quote">2010/10/8 Szymon Roziewski <span dir="ltr">&lt;<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx">szymon.roziewski@xxxxxxxxx</a>&gt;</span><br><blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
Ok,<br>Then the problem must be somewhere else.<br>If I did the variable map properly.<br>It means that I interpolated on grid 132x145 wind badly.<br>The wind data originates from a bigger area are on grid 448x615.<br>And then I want it to be on a grid 132x145 which refers to a smaller area (*).<br>

So maybe I have to choose appropriate wind data from 448x615&#xA0; which is about this smaller area (*) (like in the picture) and only then to interpolate it on 132x145.<br><br>Cheers<br>Simon<br><br><div class="gmail_quote">
2010/10/8 Ansley Manke <span dir="ltr">&lt;<a rel="nofollow" href="mailto:Ansley.B.Manke@xxxxxxxx" target="_blank">Ansley.B.Manke@xxxxxxxx</a>&gt;</span><div><div></div><div class="h5"><br>
<blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">

  
    
  
  <div bgcolor="#ffffff" text="#000000">
    Hi,<br>
    The third argument to the CURV_TO_RECT_MAP function is a
    2-dimensional variable, defined on the output grid that you want.<br>
    <br>
    You could use<br>
    <tt>yes? define axis/x=-5.67:5.25:0.125/units=degrees_east&#xA0; xax<br>
      yes? define axis/y=-2:2/units=degrees_north yax<br>
      yes? let lonlatout = x[gx=xax] + y[gy=yax]</tt><br>
    <br>
    That last command defines a variable on the rectilinear grid of the
    result. Its values aren&#39;t ever used; the function is just getting
    that variable&#39;s grid in the x and y directions.<div><div></div><div><br>
    <br>
    <br>
    <br>
    On 10/8/2010 10:22 AM, Szymon Roziewski wrote:
    <blockquote type="cite">I need to use (I think I need to) the function <font color="#1f1a17" size="3"><b>CURV_TO_RECT_MAP and CURV_TO_RECT</b></font>
      (I want to transform wind data from one bigger curvulinear grid to
      another smaller rectilinear and next use it in a model)<br>
      there is a tutorial on the internet:<br>
      <p align="LEFT"><font color="#1f1a17" size="2">
          <b>yes? ! For convenience define variables with the input
            grid&#xA0;</b>
        </font></p>
      <p align="LEFT"><font color="#1f1a17" size="2">
          <b>yes? let lonin = geolon[d=1]<br>
            yes? let latin = geolat[d=1]<br>
            &#xA0;</b>
        </font></p>
      <p align="LEFT"><font color="#1f1a17" size="2">
          <b>yes? ! Define output grid and a variable on the output
            grid&#xA0;</b>
        </font></p>
      <p align="LEFT"><font color="#1f1a17" size="2">
          <b>yes? define axis/x=0:360:5/modulo/units=degrees xax<br>
            yes? def axis/y=0:85:5/units=degrees yax<br>
            yes? let lonlatout = y[gy=yax] + x[gx=xax]</b><br>
        </font></p>
      <font color="#1f1a17" size="2">
        <b>yes? ! Compute the mapping to the rectangular grid, save to a
          file<br>
          yes? let map = curv_to_rect_map ( lonin,latin,lonlatout,10)<br>
          yes? save/clobber/file=<a rel="nofollow" href="http://curv_map.nc" target="_blank">curv_map.nc</a> &#xA0;map</b></font><br>
      <div class="gmail_quote"><br>
        so what I need it&#39;s a properly <font color="#1f1a17" size="2"><b>lonlatout</b>
          matrix which I would like to cover the following area:<br>
        </font><br>
        (bottom left) -5.67E, -2S (bottom right) 5.25W, -2S<br>
        (top left) -5.67E, 10N (top right) 5.25W, 10N<br>
        <font color="#1f1a17" size="2"><br>
        </font>So I need one matrix and I don&#39;t excatly know how to get
        it. e.g. in matlab one may get matrices X and Y but <font color="#1f1a17" size="2"><b>curv_to_rect_map&#xA0; </b>demand only
          one.</font><br>
        <br>
        2010/10/8 Karl Smith <span dir="ltr">&lt;<a rel="nofollow" href="mailto:Karl.Smith@xxxxxxxx" target="_blank">Karl.Smith@xxxxxxxx</a>&gt;</span><br>
        <blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
          Hi Simon,<br>
          <br>
          This defined a grid which can be used as the grid for other
          data. &#xA0;If you want the equivalent of meshgrid as you mentioned
          in your later e-mail,<br>
          <br>
          set grid grid_out<br>
          def xvals = X + 0.0 * Y<br>
          def yvals = 0.0 * X + Y<br>
          <br>
          The xvals and yvals are then variables that can be saved or
          used as desired.<br>
          <br>
          -- Karl
          <div><br>
            <br>
            <br>
            On 10/8/2010 9:15 AM, Szymon Roziewski wrote:<br>
          </div>
          <blockquote class="gmail_quote" style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;">
            <div>
              Hi Karl,<br>
              Thank You for your response,<br>
              I tried as You told me and what happened next:<br>
              <br>
              &#xA0;**ERROR: variable unknown or not in data set: GRID_OUT<br>
              LIST/FORMAT=CDF/format=(448F8.2)/file=GRIDOUT/clobber
              grid_out<br>
              Command file, command group, or REPEAT execution aborted<br>
              STOP -script mode, ERROR RUNNING SCRIPT<br>
              <br>
              ferret doesn&#39;t know about values on this grid maybe
              because treats this<br>
              as an abstract object.<br>
              <br>
            </div>
            2010/10/8 Karl Smith &lt;<a rel="nofollow" href="mailto:Karl.Smith@xxxxxxxx" target="_blank">Karl.Smith@xxxxxxxx</a>
            &lt;mailto:<a rel="nofollow" href="mailto:Karl.Smith@xxxxxxxx" target="_blank">Karl.Smith@xxxxxxxx</a>&gt;&gt;
            <div>
              <div>
                <br>
                <br>
                &#xA0; &#xA0;Hi Simon,<br>
                <br>
                &#xA0; &#xA0;Using the E/W on the X axis and N/S on the Y axis
                will identify them<br>
                &#xA0; &#xA0;as longitude/latitude. &#xA0;So you were close.<br>
                <br>
                &#xA0; &#xA0;-- Karl<br>
                <br>
                <br>
                &#xA0; &#xA0;define axis /x=5.666666667E:5.25W:0.083333333 xax<br>
                &#xA0; &#xA0;def axis /y=2.0S:10.0N:0.083333333 yax<br>
                &#xA0; &#xA0;def grid /x=xax /y=yax grid_out<br>
                <br>
                <br>
                <br>
                &#xA0; &#xA0;On 10/8/2010 7:54 AM, Szymon Roziewski wrote:<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0;Now I&#39;m thinking how to make appropriate grid for
                that:<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0;My data are on grid;<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0;(bottom left) -5.67E, -2S (bottom right) 5.25W,
                -2S<br>
                &#xA0; &#xA0; &#xA0; &#xA0;(top left) -5.67E, 10N (top right) 5.25W, 10N<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0;Maybe there is special function wchich dealing
                with it in ferret?<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0;2010/10/8 Szymon Roziewski &lt;<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a><br>
                &#xA0; &#xA0; &#xA0; &#xA0;&lt;mailto:<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a>&gt;<br>
                &#xA0; &#xA0; &#xA0; &#xA0;&lt;mailto:<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a><br>
                &#xA0; &#xA0; &#xA0; &#xA0;&lt;mailto:<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a>&gt;&gt;&gt;<br>
                <br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Ok,<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;I found it,<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;the problem was about statement:<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;let grid_out = y[gy=yax] + x[gx=xax]<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;which I didn&#39;t get well.<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Cheers<br>
                <br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;2010/10/8 Szymon Roziewski &lt;<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a><br>
                &#xA0; &#xA0; &#xA0; &#xA0;&lt;mailto:<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a>&gt;<br>
                &#xA0; &#xA0; &#xA0; &#xA0;&lt;mailto:<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a><br>
                &#xA0; &#xA0; &#xA0; &#xA0;&lt;mailto:<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a>&gt;&gt;&gt;<br>
                <br>
                <br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;I also attach my script which does
                compute coefficient<br>
                &#xA0; &#xA0; &#xA0; &#xA0;matrix.<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;DEFINE AXIS/x=1:448:1/unit=degree xaxis<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;DEFINE AXIS/y=1:615:1/unit=degree yaxis<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;DEFINE GRID/x=xaxis/y=yaxis gridlonlat<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;!read curvilinear coordinates onto grid
                448x615<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
                &#xA0;FILE/VARIABLES=clon_in/COLUMNS=448/GRID=gridlonlat<br>
                &#xA0; &#xA0; &#xA0; &#xA0;&quot;/home/szymon/WAM/CHECK/umlonicm448x615.dat&quot;<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
                &#xA0;FILE/VARIABLES=clat_in/COLUMNS=448/GRID=gridlonlat<br>
                &#xA0; &#xA0; &#xA0; &#xA0;&quot;/home/szymon/WAM/CHECK/umlaticm448x615.dat&quot;<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;!create grid which we desire<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;define<br>
                &#xA0; &#xA0; &#xA0;
                &#xA0;axis/x=-5.666666667:5.25:0.083333333/modulo/units=degrees
                xax<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;def
                axis/y=-2.0:10.0:0.083333333/units=degrees yax<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;let grid_out = y[gy=yax] + x[gx=xax]<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;!do transformation matrix<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;let map = CURV_TO_RECT_MAP(clon_in[d=1],
                clat_in[d=2],<br>
                &#xA0; &#xA0; &#xA0; &#xA0;grid_out, 4)<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;!save data<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;save/clobber/file=curv_map_UM_TO_ICM.nc
                map<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;and another script which uses it:<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;DEFINE AXIS/x=1:448:1/unit=degree xaxis<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;DEFINE AXIS/y=1:615:1/unit=degree yaxis<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;DEFINE GRID/x=xaxis/y=yaxis gridlonlat<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;!load data for transformation &#xA0;- wind
                fields u,v<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
                &#xA0;file/var=wlon/grid=gridlonlat/format=stream/type=r4/swap<br>
                &#xA0; &#xA0; &#xA0;
                &#xA0;&quot;/home/szymon/WAM/CHECK/03225_2010092100+48000000c3hs000000000000000&quot;<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
                &#xA0;file/var=wlat/grid=gridlonlat/format=stream/type=r4/swap<br>
                &#xA0; &#xA0; &#xA0;
                &#xA0;&quot;/home/szymon/WAM/CHECK/03226_2010092100+48000000c3hs000000000000000&quot;<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;!using transform matrix<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;use
                &quot;/home/szymon/ferret/vectors/curv_map_UM_TO_ICM.nc&quot;<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;! do transformation<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;let wlon_icm = curv_to_rect(wlon[d=1],
                map[d=3])<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;let wlat_icm = curv_to_rect(wlat[d=2],
                map[d=3])<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;!save transformation data which You can
                see for example<br>
                &#xA0; &#xA0; &#xA0; &#xA0;in the<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;picture<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0;
                &#xA0;*wind_2010092103_ICM_remapped_132x145_and_interpolated.gif*
                or<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
                &#xA0;*UM_Significant_Wave_Height_21_September_2010_020000_TMP.gif<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;(vectors only)*<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
                &#xA0;save/format=(448F8.2)/file=winduumicm+48.txt/clobber<br>
                &#xA0; &#xA0; &#xA0; &#xA0;wlon_icm<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
                &#xA0;save/format=(448F8.2)/file=windvumicm+48.txt/clobber<br>
                &#xA0; &#xA0; &#xA0; &#xA0;wlat_icm<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Best regards,<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Simon<br>
                <br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;2010/10/8 Szymon Roziewski &lt;<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a><br>
                &#xA0; &#xA0; &#xA0; &#xA0;&lt;mailto:<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a>&gt;<br>
                &#xA0; &#xA0; &#xA0; &#xA0;&lt;mailto:<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a><br>
                &#xA0; &#xA0; &#xA0; &#xA0;&lt;mailto:<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a>&gt;&gt;&gt;<br>
                <br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Hello there,<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;I have problem with appropriate
                remapping from<br>
                &#xA0; &#xA0; &#xA0; &#xA0;curvilinear<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;coordinates to rectilinear
                coordinates.<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;The area which is covered with
                curvilinear<br>
                &#xA0; &#xA0; &#xA0; &#xA0;coordinates is<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;bigger than I need in rectilinear
                coordinates (it&#39;s<br>
                &#xA0; &#xA0; &#xA0; &#xA0;a subset<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;of curvilinear grid).<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;I would like to raise such a question
                if ferret can<br>
                &#xA0; &#xA0; &#xA0; &#xA0;do this<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;transformation automaticly i.e. I
                needn&#39;t to care<br>
                &#xA0; &#xA0; &#xA0; &#xA0;about the<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;curvilinear grid is about bigger area
                than rectilinear.<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Or I need to tell ferret that fact by
                some<br>
                &#xA0; &#xA0; &#xA0; &#xA0;computations and<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;findings.<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;I attach files:<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;- wind_2010092103_ICM_aspect.gif -
                this is wind on<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;curvilinear grid it is a bigger area<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;-<br>
                &#xA0; &#xA0; &#xA0;
                &#xA0;wind_2010092103_ICM_remaped_132x145_and_interpolated.gif
                -<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;this is wind on rectilinear grid it&#39;s
                a smaller area.<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;As You can see ferret did
                transformation but in a way I<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;didn&#39;t intend. The Baltic Sea area is
                a little bit<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;translated to the north and the
                northern part of sea was<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;cut. The picture should wrap all area
                of Baltic Sea.<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;In the picture<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0;
                &#xA0;UM_Significant_Wave_Height_21_September_2010_020000_TMP.gif<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;I marked the area which matches
                interpolated wind<br>
                &#xA0; &#xA0; &#xA0; &#xA0;field on<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Baltic Sea and You can see that it
                disagrees to<br>
                &#xA0; &#xA0; &#xA0; &#xA0;significant<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;wave height which occupies properly
                area. It means that<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;interpolation from curvilinear grid
                448x615 to the<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;rectilinear grid 132x145 was done
                improperly.<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;I hope I was understood.<br>
                <br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Kind regards,<br>
                &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Szymon Roziewski<br>
                <br>
              </div>
            </div>
          </blockquote>
          <br>
          -- <br>
          <div>
            <div>
              Karl M. Smith, Ph.D.<br>
              Research Scientist and Software Developer<br>
              UW/JISAO and NOAA/PMEL/TMAP<br>
              <a rel="nofollow" href="mailto:karl.smith@xxxxxxxx" target="_blank">karl.smith@xxxxxxxx</a><br>
              (206) 526-4806<br>
              <br>
              &quot;The contents of this message are mine personally and do<br>
              not necessarily reflect any position of the Government<br>
              or the National Oceanic and Atmospheric Administration.&quot;<br>
            </div>
          </div>
        </blockquote>
      </div>
      <br>
      <br clear="all">
      <br>
      -- <br>
      Z wyrazami szacunku,<br>
      Szymon Roziewski<br>
    </blockquote>
  </div></div></div>

</blockquote></div></div></div><div><div></div><div class="h5"><br><br clear="all"><br>-- <br>Z wyrazami szacunku,<br>Szymon Roziewski<br>
</div></div></blockquote></div><br><br clear="all"><br>-- <br>Z wyrazami szacunku,<br>Szymon Roziewski<br>
<p><strong>Attachment:
<a href="gifNUEG_SoLcV.gif" ><tt>wind_2010092103_ICM_aspect_TMP.gif</tt></a></strong><br>
<em>Description:</em> GIF image</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00602" href="msg00602.html">[ferret_users] Remapping curvilinear coordinates to rectilinear coordinates</a></strong>
<ul><li><em>From:</em> Szymon Roziewski</li></ul></li>
<li><strong><a name="00603" href="msg00603.html">[ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates</a></strong>
<ul><li><em>From:</em> Szymon Roziewski</li></ul></li>
<li><strong><a name="00604" href="msg00604.html">[ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates</a></strong>
<ul><li><em>From:</em> Szymon Roziewski</li></ul></li>
<li><strong><a name="00605" href="msg00605.html">[ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates</a></strong>
<ul><li><em>From:</em> Szymon Roziewski</li></ul></li>
<li><strong><a name="00607" href="msg00607.html">Re: [ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates</a></strong>
<ul><li><em>From:</em> Karl Smith</li></ul></li>
<li><strong><a name="00608" href="msg00608.html">Re: [ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates</a></strong>
<ul><li><em>From:</em> Szymon Roziewski</li></ul></li>
<li><strong><a name="00610" href="msg00610.html">Re: [ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00611" href="msg00611.html">Re: [ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates</a></strong>
<ul><li><em>From:</em> Szymon Roziewski</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00611.html">Re: [ferret_users] Re: Remapping curvilinear coordinates to rectilinear coordinates</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00609.html">[ferret_users] Does Ferret support rotate transform (with changing projection)?</a></strong>
</li>

</UL>
<center>[<a href="msg00611.html">Thread Prev</a>][<a href="msg00609.html">Thread Next</a>][<A HREF="threads.html#00612">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<A HREF="ferret_contact_us.html">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address>
<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
