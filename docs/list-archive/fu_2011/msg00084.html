<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Overlaying location of minimum U wind -->
<!--X-From-R13: Enzeng Dnb <fnzeng.enbNtznvy.pbz> -->
<!--X-Date: Mon, 7 Feb 2011 04:50:55 &#45;0800 -->
<!--X-Message-Id: AANLkTikprN&#45;EjXZKQMRZgwrDs0wDzRcUNVm3w6K37EO2@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: AANLkTi=SmrXRfYgAanCW&#45;OYvEuFuofx9V0PfjcL_KRbc@mail.gmail.com -->
<!--X-Reference: 4D4C47BB.4060509@noaa.gov -->
<!--X-Reference: 201102071246.56841.russell.fiedler@csiro.au -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Overlaying location of minimum U wind</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00080.html">Thread Prev</a>][<a href="msg00071.html">Thread Next</a>][<A HREF="threads.html#00084">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Overlaying location of minimum U wind</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Russell Fiedler &lt;<a href="mailto:russell.fiedler@DOMAIN.HIDDEN">russell.fiedler@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Overlaying location of minimum U wind</strong></li>
<li><strong>From</strong>: <strong>Samrat Rao &lt;<a href="mailto:samrat.rao@DOMAIN.HIDDEN">samrat.rao@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 07 Feb 2011 18:20:54 +0530</li>
<li>Cc: &quot;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:mime-version:in-reply-to:references:date         :message-id:subject:from:to:cc:content-type; bh=I7BQdnqFpdTPRUudHqMNfeh6njKGQdti2aYrAEGpntc=; b=NEQNaOvQ0BCo19vXoc1/QxsTS+z2irmOlBxwQxGRaatO3UMqJwGlnElpADGrAzco5S waqv08rOgPhcIOwgRPmoaLDDshbcagr84bAncfEG6lPg+zsfvaQxN7RaanX7NKmONBAA 7N93f9hDs84bLn0+32nW3Z+L6wlKwDFQKSaWA=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :cc:content-type; b=INCLQgz+Ea6fz1juq1TwzDn9PoWBobPWM74BPArIKpXpKEF+MWxDGUq0zlaSJZYKAe WiXKH61AqlBaCI4lvARLr2ILxpENq0QjcBLs7O9374jlnWdSnrjDoRhrwX4WEJ4WJ5zT pLxKZh5hCRPO9fF0lb4+6yYBZhNXw7OpMpBBo=</li>
<li>In-reply-to: &lt;<a href="mailto:201102071246.56841.russell.fiedler@DOMAIN.HIDDEN">201102071246.56841.russell.fiedler@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:AANLkTi%3DSmrXRfYgAanCW-OYvEuFuofx9V0PfjcL_KRbc@DOMAIN.HIDDEN">AANLkTi=SmrXRfYgAanCW-OYvEuFuofx9V0PfjcL_KRbc@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D4C47BB.4060509@DOMAIN.HIDDEN">4D4C47BB.4060509@xxxxxxxx</a>&gt; &lt;<a href="mailto:201102071246.56841.russell.fiedler@DOMAIN.HIDDEN">201102071246.56841.russell.fiedler@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi Ansley,<br><br>You were right about the problems about the sequences 
in which the transformations were being applied. Separating the vertical
 averaging first was beneficial.<br><br>Russelll&#39;s simple 
solution was what i finally used.<br><br>Thanks a 
lot.<br><br><div class="gmail_quote">On Mon, Feb 7, 2011 at 7:16 AM, Russell Fiedler <span dir="ltr">&lt;russell.fiedler@xxxxxxxx&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin: 0pt 0pt 0pt 0.8ex; border-left: 1px solid rgb(204, 204, 204); padding-left: 1ex;">
<br>
Yes, it looks like the average &#xA0;of the locations of the minima at each level are being calculated rather than<br>
the minima of the average U.<br>
<br>
You can get all the minima at once using the @LOC transformation by subtracting the the value<br>
from the minima at each longitude<br>
<div class="im"><br>
&#xA0;let uwndave = uwnd[z=`zl`:`zu`@ave]<br>
</div>let zero_at_minu=uwndave[y=@MIN]-uwndave &#xA0; ! negitve every where except at minimum u<br>
let y_at_minu=zero_at_minu[y=@loc:0]<br>
<br>
con uwndave<br>
plot/sym/line/ov y_at_minu[x=0:120:2]<br>
<div><div></div><div class="h5"><br>
<br>
On Saturday 05 February 2011 05:38, Ansley Manke wrote:<br>
&gt; Hi-<br>
&gt; I don&#39;t know why the locations would be wrong. I wonder if it could be<br>
&gt; be the order of operations, y=@loc:`minval`, and the averaging in Z?<br>
&gt; SET MODE DIAGNOSTIC might &#xA0;help sort that out. You could try defining a<br>
&gt; variable first,<br>
&gt;<br>
&gt; let uwndave = uwnd[z=`zl`:`zu`@ave]<br>
&gt;<br>
&gt; and operate on that to see what difference it makes.<br>
&gt;<br>
&gt; The reason that /LINE has no effect is that each PLOT command is drawing<br>
&gt; a separate single-point line, and has no knowledge of the points that<br>
&gt; came before. &#xA0;You could save each location after it&#39;s computed, and plot<br>
&gt; at each X a 2-point line using {xpos,xlast}, {ypos,ylast}.<br>
&gt;<br>
&gt; Ansley<br>
&gt;<br>
&gt; On 2/4/2011 3:23 AM, Samrat Rao wrote:<br>
&gt; &gt;<br>
&gt; &gt; Hi,<br>
&gt; &gt;<br>
&gt; &gt; I am trying to locate and plot the minimum U wind values on a lat-lon<br>
&gt; &gt; figure. I am attaching the figure generated.<br>
&gt; &gt;<br>
&gt; &gt; After ploting the U wind contours i use the following:<br>
&gt; &gt;<br>
&gt; &gt; &#xA0;repeat/range=0:120:2/name=xpos ( &#xA0;\<br>
&gt; &gt; &#xA0; &#xA0;let minval = &#xA0;uwnd[x=`xpos`e,y=@min,z=`zl`:`zu`@ave,l=7]; \<br>
&gt; &gt; &#xA0; &#xA0;let ypos = uwnd[x=`xpos`e,y=@loc:`minval`,z=`zl`:`zu`@ave,l=7]; \<br>
&gt; &gt; &#xA0; &#xA0;list ypos; \<br>
&gt; &gt;<br>
&gt; &gt; plot/line=14/color=red/thickness=3/size=0.15/symbol=3/vs/nolabel/overlay<br>
&gt; &gt; xpos,ypos &#xA0;)<br>
&gt; &gt;<br>
&gt; &gt; As you can see the symbols are being plotted below the location of<br>
&gt; &gt; minimum U wind. I have the following questions:<br>
&gt; &gt;<br>
&gt; &gt; 1) The reason for the incorrect location of the symbols. I am not<br>
&gt; &gt; having this problem with NCEP reanalysis data.<br>
&gt; &gt;<br>
&gt; &gt; 2) I am unable to get the &#39;line&#39; qualifier connect the different<br>
&gt; &gt; symbols. How to do this?<br>
&gt; &gt;<br>
&gt; &gt; 3) At some locations there is a discontinuity (for example around<br>
&gt; &gt; 55E). To me it looks artificial.<br>
&gt; &gt;<br>
&gt; &gt; 4) In case there is a missing value for &#39;ypos&#39;, then how do i ensure<br>
&gt; &gt; that this does not cause an error and abort in the script execution?<br>
&gt; &gt;<br>
&gt; &gt; I hope you people will have patience to reduce some of my difficulties.<br>
&gt; &gt;<br>
&gt; &gt; Thanks,<br>
&gt; &gt; Samrat Rao.<br>
&gt;<br>
</div></div></blockquote></div><br><br clear="all"><br>-- <br><br>Samrat Rao<br>Department of Mechanical Engineering<br>Indian Institute of Science<br>Bangalore - 560012, India<br><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00070" href="msg00070.html">[ferret_users] Overlaying location of minimum U wind</a></strong>
<ul><li><em>From:</em> Samrat Rao</li></ul></li>
<li><strong><a name="00074" href="msg00074.html">Re: [ferret_users] Overlaying location of minimum U wind</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00080" href="msg00080.html">Re: [ferret_users] Overlaying location of minimum U wind</a></strong>
<ul><li><em>From:</em> Russell Fiedler</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00080.html">Re: [ferret_users] Overlaying location of minimum U wind</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00071.html">[ferret_users] Overlaying Vectors</a></strong>
</li>

</UL>
<center>[<a href="msg00080.html">Thread Prev</a>][<a href="msg00071.html">Thread Next</a>][<A HREF="threads.html#00084">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
