<!-- MHonArc v2.6.16 -->
<!--X-Subject: [ferret_users] RESHAPE and SAVE error &#45; variable unknown -->
<!--X-From-R13: Enzeng Dnb <fnzeng.enbNtznvy.pbz> -->
<!--X-Date: Sat, 10 Sep 2011 10:50:00 &#45;0700 -->
<!--X-Message-Id: CACO1Z=yF0FBbuTK1U4Ama=cHtsCF1&#45;pxUcZvQOYR32hAeihpnw@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] RESHAPE and SAVE error - variable unknown</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00683.html">Thread Prev</a>][<a href="msg00686.html">Thread Next</a>][<A HREF="threads.html#00685">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] RESHAPE and SAVE error - variable unknown</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] RESHAPE and SAVE error - variable unknown</strong></li>
<li><strong>From</strong>: <strong>Samrat Rao &lt;<a href="mailto:samrat.rao@DOMAIN.HIDDEN">samrat.rao@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Sat, 10 Sep 2011 23:19:57 +0530</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=mime-version:date:message-id:subject:from:to:content-type; bh=Z4zSXr+I/5PuKz/oxVhLJe8PHhfP3d8/qoIWJ9zKzrM=; b=A53lhohcQK8Q+ddVdf6GnCYYnyVgQgv0CcW4X7EGUVO/Q6R6wDdYEoPCqPDQ8WFoXq NxUpfBV8tMNA0am+76t8TEc1wW59rviWUWElLC1F5p9U5gMSZ4AV3mGUMEQFW1ETRUdm nm0OqZpKbIZ1dWsa2jDGXh1ivRNf9QjOPsSz0=</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi,<br><br>I&#39;m using Ferret 6.7.1.<br><br>I need to change the axes ( i to t, j to i, k to j &amp; then reverse the new j values ) of a variable in a netcdf file and i&#39;m using RESHAPE to do that. But on opening the new file i get an error about unknown variables. The commands and outputs are:<br>
<br>yes? use/order=yzx NPP_1982_nc3.nc<br>yes? sh da<br>&#xA0;&#xA0;&#xA0;&#xA0; currently SET data sets:<br>&#xA0;&#xA0;&#xA0; 1&gt; ./NPP_1982_nc3.nc&#xA0; (default)<br>&#xA0;name&#xA0;&#xA0;&#xA0;&#xA0; title&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; I&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; J&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; K&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; L<br>&#xA0;NPP&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1:1440&#xA0; 1:720&#xA0;&#xA0;&#xA0; 1:12&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ...<br>
<br>yes? set variable/title=&quot;Net prim prod&quot;/bad=-999 npp<br clear="all"><br>yes? define axis/x=0:359.75:0.25/units=degrees xax<br>
yes? define axis/y=90s:89.75n:0.25/units=degrees yax<br>
yes? define axis/t=1:12:1/calendar=noleap/units=months tax<br>
&#xA0;*** NOTE: /UNIT=MONTHS&#xA0; ... using 1/12 of 365.00 days<br>
<br>
yes? define grid/x=xax/y=yax/t=tax npp_grd<br><br>yes? let dummy = x[gx=npp_grd] + y[gy=npp_grd] + t[gt=npp_grd]<br><br>yes? let/title=&quot;New NPP&quot; npp_new = reshape(npp,dummy)<br>yes? sh gr npp_new<br>&#xA0;&#xA0;&#xA0; GRID NPP_GRD<br>
&#xA0;name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; &#xA0; &#xA0; &#xA0; axis &#xA0; &#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; # pts&#xA0; &#xA0;&#xA0; start&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; end<br>&#xA0;XAX&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LONGITUDE&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1440mr&#xA0; &#xA0;&#xA0; 0E&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0.25W<br>&#xA0;YAX&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; LATITUDE &#xA0; &#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 720 r&#xA0;&#xA0;&#xA0;&#xA0; 90S&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 89.75N<br>&#xA0;normal&#xA0;&#xA0;&#xA0; Z<br>
&#xA0;TAX&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; T (MONTHS(NOLE&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 12 r&#xA0;&#xA0; 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 12<br><br>yes? fill npp_new[l=1] !! works correctly, but lat values are reversed in the same way as the original netcdf file ie continents are reversed<br><br>yes? save/clobber/file=<a rel="nofollow" href="http://myvar.nc">myvar.nc</a> npp_new<br>
&#xA0;LISTing to file myvar.n<br><br>yes? can da/all<br>&#xA0;<br>yes? use <a rel="nofollow" href="http://myvar.nc">myvar.nc</a><br>yes? sh da <a rel="nofollow" href="http://myvar.nc">myvar.nc</a><br>&#xA0;&#xA0;&#xA0;&#xA0; currently SET data sets:<br>&#xA0;&#xA0;&#xA0; 1&gt; ./<a rel="nofollow" href="http://myvar.nc">myvar.nc</a>&#xA0; (default)<br>
&#xA0;name&#xA0;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; title&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; I&#xA0; &#xA0;&#xA0; &#xA0;&#xA0;&#xA0;&#xA0;&#xA0; J&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; K&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; L<br>&#xA0;NPP_NEW&#xA0; New NPP&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1:1440&#xA0;&#xA0;&#xA0; 1:720&#xA0;&#xA0;&#xA0;&#xA0; ...&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1:12<br><br>yes? fill npp_new[l=1]<br>&#xA0;**ERROR: variable unknown or not in data set: NPP<br>
CONTOUR/FILL npp_new[l=1]<br>Command file, command group, or REPEAT execution aborted<br><br>---------<br><br>How do i make the reshape &amp; save commands work correctly? Any other method to change the axes is fine.<br><br>
Also how to reverse the values along the latitudes? Is using ncdump and ncgen the only way?<br><br>-- <br>Thanks,<br>Samrat Rao.<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00683.html">[ferret_users] plot nino index in ferret</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00686.html">Re: [ferret_users] RESHAPE and SAVE error - variable unknown</a></strong>
</li>

</UL>
<center>[<a href="msg00683.html">Thread Prev</a>][<a href="msg00686.html">Thread Next</a>][<A HREF="threads.html#00685">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
