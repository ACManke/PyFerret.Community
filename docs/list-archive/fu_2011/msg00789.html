<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] appending to file: history crash &#38; time bounds -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Fri, 21 Oct 2011 09:27:46 &#45;0700 -->
<!--X-Message-Id: 4EA19D82.4090903@noaa.gov -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 4EA07F31.1070405@mpic.de -->
<!--X-Derived: binbcpMuedP1C.bin -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] appending to file: history crash &amp; time bounds</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00787.html">Thread Prev</a>][<a href="msg00788.html">Thread Next</a>][<A HREF="threads.html#00789">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] appending to file: history crash &amp; time bounds</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Hella Riede &lt;<a href="mailto:hella.riede@DOMAIN.HIDDEN">hella.riede@xxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] appending to file: history crash &amp; time bounds</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 21 Oct 2011 09:27:46 -0700</li>
<li>Cc: ferret &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="mailto:4EA07F31.1070405@DOMAIN.HIDDEN">4EA07F31.1070405@xxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:4EA07F31.1070405@DOMAIN.HIDDEN">4EA07F31.1070405@xxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:7.0.1) Gecko/20110929 Thunderbird/7.0.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi Hella,<br>
    We have&#xA0; a test in our benchmark suite that involves a long global
    attribute, and it is still working as in previous versions, issuing
    the *** NOTE message.<br>
    <blockquote><tt>&gt; ferret_v67<br>
        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; NOAA/PMEL TMAP<br>
        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FERRET v6.7&#xA0; <br>
        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Linux(gfortran) 2.6.18-238.1.1.el5 - 05/06/11<br>
        &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 21-Oct-11 09:24&#xA0;&#xA0;&#xA0;&#xA0; <br>
        <br>
        yes? sp cp longhistory.nc longhistory_copy.nc<br>
        <br>
        yes? let a&#xA0; = 12<br>
        yes? save/append/file=longhistory_copy.nc a<br>
        &#xA0;LISTing to file longhistory_copy.nc<br>
        &#xA0;*** NOTE: CDF attribute history is too long<br>
        &#xA0;*** NOTE: no text could be appended<br>
      </tt></blockquote>
    I've attached the file so you can make this test.<br>
    <br>
    So this must be something more to do with the variables and the time
    axis.&#xA0; Let's talk off-line from the group and report back to the
    Ferret List when we have an answer.<br>
    <br>
    Ansley<br>
    <br>
    On 10/20/2011 1:06 PM, Hella Riede wrote:
    <blockquote cite="" type="cite">Dear
      ferreters,
      <br>
      <br>
      in order to track the history of datasets, I create very long
      history lines. When I try to add a variable to such a dataset,
      ferret crashes and exits with the message " **ERROR Ferret crash;
      signal = 11". It took me some time to figure out that the crash is
      due to the long history attribute. I currently use version 6.70.
      Up to at least version 6.40, there was a warning issued:
      <br>
      &#xA0;*** NOTE: CDF attribute history is too long
      <br>
      &#xA0;*** NOTE: no text could be appended
      <br>
      This is now seems not to be issued anymore.
      <br>
      <br>
      <br>
      After cutting the history line, I get the following error:
      <br>
      "NetCDF: Variable not found (OPeNDAP/netCDF Error code -49)
      <br>
      &#xA0;timep_bnds not found. Attempt to append irregular coordinates to
      NetCDF axis which has no bounds attribute. Write data originally
      with the /BOUNDS qualifier."
      <br>
      I found some information on that in the release notes to version
      6.3. What I do not understand is that I just would like to add a
      variable, not additional time steps, to the file.
      <br>
      <br>
      ! I defined a variable
      <br>
      ! d=1: test_all_short.nc
      <br>
      ! d=2: test.nc
      <br>
      yes? let/d=1 flight = flight[d=2,gt=slon[d=1]@ASN]
      <br>
      ! then tried to append it
      <br>
      yes? save/append/file=test_all_short.nc flight[d=1]
      <br>
      <br>
      The to-be-appended variable flight has the same grid as any
      variable in d=1:
      <br>
      yes? sh grid flight
      <br>
      &#xA0;&#xA0;&#xA0; GRID GMH1
      <br>
      &#xA0;name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; axis&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; # pts&#xA0;&#xA0; start&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; end
      <br>
      &#xA0;normal&#xA0;&#xA0;&#xA0; X
      <br>
      &#xA0;normal&#xA0;&#xA0;&#xA0; Y
      <br>
      &#xA0;normal&#xA0;&#xA0;&#xA0; Z
      <br>
      &#xA0;TIMEP&#xA0;&#xA0;&#xA0;&#xA0; TIME&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 607 i&#xA0;&#xA0; 28-APR-2006 11:57&#xA0;&#xA0;&#xA0;
      28-APR-2006 13:40
      <br>
      yes? sh grid slon
      <br>
      &#xA0;&#xA0;&#xA0; GRID GMH1
      <br>
      &#xA0;name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; axis&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; # pts&#xA0;&#xA0; start&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; end
      <br>
      &#xA0;normal&#xA0;&#xA0;&#xA0; X
      <br>
      &#xA0;normal&#xA0;&#xA0;&#xA0; Y
      <br>
      &#xA0;normal&#xA0;&#xA0;&#xA0; Z
      <br>
      &#xA0;TIMEP&#xA0;&#xA0;&#xA0;&#xA0; TIME&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 607 i&#xA0;&#xA0; 28-APR-2006 11:57&#xA0;&#xA0;&#xA0;
      28-APR-2006 13:40
      <br>
      <br>
      In my opinion there is no need for bounds when I really do not
      want to extend the file in time.
      <br>
      <br>
      Any clarification on this is very welcome, thanks in advance!
      <br>
      <br>
      Best regards,
      <br>
      Hella
      <br>
      <br>
    </blockquote>
  

</font></td></tr></table><p><strong>Attachment:
<a href="binbcpMuedP1C.bin" ><tt>longhistory.nc</tt></a></strong><br>
<em>Description:</em> Binary data</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00786" href="msg00786.html">[ferret_users] appending to file: history crash &amp; time bounds</a></strong>
<ul><li><em>From:</em> Hella Riede</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00787.html">Re: [ferret_users] appending to file: history crash &amp; time bounds</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00788.html">[ferret_users] setting ivetor skip</a></strong>
</li>

</UL>
<center>[<a href="msg00787.html">Thread Prev</a>][<a href="msg00788.html">Thread Next</a>][<A HREF="threads.html#00789">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
