<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] small numbers cause ferret error -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Mon, 13 Jun 2011 11:04:23 &#45;0700 -->
<!--X-Message-Id: 4DF65187.1010707@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 4DABA7AE.80904@mpic.de -->
<!--X-Reference: 4DABE62F.7060607@io&#45;warnemuende.de -->
<!--X-Reference: 4DAC639D.30909@noaa.gov -->
<!--X-Reference: 4DE53D2F.9080803@mpic.de -->
<!--X-Reference: 4DE68A0E.4010105@noaa.gov -->
<!--X-Reference: 4DED1405.4020906@mpic.de -->
<!--X-Reference: 4DED1C47.9020406@noaa.gov -->
<!--X-Reference: 4DF52D9F.9060305@mpic.de -->
<!--X-Reference: 4DF53813.4040709@mpic.de -->
<!--X-Reference: 4DF546C7.40501@mpic.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] small numbers cause ferret error</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00453.html">Thread Prev</a>][<a href="msg00271.html">Thread Next</a>][<A HREF="threads.html#00454">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] small numbers cause ferret error</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Hella Riede &lt;<a href="mailto:hella.riede@DOMAIN.HIDDEN">hella.riede@xxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] small numbers cause ferret error</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 13 Jun 2011 11:05:59 -0700</li>
<li>Cc: ferret &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="mailto:4DF546C7.40501@DOMAIN.HIDDEN">4DF546C7.40501@xxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:4DABA7AE.80904@DOMAIN.HIDDEN">4DABA7AE.80904@xxxxxxx</a>&gt; &lt;<a href="mailto:4DABE62F.7060607@DOMAIN.HIDDEN">4DABE62F.7060607@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4DAC639D.30909@DOMAIN.HIDDEN">4DAC639D.30909@xxxxxxxx</a>&gt; &lt;<a href="mailto:4DE53D2F.9080803@DOMAIN.HIDDEN">4DE53D2F.9080803@xxxxxxx</a>&gt; &lt;<a href="mailto:4DE68A0E.4010105@DOMAIN.HIDDEN">4DE68A0E.4010105@xxxxxxxx</a>&gt; &lt;<a href="mailto:4DED1405.4020906@DOMAIN.HIDDEN">4DED1405.4020906@xxxxxxx</a>&gt; &lt;<a href="mailto:4DED1C47.9020406@DOMAIN.HIDDEN">4DED1C47.9020406@xxxxxxxx</a>&gt; &lt;<a href="mailto:4DF52D9F.9060305@DOMAIN.HIDDEN">4DF52D9F.9060305@xxxxxxx</a>&gt; &lt;<a href="mailto:4DF53813.4040709@DOMAIN.HIDDEN">4DF53813.4040709@xxxxxxx</a>&gt; &lt;<a href="mailto:4DF546C7.40501@DOMAIN.HIDDEN">4DF546C7.40501@xxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.17) Gecko/20110414 Thunderbird/3.1.10</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">

  
  
    Hi Hella,<br>
    I'm glad to hear that the most-recent release is working correctly
    for you.&#xA0; This release included an effort on our part to build
    Ferret in such a way that we wouldn't have conflicts between
    versions of libraries.&#xA0; For instance, the executable you loaded asks
    your system to find libcurl.so.4, which will generally be the one
    found under Ubuntu and other free Linux Operating systems as well as
    RedHat6. The Ferret executable built for RedHat 5 will ask for
    libcurl.so.3.&#xA0; <br>
    <br>
    There is a note about the different executables in the latest <a rel="nofollow"
href="http://ferret.pmel.noaa.gov/Ferret/documentation/version-6-6-6-release-notes">Release
      Notes</a>, see item 2, but indeed it would be helpful for us to
    have that information on the downloads pages.&#xA0; Perhaps when we
    release Ferret the announcement should also include the highlights
    so you can decide whether it's an update you want to install.<br>
    <br>
    Ansley<br>
    <br>
    <br>
    <br>
    On 6/12/2011 4:07 PM, Hella Riede wrote:
    <blockquote cite="" type="cite">Dear
      Ansley, dear ferreters,
      <br>
      <br>
      indeed - ferret version 6.7 does NOT have the same problem with
      small numbers. Listing of numbers 1.e-38 and below works fine to
      IEEE limit:
      <br>
      <br>
      Here's my test with version 6.7:
      <br>
      yes? list 1.e-38
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : constant
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1.000E-38
      <br>
      [...]
      <br>
      yes? list 1.e-45
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : constant
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1.401E-45
      <br>
      yes? list 1.e-46
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : constant
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0.0000
      <br>
      yes? list 1.e-47
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : constant
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 0.0000
      <br>
      <br>
      I didn't plan to switch with every version of ferret, but in this
      case it's worth it. Please find the requested output of 'ldd' for
      my 6.7 binary below.
      <br>
      <br>
      On my machine, version 6.64 still shows the strange behavior of
      not listing numbers from about 1.e-38 and lower ("**ERROR: command
      syntax: 1.E-38", details below). Version 6.40 like version 6.7 did
      not show this problematic behavior on the same machine (Ubuntu
      Lucid, x86_64-linux, Linux version 2.6.32-25-generic
      (buildd@allspice) (gcc version 4.4.3 (Ubuntu 4.4.3-4ubuntu5) )
      #45-Ubuntu SMP Sat Oct 16 19:52:42 UTC 2010). According to Ansley
      it could have resulted from the static library linking at the time
      (see also below).
      <br>
      <br>
      Thanks again for the help!
      <br>
      Hella
      <br>
      <br>
      <br>
      P.S. I did not immediately realize that I need to download the
      version 6.7 for Redhat since I am running Ubuntu. So I encountered
      the problem that no libgfortran.so.1 was found on my system
      (simple linking of libgfortran.so.3 does not fix it; download of
      libgfortran.so.1 produces a clash with newer gcc version). Dawned
      on me when I read the email "Libraries in the latest Ferret" by
      Karl Smith and I though it doesn't hurt to mention it again in
      this P.S. in case someone is searching the archive for
      'libgfortran.so.1' like me.
      <br>
      <br>
      P.P.S. ldd on ferret version 6.7 binary for Redhat 6
      (libgfortran.so.3 instead of libgfortran.so.1 is requested and
      found)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;linux-vdso.so.1 =&gt;&#xA0; (0x00007fff501ff000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libreadline.so.6 =&gt; /lib/libreadline.so.6
      (0x00007fb3b2e0a000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libncurses.so.5 =&gt; /lib/libncurses.so.5
      (0x00007fb3b2bc7000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libX11.so.6 =&gt; /usr/lib/libX11.so.6 (0x00007fb3b2890000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libcurl.so.4 =&gt; /usr/lib/libcurl.so.4 (0x00007fb3b2648000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libdl.so.2 =&gt; /lib/libdl.so.2 (0x00007fb3b2444000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libgfortran.so.3 =&gt; /usr/lib/libgfortran.so.3
      (0x00007fb3b2156000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libm.so.6 =&gt; /lib/libm.so.6 (0x00007fb3b1ed3000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libc.so.6 =&gt; /lib/libc.so.6 (0x00007fb3b1b50000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libgcc_s.so.1 =&gt; /lib/libgcc_s.so.1 (0x00007fb3b1938000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libxcb.so.1 =&gt; /usr/lib/libxcb.so.1 (0x00007fb3b171c000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libidn.so.11 =&gt; /usr/lib/libidn.so.11 (0x00007fb3b14e9000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;liblber-2.4.so.2 =&gt; /usr/lib/liblber-2.4.so.2
      (0x00007fb3b12da000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libldap_r-2.4.so.2 =&gt; /usr/lib/libldap_r-2.4.so.2
      (0x00007fb3b108e000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;librt.so.1 =&gt; /lib/librt.so.1 (0x00007fb3b0e86000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libgssapi_krb5.so.2 =&gt; /usr/lib/libgssapi_krb5.so.2
      (0x00007fb3b0c51000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libssl.so.0.9.8 =&gt; /lib/libssl.so.0.9.8
      (0x00007fb3b09ff000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libcrypto.so.0.9.8 =&gt; /lib/libcrypto.so.0.9.8
      (0x00007fb3b066f000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libz.so.1 =&gt; /lib/libz.so.1 (0x00007fb3b0457000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;/lib64/ld-linux-x86-64.so.2 (0x00007fb3b306d000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libXau.so.6 =&gt; /usr/lib/libXau.so.6 (0x00007fb3b0253000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libXdmcp.so.6 =&gt; /usr/lib/libXdmcp.so.6
      (0x00007fb3b004d000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libresolv.so.2 =&gt; /lib/libresolv.so.2 (0x00007fb3afe33000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libsasl2.so.2 =&gt; /usr/lib/libsasl2.so.2
      (0x00007fb3afc19000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libgnutls.so.26 =&gt; /usr/lib/libgnutls.so.26
      (0x00007fb3af977000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libpthread.so.0 =&gt; /lib/libpthread.so.0
      (0x00007fb3af759000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libkrb5.so.3 =&gt; /usr/lib/libkrb5.so.3 (0x00007fb3af495000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libk5crypto.so.3 =&gt; /usr/lib/libk5crypto.so.3
      (0x00007fb3af26f000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libcom_err.so.2 =&gt; /lib/libcom_err.so.2
      (0x00007fb3af06a000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libkrb5support.so.0 =&gt; /usr/lib/libkrb5support.so.0
      (0x00007fb3aee62000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libkeyutils.so.1 =&gt; /lib/libkeyutils.so.1
      (0x00007fb3aec5f000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libtasn1.so.3 =&gt; /usr/lib/libtasn1.so.3
      (0x00007fb3aea4d000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libgcrypt.so.11 =&gt; /lib/libgcrypt.so.11
      (0x00007fb3ae7d5000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;libgpg-error.so.0 =&gt; /lib/libgpg-error.so.0
      (0x00007fb3ae5d0000)
      <br>
      <br>
      <br>
      <br>
      <blockquote type="cite">------------------------------------------------------------------------
        <br>
        *Subject:* Re: [ferret_users] small numbers cause ferret error
        <br>
        *Sent:* Sun 12 Jun 2011 11:20:31 PM CEST +0200
        <br>
        *From:* Hella Riede <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:hella.riede@xxxxxxx">&lt;hella.riede@xxxxxxx&gt;</a>
        <br>
        *To:* Ansley Manke <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:Ansley.B.Manke@xxxxxxxx">&lt;Ansley.B.Manke@xxxxxxxx&gt;</a>
        <br>
        <br>
        <blockquote type="cite">Dear Ansley,
          <br>
          <br>
          I only answer to you since I have no idea if the others are
          still
          <br>
          interested.
          <br>
          <br>
          <blockquote type="cite">yes? list 1.e-38
            <br>
            VARIABLE : constant
            <br>
            1.000E-38
            <br>
          </blockquote>
          [...]
          <br>
          <blockquote type="cite">yes? list 1.e-45
            <br>
            VARIABLE : constant
            <br>
            1.401E-45
            <br>
            yes? list 1.e-46
            <br>
            **ERROR: command syntax: 1.E-46
            <br>
          </blockquote>
          <br>
          Good to see it works for you. I still have the problem that in
          version
          <br>
          6.64 I cannot even list 1.e-38. Here is my library setup:
          <br>
          <br>
          <blockquote type="cite">1) What is the output of
            <br>
            <br>
            &gt; ldd ferret_v664
            <br>
            <br>
            ours shows this:
            <br>
            linux-vdso.so.1 =&gt; (0x00007fff311fc000)
            <br>
            libdl.so.2 =&gt; /lib64/libdl.so.2 (0x0000003599c00000)
            <br>
            libc.so.6 =&gt; /lib64/libc.so.6 (0x0000003599400000)
            <br>
            /lib64/ld-linux-x86-64.so.2 (0x0000003599000000)
            <br>
          </blockquote>
          <br>
          On the remote Linux cluster:
          <br>
          linux-vdso.so.1 =&gt; (0x00007fffccdff000)
          <br>
          libdl.so.2 =&gt; /lib64/libdl.so.2 (0x00002b9981f1f000)
          <br>
          libc.so.6 =&gt; /lib64/libc.so.6 (0x00002b9982124000)
          <br>
          /lib64/ld-linux-x86-64.so.2 (0x00002b9981cfe000)
          <br>
          <br>
          On my local machine:
          <br>
          64-bit
          <br>
          x86_64-linux
          <br>
          Linux version 2.6.32-25-generic (buildd@allspice)
          <br>
          (gcc version 4.4.3 (Ubuntu 4.4.3-4ubuntu5) )
          <br>
          #45-Ubuntu SMP Sat Oct 16 19:52:42 UTC 2010
          <br>
          <br>
          linux-vdso.so.1 =&gt; (0x00007ffffa1ff000)
          <br>
          libdl.so.2 =&gt; /lib/libdl.so.2 (0x00007fef241ef000)
          <br>
          libc.so.6 =&gt; /lib/libc.so.6 (0x00007fef23e6c000)
          <br>
          /lib64/ld-linux-x86-64.so.2 (0x00007fef24415000)
          <br>
          <br>
          I am not sure what that tells me. The names of the libraries
          seem to be
          <br>
          the same, the locations (?) seem not to be. Is that actually
          an ID of
          <br>
          the library and should be the same or is it just the local
          site on the
          <br>
          disk?
          <br>
          <br>
          <br>
          <blockquote type="cite">2) Can you try the latest release,
            v6.7? You can install it in one of
            <br>
            your own local directories if you would like to do that. The
            output of
            <br>
            the LIST commands would be interesting to see and also the
            output of
            <br>
            ldd, again.
            <br>
          </blockquote>
          <br>
          I now installed ferret version 6.7 on my local machine:
          <br>
          ldd ferret (version 6.7):
          <br>
          linux-vdso.so.1 =&gt; (0x00007fff9024b000)
          <br>
          libX11.so.6 =&gt; /usr/lib/libX11.so.6 (0x00007fbb9b231000)
          <br>
          libcurl.so.3 =&gt; /usr/lib/libcurl.so.3 (0x00007fbb9afe9000)
          <br>
          libdl.so.2 =&gt; /lib/libdl.so.2 (0x00007fbb9ade4000)
          <br>
          libz.so.1 =&gt; /lib/libz.so.1 (0x00007fbb9abcd000)
          <br>
          libgfortran.so.1 =&gt; not found
          <br>
          libm.so.6 =&gt; /lib/libm.so.6 (0x00007fbb9a949000)
          <br>
          libc.so.6 =&gt; /lib/libc.so.6 (0x00007fbb9a5c6000)
          <br>
          libgcc_s.so.1 =&gt; /lib/libgcc_s.so.1 (0x00007fbb9a3af000)
          <br>
          libxcb.so.1 =&gt; /usr/lib/libxcb.so.1 (0x00007fbb9a192000)
          <br>
          libidn.so.11 =&gt; /usr/lib/libidn.so.11 (0x00007fbb99f5f000)
          <br>
          liblber-2.4.so.2 =&gt; /usr/lib/liblber-2.4.so.2
          (0x00007fbb99d51000)
          <br>
          libldap_r-2.4.so.2 =&gt; /usr/lib/libldap_r-2.4.so.2
          (0x00007fbb99b04000)
          <br>
          librt.so.1 =&gt; /lib/librt.so.1 (0x00007fbb998fc000)
          <br>
          libgssapi_krb5.so.2 =&gt; /usr/lib/libgssapi_krb5.so.2
          (0x00007fbb996c8000)
          <br>
          libssl.so.0.9.8 =&gt; /lib/libssl.so.0.9.8
          (0x00007fbb99475000)
          <br>
          libcrypto.so.0.9.8 =&gt; /lib/libcrypto.so.0.9.8
          (0x00007fbb990e5000)
          <br>
          /lib64/ld-linux-x86-64.so.2 (0x00007fbb9b589000)
          <br>
          libXau.so.6 =&gt; /usr/lib/libXau.so.6 (0x00007fbb98ee1000)
          <br>
          libXdmcp.so.6 =&gt; /usr/lib/libXdmcp.so.6
          (0x00007fbb98cda000)
          <br>
          libresolv.so.2 =&gt; /lib/libresolv.so.2 (0x00007fbb98ac1000)
          <br>
          libsasl2.so.2 =&gt; /usr/lib/libsasl2.so.2
          (0x00007fbb988a7000)
          <br>
          libgnutls.so.26 =&gt; /usr/lib/libgnutls.so.26
          (0x00007fbb98604000)
          <br>
          libpthread.so.0 =&gt; /lib/libpthread.so.0
          (0x00007fbb983e7000)
          <br>
          libkrb5.so.3 =&gt; /usr/lib/libkrb5.so.3 (0x00007fbb98123000)
          <br>
          libk5crypto.so.3 =&gt; /usr/lib/libk5crypto.so.3
          (0x00007fbb97efc000)
          <br>
          libcom_err.so.2 =&gt; /lib/libcom_err.so.2
          (0x00007fbb97cf8000)
          <br>
          libkrb5support.so.0 =&gt; /usr/lib/libkrb5support.so.0
          (0x00007fbb97af0000)
          <br>
          libkeyutils.so.1 =&gt; /lib/libkeyutils.so.1
          (0x00007fbb978ec000)
          <br>
          libtasn1.so.3 =&gt; /usr/lib/libtasn1.so.3
          (0x00007fbb976db000)
          <br>
          libgcrypt.so.11 =&gt; /lib/libgcrypt.so.11
          (0x00007fbb97462000)
          <br>
          libgpg-error.so.0 =&gt; /lib/libgpg-error.so.0
          (0x00007fbb9725e000)
          <br>
          <br>
          Consequently, 1st trial ended in:
          <br>
          /data/soft/ferret/v6.7/bin/ferret: error while loading shared
          libraries:
          <br>
          libgfortran.so.1: cannot open shared object file: No such file
          or
          <br>
          directory
          <br>
          <br>
          But my quick fix:
          <br>
          ln -s /usr/lib/libgfortran.so.3.0.0 libgfortran.so.1
          <br>
          <br>
          Didn't work:
          <br>
          /data/soft/ferret/v6.7/bin/ferret: symbol lookup error:
          <br>
          /data/soft/ferret/v6.7/bin/ferret: undefined symbol:
          <br>
          _gfortran_copy_string
          <br>
          <br>
          In the 30 minutes I devoted I could not find a suitable
          download in the
          <br>
          internet. libgfortran.so.3 seems to be the standard and the
          only
          <br>
          download from trustworthy sources I could find was not for
          64-bit.
          <br>
          <br>
          Any suggestion is very welcome!
          <br>
          <br>
          Best wishes,
          <br>
          Hella
          <br>
          <br>
          <br>
          <br>
        </blockquote>
      </blockquote>
------------------------------------------------------------------------
      <br>
      *Subject:* Re: [ferret_users] small numbers cause ferret error
      <br>
      *Sent:* 06 Jun 2011
      <br>
      *From:* Ansley Manke <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:Ansley.B.Manke@xxxxxxxx">&lt;Ansley.B.Manke@xxxxxxxx&gt;</a>
      <br>
      *To:* Hella Riede <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:hella.riede@xxxxxxx">&lt;hella.riede@xxxxxxx&gt;</a>
      <br>
      <br>
      Hi Hella,
      <br>
      Repeating the experiment using the same executable that you are
      using on our 64-bit machine,
      <br>
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; NOAA/PMEL TMAP
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; FERRET v6.64
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Linux(gfortran) 2.6.9-89.0.20.ELsmp - 09/16/10
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 6-Jun-11 11:19
      <br>
      <br>
      yes? list 1.e-38
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : constant
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1.000E-38
      <br>
      yes? list 1.e-39
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : constant
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1.000E-39
      <br>
      yes? list 1.e-40
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : constant
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1.000E-40
      <br>
      yes? list 1.e-41
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : constant
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1.000E-41
      <br>
      yes? list 1.e-44
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : constant
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 9.809E-45
      <br>
      yes? list 1.e-45
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : constant
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1.401E-45
      <br>
      yes? list 1.e-46
      <br>
      &#xA0;**ERROR: command syntax: 1.E-46
      <br>
      <br>
      I get the same result with Ferret v6.7.&#xA0; Now, v6.64 was an
      executable which we linked using all the static libraries we
      could, which we thought was the right thing to do at the time.
      However it could possibly mean that there is a mis-match between
      library versions in the shared-object libraries that are used by
      the executable when it runs on your machine, and what is linked
      statically into Ferret.&#xA0; So there are two things we can look into.
      <br>
      <br>
      1) What is the output of
      <br>
      <br>
      &gt; ldd ferret_v664
      <br>
      <br>
      ours shows this:
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; linux-vdso.so.1 =&gt;&#xA0; (0x00007fff311fc000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; libdl.so.2 =&gt; /lib64/libdl.so.2 (0x0000003599c00000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; libc.so.6 =&gt; /lib64/libc.so.6 (0x0000003599400000)
      <br>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; /lib64/ld-linux-x86-64.so.2 (0x0000003599000000)
      <br>
      <br>
      2) Can you try the latest release, v6.7?&#xA0; You can install it in
      one of your own local directories if you would like to do that.
      The output of the LIST commands would be interesting to see and
      also the output of ldd, again.
      <br>
      <br>
      Anlsey
      <br>
      <br>
      <blockquote type="cite">
        <blockquote type="cite">
          <blockquote type="cite">On 6/6/2011 10:53 AM, Hella Riede
            wrote:
            <br>
            <blockquote type="cite">Dear Ansley, dear ferreters,
              <br>
              <br>
              this is exactly what I am saying.
              <br>
              <br>
------------------------------------------------------------
              <br>
              Version 6.64 has the problem:
              <br>
------------------------------------------------------------
              <br>
              NOAA/PMEL TMAP
              <br>
              FERRET v6.64
              <br>
              Linux(gfortran) 2.6.9-89.0.20.ELsmp - 09/16/10
              <br>
              6-Jun-11 17:47
              <br>
              <br>
              yes? list 1.e-38
              <br>
              **ERROR: command syntax: 1.E-38
              <br>
              yes? list 1.e-39
              <br>
              **ERROR: command syntax: 1.E-39
              <br>
              yes? list 1.e-40
              <br>
              **ERROR: command syntax: 1.E-40
              <br>
              yes? list 1.e-41
              <br>
              **ERROR: command syntax: 1.E-41
              <br>
              yes? list 1.e-44
              <br>
              **ERROR: command syntax: 1.E-44
              <br>
              yes? list 1.e-45
              <br>
              **ERROR: command syntax: 1.E-45
              <br>
              yes? list 1.e-46
              <br>
              **ERROR: command syntax: 1.E-46
              <br>
              <br>
              <br>
------------------------------------------------------------
              <br>
              Version 6.40 does NOT have it:
              <br>
------------------------------------------------------------
              <br>
              NOAA/PMEL TMAP
              <br>
              FERRET v6.401
              <br>
              Linux(g77) 2.4.21-57.ELsmp - 12/09/09
              <br>
              6-Jun-11 17:44
              <br>
              <br>
              yes? list 1.e-38
              <br>
              VARIABLE : constant
              <br>
              1.000E-38
              <br>
              yes? list 1.e-39
              <br>
              VARIABLE : constant
              <br>
              1.000E-39
              <br>
              yes? list 1.e-44
              <br>
              VARIABLE : constant
              <br>
              9.809E-45
              <br>
              yes? list 1.e-45
              <br>
              VARIABLE : constant
              <br>
              1.401E-45
              <br>
              yes? list 1.e-46
              <br>
              VARIABLE : constant
              <br>
              0.0000
              <br>
              <br>
              <br>
              Both versions run on the same machine, which is:
              <br>
              64-bit system
              <br>
              amd64_sles11
              <br>
              Linux version 2.6.32.23-0.3-default (geeko@buildhost) (gcc
              version
              <br>
              4.3.4 [gcc-4_3-branch revision 152973] (SUSE Linux) ) #1
              SMP
              <br>
              2010-10-07 14:57:45 +0200
              <br>
              <br>
              Except for the ferret version I only see a difference in
              the compiler
              <br>
              as Ansley already mentioned. g77 -&gt; gfortran. It looks
              like this is
              <br>
              not intended and not explicable by IEEE standard... I
              switch between
              <br>
              ferret versions to handle my data :-|
              <br>
              <br>
              Thanks for helping.
              <br>
              <br>
              Cheers,
              <br>
              HellA
              <br>
              <br>
              <br>
              <br>
------------------------------------------------------------------------
              <br>
              <br>
              *Subject:* Re: [ferret_users] small numbers cause ferret
              error
              <br>
              *Sent:* Wed 01 Jun 2011 11:50:54 AM CEST -0700
              <br>
              *From:* Ansley Manke <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:Ansley.B.Manke@xxxxxxxx">&lt;Ansley.B.Manke@xxxxxxxx&gt;</a>
              <br>
              *To:* Hella Riede <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:hella.riede@xxxxxxx">&lt;hella.riede@xxxxxxx&gt;</a>
              <br>
              *Cc:* <a rel="nofollow" class="moz-txt-link-abbreviated" href="mailto:martin.schmidt@xxxxxxxxxxxxxxxxx">martin.schmidt@xxxxxxxxxxxxxxxxx</a>,
              <a rel="nofollow" class="moz-txt-link-abbreviated" href="mailto:Steven.C.Hankin@xxxxxxxx">Steven.C.Hankin@xxxxxxxx</a>
              <br>
              <br>
              <blockquote type="cite">Hi Helle
                <br>
                Are you saying that you seen an error on the first
                command when you
                <br>
                run
                <br>
                the examples Steve shows below?
                <br>
                <br>
                yes? list 1.e-38
                <br>
                <br>
                yes? list 1.e-39
                <br>
                <br>
                yes? list 1.e-44
                <br>
                <br>
                yes? list 1.e-45
                <br>
                <br>
                yes? list 1.e-46
                <br>
                <br>
                <br>
                On 5/31/2011 12:10 PM, Hella Riede wrote:
                <br>
                <blockquote type="cite">Hi people,
                  <br>
                  <br>
                  thanks for the comparison and IEEE information. I
                  realized now the
                  <br>
                  last email was already not to the list anymore. Sorry
                  for my late
                  <br>
                  reply - at first I thought my question was already
                  answered by the
                  <br>
                  IEEE definition, but my problem persists: I already
                  get an error at
                  <br>
                  1E-38, which should still be in the valid IEEE range.
                  <br>
                  <br>
                  To answer Ansley's question:
                  <br>
                  64-bit system
                  <br>
                  amd64_sles11
                  <br>
                  Linux version 2.6.32.23-0.3-default (geeko@buildhost)
                  (gcc version
                  <br>
                  4.3.4 [gcc-4_3-branch revision 152973] (SUSE Linux) )
                  #1 SMP
                  <br>
                  2010-10-07 14:57:45 +0200
                  <br>
                  <br>
                  <br>
                  Best regards,
                  <br>
                  Hella
                  <br>
                  <br>
----------------------------------------------------------------------------------------------------
                  <br>
                  <br>
                  <br>
                  <br>
                  <br>
                  From: <a rel="nofollow" class="moz-txt-link-abbreviated" href="mailto:Steven.C.Hankin@xxxxxxxx">Steven.C.Hankin@xxxxxxxx</a>
                  <br>
                  <br>
                  IEEE floating point range should be: ~10^-44.85 to
                  ~10^38.53
                  <br>
                  <br>
                  Trying Ferret V6.7 on a 32 bit machine I get
                  <br>
                  <br>
                  yes? list 1.e-38
                  <br>
                  VARIABLE : constant
                  <br>
                  1.000E-38
                  <br>
                  yes? list 1.e-39
                  <br>
                  VARIABLE : constant
                  <br>
                  1.000E-39
                  <br>
                  yes? list 1.e-44
                  <br>
                  VARIABLE : constant
                  <br>
                  9.809E-45
                  <br>
                  yes? list 1.e-45
                  <br>
                  VARIABLE : constant
                  <br>
                  1.401E-45
                  <br>
                  yes? list 1.e-46
                  <br>
                  * **ERROR: command syntax: 1.E-46*
                  <br>
                  <br>
                  This seems like the appropriate behavior.
                  <br>
                  <br>
                  - Steve
                  <br>
                  <br>
                  <br>
------------------------------------------------------------------------
                  <br>
                  <br>
                  <br>
                  <br>
                  *Subject:* Re: [ferret_users] small numbers cause
                  ferret error
                  <br>
                  *Sent:* Mon 18 Apr 2011 09:15:25 AM CEST -0700
                  <br>
                  *From:* Ansley Manke <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:Ansley.B.Manke@xxxxxxxx">&lt;Ansley.B.Manke@xxxxxxxx&gt;</a>
                  <br>
                  *To:* <a rel="nofollow" class="moz-txt-link-abbreviated" href="mailto:martin.schmidt@xxxxxxxxxxxxxxxxx">martin.schmidt@xxxxxxxxxxxxxxxxx</a>
                  <br>
                  *Cc:* Hella Riede <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:hella.riede@xxxxxxx">&lt;hella.riede@xxxxxxx&gt;</a>, Ferret
                  users
                  <br>
                  <a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:oar.pmel.ferret_users@xxxxxxxx">&lt;oar.pmel.ferret_users@xxxxxxxx&gt;</a>
                  <br>
                  <br>
                  <blockquote type="cite">Hi -
                    <br>
                    I am not seeing this error, see below (n a 64-bit
                    machine, linux
                    <br>
                    RedHat
                    <br>
                    5). The difference between versions is that the
                    newer ones, starting
                    <br>
                    with Ferret v6.6 are compiled with gfortran and the
                    older one with
                    <br>
                    g77.
                    <br>
                    Hella and Martin, maybe we can take the discussion
                    off-line - what
                    <br>
                    operating systems are you running?
                    <br>
                    <br>
                    NOAA/PMEL TMAP
                    <br>
                    FERRET v6.4
                    <br>
                    Linux(g77) 2.6.9-89.ELsmp - 11/30/09
                    <br>
                    18-Apr-11 09:07
                    <br>
                    <br>
                    yes? list 1.e-38
                    <br>
                    VARIABLE : constant
                    <br>
                    1.000E-38
                    <br>
                    <br>
                    ---
                    <br>
                    NOAA/PMEL TMAP
                    <br>
                    FERRET v6.64
                    <br>
                    Linux(gfortran) 2.6.9-89.0.20.ELsmp - 09/20/10
                    <br>
                    18-Apr-11 08:58
                    <br>
                    <br>
                    yes? list 1.e-38
                    <br>
                    VARIABLE : constant
                    <br>
                    1.000E-38
                    <br>
                    <br>
                    ---
                    <br>
                    NOAA/PMEL TMAP
                    <br>
                    FERRET v6.67
                    <br>
                    Linux(gfortran) 2.6.18-238.1.1.el5 - 02/11/11
                    <br>
                    18-Apr-11 08:59
                    <br>
                    <br>
                    yes? list 1.e-38
                    <br>
                    VARIABLE : constant
                    <br>
                    1.000E-38
                    <br>
                    <br>
                    <br>
                    On 4/18/2011 12:20 AM, Martin Schmidt wrote:
                    <br>
                    <blockquote type="cite">Hi,
                      <br>
                      I can reproduce the error with 6.6.7. However,
                      <br>
                      <br>
                      list 1e-37/10
                      <br>
                      <br>
                      gives correct output.
                      <br>
                      <br>
                      Greetings,
                      <br>
                      M. Schmidt
                      <br>
                      <br>
                      <br>
                      Hella Riede wrote:
                      <br>
                      <blockquote type="cite">Dear ferreters,
                        <br>
                        <br>
                        I encountered problems using my ferret scripts
                        after moving from
                        <br>
                        version 6.40 to 6.64. The very small numbers
                        that appear in
                        <br>
                        some of
                        <br>
                        our model output (which is my ferret script
                        input) cause an
                        <br>
                        error in
                        <br>
                        ferret. To avoid the problem, they could be set
                        to zero defining a
                        <br>
                        certain threshold. However, I preferred the
                        previous handling
                        <br>
                        without
                        <br>
                        having to use any manual thresholds - what
                        happened? Has this been
                        <br>
                        fixed since version 6.64?
                        <br>
                        <br>
                        Kind regards,
                        <br>
                        Hella
                        <br>
                        <br>
----------------------------------------------------------
                        <br>
                        problem with very small numbers
                        <br>
----------------------------------------------------------
                        <br>
                        NOAA/PMEL TMAP
                        <br>
                        FERRET v6.64
                        <br>
                        Linux(gfortran) 2.6.9-89.0.20.ELsmp - 09/16/10
                        <br>
                        18-Apr-11 02:41
                        <br>
                        <br>
                        yes? list 1E-38
                        <br>
                        **ERROR: command syntax: 1E-38
                        <br>
                        yes? list 1E-37
                        <br>
                        VARIABLE : constant
                        <br>
                        1.000E-37
                        <br>
----------------------------------------------------------
                        <br>
                        no problem with very small numbers
                        <br>
----------------------------------------------------------
                        <br>
                        NOAA/PMEL TMAP
                        <br>
                        FERRET v6.401
                        <br>
                        Linux(g77) 2.4.21-57.ELsmp - 12/09/09
                        <br>
                        18-Apr-11 02:42
                        <br>
                        <br>
                        yes? list 1E-38
                        <br>
                        VARIABLE : constant
                        <br>
                        1.000E-38
                        <br>
                        yes? list 1E-37
                        <br>
                        VARIABLE : constant
                        <br>
                        1.000E-37
                        <br>
                      </blockquote>
                      <br>
                    </blockquote>
                    <br>
                  </blockquote>
                  <br>
                </blockquote>
                <br>
              </blockquote>
              <br>
            </blockquote>
            <br>
          </blockquote>
          <br>
        </blockquote>
        <br>
      </blockquote>
      <br>
    </blockquote>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00269" href="msg00269.html">[ferret_users] small numbers cause ferret error</a></strong>
<ul><li><em>From:</em> Hella Riede</li></ul></li>
<li><strong><a name="00270" href="msg00270.html">Re: [ferret_users] small numbers cause ferret error</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
<li><strong><a name="00272" href="msg00272.html">Re: [ferret_users] small numbers cause ferret error</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00453" href="msg00453.html">Re: [ferret_users] small numbers cause ferret error</a></strong>
<ul><li><em>From:</em> Hella Riede</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00453.html">Re: [ferret_users] small numbers cause ferret error</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00271.html">[ferret_users] tics</a></strong>
</li>

</UL>
<center>[<a href="msg00453.html">Thread Prev</a>][<a href="msg00271.html">Thread Next</a>][<A HREF="threads.html#00454">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
