<!-- MHonArc v2.6.16 -->
<!--X-Subject: [ferret_users] [las_users] some z&#45;levels of special variables cannot be displayed by LAS -->
<!--X-From-R13: [negva Epuzvqg <znegva.fpuzvqgNvb&#45;jnearzhraqr.qr> -->
<!--X-Date: Thu, 24 Mar 2011 07:36:09 &#45;0700 -->
<!--X-Message-Id: 4D8B56CA.4030201@io&#45;warnemuende.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 7EA42CB9A0846C4A8523B634657FDF8EABDA15EC99@NDMSSCC04.ndc.nasa.gov -->
<!--X-Reference: 4D8A25A1.7090803@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] [las_users] some z-levels of special variables cannot be displayed by LAS</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00218.html">Thread Prev</a>][<a href="msg00227.html">Thread Next</a>][<A HREF="threads.html#00225">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] [las_users] some z-levels of special variables cannot be displayed by LAS</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Roland Schweitzer &lt;<a href="mailto:Roland.Schweitzer@DOMAIN.HIDDEN">Roland.Schweitzer@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] [las_users] some z-levels of special variables cannot be displayed by LAS</strong></li>
<li><strong>From</strong>: <strong>Martin Schmidt &lt;<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 24 Mar 2011 15:35:54 +0100</li>
<li>Cc: &quot;<a href="mailto:las_users@DOMAIN.HIDDEN">las_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:oar.pmel.las_users@DOMAIN.HIDDEN">oar.pmel.las_users@xxxxxxxx</a>&gt;,        ferret_users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="mailto:4D8A25A1.7090803@DOMAIN.HIDDEN">4D8A25A1.7090803@xxxxxxxx</a>&gt;</li>
<li>Organization: IOW</li>
<li>References: &lt;<a href="mailto:7EA42CB9A0846C4A8523B634657FDF8EABDA15EC99@DOMAIN.HIDDEN">7EA42CB9A0846C4A8523B634657FDF8EABDA15EC99@xxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D8A25A1.7090803@DOMAIN.HIDDEN">4D8A25A1.7090803@xxxxxxxx</a>&gt;</li>
<li>Reply-to: <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (X11; U; AIX 5.3; en-US; rv:1.9.1.11) Gecko/20100701 SeaMonkey/2.0.6</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi,
</pre><tt>I am trying to put model results on a LAS. The server is working since 
</tt><tt>some time, hence it is not the latest version
</tt><pre style="margin: 0em;">
of LAS (7.0.3) and ferret (6.2).

</pre><tt>The data consist of many time slices in many files coupled together with 
</tt><tt>a ferret descriptor file. Each file contains
</tt><pre style="margin: 0em;">
about 20 variables and has exactly the same structure.

The configuration xml-file has old style and looks like:

&lt;datasets&gt;
&lt;template_nc name=&quot;Atlantic ecosystem model&quot; doc=&quot;&quot;&gt;
&lt;variables&gt;
&lt;eta_t
</pre><tt>    
</tt><tt>url=&quot;file:/u/las/las-daten/atlantic_genus_9_bio_desfiles/ocean_day.des#eta_t&quot;
</tt><pre style="margin: 0em;">
    name=&quot;sea surface height (t-cells) &quot; units=&quot;m&quot;&gt;
&lt;link match=&quot;/lasdata/grids/template_nc_XT_OCEAN_YT_OCEAN_TIME_grid&quot;/&gt;
&lt;/eta_t&gt;
&lt;age_global
</pre><tt>    
</tt><tt>url=&quot;file:/u/las/las-daten/atlantic_genus_9_bio_desfiles/ocean_day.des#age_global&quot;
</tt><pre style="margin: 0em;">
    name=&quot;Age after surface contact&quot; units=&quot;y&quot;&gt;
</pre><tt>&lt;link 
</tt><tt>match=&quot;/lasdata/grids/template_nc_XT_OCEAN_YT_OCEAN_ST_OCEAN_TIME_grid&quot;/&gt;
</tt><pre style="margin: 0em;">
&lt;/age_global&gt;
&lt;salt
</pre><tt>    
</tt><tt>url=&quot;file:/u/las/las-daten/atlantic_genus_9_bio_desfiles/ocean_day.des#salt&quot;
</tt><pre style="margin: 0em;">
    name=&quot;Salinity&quot; units=&quot;g/kg&quot;&gt;
</pre><tt>&lt;link 
</tt><tt>match=&quot;/lasdata/grids/template_nc_XT_OCEAN_YT_OCEAN_ST_OCEAN_TIME_grid&quot;/&gt;
</tt><pre style="margin: 0em;">
&lt;/salt&gt;

</pre><tt>This works fine for most variables. However there are some exceptions. 
</tt><tt>Here I get errors like
</tt><pre style="margin: 0em;">

 Cached data cleared from memory
 **ERROR: command syntax: DATA_PLOTTED_MIN = ???
DEFINE SYMBOL data_plotted_min =
Command file, command group, or REPEAT execution aborted
STOP -script mode, ERROR RUNNING SCRIPT statement executed

The LAS is
<a  rel="nofollow" href="http://phy-49.io-warnemuende.de:8080">http://phy-49.io-warnemuende.de:8080</a>
The data set in question is &quot;Atlantic ecosystem model&quot;
salt, temperature and ecosystem variables can be displayed.
A critical variable is age_global that cannot be displayed in horizontal
sections different from the surface layer. Other sections can be shown.
I could not find the reason for this error. Offline, with ferret everything works fine.
Here is the variable definition in the netcdf file.
        float salt(time, st_ocean, yt_ocean, xt_ocean) ;
                salt:long_name = &quot;Salinity&quot; ;
                salt:units = &quot;psu&quot; ;
                salt:valid_range = -10.f, 100.f ;
                salt:missing_value = -1.e+20f ;
                salt:cell_methods = &quot;time: mean&quot; ;
                salt:time_avg_info = &quot;average_T1,average_T2,average_DT&quot; ;
                salt:coordinates = &quot;geolon_t geolat_t&quot; ;
                salt:standard_name = &quot;sea_water_salinity&quot; ;
        float age_global(time, st_ocean, yt_ocean, xt_ocean) ;
                age_global:long_name = &quot;Age (global)&quot; ;
                age_global:units = &quot;yr&quot; ;
                age_global:valid_range = 0.f, 1.e+20f ;
                age_global:missing_value = -1.e+20f ;
                age_global:cell_methods = &quot;time: mean&quot; ;
                age_global:time_avg_info = &quot;average_T1,average_T2,average_DT&quot; ;
                age_global:coordinates = &quot;geolon_t geolat_t&quot; ;
                age_global:standard_name = &quot;sea_water_age_since_surface_contact&quot; ;

Could it be that the valid_range starting with 0 is the problem? There are 0 values
of age_global in the file but no negative salinities.
(There are other data sets with age variables, but here the data sets do not have the
valid_range attribute.)

Does anyone know about such errors and/or a possible workaround?

Greetings,
Martin Schmidt





</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00218.html">[ferret_users] looping through the files</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00227.html">[ferret_users] Light A Candle With SocialKonnekt And Pray For Japan</a></strong>
</li>

</UL>
<center>[<a href="msg00218.html">Thread Prev</a>][<a href="msg00227.html">Thread Next</a>][<A HREF="threads.html#00225">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
