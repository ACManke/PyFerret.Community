<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] data from netcdf file automatically reversed -->
<!--X-From-R13: Khr Qunb <punblhrwblNtznvy.pbz> -->
<!--X-Date: Tue, 3 May 2011 04:46:52 &#45;0700 -->
<!--X-Message-Id: BANLkTi=3R4KY8bKqJACfXHWRze7R&#45;Jw+TQ@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: BANLkTikXM89_vqSNEhGtYe3zgyC6Qs3ZOQ@mail.gmail.com -->
<!--X-Reference: 4DBEEB2E.8010409@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] data from netcdf file automatically reversed</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00327.html">Thread Prev</a>][<a href="msg00331.html">Thread Next</a>][<A HREF="threads.html#00330">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] data from netcdf file automatically reversed</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] data from netcdf file automatically reversed</strong></li>
<li><strong>From</strong>: <strong>Yue Chao &lt;<a href="mailto:chaoyuejoy@DOMAIN.HIDDEN">chaoyuejoy@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 03 May 2011 13:46:48 +0200</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:mime-version:in-reply-to:references:date         :message-id:subject:from:to:cc:content-type; bh=L/Gv6EPCDv4vuzmnxnqTYZu/mSLeIS0AyjJdxFIyzro=; b=r7+CKHDjzszOhVZz1qJLD17kOqy+0wX0nqvewHWAPR6/EomDdn9R83aAcdJSIgaBkv W2XgECZxXwk1rvgU8cWrtnZvkXbS0O/4cQpKKWCSpPTajXAzOYCDklgpTrGSHHt0m6km dxLPOuEIfnkRl0lbeQsDZt94zKXxzn+5+AiCk=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :cc:content-type; b=I5eCaF3X+Lxh0yjpZRHvZ1NYg1z48gqt7lTYfFxd73gniEhFwQw8GwoHkfh5eo2415 DV6GX3HlqnzAjQ/CFKhy/Q9M2HzvOyWxpvze4+n0vbyEGmhZAyZJ/Rr8cpy1w5lENyqX Vr86D4/oQ0GVQdVS9nAEZAECPdUfP/lB/UwBQ=</li>
<li>In-reply-to: &lt;<a href="mailto:4DBEEB2E.8010409@DOMAIN.HIDDEN">4DBEEB2E.8010409@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:BANLkTikXM89_vqSNEhGtYe3zgyC6Qs3ZOQ@DOMAIN.HIDDEN">BANLkTikXM89_vqSNEhGtYe3zgyC6Qs3ZOQ@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4DBEEB2E.8010409@DOMAIN.HIDDEN">4DBEEB2E.8010409@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Thank you Ansley. I do think it&#39;s the problem of time coordinate. Actually when I show data:<br><br>yes? show da<br>&#xA0;&#xA0;&#xA0;&#xA0; currently SET data sets:<br>&#xA0;&#xA0;&#xA0; 1&gt; ./<a rel="nofollow" href="http://data.nc">data.nc</a>&#xA0; (default)<br>&#xA0;name&#xA0;&#xA0;&#xA0;&#xA0; title&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; I&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; J&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; K&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; L<br>
&#xA0;TIME_COUNTER<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Time axis&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ...&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ...&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ...&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1:389<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; (invalid coordinate axis)<br>&#xA0;TOTAL_SOIL_CARB<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; total soil and litter carbon&#xA0;&#xA0;&#xA0;&#xA0; 1:1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1:1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1:13&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 1:389<br>
<br>using ncdump -c <a rel="nofollow" href="http://data.nc">data.nc</a> <br><br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; double time_counter(time_counter) ;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; time_counter:axis = &quot;T&quot; ;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; time_counter:standard_name = &quot;time&quot; ;<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; time_counter:units = &quot;seconds since 2005-01-01 00:00:00&quot; ;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; time_counter:calendar = &quot;noleap&quot; ;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; time_counter:title = &quot;Time&quot; ;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; time_counter:long_name = &quot;Time axis&quot; ;<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; time_counter:time_origin = &quot; 2005-JAN-01 00:00:00&quot; ;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; time_counter:bounds = &quot;time_counter_bnds&quot; ;<br>....<br>&#xA0;time_counter = 15768000, -78926400, 15768000, 15768000, -78926400, <br>
&#xA0;&#xA0;&#xA0; -15854400, -47390400, -15854400, -110462400, -78926400, -78926400, <br>&#xA0;&#xA0;&#xA0; -47390400, -78926400, -15854400, -110462400, 15768000, 15768000, <br>&#xA0;&#xA0;&#xA0; -47390400, -110462400, -47390400, -15854400, 15768000, -15854400, <br>
&#xA0;&#xA0;&#xA0; -78926400, -110462400, 15768000, -110462400, -15854400, 15768000, <br>&#xA0;&#xA0;&#xA0; 15768000, -78926400, 15768000, 15768000, 15768000, -78926400, -15854400, <br>&#xA0;&#xA0;&#xA0; -47390400, -47390400, -110462400, -110462400, -78926400, 15768000, <br>
&#xA0;&#xA0;&#xA0; -110462400, 15768000, -47390400, -15854400, 15768000, -110462400, <br>&#xA0;&#xA0;&#xA0; -47390400, -110462400, -15854400, -15854400, -15854400, -47390400, <br>&#xA0;&#xA0;&#xA0; -15854400, 15768000, -78926400, -78926400, -78926400, -78926400, <br>
&#xA0;&#xA0;&#xA0; -15854400, -110462400, -78926400, -47390400, 15768000, -15854400, <br>&#xA0;&#xA0;&#xA0; -15854400, 15768000, -110462400, -47390400, 15768000, -110462400, <br>&#xA0;&#xA0;&#xA0; -110462400, 15768000, -78926400, -47390400, -15854400, 15768000, <br>
&#xA0;&#xA0;&#xA0; -15854400, 15768000, 15768000, -78926400, -15854400, -47390400, 15768000, <br>&#xA0;&#xA0;&#xA0; -47390400, 15768000, -78926400, -15854400, -110462400, -47390400, <br>&#xA0;&#xA0;&#xA0; -47390400, -78926400, -15854400, -110462400, -110462400, -47390400, <br>
&#xA0;&#xA0;&#xA0; -15854400, -110462400, 15768000, 15768000, -110462400, 15768000, <br>&#xA0;&#xA0;&#xA0; -15854400, -110462400, -110462400, 15768000, 15768000, -47390400, <br>&#xA0;&#xA0;&#xA0; -78926400, 15768000, 15768000, 15768000, 15768000, -78926400, -78926400, <br>
......<br><br>notice it says &quot;invalid coordinate axis&quot;, so when I make plot, the horizontal axis is not the time varialbe but only index numbers from 1 to 389.<br>Actually the <a rel="nofollow" href="http://data.nc">data.nc</a> is derived by concatenating a series of nc files which are model results forced by randomly circularly using 4 years climate data. (that&#39;s<br>
why you see randomly circular same numbers in time_counter value)<br>maybe I can just use the function samplet to do a resample. but I think your answer is very relevant.<br><br>Thank you and cheers,<br><br>Chao<br><br><div class="gmail_quote">
2011/5/2 Ansley Manke <span dir="ltr">&lt;<a rel="nofollow" href="mailto:Ansley.B.Manke@xxxxxxxx">Ansley.B.Manke@xxxxxxxx</a>&gt;</span><br><blockquote class="gmail_quote" style="margin: 0pt 0pt 0pt 0.8ex; border-left: 1px solid rgb(204, 204, 204); padding-left: 1ex;">


  
    
  
  <div text="#000000" bgcolor="#ffffff">
    Hi Chao,<br>
    In your netCDF file, are the time coordinate values decreasing?&#xA0; If
    Ferret encounters a file where the coordinates are decreasing
    instead of increasing, it will reorder the coordinates and the
    data.&#xA0; <br>
    <br>
    Look at the result of ncdump -c.&#xA0; Do the coordinate values in the
    axis variable <b>time_counter </b>have increasing or decreasing
    values?<br><font color="#888888">
    <br>
    Ansley</font><div><div></div><div class="h5"><br>
    <br>
    On 5/2/2011 8:40 AM, Yue Chao wrote:
    <blockquote type="cite">Dear all ferret_users,<br>
      <br>
      I am new beginner in ferret and forgive me it&#39;s stupid question.<br>
      I try to read a variable from a netCDF file and make line plot.
      when I use ncdump to check the data, it&#39;s the right sequence. <br>
      from the begining of time, the value of variable increases. but
      when the data is listed in ferret, the sequence has been
      automatically<br>
      reversed. I guess I have the wrong time axis?&#xA0; But before this,
      when I try to do exactly the same thing using the data produced by
      a <br>
      very much similar way, nothing strange happened.<br>
      <br>
      actually the time axis is plainly sequential numbers...<br>
      yes? show axis time_counter<br>
      &#xA0;name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; axis&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; # pts&#xA0;&#xA0; start&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; end<br>
      &#xA0;TIME_COUNTER&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 389 r&#xA0;&#xA0; 1&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 389<br>
      <br>
      Thank you if you have any idea, I just want to understand what&#39;s
      going on. <br clear="all">
      <br>
      best,<br>
      <br>
      Chao<br>
      -- <br>
      <div>***********************************************************************************</div>
      <div>Chao YUE<br>
        Laboratoire des Sciences du Climat et de l&#39;Environnement
        (LSCE-IPSL)<br>
        UMR 1572 CEA-CNRS-UVSQ<br>
        Batiment 712 - Pe 119<br>
        91191 GIF Sur YVETTE Cedex</div>
      <div>Tel: (33) 01 69 08 77 30</div>
      <div>Portable Phone (Mobil phone) : (33) 07 60 54&#xA0; 23 71</div>
      <div>************************************************************************************</div>
      <br>
    </blockquote>
  </div></div></div>

</blockquote></div><br><br clear="all"><br>-- <br><div>***********************************************************************************</div>
<div>Chao YUE<br>Laboratoire des Sciences du Climat et de l&#39;Environnement (LSCE-IPSL)<br>UMR 1572 CEA-CNRS-UVSQ<br>Batiment 712 - Pe 119<br>91191 GIF Sur YVETTE Cedex</div>
<div>Tel: (33) 01 69 08 77 30</div>
<div>Portable Phone (Mobil phone) : (33) 07 60 54&#xA0; 23 71</div>
<div>************************************************************************************</div><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00335" href="msg00335.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
<ul><li><em>From:</em> Brockmann Patrick</li></ul></li>
<li><strong><a name="00331" href="msg00331.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
<ul><li><em>From:</em> Hein Zelle</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00325" href="msg00325.html">[ferret_users] data from netcdf file automatically reversed</a></strong>
<ul><li><em>From:</em> Yue Chao</li></ul></li>
<li><strong><a name="00327" href="msg00327.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00327.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00331.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
</li>

</UL>
<center>[<a href="msg00327.html">Thread Prev</a>][<a href="msg00331.html">Thread Next</a>][<A HREF="threads.html#00330">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
