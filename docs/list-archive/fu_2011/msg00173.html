<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Interpolation 2D issue -->
<!--X-From-R13: Emlzba Dbmvrjfxv <fmlzba.ebmvrjfxvNtznvy.pbz> -->
<!--X-Date: Mon, 14 Mar 2011 05:08:21 &#45;0700 -->
<!--X-Message-Id: AANLkTi=_EOV_jL8hua3HkEv4RtY70CagRPZ2E+aeyzTD@mail.gmail.com -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: AANLkTikhKS6nWJjTF9_JP4ssAbGnTwMpnfJUfmxF+igF@mail.gmail.com -->
<!--X-Reference: 4D772AA8.2060906@io&#45;warnemuende.de -->
<!--X-Reference: AANLkTikNM_U1XrgAj2V+6KUa_VDrztAg2cHX0YZ8aHrr@mail.gmail.com -->
<!--X-Reference: 4D7799B2.1080607@io&#45;warnemuende.de -->
<!--X-Reference: 4D77B903.2090301@noaa.gov -->
<!--X-Reference: AANLkTi=m+DNW=mGeUXV7VNTi_HrewxCAD2KW2r8tDfUd@mail.gmail.com -->
<!--X-Reference: 4D79E6AD.8030502@io&#45;warnemuende.de -->
<!--X-Reference: AANLkTineD5P=Y8mvyD5VQ7KDXgW8yCgEzJ__BqjwvDSc@mail.gmail.com -->
<!--X-Reference: AANLkTin&#45;bJGW9KWfswxnRsgDzxpv6Rc=SF592QxAbD14@mail.gmail.com -->
<!--X-Reference: CACA09D1&#45;85EF&#45;4ADD&#45;A1D5&#45;716A9A04A84F@noaa.gov -->
<!--X-Reference: AE95F7DF&#45;88F3&#45;4015&#45;8B29&#45;30412C80A5DC@noaa.gov -->
<!--X-Reference: A72BA6E8&#45;E005&#45;44B2&#45;93F3&#45;19461C80810A@noaa.gov -->
<!--X-Derived: gifSxZ6c5QjOS.gif -->
<!--X-Derived: gif8bZzInKJDg.gif -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Interpolation 2D issue</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00169.html">Thread Prev</a>][<a href="msg00159.html">Thread Next</a>][<A HREF="threads.html#00173">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Interpolation 2D issue</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;William S. Kessler&quot; &lt;<a href="mailto:William.S.Kessler@DOMAIN.HIDDEN">William.S.Kessler@xxxxxxxx</a>&gt;, <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Interpolation 2D issue</strong></li>
<li><strong>From</strong>: <strong>Szymon Roziewski &lt;<a href="mailto:szymon.roziewski@DOMAIN.HIDDEN">szymon.roziewski@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 14 Mar 2011 13:08:04 +0100</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:mime-version:in-reply-to:references:date         :message-id:subject:from:to:content-type; bh=wnida2k/ZBbqQ61jmYfpvDry1aQ9sWKzZKr+ZdGhx0c=; b=h3hTLxdQ5JJvUIVAuYEHn8aeQxofq0zDcHMk9+OL73uSdkUKqsUstDy02gyBdB5BuI JiLUQc8PWKZjChw6GK2MOmsdqPyD8U5FaH4cpwQs4xukLvpoSwqH6CsPBBj3zPEd31We 0gIrt/QoiRSB/wdxH/tIUokg6FIs+fIDBKBvo=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :content-type; b=XrKlSmZdLLUeIluvs38vY9ZmZEHeRQ1Fi5r+Zj/Lgojg+Jdyqoz55fN57KBtwevh9l XBziWCOjPiRLDGq9/gAWhprrQvS62zZKzsETSiYU1d+RarYcH0BS3wSWUfIhBCX2lxQ2 FphYKx4FX9BXESJ9jWs7nKTFnEKXgbSzIIUI0=</li>
<li>In-reply-to: &lt;<a href="mailto:A72BA6E8-E005-44B2-93F3-19461C80810A@DOMAIN.HIDDEN">A72BA6E8-E005-44B2-93F3-19461C80810A@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:AANLkTikhKS6nWJjTF9_JP4ssAbGnTwMpnfJUfmxF%2BigF@DOMAIN.HIDDEN">AANLkTikhKS6nWJjTF9_JP4ssAbGnTwMpnfJUfmxF+igF@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D772AA8.2060906@DOMAIN.HIDDEN">4D772AA8.2060906@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTikNM_U1XrgAj2V%2B6KUa_VDrztAg2cHX0YZ8aHrr@DOMAIN.HIDDEN">AANLkTikNM_U1XrgAj2V+6KUa_VDrztAg2cHX0YZ8aHrr@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D7799B2.1080607@DOMAIN.HIDDEN">4D7799B2.1080607@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D77B903.2090301@DOMAIN.HIDDEN">4D77B903.2090301@xxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTi%3Dm%2BDNW%3DmGeUXV7VNTi_HrewxCAD2KW2r8tDfUd@DOMAIN.HIDDEN">AANLkTi=m+DNW=mGeUXV7VNTi_HrewxCAD2KW2r8tDfUd@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D79E6AD.8030502@DOMAIN.HIDDEN">4D79E6AD.8030502@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTineD5P%3DY8mvyD5VQ7KDXgW8yCgEzJ__BqjwvDSc@DOMAIN.HIDDEN">AANLkTineD5P=Y8mvyD5VQ7KDXgW8yCgEzJ__BqjwvDSc@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTin-bJGW9KWfswxnRsgDzxpv6Rc%3DSF592QxAbD14@DOMAIN.HIDDEN">AANLkTin-bJGW9KWfswxnRsgDzxpv6Rc=SF592QxAbD14@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:CACA09D1-85EF-4ADD-A1D5-716A9A04A84F@DOMAIN.HIDDEN">CACA09D1-85EF-4ADD-A1D5-716A9A04A84F@xxxxxxxx</a>&gt; &lt;<a href="mailto:AE95F7DF-88F3-4015-8B29-30412C80A5DC@DOMAIN.HIDDEN">AE95F7DF-88F3-4015-8B29-30412C80A5DC@xxxxxxxx</a>&gt; &lt;<a href="mailto:A72BA6E8-E005-44B2-93F3-19461C80810A@DOMAIN.HIDDEN">A72BA6E8-E005-44B2-93F3-19461C80810A@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Dear William,<br>thank you for your response. I tried out your approach and I very appreciate it because it got me straight to the goal.<br>This is the script which works for me.<br><br>DEFINE AXIS/X=-5.666666667:5.25:0.083333333/unit=degree xlon<br>
DEFINE AXIS/Y=-2.0:10.0:0.083333333/unit=degree ylat<br>DEFINE GRID/x=xlon/y=ylat grid_xlon_xlat<br>file/skip=1/format=(80f1.0/52f1.0)/columns=132/grid=grid_xlon_xlat/var=lndseaf &quot;../wam/ICE.DAT&quot;<br>let lndseaftmp = lndseaf[d=1]<br>
DEFINE AXIS/X=-5.666666667:5.25:0.010416667/unit=degree xfinei<br>DEFINE AXIS/Y=-2.0:10.0:0.010416667/unit=degree yfinei !1/8<br>DEFINE GRID/x=xfinei/y=yfinei grid_xfinei_yfinei<br>let original_data=lndseaftmp[gxy=grid_xfinei_yfinei]<br>
let sbx3 = original_data[x=@sbx:7,y=@sbx:7]<br>let sbx5 = original_data[x=@sbx:9,y=@sbx:9]<br>let sbx7 = original_data[x=@sbx:11,y=@sbx:11]<br>let sbxa = if sbx7 then sbx7 else sbx5<br>let sbxb = if sbxa then sbxa else sbx3<br>
let sbx = if sbxb then sbxb else original_data<br>LET shn3 = sbx[x=@SHN:7,y=@SHN:7]<br>LET shn5 = sbx[x=@SHN:9,y=@SHN:9]<br>LET shn7 = sbx[x=@SHN:11,y=@SHN:11]<br>let shna = if shn7 then shn7 else shn5<br>let shnb = if shna then shna else shn3<br>
let shn = if shnb then shnb else sbx<br>shade/lev=(0.7,1)/pal=ice original_data<br>shade/lev=(0.7,1)/pal=ice/over shn<br><br>And also I attach two pictures for comparison.<br><br>Kind regards,<br>Szymon Roziewski<br><br><div class="gmail_quote">
2011/3/12 William S. Kessler <span dir="ltr">&lt;<a rel="nofollow" href="mailto:William.S.Kessler@xxxxxxxx">William.S.Kessler@xxxxxxxx</a>&gt;</span><br><blockquote class="gmail_quote" style="margin: 0pt 0pt 0pt 0.8ex; border-left: 1px solid rgb(204, 204, 204); padding-left: 1ex;">
Sorry for the repeat messages but I realized I made an error in my last response.<br>
<br>
For filling over blanks before smoothing, use FNR (nearest neighbor), not FLN (linear interpolation) as I had originally written. You would NOT want to fill linearly across a gap where the values could be different on the two sides. That could lead to the smoothing operation being contaminated by values from a different region entirely. However, it might be reasonable to use FNR which would simply extend the nearby coastal value over land. Following FNR, the smoothing operation would place successively more weight on the coastal value as you got closer to the edge, which might be desirable.<br>

<br>
Since Ferret makes it so easy to try these various techniques, it would be well worth trying them all out before settling on a final choice.<br>
<br>
BK<div><div></div><div class="h5"><br>
<br>
<br>
On Mar 11, 2011, at 11:34 AM, William S. Kessler wrote:<br>
<br>
<blockquote class="gmail_quote" style="margin: 0pt 0pt 0pt 0.8ex; border-left: 1px solid rgb(204, 204, 204); padding-left: 1ex;">
Another approach is the first fill (FLN) your field by extending the endpoints (think carefully and test what this will do in a 2-d field across, say, a peninsula or island). Then you can apply SBX or SPZ or whatever, then blank the result where the original field is blank.<br>

<br>
But, as always, do not do this blindly. Any of these choices imply certain assumptions about what is really going on at the edges.<br>
<br>
BK<br>
<br>
On Mar 11, 2011, at 10:30 AM, William S. Kessler wrote:<br>
<br>
<blockquote class="gmail_quote" style="margin: 0pt 0pt 0pt 0.8ex; border-left: 1px solid rgb(204, 204, 204); padding-left: 1ex;">
That is a statistics problem without a unique answer. It is a matter of estimating the N-member smoothed value where fewer than N members are known. Assumptions must be made.<br>
<br>
One way to do this in Ferret is SCAT2GRIDGAUSS, which is simply a weighted average that will compute values according to chosen distance scales XSCALE, YSCALE and CUTOFF. If you are starting with gridded data and want to keep the same grid, take the existing gridpoints as XPTS,YPTS; it will then be a smoothing operator that extends to (or past) the edges.<br>

<br>
Another is to use SBX or SPZ with sequentially increasing length:<br>
<br>
! First define smoothed fields of varying length:<br>
let sm3 = original_data[x=@sbx:3]<br>
let sm5 = original_data[x=@sbx:5]<br>
let sm7 = original_data[x=@sbx:7]<br>
<br>
! Now use each one where it exists:<br>
let smootha = if sm7 then sm7 else sm5<br>
let smoothb = if smootha then smootha else sm3<br>
let smooth = if smoothb then smoothb else original_data<br>
<br>
One advantage of an approach like this is that it reduces the smoothing scale at the boundaries. That will often be appropriate for a coastal ocean, where the scales are typically smaller at the coastal margins. SCAT2GRIDGAUSS, on the other hand, will apply the same smoothing everywhere.<br>

<br>
Billy K<br>
<br>
On 11 Mar 2011, at 8:48 AM, Szymon Roziewski wrote:<br>
<br>
<blockquote class="gmail_quote" style="margin: 0pt 0pt 0pt 0.8ex; border-left: 1px solid rgb(204, 204, 204); padding-left: 1ex;">
Hi Ferreters,<br>
I am wandering if there exists any functions which do almost the same as SBX and SHN but on the boundary where there are not sufficient number of neighbours they just take the neighbouring sites only at the interior direction where the neighbours exist.<br>

They could really help me.<br>
<br>
kind regards,<br>
Szymon Roziewski<br>
<br>
2011/3/11 Szymon Roziewski &lt;<a rel="nofollow" href="mailto:szymon.roziewski@xxxxxxxxx" target="_blank">szymon.roziewski@xxxxxxxxx</a>&gt;<br>
Yes, I found it.<br>
But when I was searching through the manual pdf I had to overlook it.<br>
Thank you.<br>
<br>
2011/3/11 Martin Schmidt &lt;<a rel="nofollow" href="mailto:martin.schmidt@xxxxxxxxxxxxxxxxx" target="_blank">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;<br>
<br>
Please go to the ferret web site, documentation, open the index, click &quot;m&quot; and scroll down<br>
to &quot;missing function&quot;<br>
<br>
Best,<br>
martin<br>
Szymon Roziewski wrote:<br>
Hi Martin,<br>
It looks very nice.<br>
I have to try out this but I don&#39;t really know what the function missing does. I had a look at manual and searched ferret site but there&#39;s no anything about this function.<br>
<br>
Kind regards,<br>
Szymon Roziewski<br>
<br>
2011/3/9 Ansley Manke &lt;<a rel="nofollow" href="mailto:Ansley.B.Manke@xxxxxxxx" target="_blank">Ansley.B.Manke@xxxxxxxx</a> &lt;mailto:<a rel="nofollow" href="mailto:Ansley.B.Manke@xxxxxxxx" target="_blank">Ansley.B.Manke@xxxxxxxx</a>&gt;&gt;<br>
<br>
<br>
&#xA0;Hi -<br>
&#xA0;We had noticed recently that documentation for fill_xy was missing<br>
&#xA0;from the manual. Your email here gives a nice example that we can<br>
&#xA0;use there.<br>
<br>
&#xA0;Ansley<br>
<br>
<br>
&#xA0;On 3/9/2011 7:16 AM, Martin Schmidt wrote:<br>
<br>
 &#xA0; &#xA0; Hi,<br>
 &#xA0; &#xA0; you are right, the documentation did not find its way into the<br>
 &#xA0; &#xA0; manual. It is easy anyway. The mask needs to be<br>
 &#xA0; &#xA0; 1 where filling is allowed and zero otherwise. Please try the<br>
 &#xA0; &#xA0; following<br>
<br>
 &#xA0; &#xA0; yes? use coads_climatology<br>
 &#xA0; &#xA0; yes? let mask=missing(sst/sst,1)<br>
 &#xA0; &#xA0; yes? shade/l=1 mask<br>
 &#xA0; &#xA0; yes? shade/l=1 fill_xy(sst,mask,5)<br>
 &#xA0; &#xA0; Filling is allowed<br>
<br>
 &#xA0; &#xA0; !Now missings at land<br>
 &#xA0; &#xA0; yes? let mask=sst/sst<br>
 &#xA0; &#xA0; yes? shade/l=1 mask<br>
 &#xA0; &#xA0; yes? shade/l=1 fill_xy(sst,mask,5)<br>
 &#xA0; &#xA0; Nothing is filled.<br>
<br>
 &#xA0; &#xA0; And now:<br>
 &#xA0; &#xA0; yes? let mask= if y[gy=sst] gt 0 then missing(sst/sst,1) else<br>
 &#xA0; &#xA0; sst/sst<br>
 &#xA0; &#xA0; yes? shade/l=1 fill_xy(sst,mask,5)<br>
<br>
 &#xA0; &#xA0; Now filling happens in the northern hemisphere.<br>
<br>
 &#xA0; &#xA0; Hope this helps,<br>
 &#xA0; &#xA0; Martin<br>
<br>
 &#xA0; &#xA0; Szymon Roziewski wrote:<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; Dear Martin / Ferreters,<br>
 &#xA0; &#xA0; &#xA0; &#xA0; I have problem with using fill_xy function. I saw some<br>
 &#xA0; &#xA0; &#xA0; &#xA0; examples and read sth in the ferret archives but I still<br>
 &#xA0; &#xA0; &#xA0; &#xA0; stuck.<br>
 &#xA0; &#xA0; &#xA0; &#xA0; I try to explain my issue.<br>
 &#xA0; &#xA0; &#xA0; &#xA0; This is reading an ice field and putting into a lndseaf. I<br>
 &#xA0; &#xA0; &#xA0; &#xA0; also quote the grid definition.<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; DEFINE AXIS/X=-5.666666667:5.25:0.083333333/unit=degree xlon<br>
 &#xA0; &#xA0; &#xA0; &#xA0; DEFINE AXIS/Y=-2.0:10.0:0.083333333/unit=degree ylat<br>
 &#xA0; &#xA0; &#xA0; &#xA0; DEFINE GRID/x=xlon/y=ylat grid_xlon_xlat<br>
 &#xA0; &#xA0; &#xA0; &#xA0; file/skip=1/format=(80f1.0/52f1.0)/columns=132/grid=grid_xlon_xlat/var=lndseaf<br>
 &#xA0; &#xA0; &#xA0; &#xA0; ICE.DAT<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; Then I interpolate the lndseaf onto a fine grid.<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; DEFINE AXIS/X=-5.666666667:5.25:0.010416667/unit=degree xfine<br>
 &#xA0; &#xA0; &#xA0; &#xA0; DEFINE AXIS/Y=-2.0:10.0:0.010416667/unit=degree yfine !1/8<br>
 &#xA0; &#xA0; &#xA0; &#xA0; DEFINE GRID/x=xfine/y=yfine grid_xfine_yfine<br>
 &#xA0; &#xA0; &#xA0; &#xA0; let ice_regridded lndseaf[gxy=grid_xfine_yfine]<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; What I did next was make the mask.<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; let mask = ice_regridded/ice_regridded<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; And I used the mask with fill_xy as the following<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; let ice_ext = fill_xy(ice_regridded,mask,5)<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; But It didn&#39;t change anything. I tried out using different<br>
 &#xA0; &#xA0; &#xA0; &#xA0; values of third argument of fill_xy. However, I didn&#39;t<br>
 &#xA0; &#xA0; &#xA0; &#xA0; improve at all.<br>
 &#xA0; &#xA0; &#xA0; &#xA0; So, I think either I was using fill_xy badly or I<br>
 &#xA0; &#xA0; &#xA0; &#xA0; misunderstood something.<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; I also tried out FLN function as follows<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; let ext = ice_regridded[x=@FLN:50,y=@FLN:50]<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; But this resulted with no changes to the ice_regridded as<br>
 &#xA0; &#xA0; &#xA0; &#xA0; well.<br>
 &#xA0; &#xA0; &#xA0; &#xA0; I attach ICE.DAT to make it more real.<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; Kind regards,<br>
 &#xA0; &#xA0; &#xA0; &#xA0; Szymon Roziewski<br>
<br>
<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; 2011/3/9 Martin Schmidt &lt;<a rel="nofollow" href="mailto:martin.schmidt@xxxxxxxxxxxxxxxxx" target="_blank">martin.schmidt@xxxxxxxxxxxxxxxxx</a><br>
 &#xA0; &#xA0; &#xA0; &#xA0; &lt;mailto:<a rel="nofollow" href="mailto:martin.schmidt@xxxxxxxxxxxxxxxxx" target="_blank">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &lt;mailto:<a rel="nofollow" href="mailto:martin.schmidt@xxxxxxxxxxxxxxxxx" target="_blank">martin.schmidt@xxxxxxxxxxxxxxxxx</a><br>
 &#xA0; &#xA0; &#xA0; &#xA0; &lt;mailto:<a rel="nofollow" href="mailto:martin.schmidt@xxxxxxxxxxxxxxxxx" target="_blank">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;&gt;&gt;<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Dear Szymon,<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;you may use fill_xy(data, mask, 2) before you filter<br>
 &#xA0; &#xA0; &#xA0; &#xA0; data. This<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;extrapolates the data smoothly into land by two points<br>
 &#xA0; &#xA0; &#xA0; &#xA0; and the<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;filter @SBX and @SHN<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;can do something reasonable near land too. Applying<br>
 &#xA0; &#xA0; &#xA0; &#xA0; your land mask<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;later removes remaining extrapolated points.<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Greetings,<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Martin<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Szymon Roziewski wrote:<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Dear Ferreters,<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;I have an ice field that is a matrix filled by 0 or<br>
 &#xA0; &#xA0; &#xA0; &#xA0; 1. Because<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;of weak resolution I need it to be interpolated on<br>
 &#xA0; &#xA0; &#xA0; &#xA0; a finer grid.<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;I tried out two approaches.<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;The first, I interpolated with using @SBX and @SHN<br>
 &#xA0; &#xA0; &#xA0; &#xA0; functions.<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Basically, I got neat result except to the boundary<br>
 &#xA0; &#xA0; &#xA0; &#xA0; where I<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;got a lack of data. Because this functions don&#39;t<br>
 &#xA0; &#xA0; &#xA0; &#xA0; have data to<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;interpolate and ending up with 0 value.<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;As the second I used scat2gridgauss_xy function<br>
 &#xA0; &#xA0; &#xA0; &#xA0; which gave me<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;smoother result but near the boundary I got the ice<br>
 &#xA0; &#xA0; &#xA0; &#xA0; that<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;should not to be. I think that this function is do<br>
 &#xA0; &#xA0; &#xA0; &#xA0; smooth the<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;data sometimes to much.<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Have any of you had something similar with it?<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Maybe there are some good ferret functions to<br>
 &#xA0; &#xA0; &#xA0; &#xA0; interpolate ice<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;field which is 0 or 1.<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;I attach two graphics for better explanation.<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Kind regards,<br>
 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;Szymon Roziewski<br>
<br>
<br>
<br>
<br>
<br>
 &#xA0; &#xA0; &#xA0; &#xA0; -- &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; Z wyrazami szacunku,<br>
 &#xA0; &#xA0; &#xA0; &#xA0; Szymon Roziewski<br>
<br>
<br>
<br>
<br>
<br>
-- <br>
Z wyrazami szacunku,<br>
Szymon Roziewski<br>
<br>
<br>
<br>
<br>
-- <br>
Z wyrazami szacunku,<br>
Szymon Roziewski<br>
<br>
<br>
<br>
-- <br>
Z wyrazami szacunku,<br>
Szymon Roziewski<br>
</blockquote>
<br>
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
William S. Kessler<br>
NOAA / Pacific Marine Environmental Laboratory<br>
7600 Sand Point Way NE<br>
Seattle WA 98115 USA<br>
<br>
<a rel="nofollow" href="mailto:william.s.kessler@xxxxxxxx" target="_blank">william.s.kessler@xxxxxxxx</a><br>
Tel: 206-526-6221<br>
Fax: 206-526-6744<br>
Web: <a rel="nofollow" href="http://www.pmel.noaa.gov/people/kessler" target="_blank">http://www.pmel.noaa.gov/people/kessler</a><br>
<br>
</blockquote>
<br>
</blockquote>
<br>
</div></div></blockquote></div><br><br clear="all"><br>-- <br>Z wyrazami szacunku,<br>Szymon Roziewski<br>
<p><strong>Attachment:
<a href="gifSxZ6c5QjOS.gif" ><tt>ice_original.gif</tt></a></strong><br>
<em>Description:</em> GIF image</p>
<p><strong>Attachment:
<a href="gif8bZzInKJDg.gif" ><tt>ice_smoothed_11_04_CHOSEN.gif</tt></a></strong><br>
<em>Description:</em> GIF image</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00149" href="msg00149.html">[ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> Szymon Roziewski</li></ul></li>
<li><strong><a name="00152" href="msg00152.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
<li><strong><a name="00155" href="msg00155.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> Szymon Roziewski</li></ul></li>
<li><strong><a name="00156" href="msg00156.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
<li><strong><a name="00160" href="msg00160.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> Szymon Roziewski</li></ul></li>
<li><strong><a name="00166" href="msg00166.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> Szymon Roziewski</li></ul></li>
<li><strong><a name="00167" href="msg00167.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> William S. Kessler</li></ul></li>
<li><strong><a name="00168" href="msg00168.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> William S. Kessler</li></ul></li>
<li><strong><a name="00169" href="msg00169.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> William S. Kessler</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00169.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00159.html">[ferret_users] about sigma coordinates to z coordinates..</a></strong>
</li>

</UL>
<center>[<a href="msg00169.html">Thread Prev</a>][<a href="msg00159.html">Thread Next</a>][<A HREF="threads.html#00173">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
