<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] strange error in climatological zonal average -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 22 Nov 2011 13:26:00 &#45;0800 -->
<!--X-Message-Id: 4ECC1368.9080106@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 1321980049.15821.YahooMailNeo@web31906.mail.mud.yahoo.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] strange error in climatological zonal average</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00870.html">Thread Prev</a>][<a href="msg00874.html">Thread Next</a>][<A HREF="threads.html#00871">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] strange error in climatological zonal average</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>jagadish karmacharya &lt;<a href="mailto:j_karmacharya@DOMAIN.HIDDEN">j_karmacharya@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] strange error in climatological zonal average</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 22 Nov 2011 13:26:00 -0800</li>
<li>Cc: users Group Ferret &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="mailto:1321980049.15821.YahooMailNeo@DOMAIN.HIDDEN">1321980049.15821.YahooMailNeo@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:1321980049.15821.YahooMailNeo@DOMAIN.HIDDEN">1321980049.15821.YahooMailNeo@xxxxxxxxxxxxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:8.0) Gecko/20111105 Thunderbird/8.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi,<br>
    The order of operations should not make a difference here.&nbsp; I found
    a 4-D dataset and tried your commands and was not able to reproduce
    the no-valid-data behavior.<br>
    <br>
    What happens if you remove the SET REGION command and instead apply
    the region when you do the averaging, that is, <br>
    <tt><span>fill/nolab ztempc[x=</span><span>40:110</span><span>@ave,z=</span><span>-10:40</span><span>@ave]</span></tt><br>
    <br>
    Another thing to do in finding out what is happening as a script
    runs, is to turn on the diagnostic mode, "SET MODE DIAGNOSTIC".&nbsp;
    There's an FAQ about interpreting the output, <br>
    <b><b><a rel="nofollow" title="How do I interpret the output of &quot;SET MODE
          DIAGNOSTIC?&quot;"
href="http://ferret.pmel.noaa.gov/Ferret/faq/how-do-i-interpret-the-output-of-set-mode-diagnostic">How
          do I interpret the output of "SET MODE DIAGNOSTIC?"</a></b></b><br>
    <br>
    It tells you as the commands are being processed, what index ranges
    are being used for creating variables.&nbsp; If you compare the case that
    is not working with a similar one which is, you might be able to
    spot what the problem is.<br>
    <br>
    Ansley<br>
    <br>
    On 11/22/2011 8:40 AM, jagadish karmacharya wrote:
    <blockquote
      cite=""
      type="cite">
      <div style="color:#000; background-color:#fff; font-family:arial,
        helvetica, sans-serif;font-size:10pt">
        <div><span>Hi all,</span></div>
        <div><br>
          <span></span></div>
        <div><span>I am facing a trouble in zonal averaging that seems
            strange, atleast to me. The error seems to occur only when
            condition is just right (or shall I say wrong). Here is my
            script:</span></div>
        <div><span><br>
          </span></div>
        <div><span>use "/data/erai/erai.ZT.mon.abs.nc"<br>
            set region/x=40:110/y=-10:40<br>
            set data climatological_axes; can data climatological_axes<br>
            let zta=ztemp[t=15-dec-1991:15-nov-2005]<br>
            let ztempc=zta[gt=month_reg@mod]<br>
            fill/nolab ztempc[x=@ave,z=@ave]<br>
          </span></div>
        <div><span><br>
          </span></div>
        <div>This results in " No valid data " in the plot window. Here
          is details about data:<br>
          sh d<br>
          <span class="tab">&nbsp;&nbsp;&nbsp; </span>currently set data sets:<br>
          <span class="tab">&nbsp;&nbsp;&nbsp; 1&gt; /data/erai/erai.ZT.mon.abs.nc
            (default)<br>
            name</span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp;
            title</span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp;
          </span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp; I</span><span
            class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">J</span><span
            class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp;&nbsp; </span><span
            class="tab"></span><span class="tab">K</span><span
            class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp; L</span><br>
          <span class="tab">ZTEMP</span><span class="tab">&nbsp;&nbsp;&nbsp;
            Temperature</span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp; 1:49 </span><span
            class="tab">&nbsp;&nbsp;&nbsp; 1:38</span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp; 1</span><span class="tab"></span><span
            class="tab">:8&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">1:269 &nbsp;&nbsp; </span><br>
          <br>
          I tried to trace the source of error without sucess but found
          that&nbsp; the error doesn't occur under different scenarios such
          as:<br>
          1) Meridional average ( i.e. fill/nolab ztempc[y=@ave,z=@ave]
          -&gt; generate plot)<br>
          2) use whole time seris used to produce climatology (<span
            class="tab">i.e. </span>let ztempc=ztemp[gt=month_reg@mod]&nbsp;
          &amp; then using fill -&gt; generate plot)<br>
          3) if zonal average is done ahead of fill command (i.e&nbsp;
          replace one of the corresponding line in above script with <br>
          <span class="tab">&nbsp;&nbsp;&nbsp; </span>let
          zta=ztemp[x=@ave,t=15-dec-1991:15-nov-2005]<br>
          <span class="tab">&nbsp;&nbsp;&nbsp; or&nbsp; <br>
          </span><span class="tab">&nbsp;&nbsp;&nbsp; </span>let
          ztempc=zta[x=@ave,gt=month_reg@mod] <br>
          &nbsp;&nbsp;&nbsp; and then fill/nolab ztempc[z=@ave] -&gt; generate plot)<br>
          4) no such problem with one other data I tried: <br>
          <span class="tab">&nbsp;&nbsp;&nbsp; </span>(sh d<br>
          &nbsp;<span class="tab">&nbsp;&nbsp;&nbsp;</span><span class="tab">&nbsp;&nbsp;&nbsp;&nbsp;</span><span
            class="tab"> </span>currently set data sets:<br>
          <span class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp;&nbsp; </span><span
            class="tab">1&gt; /data/model/aktica.pm.ztemp.nc (default)<br>
          </span><span class="tab">&nbsp;&nbsp;</span><span class="tab"> </span><span
            class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp; </span><span
            class="tab">name</span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp;&nbsp;&nbsp; title</span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp;&nbsp;&nbsp; I</span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp; &nbsp; </span><span
            class="tab">J</span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="tab"></span><span
            class="tab">K</span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp;&nbsp;&nbsp; L</span><br>
          <span class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">ZTEMP</span><span class="tab">&nbsp;&nbsp;&nbsp; Temperature</span><span
            class="tab"> T &nbsp; </span><span class="tab">&nbsp;&nbsp;&nbsp; </span><span
            class="tab">&nbsp;&nbsp; 1:159 </span><span class="tab">&nbsp; 1:113</span><span
            class="tab">&nbsp;&nbsp;&nbsp; </span><span class="tab">1</span><span
            class="tab"></span><span class="tab">:17&nbsp; </span><span
            class="tab">&nbsp; </span><span class="tab">1:228 )<br>
            <br>
            I am wondering why this error occured in the 1st scenario?
            does it has to do with data order or something else?<br>
            <br>
            Thank in advice.<br>
            &nbsp;<br>
          </span></div>
        <div>Jagadish</div>
      </div>
    </blockquote>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00874" href="msg00874.html">[ferret_users] BUG REPORT: VECTOR/ASPECT scales incorrectly.</a></strong>
<ul><li><em>From:</em> Russ Fiedler</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00870" href="msg00870.html">[ferret_users] strange error in climatological zonal average</a></strong>
<ul><li><em>From:</em> jagadish karmacharya</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00870.html">[ferret_users] strange error in climatological zonal average</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00874.html">[ferret_users] BUG REPORT: VECTOR/ASPECT scales incorrectly.</a></strong>
</li>

</UL>
<center>[<a href="msg00870.html">Thread Prev</a>][<a href="msg00874.html">Thread Next</a>][<A HREF="threads.html#00871">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
