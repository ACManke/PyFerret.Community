<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Announcing Ferret v6.6.7, a bug&#45;fix release -->
<!--X-From-R13: Xvna [n <wvnaznNunjnvv.rqh> -->
<!--X-Date: Wed, 16 Feb 2011 13:16:02 &#45;0800 -->
<!--X-Message-Id: 1297890956.4536.181.camel@fulcrum.soest.hawaii.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4D558413.7080709@noaa.gov -->
<!--X-Reference: 4D592AE2.4070100@io&#45;warnemuende.de -->
<!--X-Reference: 4D596F7A.2070609@noaa.gov -->
<!--X-Reference: 1297847563.4536.166.camel@fulcrum.soest.hawaii.edu -->
<!--X-Reference: 4D5C07AC.5050300@climate.unibe.ch -->
<!--X-Reference: 4D5C125D.4020306@noaa.gov -->
<!--X-Reference: 4D5C1F2C.1080607@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00110.html">Thread Prev</a>][<a href="msg00119.html">Thread Next</a>][<A HREF="threads.html#00113">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</strong></li>
<li><strong>From</strong>: <strong>Jian Ma &lt;<a href="mailto:jianma@DOMAIN.HIDDEN">jianma@xxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 16 Feb 2011 11:15:56 -1000</li>
<li>Cc: Marco Steinacher &lt;<a href="mailto:steinacher@DOMAIN.HIDDEN">steinacher@xxxxxxxxxxxxxxxx</a>&gt;,        Ferret users &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="mailto:4D5C1F2C.1080607@DOMAIN.HIDDEN">4D5C1F2C.1080607@xxxxxxxx</a>&gt;</li>
<li>Organization: University of Hawaii at Manoa</li>
<li>References: &lt;<a href="mailto:4D558413.7080709@DOMAIN.HIDDEN">4D558413.7080709@xxxxxxxx</a>&gt; &lt;<a href="mailto:4D592AE2.4070100@DOMAIN.HIDDEN">4D592AE2.4070100@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D596F7A.2070609@DOMAIN.HIDDEN">4D596F7A.2070609@xxxxxxxx</a>&gt; &lt;<a href="mailto:1297847563.4536.166.camel@DOMAIN.HIDDEN">1297847563.4536.166.camel@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D5C07AC.5050300@DOMAIN.HIDDEN">4D5C07AC.5050300@xxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D5C125D.4020306@DOMAIN.HIDDEN">4D5C125D.4020306@xxxxxxxx</a>&gt; &lt;<a href="mailto:4D5C1F2C.1080607@DOMAIN.HIDDEN">4D5C1F2C.1080607@xxxxxxxx</a>&gt;</li>
<li>Reply-to: <a href="mailto:jianma@DOMAIN.HIDDEN">jianma@xxxxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Many thanks!

Tony

On Wed, 2011-02-16 at 11:02 -0800, Ansley Manke wrote:
&gt; Hi all,
&gt; This was happening only on 64-bit machines. I re-linked the gksm2ps 
&gt; program which translates metafiles to postscript.  The incorrect line
&gt; 
&gt;     /lw {0.000000 mul 3000 div setlinewidth} def
&gt; 
&gt; is now translated to the correct version,
&gt; 
&gt;     /lw {3000 div setlinewidth} def
&gt; 
&gt; I have replaced the fer_executables tar file for 64-bit, so that now it 
&gt; contains the updated gksm2ps executable, and it can be downloaded from 
&gt; the 64-bit downloads page,
&gt; <a  rel="nofollow" href="http://ferret.pmel.noaa.gov/static/Downloads/linux_x86_64_nc4_downloads.html">http://ferret.pmel.noaa.gov/static/Downloads/linux_x86_64_nc4_downloads.html</a>
&gt; 
&gt; and also the source code file, with a change to the Makefile for gksm2ps.
&gt; 
&gt; Ansley
&gt; 
&gt; On 2/16/2011 10:07 AM, Ansley Manke wrote:
&gt; &gt; Hi Marco and Jian,
&gt; &gt; Thanks for the further information. I'll check into it.
&gt; &gt;
&gt; &gt; Ansley
&gt; &gt;
&gt; &gt; On 2/16/2011 9:21 AM, Marco Steinacher wrote:
&gt; &gt;&gt; Hi,
&gt; &gt;&gt;
&gt; &gt;&gt; I see a similar issue with Ferret 6.6.7. Apparently the linewidth
&gt; &gt;&gt; definition in the PS files generated by Fprint/gksm2ps has changed. In
&gt; &gt;&gt; earlier versions the PS files usually contained the following line:
&gt; &gt;&gt;
&gt; &gt;&gt; /lw {3000 div setlinewidth} def
&gt; &gt;&gt;
&gt; &gt;&gt; Now it looks like this:
&gt; &gt;&gt;
&gt; &gt;&gt; /lw {0.000000 mul 3000 div setlinewidth} def
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; I used to increase the line width of the PS output with ps_thicken as
&gt; &gt;&gt; described in the FAQ
&gt; &gt;&gt; (<a  rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/faq/changing-line-thickness-in-postscript-files">http://ferret.pmel.noaa.gov/Ferret/faq/changing-line-thickness-in-postscript-files</a>). 
&gt; &gt;&gt;
&gt; &gt;&gt; It uses sed to change the PS file. E.g.
&gt; &gt;&gt;
&gt; &gt;&gt; sed -e &quot;s/^\/lw {\(.*\) div setlinewidth/\/lw {4 mul \1 div 
&gt; &gt;&gt; setlinewidth/&quot;
&gt; &gt;&gt;
&gt; &gt;&gt; This does not work anymore. Now, one would have to do something like
&gt; &gt;&gt;
&gt; &gt;&gt; sed -e &quot;s/^\/lw {0.000000 mul \(.*\) div setlinewidth/\/lw {4 mul \1 div
&gt; &gt;&gt; setlinewidth/&quot;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; Marco
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; Jian Ma wrote:
&gt; &gt;&gt;&gt; Hi Ansley and All,
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; I found a bug after upgrading from 6.5 to 6.6.7. When I transfer my 
&gt; &gt;&gt;&gt; plot
&gt; &gt;&gt;&gt; to eps with gksm2ps, the thickness of the lines are 1, no matter 
&gt; &gt;&gt;&gt; what is
&gt; &gt;&gt;&gt; set in the jnl. One of my scripts works fine with the former version 
&gt; &gt;&gt;&gt; but
&gt; &gt;&gt;&gt; has this problem after the upgrade.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; I did not delete my older version during the upgrade, though, to keep
&gt; &gt;&gt;&gt; some customized scripts. Would this be the cause? Anybody has
&gt; &gt;&gt;&gt; experienced similar problem?
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Thanks,
&gt; &gt;&gt;&gt; Tony
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; On Mon, 2011-02-14 at 10:07 -0800, Ansley Manke wrote:
&gt; &gt;&gt;&gt;&gt; Hi Martin,
&gt; &gt;&gt;&gt;&gt; We've just switched over to RHEL5 and libc.so.6 on our machine 
&gt; &gt;&gt;&gt;&gt; shows as
&gt; &gt;&gt;&gt;&gt; linking to libc-2.5.so.  (Previous to that switch we were hearing from
&gt; &gt;&gt;&gt;&gt; users with newer linux systems who had library mis-matches, though
&gt; &gt;&gt;&gt;&gt; compatibility libraries generally lets one find the right library for
&gt; &gt;&gt;&gt;&gt; code built on an earlier operating system to run on a newer one.)
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; The executable in the tar file is already linked with all of the 
&gt; &gt;&gt;&gt;&gt; static
&gt; &gt;&gt;&gt;&gt; libraries we had available to us.  We're very much aware  of this 
&gt; &gt;&gt;&gt;&gt; issue,
&gt; &gt;&gt;&gt;&gt; and are thinking it may be time to work towards releasing source code
&gt; &gt;&gt;&gt;&gt; with a nice build process so people could build Ferret themselves. 
&gt; &gt;&gt;&gt;&gt; Even
&gt; &gt;&gt;&gt;&gt; as things stand now, building from source is not difficult, but does
&gt; &gt;&gt;&gt;&gt; require building HDF and NetCDF libraries. I haven't posted the source
&gt; &gt;&gt;&gt;&gt; code for this fixed version, but I'll do that later today.
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; We'll continue to work on a good general solution for this problem.
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; Ansley
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; On 2/14/2011 5:15 AM, Martin Schmidt wrote:
&gt; &gt;&gt;&gt;&gt;&gt; Dear Ansley,
&gt; &gt;&gt;&gt;&gt;&gt; I tried to install Version 6.6.7 at SLES10 but failed. 
&gt; &gt;&gt;&gt;&gt;&gt; libselinux.so.1
&gt; &gt;&gt;&gt;&gt;&gt; is missing. I tried to use a the lib from SLES11.
&gt; &gt;&gt;&gt;&gt;&gt; Now I end up with
&gt; &gt;&gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;&gt; ferret_v667: /lib64/libc.so.6: version `GLIBC_2.8' not found 
&gt; &gt;&gt;&gt;&gt;&gt; (required
&gt; &gt;&gt;&gt;&gt;&gt; by /linsoft/ferret_v667_64_dynamic/lib/libselinux.so.1)
&gt; &gt;&gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;&gt; Indeed, my libc.so.6 is a link to libc-2.4.so with SLES10. With 
&gt; &gt;&gt;&gt;&gt;&gt; SLES11
&gt; &gt;&gt;&gt;&gt;&gt; the link is to libc-2.11.1.so.
&gt; &gt;&gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;&gt; Is there any chance to benefit from the latest bug fixes at machines
&gt; &gt;&gt;&gt;&gt;&gt; that are not using the latest system version. Possibly by a more 
&gt; &gt;&gt;&gt;&gt;&gt; complete
&gt; &gt;&gt;&gt;&gt;&gt; static linking?
&gt; &gt;&gt;&gt;&gt;&gt; We are not able to update the system, because the system 
&gt; &gt;&gt;&gt;&gt;&gt; management is
&gt; &gt;&gt;&gt;&gt;&gt; linked with the hardware contract.
&gt; &gt;&gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;&gt; Greetings,
&gt; &gt;&gt;&gt;&gt;&gt; Martin Schmidt
&gt; &gt;&gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;&gt; Ansley Manke wrote:
&gt; &gt;&gt;&gt;&gt;&gt;&gt; Hi all,
&gt; &gt;&gt;&gt;&gt;&gt;&gt; There is a new release of Ferret available now, Version 6.6.7, which
&gt; &gt;&gt;&gt;&gt;&gt;&gt; corrects a recently reported bug in Ferret v6.6.5.
&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;&gt;&gt; In Ferret v6.6.5, the last official Ferret release, the
&gt; &gt;&gt;&gt;&gt;&gt;&gt; multi-dimensional computation of a definite integral @DIN over X and
&gt; &gt;&gt;&gt;&gt;&gt;&gt; Z, but not integrating over latitude, is incorrect. This means that
&gt; &gt;&gt;&gt;&gt;&gt;&gt; the computation of quantities such as a meridional transport at a
&gt; &gt;&gt;&gt;&gt;&gt;&gt; fixed latitude, will be incorrect when calculated by Ferret v6.6.5.
&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;&gt;&gt; The calculation was done correctly in the previous release, Ferret
&gt; &gt;&gt;&gt;&gt;&gt;&gt; v6.4, and is corrected in v6.6.7, which may be downloaded from the
&gt; &gt;&gt;&gt;&gt;&gt;&gt; Ferret Downloads page at
&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;&gt;&gt; <a  rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/downloads">http://ferret.pmel.noaa.gov/Ferret/downloads</a>
&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;&gt;&gt; The Downloads documentation is updated and the main Ferret
&gt; &gt;&gt;&gt;&gt;&gt;&gt; documentation will be updated to reflect this new version number
&gt; &gt;&gt;&gt;&gt;&gt;&gt; shortly.
&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt;&gt;&gt; Ansley
&gt; &gt;&gt;


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00096" href="msg00096.html">[ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00097" href="msg00097.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
<li><strong><a name="00098" href="msg00098.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00106" href="msg00106.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Jian Ma</li></ul></li>
<li><strong><a name="00108" href="msg00108.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Marco Steinacher</li></ul></li>
<li><strong><a name="00109" href="msg00109.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00110" href="msg00110.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00110.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00119.html">[ferret_users] plotting and interpolating data given on curvilinear grids</a></strong>
</li>

</UL>
<center>[<a href="msg00110.html">Thread Prev</a>][<a href="msg00119.html">Thread Next</a>][<A HREF="threads.html#00113">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
