<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Eddy tracking algorithm -->
<!--X-From-R13: Xnvfba Yhevna <wnvfbaNngzbf.hpyn.rqh> -->
<!--X-Date: Wed, 28 Sep 2011 11:57:33 &#45;0700 -->
<!--X-Message-Id: CAKcXCGr42Co9Od1K5qs5UGJinmPkb8CL0U0Jq6Re6SD8VFGf2Q@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAAofi1Edj&#45;7=URgazHszCyYE&#45;X_7N5NhU4JHkxkeitTfPj6SNQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Eddy tracking algorithm</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00737.html">Thread Prev</a>][<a href="msg00745.html">Thread Next</a>][<A HREF="threads.html#00738">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Eddy tracking algorithm</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>vidya pj &lt;<a href="mailto:pjvidya@DOMAIN.HIDDEN">pjvidya@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Eddy tracking algorithm</strong></li>
<li><strong>From</strong>: <strong>Jaison Kurian &lt;<a href="mailto:jaison@DOMAIN.HIDDEN">jaison@xxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 28 Sep 2011 11:57:29 -0700</li>
<li>Cc: &quot;<a href="mailto:ferret-majordomo@DOMAIN.HIDDEN">ferret-majordomo@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret-majordomo@DOMAIN.HIDDEN">ferret-majordomo@xxxxxxxx</a>&gt;,        &quot;<a href="mailto:ferret-majordomo-owner@DOMAIN.HIDDEN">ferret-majordomo-owner@xxxxxxxxxxxxxxxxxxxxx</a>&quot; &lt;<a href="mailto:ferret-majordomo-owner@DOMAIN.HIDDEN">ferret-majordomo-owner@xxxxxxxxxxxxxxxxxxxxx</a>&gt;,        &quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=mime-version:sender:in-reply-to:references:date :x-google-sender-auth:message-id:subject:from:to:cc:content-type; bh=/5nQZSZGmOL+8+fzWul0nHMUyVVJlc1kDuMfVn6MVpE=; b=IscrqbulhZfWK4LbQXX6vk5/BYWdtfF59Zqz2fqFyhUjrokWziFR5j3wRRQNi1MMdK CHvvys5b09jfzoyfEvsqIOe4UoSWCutk/CKgiGn5JGHDcP7rGfrJ8Q4v1EKdsla0Nurx mOYgGWslxb7zK0UdC4d6R0KhFXhB0ZSo6idEM=</li>
<li>In-reply-to:  &lt;<a href="mailto:CAAofi1Edj-7%3DURgazHszCyYE-X_7N5NhU4JHkxkeitTfPj6SNQ@DOMAIN.HIDDEN">CAAofi1Edj-7=URgazHszCyYE-X_7N5NhU4JHkxkeitTfPj6SNQ@xxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:CAAofi1Edj-7%3DURgazHszCyYE-X_7N5NhU4JHkxkeitTfPj6SNQ@DOMAIN.HIDDEN">CAAofi1Edj-7=URgazHszCyYE-X_7N5NhU4JHkxkeitTfPj6SNQ@xxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hello Vidya,<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; It may be possible to track eddies using Ferret, but I think that is going to be a<br>cumbersome process. I have extensive experience on this topic and this is one of the reason<br>
why I switched from Ferret to Matlab for applications which involves serious programming.<br><br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; I agree that Ferret is a very user friendly tool and it makes excellent graphics. You could also do <br>many conventional data processing and analysis with Ferret. However, when it comes to a programming<br>
environment many of Ferret&#39;s features make it suboptimal. <br>&#xA0;<br>&#xA0;&#xA0; There are different eddy tracking methods out there (based on physics, geometry, wavelets and Lagrangian coherent structures). In most of these<br>
methods, including the most popular and comparatively simple method based on the the closed contours<br>of sea surface height (SSH) anomalies or Okubo-Weiss parameter(W), you have to extract the (x,y)<br>position of a contour. It is not possible with ferret to retrieve precise (x,y) locations of a contour<br>
(you could use some ad-hoc method to approximate the contour position (please search in Ferret email <br>Archives) but that is useless for the eddy tracking application). This single limitation itself makes<br>Ferret a less ideal tool for eddy tracking. In Matlab, you could do it very easily. There are several <br>
other potential problems with Ferret for a programming intensive application such as eddy tracking, few of <br>them are given below:<br><br><br>1. Delayed mode evaluation<br>&#xA0;&#xA0;&#xA0;&#xA0; Ferret evaluates all expressions only when it meets an action command (Ch3 Sec2.&#xA0; EXPRESSIONS).<br>
&#xA0;&#xA0;&#xA0;&#xA0; This means that you cannot use expressions like <br><br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; let var = var * something_else<br>&#xA0;&#xA0;&#xA0;&#xA0; <br>&#xA0;&#xA0;&#xA0;&#xA0; One may think this is not a serious problem and a new variable name can be used for such steps.<br>&#xA0;&#xA0;&#xA0;&#xA0; But in experience, this is a serious problem. Another aspect is that you cannot use a variable<br>
&#xA0;&#xA0;&#xA0;&#xA0; name which is already there in any of the opened datasets. <br><br>2. Array manipulation<br>&#xA0;&#xA0;&#xA0;&#xA0; For modifying values at specific parts of an array, the only option with Ferret is to use some<br>&#xA0;&#xA0;&#xA0;&#xA0; IF.....THEN....ELSE statement. Again you cannot use the same variable name again due to 1 above.<br>
&#xA0;&#xA0;&#xA0;&#xA0; Here is an example. In Fortran:<br>&#xA0;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; do I = 24,35<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; var(I) = var(I) + var(I)*0.2<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; end do<br>&#xA0;&#xA0; <br>&#xA0;&#xA0;&#xA0;&#xA0; In Ferret, this translates to something like <br>&#xA0;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; let var_new = IF I[gx=var] GE 24 AND I[gx=var] LE 35 THEN var+var*0.2 ELSE var&#xA0;&#xA0; <br>
<br>3. Subroutines vs Ferret external functions<br>&#xA0;&#xA0;&#xA0;&#xA0; Did you ever tried to write a Ferret external Function? In my experience, this is one of the most<br>&#xA0;&#xA0;&#xA0;&#xA0; difficult aspects of Ferret. A simple straight forward 15-line subroutine in Fortran (or function<br>
&#xA0;&#xA0;&#xA0;&#xA0; in Matlab) will easily transform to a cumbersome 150-plus lines in Ferret External Function .F <br>&#xA0;&#xA0;&#xA0;&#xA0; file. In a Ferret external function, you have four subroutines in the following order: _init,<br>&#xA0;&#xA0;&#xA0;&#xA0; _custom_axes, _result_limits, and _compute and it is very difficult to keep track of the array<br>
&#xA0;&#xA0;&#xA0;&#xA0; indices within the&#xA0; _compute subroutine.<br><br>4. Ferret GO files<br>&#xA0;&#xA0;&#xA0;&#xA0; You may be thinking about using a GO file instead of an external function. But expressions within<br>&#xA0;&#xA0;&#xA0;&#xA0; a go file is evaluated according to the same rules as that for the main script (the action command<br>
&#xA0;&#xA0;&#xA0;&#xA0; dependency) and hence points 1 and 2 mentioned above is applicable for GO files too. GO files may<br>&#xA0;&#xA0;&#xA0;&#xA0; reduce the number of lines in a Ferret script but it do not bring in any programming efficiency.<br>&#xA0;&#xA0;&#xA0;&#xA0; For example, in Matlab, the expressions within a function is evaluated independent of main work<br>
&#xA0;&#xA0;&#xA0;&#xA0; space variables and expressions and hence you don&#39;t have to worry about the variable names used<br>&#xA0;&#xA0;&#xA0;&#xA0; within a function. In Ferret, for any reason if you have a variable name within the GO file which<br>&#xA0;&#xA0;&#xA0;&#xA0; is same as that used somewhere in the main script or opened datasets, your script will not work<br>
&#xA0;&#xA0;&#xA0;&#xA0; properly. <br><br>5. Structure/type variables<br>&#xA0;&#xA0;&#xA0;&#xA0; In Matlab (Fortran90), it is possible to group variable to a &quot;structure&quot; (&quot;type&quot;) respectively<br>&#xA0;&#xA0;&#xA0;&#xA0; and is very convenient in programming. For example, a structure called grid in matlab can be<br>
&#xA0;&#xA0;&#xA0;&#xA0; defined as follows:<br><br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; grid.lon&#xA0;&#xA0; = lon&#xA0;&#xA0; ;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; grid.lat&#xA0;&#xA0; = lat&#xA0;&#xA0; ;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; grid.depth = depth ;<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; grid.f&#xA0;&#xA0;&#xA0;&#xA0; = f&#xA0;&#xA0;&#xA0;&#xA0; ; <br><br>&#xA0;&#xA0;&#xA0;&#xA0; For any function which needs all this variable, you just need to pass the structure &quot;grid&quot;, as<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; <br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; out = func_something(grid,..,...,..) ;<br><br>&#xA0;&#xA0;&#xA0;&#xA0; No such grouping is available in Ferret. If you want to pass all these variables to a Ferret<br>&#xA0;&#xA0;&#xA0;&#xA0; external function, you have to list all of them. This matlab/fortran90 feature is very helpful<br>
&#xA0;&#xA0;&#xA0;&#xA0; for applications like eddy tracking (for example, you can group all properties of anticyclones<br>&#xA0;&#xA0;&#xA0;&#xA0; to a struct called &quot;anti&quot;, like anti.radius, anti.center_x, anti.center_y, anti.area etc.).<br>&#xA0;&#xA0;&#xA0;&#xA0; <br>
&#xA0; <br>So, my strong suggestion is to use either Fortran or Matlab for such applications (you could still<br>use Ferret for the graphics and any data processing and manipulation which is possible with Ferret).<br>I have used Matlab for my eddy tracking work and I am very comfortable with it. I don&#39;t know of any fortran <br>
libraries/packages/subroutines to extract contour positions (believe me, this is not an easy task). You could <br>start from some eddy tracking publications out there to see the details of eddy detection and tracking<br>methods and then you will be in a better position to find a proper tool for your work. Few publications<br>
are listed below:<br><br><a rel="nofollow" href="http://www.agu.org/pubs/crossref/2007/2007GL030812.shtml">http://www.agu.org/pubs/crossref/2007/2007GL030812.shtml</a><br><a rel="nofollow" href="http://www.sciencedirect.com/science/article/pii/S0079661111000036">http://www.sciencedirect.com/science/article/pii/S0079661111000036</a><br>
<a rel="nofollow" href="http://www.agu.org/pubs/crossref/2011/2010JC006895.shtml">http://www.agu.org/pubs/crossref/2011/2010JC006895.shtml</a><br><br>If you have any questions, please let me know.<br><br>Thanks and Regards<br><br>Jaison<br>
<br><br><div class="gmail_quote">On Wed, Sep 28, 2011 at 6:23 AM, vidya pj <span dir="ltr">&lt;<a rel="nofollow" href="mailto:pjvidya@xxxxxxxxx" target="_blank">pjvidya@xxxxxxxxx</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Dear Ferreters,<br><br>Is it possible to track meso-scale eddies in the ocean  using Ferret ??? or any method/algorithm is available????<br clear="all">

<br>Thanks in advance,<br><font color="#888888">Vidya<br>
</font></blockquote></div><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00745" href="msg00745.html">Re: [ferret_users] Eddy tracking algorithm</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00737" href="msg00737.html">[ferret_users] Eddy tracking algorithm</a></strong>
<ul><li><em>From:</em> vidya pj</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00737.html">[ferret_users] Eddy tracking algorithm</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00745.html">Re: [ferret_users] Eddy tracking algorithm</a></strong>
</li>

</UL>
<center>[<a href="msg00737.html">Thread Prev</a>][<a href="msg00745.html">Thread Next</a>][<A HREF="threads.html#00738">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
