<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] monthly averages -->
<!--X-From-R13: @rvy Ejneg <apfjnegNhivp.pn> -->
<!--X-Date: Mon, 11 Jul 2011 10:16:52 &#45;0700 -->
<!--X-Message-Id: B97BE477&#45;1041&#45;4409&#45;9CD2&#45;05BD3866675C@uvic.ca -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAGQDuouVBsZUJ+pqLVxonhwOmcri&#45;x3pzzdsqTgPw_3y22bKkA@mail.gmail.com -->
<!--X-Reference: d3e254b8a91a78ce015d5391bb039e46.squirrel@wm3.uvic.ca -->
<!--X-Reference: CAGQDuoud47vKQDdBckAN4MvnPtKm_sOOWFh=oq2Xr8LmtNc2dg@mail.gmail.com -->
<!--X-Reference: e2f285ecfeab2ba00ca3878c0bfff37f.squirrel@wm3.uvic.ca -->
<!--X-Reference: CAGQDuospCcXEjP9G8Ykn5Pneui4LpxAfd4WaMdgDFj8_SUfnaQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] monthly averages</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00537.html">Thread Prev</a>][<a href="msg00535.html">Thread Next</a>][<A HREF="threads.html#00540">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] monthly averages</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Izidine Pinto &lt;<a href="mailto:izidinep@DOMAIN.HIDDEN">izidinep@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] monthly averages</strong></li>
<li><strong>From</strong>: <strong>Neil Swart &lt;<a href="mailto:ncswart@DOMAIN.HIDDEN">ncswart@xxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 11 Jul 2011 10:16:49 -0700</li>
<li>Cc: ferret user ferret user &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to:  &lt;<a href="mailto:CAGQDuospCcXEjP9G8Ykn5Pneui4LpxAfd4WaMdgDFj8_SUfnaQ@DOMAIN.HIDDEN">CAGQDuospCcXEjP9G8Ykn5Pneui4LpxAfd4WaMdgDFj8_SUfnaQ@xxxxxxxxxxxxxx</a>&gt;</li>
<li>References:  &lt;<a href="mailto:CAGQDuouVBsZUJ%2BpqLVxonhwOmcri-x3pzzdsqTgPw_3y22bKkA@DOMAIN.HIDDEN">CAGQDuouVBsZUJ+pqLVxonhwOmcri-x3pzzdsqTgPw_3y22bKkA@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:d3e254b8a91a78ce015d5391bb039e46.squirrel@DOMAIN.HIDDEN">d3e254b8a91a78ce015d5391bb039e46.squirrel@xxxxxxxxxxx</a>&gt; &lt;<a href="mailto:CAGQDuoud47vKQDdBckAN4MvnPtKm_sOOWFh%3Doq2Xr8LmtNc2dg@DOMAIN.HIDDEN">CAGQDuoud47vKQDdBckAN4MvnPtKm_sOOWFh=oq2Xr8LmtNc2dg@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:e2f285ecfeab2ba00ca3878c0bfff37f.squirrel@DOMAIN.HIDDEN">e2f285ecfeab2ba00ca3878c0bfff37f.squirrel@xxxxxxxxxxx</a>&gt; &lt;<a href="mailto:CAGQDuospCcXEjP9G8Ykn5Pneui4LpxAfd4WaMdgDFj8_SUfnaQ@DOMAIN.HIDDEN">CAGQDuospCcXEjP9G8Ykn5Pneui4LpxAfd4WaMdgDFj8_SUfnaQ@xxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style="">Okay, I see why you are confused now. Your time axis does indeed have 12 points (as you can see in the #pts column, for the month_reg time row).&nbsp;<div><br></div><div>Because the time axis is now modulo, it 'wraps around'. Thus saying&nbsp;</div><div><br></div><div>yes?&nbsp;shade uwnd_climatology[l=13] &nbsp;</div><div><br></div><div>&nbsp;...is equivalent to saying...&nbsp;</div><div><br></div><div>yes?&nbsp;shade uwnd_climatology[l=1]</div><div><br></div><div>&nbsp;in this case.</div><div><br></div><div><div>You can explicitly test this by plotting both of them if you like. (or shade l=13 minus l=1, which should give you zero everywhere)</div></div><div><br></div><div>&nbsp;In the same way, l=14 is equivalent to l=2 or so on. An easy example of why a modulo axis makes sense is the case of longitudes. For a modulo axis of longitude, x=361 is the same as x=1. For a climatology a modulo axis is also sensible. For example, imagine forcing a model</div><div>with the climatology, in year two, we want January (l=13) to be the same as in year one (l=1). and so on.</div><div><br></div><div><br></div><div>Neil</div><div>&nbsp;</div><div><br></div><div><br><div>
<span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-align: auto; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><span class="Apple-style-span" style="border-collapse: separate; color: rgb(0, 0, 0); font-family: Helvetica; font-size: medium; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; -webkit-text-decorations-in-effect: none; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; "><div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space; "><div><div>---------------------------------------------------</div><div>Neil Swart</div><div><br></div><div>Climate Modelling Group</div><div>School of Earth and Ocean Sciences</div><div>University of Victoria</div><div>Victoria, BC</div><div>Canada</div><div><br></div><div><a rel="nofollow" href="http://climate.uvic.ca/">http://climate.uvic.ca/</a></div></div></div></span></span>
</div>
<br><div><div>On Jul 11, 2011, at 12:26 AM, Izidine Pinto wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite">Hi,<br>The result of show grid is:<br><br>yes? show grid uwnd_climatology<br>&nbsp;&nbsp;&nbsp; GRID (G002)<br>&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; axis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # pts&nbsp;&nbsp; start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>&nbsp;FNOCX&nbsp;&nbsp;&nbsp;&nbsp; LONGITUDE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 144mr&nbsp;&nbsp; 20E&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 17.5E(377.5)<br>

&nbsp;FNOCY&nbsp;&nbsp;&nbsp;&nbsp; LATITUDE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 73 r&nbsp;&nbsp; 90S&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 90N<br>&nbsp;normal&nbsp;&nbsp;&nbsp; Z<br>&nbsp;MONTH_REG TIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 12mr&nbsp;&nbsp; 16-JAN 06:00&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 16-DEC 01:20<br><br>My problem is when I do:<br>yes?&nbsp; shade uwnd_climatology[l=13] <br>

<br>I was expecting an error instead of a&nbsp; graph.<br><br>Thanks<br><br><div class="gmail_quote">On 9 July 2011 18:09,  <span dir="ltr">&lt;<a rel="nofollow" href="mailto:ncswart@xxxxxxx">ncswart@xxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin: 0pt 0pt 0pt 0.8ex; border-left: 1px solid rgb(204, 204, 204); padding-left: 1ex;">

Hi Izidine,<br>
That's strange, when I do it, there result is 12 time steps as expected.<br>
Can you give some more info (like the result of show grid<br>
uwnd_climatology):<br>
<div class="im"><br>
SET DATA monthly_navy_winds<br>
yes? USE climatological_axes<br>
</div>&nbsp;*** NOTE: regarding<br>
/net/mer/home5/nswart/ferret/go/climatological_axes.cdf ...<br>
&nbsp;*** NOTE: Climatological axes SEASONAL_REG, MONTH_REG, MONTH_IRREG,<br>
MONTH_GREGORIAN, MONTH_NOLEAP, MONTH_360_DAY &nbsp;defined<br>
<div class="im">yes? CANCEL DATA climatological_axes<br>
yes? LET uwnd_climatology = uwnd[GT=month_reg@MOD]<br>
</div>yes? show grid uwnd_climatology<br>
 &nbsp; &nbsp;GRID (G002)<br>
&nbsp;name &nbsp; &nbsp; &nbsp; axis &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;# pts &nbsp; start &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;end<br>
&nbsp;FNOCX &nbsp; &nbsp; LONGITUDE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;144mr &nbsp; 20E &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;17.5E(377.5)<br>
&nbsp;FNOCY &nbsp; &nbsp; LATITUDE &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;73 r &nbsp; 90S &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;90N<br>
&nbsp;normal &nbsp; &nbsp;Z<br>
&nbsp;MONTH_REG TIME &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;12mr &nbsp; 16-JAN 06:00 &nbsp; &nbsp; &nbsp; &nbsp; 16-DEC 01:20<br>
<div><div></div><div class="h5"><br>
<br>
<br>
<br>
<br>
&gt; Hi<br>
&gt; Thank you for the replies.<br>
&gt; I was using the modulo regrinding, but was not sure about the results.<br>
&gt; When<br>
&gt; I used the<br>
&gt;<br>
&gt; yes? SET DATA monthly_navy_winds<br>
&gt; yes? USE climatological_axes<br>
&gt; yes? CANCEL DATA climatological_axes<br>
&gt; yes? LET uwnd_climatology = uwnd[GT=month_reg@MOD]<br>
&gt;<br>
&gt; the variable uwnd_climatology has more than 12 time steps (l&gt;12). This was<br>
&gt; confusing me.<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; On 8 July 2011 20:25, &lt;<a rel="nofollow" href="mailto:ncswart@xxxxxxx">ncswart@xxxxxxx</a>&gt; wrote:<br>
&gt;<br>
&gt;&gt; Hi Izidine,<br>
&gt;&gt;<br>
&gt;&gt; It sounds like you want to create a monthly climatology. You can do this<br>
&gt;&gt; by regridding on the time axis using the @mod transformation. The<br>
&gt;&gt; climatological_axes command (below) gives you several calendar options<br>
&gt;&gt; to<br>
&gt;&gt; choose from for your climatology (e.g. month_noleap, month_gregorian,<br>
&gt;&gt; month_reg).<br>
&gt;&gt;<br>
&gt;&gt; E.G.:<br>
&gt;&gt;<br>
&gt;&gt; yes? SET DATA monthly_navy_winds<br>
&gt;&gt; yes? USE climatological_axes<br>
&gt;&gt; yes? CANCEL DATA climatological_axes<br>
&gt;&gt; yes? LET uwnd_climatology = uwnd[GT=month_reg@MOD]<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; &nbsp;This is explained in detail in the FAQ here:<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; <a rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/faq/how-do-i-calculate-climatologies-and-climatological-anomalies/?searchterm=climatology" target="_blank">http://ferret.pmel.noaa.gov/Ferret/faq/how-do-i-calculate-climatologies-and-climatological-anomalies/?searchterm=climatology</a><br>


&gt;&gt;<br>
&gt;&gt; Neil<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; &gt; Dear ferreters<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; I have gridded monthly data (CRU) for 18 years and I am having<br>
&gt;&gt; problems<br>
&gt;&gt; to<br>
&gt;&gt; &gt; calculate the averages of all jan, feb....,dec.<br>
&gt;&gt; &gt; Any hint?<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; Thanks<br>
&gt;&gt; &gt; --<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; Izidine S. Pinto<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; &nbsp;&lt;<a rel="nofollow" href="mailto:izidinep@xxxxxxxxxxxxxx">izidinep@xxxxxxxxxxxxxx</a>&gt;<br>
&gt;&gt; &gt;<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;<br>
&gt; Thanks<br>
&gt; --<br>
&gt;<br>
&gt; Izidine S. Pinto<br>
&gt;<br>
<br>
<br>
</div></div></blockquote></div><br><br clear="all"><br>
</blockquote></div><br></div></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00531" href="msg00531.html">[ferret_users] monthly averages</a></strong>
<ul><li><em>From:</em> Izidine Pinto</li></ul></li>
<li><strong><a name="00533" href="msg00533.html">Re: [ferret_users] monthly averages</a></strong>
<ul><li><em>From:</em> ncswart</li></ul></li>
<li><strong><a name="00536" href="msg00536.html">Re: [ferret_users] monthly averages</a></strong>
<ul><li><em>From:</em> Izidine Pinto</li></ul></li>
<li><strong><a name="00537" href="msg00537.html">Re: [ferret_users] monthly averages</a></strong>
<ul><li><em>From:</em> ncswart</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00537.html">Re: [ferret_users] monthly averages</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00535.html">[ferret_users] this is regard to updating ferret!</a></strong>
</li>

</UL>
<center>[<a href="msg00537.html">Thread Prev</a>][<a href="msg00535.html">Thread Next</a>][<A HREF="threads.html#00540">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
