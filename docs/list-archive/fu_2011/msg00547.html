<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] plot with an image as background -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 12 Jul 2011 09:43:05 &#45;0700 -->
<!--X-Message-Id: 4E1C7998.9050900@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: C91AFFA3DF2CAD469A34E6507D9F096179DDEBEC@MBX08.stf.nus.edu.sg -->
<!--X-Reference: 20110711.234322.226590103.furue@hawaii.edu -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] plot with an image as background</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00545.html">Thread Prev</a>][<a href="msg00546.html">Thread Next</a>][<A HREF="threads.html#00547">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] plot with an image as background</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ryo Furue &lt;<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] plot with an image as background</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 12 Jul 2011 09:43:04 -0700</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="mailto:20110711.234322.226590103.furue@DOMAIN.HIDDEN">20110711.234322.226590103.furue@xxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:C91AFFA3DF2CAD469A34E6507D9F096179DDEBEC@DOMAIN.HIDDEN">C91AFFA3DF2CAD469A34E6507D9F096179DDEBEC@xxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:20110711.234322.226590103.furue@DOMAIN.HIDDEN">20110711.234322.226590103.furue@xxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:5.0) Gecko/20110624 Thunderbird/5.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi -<br>
    In Ferret's gif mode, you can set the background color to
    "transparent" (in Ferret v6.2 and higher):<br>
    <blockquote><tt>&gt; ferret -gif<br>
        yes? use coads_climatology<br>
        yes? shade sst[L=1]<br>
        yes? frame/<b>trans</b>/file=testbackground.gif</tt><br>
    </blockquote>
    Then you can view it on top of some other image, for instance just a
    colored background in an html file:<br>
    <blockquote><tt>&lt;html&gt; <br>
        &lt;body bgcolor="gray"&gt; <br>
        &lt;img src=""/&gt;<br>
        <br>
        &lt;/body&gt; <br>
        &lt;/html&gt; </tt><br>
    </blockquote>
    I see that this hasn't made it into the Ferret documentation - we'll
    get it in there.<br>
    <br>
    Ansley<br>
    <br>
    <br>
    On 7/12/2011 2:43 AM, Ryo Furue wrote:
    <blockquote cite=""
      type="cite">
      <pre wrap="">Hi JQ,

| How to use ferret to set an image file (maybe gif format) as the
| background, Other plotting will overlay on top of it?

I don't know if it's possible to do it interactively, but you can
add your background later:

1) Plot something on Ferret and generate an EPS of the plot.

2) Convert it to a PNG file:

  $ convert -density 200 ferretplot.eps ferretplot.png

 Here "density" is the resolution in DPI.  For oral-presentation
 slides, 100 to 200 is usually good enough.

3) Overlay it on your background image:

  $ convert -coalesce mybg.jpg ferretplot.png merged.png

  You'll obtain merged-0.png and merged-1.png, the latter of
  which is what you want.

  But, I don't know how to adjust the relative sizes of the
  background and the plot.  You may have to fiddle with the
  metadata denoting the physical sizes (DPIs) of your images.

One caveat is that missing values of the variable you plotted
is converted to transparent by the convert command.  So, in
the final merged image, the original missing values become
"windows" to the background image, through which you can view
the background.

To avoid that, you would have to paint the missing regions
in white.

Regards,
Ryo
</pre>
    </blockquote>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00544" href="msg00544.html">[ferret_users] plot with an image as background</a></strong>
<ul><li><em>From:</em> Wang Jiqin</li></ul></li>
<li><strong><a name="00545" href="msg00545.html">Re: [ferret_users] plot with an image as background</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00545.html">Re: [ferret_users] plot with an image as background</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00546.html">Re: [ferret_users] plot with an image as background</a></strong>
</li>

</UL>
<center>[<a href="msg00545.html">Thread Prev</a>][<a href="msg00546.html">Thread Next</a>][<A HREF="threads.html#00547">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
