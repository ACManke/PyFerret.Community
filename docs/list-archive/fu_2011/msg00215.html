<!-- MHonArc v2.6.16 -->
<!--X-Subject: [ferret_users] Jason Images -->
<!--X-From-R13: BnhynAQ@ @harf <bprnabtensnNubgznvy.pbz> -->
<!--X-Date: Mon, 21 Mar 2011 13:49:57 &#45;0700 -->
<!--X-Message-Id: BAY161&#45;w2637E9F7C8B0E3B61CF103B5B50@phx.gbl -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 4D558413.7080709@noaa.gov -->
<!--X-Reference: 4D592AE2.4070100@io&#45;warnemuende.de -->
<!--X-Reference: 4D596F7A.2070609@noaa.gov -->
<!--X-Reference: 4D5EA165.6050501@io&#45;warnemuende.de -->
<!--X-Reference: 4D5EC739.9030703@noaa.gov -->
<!--X-Reference: BAY161&#45;w1283EE09FB9CECEF7729D8B5B50@phx.gbl -->
<!--X-Derived: cdf4fmsGDPeHG.cdf -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] Jason Images</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00209.html">Thread Prev</a>][<a href="msg00217.html">Thread Next</a>][<A HREF="threads.html#00215">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] Jason Images</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] Jason Images</strong></li>
<li><strong>From</strong>: <strong>PaulaOCN Nunes &lt;<a href="mailto:oceanografa@DOMAIN.HIDDEN">oceanografa@xxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 21 Mar 2011 20:49:49 +0000</li>
<li>Importance: Normal</li>
<li>In-reply-to: &lt;<a href="mailto:BAY161-w1283EE09FB9CECEF7729D8B5B50@DOMAIN.HIDDEN">BAY161-w1283EE09FB9CECEF7729D8B5B50@xxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:4D558413.7080709@DOMAIN.HIDDEN">4D558413.7080709@xxxxxxxx</a>&gt; &lt;<a href="mailto:4D592AE2.4070100@DOMAIN.HIDDEN">4D592AE2.4070100@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D596F7A.2070609@DOMAIN.HIDDEN">4D596F7A.2070609@xxxxxxxx</a>&gt; &lt;<a href="mailto:4D5EA165.6050501@DOMAIN.HIDDEN">4D5EA165.6050501@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D5EC739.9030703@DOMAIN.HIDDEN">4D5EC739.9030703@xxxxxxxx</a>&gt; &lt;<a href="mailto:BAY161-w1283EE09FB9CECEF7729D8B5B50@DOMAIN.HIDDEN">BAY161-w1283EE09FB9CECEF7729D8B5B50@xxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style="">


<br>
    Hello Ferret users;<br><br>I attached an example of a netcdf Jason file which I'm working on ("JA1_IPR_2PcP334_001_20110125_040633_20110125_050240.nc")<br>I'm interested in the sea surface height anomaly (SSHA) and their coordinates (lat, lon), but the file comes with all the data in the time axis <br>(1 pair of coordinates and a measure of SSHA for each scan of the satellite). Here goes the display of the data:<br><br>&nbsp;&nbsp;&nbsp;<b> 1&gt; ./JA1_IPR_2PcP334_001_20110125_040633_20110125_050240.nc&nbsp; (default)<br>&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp; title&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; J&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L<br>&nbsp;LAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; latitude&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:2350<br>&nbsp;LON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; longitude&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:2350<br>&nbsp;SSHA&nbsp;&nbsp;&nbsp;&nbsp; sea surface height anomaly&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:2350, etc<br></b><br>I realize I need to regrid it to the "I" and "J" axis to be able to work with it, then, I first tried to regrid the "lat" variable to the "I" axis:<br><br><b>define axis/x=1:2350:1 iaxis<br>define grid/x=iaxis gridCOL<br>let lat2=lat[g=gridCOL]<br></b><br>But it didn't show any difference on the grid ferret's display:<br><br><b>sh grid lat<br>&nbsp;&nbsp;&nbsp; GRID GSF1<br>&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; axis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # pts&nbsp;&nbsp; start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>&nbsp;normal&nbsp;&nbsp;&nbsp; X<br>&nbsp;normal&nbsp;&nbsp;&nbsp; Y<br>&nbsp;normal&nbsp;&nbsp;&nbsp; Z<br>&nbsp;TIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2350 i&nbsp;&nbsp; 25-JAN-2011 04:06&nbsp;&nbsp;&nbsp; 25-JAN-2011 05:02<br><br>sh grid lat2<br>&nbsp;&nbsp;&nbsp; GRID GSF1<br>&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; axis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # pts&nbsp;&nbsp; start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>&nbsp;normal&nbsp;&nbsp;&nbsp; X<br>&nbsp;normal&nbsp;&nbsp;&nbsp; Y<br>&nbsp;normal&nbsp;&nbsp;&nbsp; Z<br>&nbsp;TIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TIME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2350 i&nbsp;&nbsp; 25-JAN-2011 04:06&nbsp;&nbsp;&nbsp; 25-JAN-2011 05:02</b><br><br>Second I tried to regrid the "lat" variable, but to a grid with the 3 axis:<br><br><b>&nbsp;define axis/y=1:2350:1 jaxis<br>&nbsp;define axis/t=1:1:1 laxis<br>&nbsp;define grid/x=iaxis/y=jaxis/t=laxis gridCOL_ROW<br>let lat3=lat[g=gridCOL_ROW]<br>sh grid lat3<br>&nbsp;&nbsp;&nbsp; GRID (G002)<br>&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; axis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # pts&nbsp;&nbsp; start&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; end<br>&nbsp;normal&nbsp;&nbsp;&nbsp; X<br>&nbsp;normal&nbsp;&nbsp;&nbsp; Y<br>&nbsp;normal&nbsp;&nbsp;&nbsp; Z<br>&nbsp;LAXIS&nbsp;&nbsp;&nbsp;&nbsp; T&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1 r&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1<br></b><br>...it was worse, ferret and I got more confused...The only way I could work out to give this data a X/Y axis was to save it as a binary:<br><br><b>list/clobber/format=unformatted/file="jason1.dat" lon,lat,ssha</b><br><br>...and open it again:<br><br><b>define axis/x=1:2350:1 iaxis<br>define grid/x=iaxis gridCOL<br>file/format=unformatted/grid=gridCOL/var=lon,lat,ssha/col=3 "jason1.dat"</b><br>&nbsp;<b> sh da<br>&nbsp;&nbsp;&nbsp; 2&gt; ./jason1.dat&nbsp; (default)<br>&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp; title&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; J&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L<br>&nbsp;LON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LON&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:2350&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br>&nbsp;LAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LAT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:2350&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br>&nbsp;SSHA&nbsp;&nbsp;&nbsp;&nbsp; SSHA&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:2350&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...<br></b><br>Does anyone have an easier way to regrid the data from the "L" axis to the "I"/"J" axis?<br>&nbsp;After this, I used the "scat2gridgauss_xy" command to put the variables to this global grid:<br><br><b>!global grid for all Jason's possible tracks:<br>define axis/x=0:360:0.052252252/UNIT=degrees xJASON<br>define axis/y=-66.15:60.15:0.052252252/UNIT=degrees yJASON<br>let sshaJASON=scat2gridgauss_xy(lon,lat,ssha,x[gx=xJASON],y[gy=yJASON],0.5, 0.5, 2, 0)</b><br><br>I ploted these "sshaJASON" variable with "shade", no problems, but isn't there a way to the axis recognize the coordinates described by the variables "lat" and "lon",<br>without the need of the "scat2gridgauss_xy" command?<br>Well, this file is one track of the satellite, and I 'd like to join a hole cycle of it, which is the sum of 254 files, to do so, I made a script in loop, for load and save the 254 binaries files <br>but I'm not able, because Ferret allows until 100 datasets to be loaded at the same time:<br>&nbsp;<br><b>repeat/i=1:(numberFILES):1 (\<br>list `i`; \<br>file/var=ndata "ndata_`i`.txt"; \<br>define axis/x=1:`ndata[i=1]`:1 iaxis; \<br>ca da 1; \<br>define grid/x=iaxis gridTRIPA; \<br>let arq= "JASON_`i`.dat"; \<br>file/format=unformatted/grid=gridTRIPA/var=lon,lat,ssha/col=3 "`arq`" ; \<br>let sshaJASON=scat2gridgauss_xy(lon,lat,ssha,x[gx=xJASON],y[gy=yJASON],0.5, 0.5, 2, 0) ; \<br>let sshaJASON`i` = missing(sshaJASON,0); \<br>let sobrepoe`i`_ssha=if (sshaJASON NE 0) then (sshaJASON) else (sobrepoe`i-1`_ssha[l=1]); \<br>)<br>let sobrepoe_ssha=sobrepoe(numberFILES)_ssha[l=1]<br>set variable/bad=0 sobrepoe_ssha[l=1]<br>set memo/size=1000;shade sobrepoe_ssha;go land_hires<br></b><br>So I tried to cancel the variables ("ca var ssha") at the end of loop, but:<br><br><b>**ERROR: invalid command: can only CANCEL variables you DEFINE SSHA<br>ca var ssha</b><br><br>then I tried to cancel the dataset at the end of loop ("ca da/all" or "ca da 1"), but it keep asking for the old variable (SSHA),<br>and I'm unabled to use the new variable with the overlappings (sobrepoe_ssha):<br><br><b>!-&gt; REPEAT: I=1<br>&nbsp;!-&gt; list 1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARIABLE : constant<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1.000<br>&nbsp;!-&gt; SET DATA/EZ/var=ndata "/home/paula/Ressurgencia/JASON/c334/ndata_1.txt"<br>&nbsp;!-&gt; define axis/x=1:2350:1 iaxis<br>Replacing definition of axis IAXIS<br>&nbsp;!-&gt; DEFINE VARIABLE arq= "/home/paula/Ressurgencia/JASON/c334/JASON_1.dat"<br>&nbsp;!-&gt; SET DATA/EZ/format=unformatted/grid=gridTRIPA/var=lon,lat,ssha/col=3 "/home/paula/Ressurgencia/JASON/c334/JASON_1.dat"<br>&nbsp;!-&gt; DEFINE VARIABLE sshaJASON1 = missing(sshaJASON,0)<br>&nbsp;!-&gt; DEFINE VARIABLE sobrepoe1_ssha=if (sshaJASON NE 0) then (sshaJASON) else (sobrepoe0_ssha[l=1])<br>&nbsp;<br>let sobrepoe_ssha=sobrepoe($cont2)_ssha[l=1]<br>&nbsp;!-&gt; DEFINE VARIABLE sobrepoe_ssha=sobrepoe1_ssha[l=1]<br>set variable/bad=0 sobrepoe_ssha[l=1]<br>&nbsp;<br>shade sobrepoe_ssha<br>&nbsp;**ERROR: variable unknown or not in data set: SSHA<br>shade sobrepoe_ssha<br>Command file, command group, or REPEAT execution aborted</b><br><br>Is there any way to clear the datasets so I'm able to handle with new variables?<br><br>Thanks,<br>Paula Lamosa Nunes<br> 		 	   		  
</td></tr></table><p><strong>Attachment:
<a href="cdf4fmsGDPeHG.cdf" ><tt>JA1_IPR_2PcP334_001_20110125_040633_20110125_050240.nc</tt></a></strong><br>
<em>Description:</em> Cdf file</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00219" href="msg00219.html">Re: [ferret_users] Jason Images</a></strong>
<ul><li><em>From:</em> Paulo B. Oliveira</li></ul></li>
<li><strong><a name="00217" href="msg00217.html">Re: [ferret_users] Jason Images</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00096" href="msg00096.html">[ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00097" href="msg00097.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
<li><strong><a name="00098" href="msg00098.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00119" href="msg00119.html">[ferret_users] plotting and interpolating data given on curvilinear grids</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
<li><strong><a name="00120" href="msg00120.html">Re: [ferret_users] plotting and interpolating data given on curvilinear grids</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00206" href="msg00206.html">RE: [ferret_users] plotting and interpolating data given on curvilinear grids</a></strong>
<ul><li><em>From:</em> PaulaOCN Nunes</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00209.html">Re: [ferret_users] plotting and interpolating data given on curvilinear grids</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00217.html">Re: [ferret_users] Jason Images</a></strong>
</li>

</UL>
<center>[<a href="msg00209.html">Thread Prev</a>][<a href="msg00217.html">Thread Next</a>][<A HREF="threads.html#00215">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
