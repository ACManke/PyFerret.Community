<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] question about define axis t -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Mon, 21 Mar 2011 12:11:05 &#45;0700 -->
<!--X-Message-Id: 4D87A2C8.9020202@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: AANLkTikxxWO8wT&#45;nuCBSs6xDDL7zWs7jNu&#45;TReXKr6du@mail.gmail.com -->
<!--X-Reference: 4D83A7A4.2060700@noaa.gov -->
<!--X-Reference: AANLkTik1fmGZpNjwZ&#45;s=i0igpP9q51R&#45;H_V7g&#45;WMuof+@mail.gmail.com -->
<!--X-Reference: 4D878E23.8060005@noaa.gov -->
<!--X-Reference: AANLkTinOXsEDK7BvJyL3dSXbPhvym+__DqwuiE4LPA3F@mail.gmail.com -->
<!--X-Reference: 4D87A1E4.80602@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] question about define axis t</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00210.html">Thread Prev</a>][<a href="msg00221.html">Thread Next</a>][<A HREF="threads.html#00211">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] question about define axis t</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] question about define axis t</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 21 Mar 2011 12:11:04 -0700</li>
<li>Cc: Ferret users &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="mailto:4D87A1E4.80602@DOMAIN.HIDDEN">4D87A1E4.80602@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:AANLkTikxxWO8wT-nuCBSs6xDDL7zWs7jNu-TReXKr6du@DOMAIN.HIDDEN">AANLkTikxxWO8wT-nuCBSs6xDDL7zWs7jNu-TReXKr6du@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D83A7A4.2060700@DOMAIN.HIDDEN">4D83A7A4.2060700@xxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTik1fmGZpNjwZ-s%3Di0igpP9q51R-H_V7g-WMuof%2B@DOMAIN.HIDDEN">AANLkTik1fmGZpNjwZ-s=i0igpP9q51R-H_V7g-WMuof+@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D878E23.8060005@DOMAIN.HIDDEN">4D878E23.8060005@xxxxxxxx</a>&gt; &lt;<a href="mailto:AANLkTinOXsEDK7BvJyL3dSXbPhvym%2B__DqwuiE4LPA3F@DOMAIN.HIDDEN">AANLkTinOXsEDK7BvJyL3dSXbPhvym+__DqwuiE4LPA3F@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D87A1E4.80602@DOMAIN.HIDDEN">4D87A1E4.80602@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">

  
  
    Hi - <br>
    There was a typo in my previous message. There should not be an
    equals sign after the file in the third line.<br>
    <blockquote><br>
      yes? define axis/x=1:90000:1 xindex
      <br>
      yes? define grid/x=xindex xinput
      <br>
      yes? file/skip=10000/FORM=free/grid=xinput/var="lon, lat, ..."
      <br>
      <br>
      Then make the SCAT2GRIDGAUSS_XY calls with&nbsp; arguments (lon, lat,
      var, x[gx=xlon], y[gy=ylat], ...)
      <br>
    </blockquote>
    <br>
    <br>
    On 3/21/2011 12:07 PM, Ansley Manke wrote:
    <blockquote cite="" type="cite">Hi
      Leandro
      <br>
      <br>
      So, the input data don't include each and every longitude and
      latitude on the grid you have defined with xlon and ylat.&nbsp; This
      means that you need to read the data on a single, long axis, and
      then call the regridding function as you have done.&nbsp; The FILE
      command you used with /grid=mygrid assumes that all the locations
      are represented in your input file.
      <br>
      <br>
      So, just define a long axis. If there were fewer than the&nbsp; default
      abstract-axis length of 20480 points, you could do this without
      defining an axis at all (you'd just skip the /grid= qualifier),
      but you need a longer axis. Use the length of the dataset, or some
      number longer than its length.
      <br>
      <br>
      yes? define axis/x=1:90000:1 xindex
      <br>
      yes? define grid/x=xindex xinput
      <br>
      yes? file=/skip=10000/FORM=free/grid=xinput/var="lon, lat, ..."
      <br>
      <br>
      Then make the SCAT2GRIDGAUSS_XY calls with&nbsp; arguments (lon, lat,
      var, x[gx=xlon], y[gy=ylat], ...)
      <br>
      <br>
      <br>
      <br>
      <br>
      On 3/21/2011 11:06 AM, Otacilio Leandro wrote:
      <br>
      <blockquote type="cite">Hi Ansley,
        <br>
        <br>
        The data that i'm using is at a grid of 0.5 degree only over
        <br>
        continental areas. Because of that i'm using the scat2gridgauss
        <br>
        function.
        <br>
        <br>
        The data also is organized with lon and lat at the first and
        second
        <br>
        columns and the months january until december at the columns
        3-15. The
        <br>
        last column is the anual average for the year.
        <br>
        <br>
        I'm seeding you the year of 1900 as exemple. My goal with this
        data is
        <br>
        to create only one cdf file with all monthly means of surface
        <br>
        temperature since 1900 until 2008. At this jnl script i'm trying
        to
        <br>
        create one cdf file per month and then concatenet them all using
        NCO.
        <br>
        If there's a simple way to this using ferret i'll apreciate if
        you
        <br>
        enlighten me.
        <br>
        <br>
        Thank you again and continue the great job you are doing!
        <br>
        <br>
        2011/3/21 Ansley Manke<a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:Ansley.B.Manke@xxxxxxxx">&lt;Ansley.B.Manke@xxxxxxxx&gt;</a>:
        <br>
        <blockquote type="cite">hi-
          <br>
          I think that we need to find out how to read the data first.&nbsp;&nbsp;
          Could you
          <br>
          send me a few lines from the start of your ascii file?
          <br>
          <br>
          After you run the commands
          <br>
          <br>
          define axis/x=-179.8:179.8:0.5/units=degrees xlon
          <br>
          define axis/y=-89.75:89.75:0.5/units=degrees ylat
          <br>
          define axis/t=1:1:1 axist
          <br>
          define grid/x=xlon/y=ylat/t=axist mygrid
          <br>
          file=/g=mygrid/skip=10000/FORM=free/var="lon, lat, var01,
          var02, var03,
          <br>
          var04, var05, var06, var07, var08, var09, var10, var11, var12,
          anual"
          <br>
          "air_temp2009/air_temp.$1"
          <br>
          <br>
          This sequence would indicate that your data is already on an
          XY grid, at one
          <br>
          value of time.&nbsp; How do these plots look?
          <br>
          <br>
          yes? shade/L=1 lon
          <br>
          yes? shade/L=1 lat
          <br>
          <br>
          yes? shade var01
          <br>
          <br>
          If the data are are not already on a on the grid defined by
          xlon and ylat,
          <br>
          then the above FILE command is not the correct one to use.&nbsp; If
          the data is
          <br>
          on a grid, then you don't need to call the scat2gridgauss
          function.
          <br>
          <br>
          <br>
          On 3/21/2011 4:36 AM, Otacilio Leandro wrote:
          <br>
          <blockquote type="cite">Ansley,
            <br>
            <br>
            I've corrected the file line but still the problem continue.
            I'm
            <br>
            atacching the jnl script so you can verify any others erros.
            <br>
            <br>
            Thank you very much.
            <br>
            <br>
            2011/3/18 Ansley Manke<a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:Ansley.B.Manke@xxxxxxxx">&lt;Ansley.B.Manke@xxxxxxxx&gt;</a>:
            <br>
            <blockquote type="cite">Hi -
              <br>
              In your FILE command, do you have quotes around the list
              of variable
              <br>
              names?
              <br>
              &nbsp; It should look like,
              <br>
              <br>
              file=/g=mygrid/var="lon, lat, value01, value02, ..."&nbsp;
              ascii_file.txt
              <br>
              <br>
              <br>
              <br>
              On 3/18/2011 8:29 AM, Otacilio Leandro wrote:
              <br>
              <blockquote type="cite">Hello,
                <br>
                <br>
                I've got a data with 2D (x and y) climatological monthly
                temperature
                <br>
                over continental areas and i got some trouble at using
                it on ferret.
                <br>
                The data are separated by one file per year and i used
                the function
                <br>
                scat2gridgauss_xy to correctly read the data over the
                continent.
                <br>
                My goal with this data is create a cdf file varing at
                time (each
                <br>
                "timestep" is one month of the data).
                <br>
                <br>
                I defined the axis this way:
                <br>
                <br>
                define axis/x=-179.8:179.8:0.5/units=degrees xlon
                <br>
                define axis/y=-89.75:89.75:0.5/units=degrees ylat
                <br>
                define axis/t=1:1:1 axist
                <br>
                <br>
                define grid/x=xlon/y=ylat/t=axist mygrid
                <br>
                <br>
                But when i used
                <br>
                <br>
                file=/g=mygrid/var= lon, lat, value01, value02 ... etc ,
                ascii-file.txt
                <br>
                <br>
                all values of the orignal data are exchanged for 12.8 as
                you can see
                <br>
                below.
                <br>
                <br>
                Here is the stat of my variable:
                <br>
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; temp-1900-02
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LONGITUDE: 179.9E(-180.1) to 179.9E(179.9)
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LATITUDE: 90S to 90N
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Z:&nbsp; N/A
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; T: 1
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; DATA SET: air_temp2009/air_temp.1900
                <br>
                <br>
                &nbsp; Total # of data points: 259200 (720*360*1*1)
                <br>
                &nbsp; # flagged as bad&nbsp; data: 259194
                <br>
                &nbsp; Minimum value: 12.8
                <br>
                &nbsp; Maximum value: 12.8
                <br>
                &nbsp; Mean&nbsp;&nbsp;&nbsp; value: 12.8 (unweighted average)
                <br>
                &nbsp; Standard deviation: 7.178999E-07
                <br>
                <br>
                <br>
                I also tryed to regrid the variable using
                <br>
                <br>
                let temp = tmp[g=mygrid]
                <br>
                <br>
                but it also showed problems because the time axis is
                missing at temp
                <br>
                variable.
                <br>
                <br>
                The way i defined the t axis is correct? The reason that
                i want a time
                <br>
                axis on my variable is to use NCO to concatened all cdfs
                that im going
                <br>
                to create. I tested using file without time axis and got
                an error from
                <br>
                NCO.
                <br>
                <br>
                I'm using:
                <br>
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FERRET v6.64
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Linux rh5 (gfortran) 2.6.18-164.11.1.el5 -
                09/20/10
                <br>
                <br>
                Thanks for the help.
                <br>
                <br>
                <br>
              </blockquote>
            </blockquote>
            <br>
          </blockquote>
        </blockquote>
        <br>
        <br>
      </blockquote>
    </blockquote>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00199" href="msg00199.html">[ferret_users] question about define axis t</a></strong>
<ul><li><em>From:</em> Otacilio Leandro</li></ul></li>
<li><strong><a name="00204" href="msg00204.html">Re: [ferret_users] question about define axis t</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00210" href="msg00210.html">Re: [ferret_users] question about define axis t</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00210.html">Re: [ferret_users] question about define axis t</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00221.html">Re: [ferret_users] question about define axis t</a></strong>
</li>

</UL>
<center>[<a href="msg00210.html">Thread Prev</a>][<a href="msg00221.html">Thread Next</a>][<A HREF="threads.html#00211">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
