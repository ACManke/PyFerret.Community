<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Announcing Ferret v6.6.7, a bug&#45;fix release -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 16 Feb 2011 11:02:06 &#45;0800 -->
<!--X-Message-Id: 4D5C1F2C.1080607@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4D558413.7080709@noaa.gov -->
<!--X-Reference: 4D592AE2.4070100@io&#45;warnemuende.de -->
<!--X-Reference: 4D596F7A.2070609@noaa.gov -->
<!--X-Reference: 1297847563.4536.166.camel@fulcrum.soest.hawaii.edu -->
<!--X-Reference: 4D5C07AC.5050300@climate.unibe.ch -->
<!--X-Reference: 4D5C125D.4020306@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00109.html">Thread Prev</a>][<a href="msg00113.html">Thread Next</a>][<A HREF="threads.html#00110">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:Ansley.B.Manke@DOMAIN.HIDDEN">Ansley.B.Manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 16 Feb 2011 11:02:04 -0800</li>
<li>Cc: Marco Steinacher &lt;<a href="mailto:steinacher@DOMAIN.HIDDEN">steinacher@xxxxxxxxxxxxxxxx</a>&gt;, <a href="mailto:jianma@DOMAIN.HIDDEN">jianma@xxxxxxxxxx</a>,        Ferret users &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="mailto:4D5C125D.4020306@DOMAIN.HIDDEN">4D5C125D.4020306@xxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:4D558413.7080709@DOMAIN.HIDDEN">4D558413.7080709@xxxxxxxx</a>&gt; &lt;<a href="mailto:4D592AE2.4070100@DOMAIN.HIDDEN">4D592AE2.4070100@xxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D596F7A.2070609@DOMAIN.HIDDEN">4D596F7A.2070609@xxxxxxxx</a>&gt; &lt;<a href="mailto:1297847563.4536.166.camel@DOMAIN.HIDDEN">1297847563.4536.166.camel@xxxxxxxxxxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D5C07AC.5050300@DOMAIN.HIDDEN">4D5C07AC.5050300@xxxxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D5C125D.4020306@DOMAIN.HIDDEN">4D5C125D.4020306@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.13) Gecko/20101207 Thunderbird/3.1.7</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi all,
</pre><tt>This was happening only on 64-bit machines. I re-linked the gksm2ps 
</tt><tt>program which translates metafiles to postscript.  The incorrect line
</tt><pre style="margin: 0em;">

   /lw {0.000000 mul 3000 div setlinewidth} def

is now translated to the correct version,

   /lw {3000 div setlinewidth} def

</pre><tt>I have replaced the fer_executables tar file for 64-bit, so that now it 
</tt><tt>contains the updated gksm2ps executable, and it can be downloaded from 
</tt><tt>the 64-bit downloads page,
</tt><pre style="margin: 0em;">
<a  rel="nofollow" href="http://ferret.pmel.noaa.gov/static/Downloads/linux_x86_64_nc4_downloads.html">http://ferret.pmel.noaa.gov/static/Downloads/linux_x86_64_nc4_downloads.html</a>

and also the source code file, with a change to the Makefile for gksm2ps.

Ansley

On 2/16/2011 10:07 AM, Ansley Manke wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi Marco and Jian,
Thanks for the further information. I'll check into it.

Ansley

On 2/16/2011 9:21 AM, Marco Steinacher wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi,

I see a similar issue with Ferret 6.6.7. Apparently the linewidth
definition in the PS files generated by Fprint/gksm2ps has changed. In
earlier versions the PS files usually contained the following line:

/lw {3000 div setlinewidth} def

Now it looks like this:

/lw {0.000000 mul 3000 div setlinewidth} def


I used to increase the line width of the PS output with ps_thicken as
described in the FAQ
</pre><tt>(<a  rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/faq/changing-line-thickness-in-postscript-files">http://ferret.pmel.noaa.gov/Ferret/faq/changing-line-thickness-in-postscript-files</a>). 
</tt><tt>
</tt><pre style="margin: 0em;">
It uses sed to change the PS file. E.g.

</pre><tt>sed -e &quot;s/^\/lw {\(.*\) div setlinewidth/\/lw {4 mul \1 div 
</tt><tt>setlinewidth/&quot;
</tt><pre style="margin: 0em;">

This does not work anymore. Now, one would have to do something like

sed -e &quot;s/^\/lw {0.000000 mul \(.*\) div setlinewidth/\/lw {4 mul \1 div
setlinewidth/&quot;


Marco


Jian Ma wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi Ansley and All,

</pre><tt>I found a bug after upgrading from 6.5 to 6.6.7. When I transfer my 
</tt><tt>plot
</tt><tt>to eps with gksm2ps, the thickness of the lines are 1, no matter 
</tt><tt>what is
</tt><tt>set in the jnl. One of my scripts works fine with the former version 
</tt><tt>but
</tt><pre style="margin: 0em;">
has this problem after the upgrade.

I did not delete my older version during the upgrade, though, to keep
some customized scripts. Would this be the cause? Anybody has
experienced similar problem?

Thanks,
Tony

On Mon, 2011-02-14 at 10:07 -0800, Ansley Manke wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi Martin,
</pre><tt>We've just switched over to RHEL5 and libc.so.6 on our machine 
</tt><tt>shows as
</tt><pre style="margin: 0em;">
linking to libc-2.5.so.  (Previous to that switch we were hearing from
users with newer linux systems who had library mis-matches, though
compatibility libraries generally lets one find the right library for
code built on an earlier operating system to run on a newer one.)

</pre><tt>The executable in the tar file is already linked with all of the 
</tt><tt>static
</tt><tt>libraries we had available to us.  We're very much aware  of this 
</tt><tt>issue,
</tt><pre style="margin: 0em;">
and are thinking it may be time to work towards releasing source code
</pre><tt>with a nice build process so people could build Ferret themselves. 
</tt><tt>Even
</tt><pre style="margin: 0em;">
as things stand now, building from source is not difficult, but does
require building HDF and NetCDF libraries. I haven't posted the source
code for this fixed version, but I'll do that later today.

We'll continue to work on a good general solution for this problem.

Ansley



On 2/14/2011 5:15 AM, Martin Schmidt wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Dear Ansley,
</pre><tt>I tried to install Version 6.6.7 at SLES10 but failed. 
</tt><tt>libselinux.so.1
</tt><pre style="margin: 0em;">
is missing. I tried to use a the lib from SLES11.
Now I end up with

</pre><tt>ferret_v667: /lib64/libc.so.6: version `GLIBC_2.8' not found 
</tt><tt>(required
</tt><pre style="margin: 0em;">
by /linsoft/ferret_v667_64_dynamic/lib/libselinux.so.1)

</pre><tt>Indeed, my libc.so.6 is a link to libc-2.4.so with SLES10. With 
</tt><tt>SLES11
</tt><pre style="margin: 0em;">
the link is to libc-2.11.1.so.

Is there any chance to benefit from the latest bug fixes at machines
</pre><tt>that are not using the latest system version. Possibly by a more 
</tt><tt>complete
</tt><pre style="margin: 0em;">
static linking?
</pre><tt>We are not able to update the system, because the system 
</tt><tt>management is
</tt><pre style="margin: 0em;">
linked with the hardware contract.

Greetings,
Martin Schmidt

Ansley Manke wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi all,
There is a new release of Ferret available now, Version 6.6.7, which
corrects a recently reported bug in Ferret v6.6.5.

In Ferret v6.6.5, the last official Ferret release, the
multi-dimensional computation of a definite integral @DIN over X and
Z, but not integrating over latitude, is incorrect. This means that
the computation of quantities such as a meridional transport at a
fixed latitude, will be incorrect when calculated by Ferret v6.6.5.

The calculation was done correctly in the previous release, Ferret
v6.4, and is corrected in v6.6.7, which may be downloaded from the
Ferret Downloads page at

<a  rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/downloads">http://ferret.pmel.noaa.gov/Ferret/downloads</a>

The Downloads documentation is updated and the main Ferret
documentation will be updated to reflect this new version number
shortly.

Ansley
</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">

</pre></blockquote></blockquote><pre style="margin: 0em;">

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00113" href="msg00113.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Jian Ma</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00096" href="msg00096.html">[ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00097" href="msg00097.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
<li><strong><a name="00098" href="msg00098.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00106" href="msg00106.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Jian Ma</li></ul></li>
<li><strong><a name="00108" href="msg00108.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Marco Steinacher</li></ul></li>
<li><strong><a name="00109" href="msg00109.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00109.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00113.html">Re: [ferret_users] Announcing Ferret v6.6.7, a bug-fix release</a></strong>
</li>

</UL>
<center>[<a href="msg00109.html">Thread Prev</a>][<a href="msg00113.html">Thread Next</a>][<A HREF="threads.html#00110">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
