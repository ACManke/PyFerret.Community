<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] data from netcdf file automatically reversed -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 4 May 2011 10:03:04 &#45;0700 -->
<!--X-Message-Id: 4DC186FF.5090307@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: BANLkTikXM89_vqSNEhGtYe3zgyC6Qs3ZOQ@mail.gmail.com -->
<!--X-Reference: 4DBEEB2E.8010409@noaa.gov -->
<!--X-Reference: BANLkTi=3R4KY8bKqJACfXHWRze7R&#45;Jw+TQ@mail.gmail.com -->
<!--X-Reference: 4DC06982.7060108@cea.fr -->
<!--X-Reference: BANLkTimhcOiaVcLXKHJdJNqOMKudND2sMA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] data from netcdf file automatically reversed</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00338.html">Thread Prev</a>][<a href="msg00343.html">Thread Next</a>][<A HREF="threads.html#00341">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] data from netcdf file automatically reversed</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Yue Chao &lt;<a href="mailto:chaoyuejoy@DOMAIN.HIDDEN">chaoyuejoy@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] data from netcdf file automatically reversed</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 04 May 2011 10:03:59 -0700</li>
<li>Cc: ferret &lt;<a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="mailto:BANLkTimhcOiaVcLXKHJdJNqOMKudND2sMA@DOMAIN.HIDDEN">BANLkTimhcOiaVcLXKHJdJNqOMKudND2sMA@xxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:BANLkTikXM89_vqSNEhGtYe3zgyC6Qs3ZOQ@DOMAIN.HIDDEN">BANLkTikXM89_vqSNEhGtYe3zgyC6Qs3ZOQ@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4DBEEB2E.8010409@DOMAIN.HIDDEN">4DBEEB2E.8010409@xxxxxxxx</a>&gt; &lt;<a href="mailto:BANLkTi%3D3R4KY8bKqJACfXHWRze7R-Jw%2BTQ@DOMAIN.HIDDEN">BANLkTi=3R4KY8bKqJACfXHWRze7R-Jw+TQ@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4DC06982.7060108@DOMAIN.HIDDEN">4DC06982.7060108@xxxxxx</a>&gt; &lt;<a href="mailto:BANLkTimhcOiaVcLXKHJdJNqOMKudND2sMA@DOMAIN.HIDDEN">BANLkTimhcOiaVcLXKHJdJNqOMKudND2sMA@xxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.2.15) Gecko/20110303 Thunderbird/3.1.9</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">

  
  
    Hi -<br>
    I'm glad you found a good answer. Just one more comment. When first
    opening a dataset, it's worth reading the notes or warnings that
    Ferret issues, and trying to understand what they're telling you.&nbsp; I
    think that you would have seen,<br>
    <blockquote><tt>yes? use data.nc</tt><br>
      <tt>&nbsp;*** NOTE: Coordinates out of order or missing on axis
        time_counter at subscript 2</tt><br>
      <tt>&nbsp;*** NOTE: A dummy axis of subscripts will be used</tt><br>
      <br>
      <tt>yes? show data</tt><br>
      <tt>&nbsp;&nbsp;&nbsp;&nbsp; currently SET data sets:</tt><br>
      <tt>&nbsp;&nbsp;&nbsp; 1&gt; ./<a rel="nofollow" href="http://data.nc">data.nc</a>&nbsp; (default)</tt><br>
      <tt>&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp; title&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        J&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; K&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; L</tt><br>
      <tt>
        &nbsp;TIME_COUNTER</tt><br>
      <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Time axis&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:389</tt><br>
      <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (invalid coordinate axis)</tt><br>
      <tt>&nbsp;TOTAL_SOIL_CARB</tt><br>
      <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; total soil and litter carbon&nbsp;&nbsp;&nbsp;&nbsp; 1:1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        1:13&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1:389</tt><br>
    </blockquote>
    <br>
    When invalid coordinate valuse are used, Ferret puts them into a
    variable and lists it with the notation (invalid coordinate axis).
    It contains the numbers that were listed in the coordinate variable
    of the file - sometimes they can be used to create a valid axis
    using Ferret DEFINE AXIS commands.<br>
    <br>
    <br>
    Ansley<br>
    &nbsp;<br>
    <br>
    <br>
    On 5/4/2011 12:29 AM, Yue Chao wrote:
    <blockquote
      cite=""
      type="cite">Much thanks to Patrick and&nbsp;<span class="gI"><span
          class="go">Hein! Yes, the bad time axis of the file caused
          this problem.<br>
          <br>
          It seems that replacing the broken time_counter axis by doing
          "</span></span>define axis /t=1:389:1 time_counter<span
        class="gI"><span class="go">" in ferret didn't change the
          sequence.<br>
        </span></span>I used ncks as suggested by Patrick to remove the
      time axis before reading it into ferret, and define other time
      axis as I want, then it's OK.<br>
      <br>
      Again thanks for the help,<br>
      <br>
      Chao<br>
      <br>
      <div class="gmail_quote">
        2011/5/3 Brockmann Patrick <span dir="ltr">&lt;<a rel="nofollow"
            moz-do-not-send="true"
            href="mailto:Patrick.Brockmann@xxxxxx">Patrick.Brockmann@xxxxxx</a>&gt;</span><br>
        <blockquote class="gmail_quote" style="margin: 0pt 0pt 0pt
          0.8ex; border-left: 1px solid rgb(204, 204, 204);
          padding-left: 1ex;">
          Hi,<br>
          I think you should correct the time axis of your file.
          <div class="im"><br>
            <br>
            time_counter = 15768000, -78926400, 15768000, 15768000,
            -78926400,<br>
            &nbsp; -15854400, -47390400, -15854400, -110462400, -78926400,
            -78926400,<br>
            &nbsp; -47390400, -78926400, -15854400, -110462400, 15768000,
            15768000,<br>
          </div>
          &nbsp; -47390400, -110462400, -47390400, ...<br>
          <br>
          is not a correct axis (whatever the reason) because it is
          neither increasing or decreasing.<br>
          <br>
          You could remove this wrong axis by using ncks (from nco
          commands)<br>
          <br>
          ncks -Oh -C -x -v time_counter <a rel="nofollow" moz-do-not-send="true"
            href="http://file1.nc" target="_blank">file1.nc</a> <a rel="nofollow"
            moz-do-not-send="true" href="http://file2.nc"
            target="_blank">file2.nc</a><br>
          <br>
          ferret will then open your file in the right order and
          presents it as indices.<br>
          Then, define a new axis if needed.<br>
          <br>
          Patrick<br>
          <br>
          -- <br>
          LSCE/IPSL, Laboratoire CEA-CNRS-UVSQ<br>
          Data Analysis and Visualization Engineer<br>
          ICMC - IPSL Climate Modelling Centre<br>
          <font color="#888888">
            --<br>
            <br>
          </font></blockquote>
      </div>
      <br>
      <br clear="all">
      <br>
      -- <br>
      <div>***********************************************************************************</div>
      <div>Chao YUE<br>
        Laboratoire des Sciences du Climat et de l'Environnement
        (LSCE-IPSL)<br>
        UMR 1572 CEA-CNRS-UVSQ<br>
        Batiment 712 - Pe 119<br>
        91191 GIF Sur YVETTE Cedex</div>
      <div>Tel: (33) 01 69 08 77 30</div>
      <div>Portable Phone (Mobil phone) : (33) 07 60 54&nbsp; 23 71</div>
      <div>************************************************************************************</div>
      <br>
    </blockquote>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00343" href="msg00343.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
<ul><li><em>From:</em> Yue Chao</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00325" href="msg00325.html">[ferret_users] data from netcdf file automatically reversed</a></strong>
<ul><li><em>From:</em> Yue Chao</li></ul></li>
<li><strong><a name="00327" href="msg00327.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00330" href="msg00330.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
<ul><li><em>From:</em> Yue Chao</li></ul></li>
<li><strong><a name="00335" href="msg00335.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
<ul><li><em>From:</em> Brockmann Patrick</li></ul></li>
<li><strong><a name="00338" href="msg00338.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
<ul><li><em>From:</em> Yue Chao</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00338.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00343.html">Re: [ferret_users] data from netcdf file automatically reversed</a></strong>
</li>

</UL>
<center>[<a href="msg00338.html">Thread Prev</a>][<a href="msg00343.html">Thread Next</a>][<A HREF="threads.html#00341">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
