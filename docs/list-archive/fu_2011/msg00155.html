<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [ferret_users] Interpolation 2D issue -->
<!--X-From-R13: Emlzba Dbmvrjfxv <fmlzba.ebmvrjfxvNtznvy.pbz> -->
<!--X-Date: Wed, 9 Mar 2011 06:23:16 &#45;0800 -->
<!--X-Message-Id: AANLkTikNM_U1XrgAj2V+6KUa_VDrztAg2cHX0YZ8aHrr@mail.gmail.com -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: AANLkTikhKS6nWJjTF9_JP4ssAbGnTwMpnfJUfmxF+igF@mail.gmail.com -->
<!--X-Reference: 4D772AA8.2060906@io&#45;warnemuende.de -->
<!--X-Derived: zip5pjrl5QZhp.zip -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Interpolation 2D issue</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00152.html">Thread Prev</a>][<a href="msg00156.html">Thread Next</a>][<A HREF="threads.html#00155">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Interpolation 2D issue</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>, <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Interpolation 2D issue</strong></li>
<li><strong>From</strong>: <strong>Szymon Roziewski &lt;<a href="mailto:szymon.roziewski@DOMAIN.HIDDEN">szymon.roziewski@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 09 Mar 2011 15:23:13 +0100</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=gamma;        h=domainkey-signature:mime-version:in-reply-to:references:date         :message-id:subject:from:to:content-type; bh=4cSx4pr9e9ChF5lAE8ER4ysIXNmFYH83yWq7WR9xojQ=; b=ID6t5gf4KOVSxKz4+gsCrXXTkF+pLJfn9wIlhQwxrkSz3skE7egUxs+msRlQ0qNKUC tE7nJ8xSKUa/t6gmPWmX0eRRVtU1VSq/MC4Ny6jAxtZT8IkHcoARE5L8fP+m9HaI1Uo0 vHL6n46t8xrXTHyYnkFdFHPBmIBgtPqfq46Zs=</li>
<li>Domainkey-signature: a=rsa-sha1; c=nofws;        d=gmail.com; s=gamma; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :content-type; b=NNlwodkoTlJaV87kVcGmgU6InuZY6iVkLzMg7lAgkVla0/iOXmUbjm0OLPa2ONsF8U mH/FsJ/ZLvBCxJ4V/xlwn+wreQx5q2T8yGzOhRy3vrVa1MHp5JsEYmQJN0JPyQYQa/Re SwAPB5Gkhyks30Cf2vh28JQCJIj+2xFIJhgpk=</li>
<li>In-reply-to: &lt;<a href="mailto:4D772AA8.2060906@DOMAIN.HIDDEN">4D772AA8.2060906@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>References: &lt;<a href="mailto:AANLkTikhKS6nWJjTF9_JP4ssAbGnTwMpnfJUfmxF%2BigF@DOMAIN.HIDDEN">AANLkTikhKS6nWJjTF9_JP4ssAbGnTwMpnfJUfmxF+igF@xxxxxxxxxxxxxx</a>&gt; &lt;<a href="mailto:4D772AA8.2060906@DOMAIN.HIDDEN">4D772AA8.2060906@xxxxxxxxxxxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Dear Martin / Ferreters,<br>I have problem with using fill_xy function. I saw some examples and read sth in the ferret archives but I still stuck.<br>I try to explain my issue.<br>This is reading an ice field and putting into a lndseaf. I also quote the grid definition.<br>
<br>DEFINE AXIS/X=-5.666666667:5.25:0.083333333/unit=degree xlon<br>DEFINE AXIS/Y=-2.0:10.0:0.083333333/unit=degree ylat<br>DEFINE GRID/x=xlon/y=ylat grid_xlon_xlat<br>file/skip=1/format=(80f1.0/52f1.0)/columns=132/grid=grid_xlon_xlat/var=lndseaf ICE.DAT<br>
<br>Then I interpolate the lndseaf onto a fine grid.<br><br>DEFINE AXIS/X=-5.666666667:5.25:0.010416667/unit=degree xfine<br>DEFINE AXIS/Y=-2.0:10.0:0.010416667/unit=degree yfine !1/8<br>DEFINE GRID/x=xfine/y=yfine grid_xfine_yfine<br>
let ice_regridded lndseaf[gxy=grid_xfine_yfine]<br><br>What I did next was make the mask.<br><br>let mask = ice_regridded/ice_regridded<br><br>And I used the mask with fill_xy as the following <br><br>let ice_ext = fill_xy(ice_regridded,mask,5)<br>
<br>But It didn&#39;t change anything. I tried out using different values of third argument of fill_xy. However, I didn&#39;t improve at all.<br>So, I think either I was using fill_xy badly or I misunderstood something.<br>
<br>I also tried out FLN function as follows<br><br>let ext = ice_regridded[x=@FLN:50,y=@FLN:50]<br><br>But this resulted with no changes to the ice_regridded as well.<br>I attach ICE.DAT to make it more real.<br><br>Kind regards,<br>
Szymon Roziewski<br><br><br><br><div class="gmail_quote">2011/3/9 Martin Schmidt <span dir="ltr">&lt;<a rel="nofollow" href="mailto:martin.schmidt@xxxxxxxxxxxxxxxxx">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;</span><br><blockquote class="gmail_quote" style="margin: 0pt 0pt 0pt 0.8ex; border-left: 1px solid rgb(204, 204, 204); padding-left: 1ex;">
Dear Szymon,<br>
<br>
you may use fill_xy(data, mask, 2) before you filter data. This extrapolates the data smoothly into land by two points and the filter @SBX and @SHN<br>
can do something reasonable near land too. Applying your land mask later removes remaining extrapolated points.<br>
<br>
Greetings,<br><font color="#888888">
Martin</font><div><div></div><div class="h5"><br>
Szymon Roziewski wrote:<br>
<blockquote class="gmail_quote" style="margin: 0pt 0pt 0pt 0.8ex; border-left: 1px solid rgb(204, 204, 204); padding-left: 1ex;">
Dear Ferreters,<br>
<br>
I have an ice field that is a matrix filled by 0 or 1. Because of weak resolution I need it to be interpolated on a finer grid.<br>
I tried out two approaches.<br>
The first, I interpolated with using @SBX and @SHN functions. Basically, I got neat result except to the boundary where I got a lack of data. Because this functions don&#39;t have data to interpolate and ending up with 0 value.<br>

As the second I used scat2gridgauss_xy function which gave me smoother result but near the boundary I got the ice that should not to be. I think that this function is do smooth the data sometimes to much.<br>
<br>
Have any of you had something similar with it?<br>
Maybe there are some good ferret functions to interpolate ice field which is 0 or 1.<br>
<br>
I attach two graphics for better explanation.<br>
<br>
Kind regards,<br>
Szymon Roziewski<br>
</blockquote>
<br>
</div></div></blockquote></div><br><br clear="all"><br>-- <br>Z wyrazami szacunku,<br>Szymon Roziewski<br>
<p><strong>Attachment:
<a href="zip5pjrl5QZhp.zip" ><tt>ICE.DAT.zip</tt></a></strong><br>
<em>Description:</em> Zip archive</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00156" href="msg00156.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00149" href="msg00149.html">[ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> Szymon Roziewski</li></ul></li>
<li><strong><a name="00152" href="msg00152.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00152.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00156.html">Re: [ferret_users] Interpolation 2D issue</a></strong>
</li>

</UL>
<center>[<a href="msg00152.html">Thread Prev</a>][<a href="msg00156.html">Thread Next</a>][<A HREF="threads.html#00155">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
