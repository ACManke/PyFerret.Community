<!-- MHonArc v2.5.4 -->
<!--X-Subject: Re: log contour intervals (==> SHAKEY) -->
<!--X-From-R13: Egrir Vnaxva <unaxvaNczry.abnn.tbi> -->
<!--X-Date: Fri, 20 Aug 1999 14:49:18 &#45;0700 -->
<!--X-Message-Id: 37BDCC49.12E27293@pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 01JEZNRGDALU8WZHBQ@ZETA.PMEL.NOAA.GOV -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: log contour intervals (==&gt; SHAKEY)</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00251.html">Thread Prev</a>][<a href="msg00253.html">Thread Next</a>][<A HREF="threads.html#00252">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: log contour intervals (==&gt; SHAKEY)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><A HREF="mailto:SPILLANE@DOMAIN.HIDDEN">SPILLANE@xxxxxxxxxxxxx</A></strong></li>
<li><strong>Subject</strong>: <strong>Re: log contour intervals (==&gt; SHAKEY)</strong></li>
<li><strong>From</strong>: <strong>Steve Hankin &lt;<A HREF="mailto:hankin@DOMAIN.HIDDEN">hankin@xxxxxxxxxxxxx</A>&gt;</strong></li>
<li>Date: Fri, 20 Aug 1999 14:44:42 -0700</li>
<li>Cc: <A HREF="mailto:a.larkin@DOMAIN.HIDDEN">a.larkin@xxxxxxxx</A>, <A HREF="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</A></li>
<li>References: &lt;<a href="msg00251.html">01JEZNRGDALU8WZHBQ@ZETA.PMEL.NOAA.GOV</a>&gt;</li>
<li>Sender: owner-ferret_users</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Hi Alice and Mick,

You can control the position, size, number of digits, text size, etc. on the
color bar in Ferret with the PLOT+ &quot;PPL SHAKEY&quot; command.  Immediately below is
the description from $FER_DIR/doc/pplus_enhance_user_guide.txt

    - steve

=====

SHAKEY do_key, orient, klab_siz, klab_inc, klab_dig, klab_len, kx_lo, kx_hi,
ky_lo, ky_hi

This command controls the attributes of the key generated by the SHADE command.
The  key associates the colors or patterns used in the plot with the field
values; its use is optional.  LIST SHAKEY will list current settings of the key.

 do_key If 0 the key will not be displayed; if 1 the key will be displayed.
Default  is 1.

 orient If 0 the key is horizontal (by default on top of the figure); if 1 the
key is  vertical (by default on the right).  Default value is 0.

 klab_siz If non-zero, klab_siz is the height of key label characters in inches.
If 0, SHADE selects a reasonable height; default is 0.

 klab_inc If non-zero every klab_inc key level is labelled; if 0, SHADE selects a
suitable value.  Default value is 0.

 klab_dig is the number of significant digits (klab_dig &gt; 0) or decimal places
(klab_dig &lt; 0) in the key.  Default is 3.

 klab_len is the maximum number of characters in a key label.  Default is 9.

 kx_lo X-coordinate of the left side of the key, in inches.

 kx_hi X-coordinate of the right side.

 ky_lo Y-coordinate of the bottom of the key, in inches.

 ky_hi Y-coordinate of the top.

 Example:

 SHAKEY 1, 1, 0, 3, 4, 8, 9.4, 10.2, 1.4, 7.4

 Specifies that the SHADE command draw a vertical key with label size selected
automatically and every third color of the key labelled.  Labels will contain 4
significant digits  to a maximum of 8 digits.  The entire key will occupy a
rectangle from (9.4,1.4) to (10.2,7.4) in inches.

=====
SPILLANE@pmel.noaa.gov wrote:

&gt; Hello Alice,
&gt;         I don't see a simple solution to your color key labelling
&gt; problem, unless contouring the (base-10) log of the function is
&gt; acceptable.  The latter might make the setting of your non-integer
&gt; exponents easier in a way.
&gt;
&gt;         I believe ferret doesn't have the newer plotplus commands
&gt; that customise the colorbar (colorbar,cbaxis,cbfor,cblabp,cblint
&gt; and cbcsze).  If you could turn off the key labels (cblabp) or
&gt; render them with zero height (cbcsze) then you could use &quot;ppl
&gt; %label&quot; or movable labels to put in any values you like. Perhaps
&gt; you can still use this idea by plotting a white polygon to blot
&gt; out the offending key labels
&gt; polygon/i=1:4/pal=blue/nokey/nolab/over xx,yy
&gt; where xx,yy set by ysequence are the coords of the white rectangle.
&gt;
&gt;         Another workaround would be to drop the key entirely and
&gt; use overlay contours to put correctly labelled contour lines on
&gt; the plot itself.  For your case if you want levels at 1.5x10^n
&gt; where n=-10,-9,-8...-4 say then using a test function 1/10^(i+j+0.5)
&gt; you would (leaving the color bar as a check here)
&gt;
&gt; fill/i=1:10/j=1:10/lev=(-9.824,-3.824,1) log(1/10^(i+j+0.5))
&gt; ppl conpre,@sr1.5e
&gt; contour/over/i=1:10/j=1:10/nolab/lev=(-9.824,-3.824,1,-1) log(1/10^(i+j+0.5))
&gt;
&gt; Note the extra &quot;-1&quot; in the contour lev instruction which forces
&gt; integer contour labels.  This in combination with the &quot;conpre&quot;
&gt; results in labels like 1.5e-10.
&gt;
&gt; Hope this is of some help.
&gt; Mick
&gt; -------------------------------------------------------------------------
&gt; Mick Spillane                            _/_/_/_/ _/_/_/_/  _/_/   _/_/_/
&gt; Phone : (206)526-6780                   _/         _/   _/  _/   _/    _/
&gt; E-mail: spillane@pmel.noaa.gov         _/_/_/     _/_/_/   _/   _/
&gt; U of W Box 357941                     _/         _/       _/   _/    _/
&gt; Room 2070 Building#3 NOAA/PMEL       _/_/_/_/  _/_/     _/_/   _/_/_/

--
Steve Hankin
NOAA/PMEL, 7600 Sand Point Way NE, Seattle, WA 98115-0070
ph. (206) 526-6080 -- FAX (206) 526-6744



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00251" href="msg00251.html">Re: log contour intervals</a></strong>
<ul><li><em>From:</em> SPILLANE</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00251.html">Re: log contour intervals</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00253.html">Re: log contour intervals</a></strong>
</li>

</UL>
<center>[<a href="msg00251.html">Thread Prev</a>][<a href="msg00253.html">Thread Next</a>][<A HREF="threads.html#00252">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
