<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: closest distance -->
<!--X-From-R13: Pvyyl Yrffyre <Ivyyvnz.E.YrffyreNabnn.tbi> -->
<!--X-Date: Wed, 5 Jan 2005 07:36:15 &#45;0800 -->
<!--X-Message-Id: 200501051536.j05Fa5N3024439@ferret.pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: closest distance</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00008.html">Thread Prev</a>][<a href="msg00009.html">Thread Next</a>][<A HREF="threads.html#00011">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: closest distance</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>, <a href="mailto:takayanamba7@DOMAIN.HIDDEN">takayanamba7@xxxxxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: closest distance</strong></li>
<li><strong>From</strong>: <strong>Billy Kessler &lt;<a href="mailto:William.S.Kessler@DOMAIN.HIDDEN">William.S.Kessler@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 5 Jan 2005 07:36:04 -0800 (PST)</li>
<li>Reply-to: Billy Kessler &lt;<a href="mailto:William.S.Kessler@DOMAIN.HIDDEN">William.S.Kessler@xxxxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>The following script will find the distance between two points
on the earth using the law of cosines.

For example, if the script is called great-circle-distance.jnlb,
find the distance between Seattle (47.55N, 122.33W) and Tokyo
(35.75N, 139.5E):

yes? go great-circle-distance.jnlb 47.55 `360-122.33` 35.75 139.5
 !-&gt; go great-circle-distance.jnlb 47.55 237.67 35.75 139.5
7707.6 km

Billy K

--------------------------------------------------------------------
\can mode verify
! find the great circle distance between 2 points using the law of cosines
! 4 input arguments specify the (decimal) latitudes/longitudes of the points
! arg1=latitude 1
! arg2=longitude 1 (pos E)
! arg3=latitude 2
! arg4=longitude 2 (pos (E)

let pd=4*atan(1)/180 
let rearth=6371.2   ! radius of the earth in km

! latitude must start from N pole (textbook law of cosines)
let lat1=90-$1
let lat2=90-$3

! convert spherical to Cartesian coordinates
let x1=sin(pd*lat1)*cos(pd*$2)
let y1=sin(pd*lat1)*sin(pd*$2)
let z1=cos(pd*lat1)
let x2=sin(pd*lat2)*cos(pd*$4)
let y2=sin(pd*lat2)*sin(pd*$4)
let z2=cos(pd*lat2)

let d1=(((x1 - x2)^2) + ((y1 - y2)^2)) + ((z1 - z2)^2)
let angle=acos(1-d1/2)		! angular distance between the points
let distance=rearth*angle	! distance on the sphere

say `distance` km
set mode verify

--------------------------------------------------------------------
&gt; Date: Wed, 5 Jan 2005 20:48:59 +0900 (JST)
&gt; From: Namba Takaya &lt;takayanamba7@yahoo.co.jp&gt;
&gt; Subject: closest distance
&gt; To: ferret_users@noaa.gov
&gt; 
&gt; Dear Sir
&gt; 
&gt; Are there any ways(functions) to measure the closest
&gt; distance of two different points with longtide and
&gt; latitude information by ferret?
&gt; 
&gt; Best Regards,
&gt; 
&gt; Takaya Namba
&gt; 
&gt; __________________________________
&gt; Do You Yahoo!?
&gt; Upgrade Your Life
&gt; <a  href="http://bb.yahoo.co.jp/">http://bb.yahoo.co.jp/</a>
&gt; 

</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00008.html">closest distance</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00009.html">sunset and sunrise time</a></strong>
</li>

</UL>
<center>[<a href="msg00008.html">Thread Prev</a>][<a href="msg00009.html">Thread Next</a>][<A HREF="threads.html#00011">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
