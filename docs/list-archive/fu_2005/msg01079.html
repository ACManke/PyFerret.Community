<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: [ferret_users] i index from X -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Thu, 8 Dec 2005 12:57:01 &#45;0800 -->
<!--X-Message-Id: 43989E1D.1000709@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 20051208132332.34428.qmail@web3501.mail.bbt.yahoo.co.jp -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: [ferret_users] i index from X</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg01073.html">Thread Prev</a>][<a href="msg01074.html">Thread Next</a>][<A HREF="threads.html#01079">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] i index from X</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Namba Takaya &lt;<a href="mailto:takayanamba7@DOMAIN.HIDDEN">takayanamba7@xxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] i index from X</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 08 Dec 2005 12:57:01 -0800</li>
<li>Cc: <a href="mailto:oar.pmel.ferret_users@DOMAIN.HIDDEN">oar.pmel.ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg01073.html">20051208132332.34428.qmail@web3501.mail.bbt.yahoo.co.jp</a>&gt;</li>
<li>References: &lt;<a href="msg01073.html">20051208132332.34428.qmail@web3501.mail.bbt.yahoo.co.jp</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
<li>User-agent: Mozilla Thunderbird 1.0.7 (Windows/20050923)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">



Hi Takaya,<br>
This is because of issues of precision on the command line and in the
LIST command.<br>
<br>
After defining the axis and variables, if you ask for more precision on
the LIST command, and list the coordinates for the whole axis, you will
see this:<br>
<blockquote><tt>yes? list/prec=7 xx</tt><br>
  <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARIABLE : X[GX=XGRID]</tt><br>
  <tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SUBSET&nbsp;&nbsp; : 571 points (LONGITUDE)</tt><br>
  <tt> 70W&nbsp;&nbsp;&nbsp;&nbsp; /&nbsp;&nbsp; 1:&nbsp; 290.0000</tt><br>
  <tt>69.957W /&nbsp;&nbsp; 2:&nbsp; 290.0439<br>
  <br>
  </tt><tt>...<br>
...<br>
  <br>
  </tt><tt> 45.044W / 570:&nbsp; 314.9563</tt><br>
  <tt> 45W&nbsp;&nbsp;&nbsp;&nbsp; / 571:&nbsp; 315.0002</tt><br>
</blockquote>
<br>
A better way to define the axis is to use the /NPOINTS qualifier so
that the interval is divided into 570 points using all of the precision
that is available. For coordinate axes, this means the coordinate
points are computed and stored in double precision.&nbsp; Replace your
definition with this:<br>
<blockquote><tt>define axis/x=290:315/npoints=570/unit=degree xaxis</tt><br>
</blockquote>
<pre wrap="">
</pre>
If you use this definition, then xx and ii behave as you expected them
to.<br>
<br>
When you used&nbsp;&nbsp; /x=290:315:`25/570`&nbsp;&nbsp; the expression 25/570 is
evaluated when the command is parsed and the precision is only four
decimal places, so the definition of the axis is not as precise as it
could be.<br>
<br>
yes? def axis/x=290:315:`25/570`/unit=degree xaxis<br>
&nbsp;!-&gt; def axis/x=290:315:0.04386/unit=degree xaxis<br>
<br>
<br>
Ansley<br>
<br>
<br>
Namba Takaya wrote:
<blockquote
 cite=""
 type="cite">
  <pre wrap="">Dear user

I like to know the i index from x value.

This is a simple exmaple I did.

define axis/x=290:315:`25/570`/unit=degree xaxis
define grid/x=xaxis xgrid
let xx=x[g=xgrid]
list xx[i=570]
let ii=i[g=xgrid]
list ii[x=315]


I expected 570 by "list ii[x=315]", but the return is 571 
even though I got 315 by "list xx[i=570]".

Is this wrong way to get i index from X. Any other simpler
ways?

Best Regards,

Takaya Namba













--------------------------------------
STOP HIV/AIDS.
Yahoo! JAPAN Redribbon Campaign 2005
<a class="moz-txt-link-freetext" href="">http://pr.mail.yahoo.co.jp/redribbon/</a>
  </pre>
</blockquote>


</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01073" href="msg01073.html">[ferret_users] i index from X</a></strong>
<ul><li><em>From:</em> Namba Takaya</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg01073.html">[ferret_users] i index from X</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01074.html">MOM4p0 [ferret_users] reading netcdf-files, prepared with ferret</a></strong>
</li>

</UL>
<center>[<a href="msg01073.html">Thread Prev</a>][<a href="msg01074.html">Thread Next</a>][<A HREF="threads.html#01079">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
