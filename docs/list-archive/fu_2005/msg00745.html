<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: [ferret_users] problems in generating post scrip file plot -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Thu, 4 Aug 2005 10:33:30 &#45;0700 -->
<!--X-Message-Id: 42F2516A.9090306@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1240ed349.d3491240e@pmel.noaa.gov -->
<!--X-Reference: 42F223F2.6090302@bgc&#45;jena.mpg.de -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: [ferret_users] problems in generating post scrip file plot</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00744.html">Thread Prev</a>][<a href="msg00702.html">Thread Next</a>][<A HREF="threads.html#00745">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] problems in generating post scrip file plot</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Yogesh K. Tiwari&quot; &lt;<a href="mailto:ktiwari@DOMAIN.HIDDEN">ktiwari@xxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] problems in generating post scrip file plot</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 04 Aug 2005 10:33:30 -0700</li>
<li>Cc: William S Kessler &lt;<a href="mailto:William.S.Kessler@DOMAIN.HIDDEN">William.S.Kessler@xxxxxxxx</a>&gt;,       ferret_users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="msg00744.html">42F223F2.6090302@bgc-jena.mpg.de</a>&gt;</li>
<li>References: &lt;<a href="msg00743.html">1240ed349.d3491240e@pmel.noaa.gov</a>&gt; &lt;<a href="msg00744.html">42F223F2.6090302@bgc-jena.mpg.de</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
hi -<br>
The third argument to shakey was changed in the last year or two so that 
a negative value of the size of the numeric labels will change the 
location of the the labels - to the rightof the shade key if the key is 
vertical and on the top if it's horizontal. 
<br>
To change the spacing between viewports, I'd suggest defining a set of 
viewports using the /AXES qualifier.  This sets the location of the 
viewports on the page according to where the axes are and so you can 
control exactly how much space there is between the viewports.<br>
<br>
Ansley<br>
<br>
Yogesh K. Tiwari wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hello Billy,<br>
<br>
Thanks for your answere.<br>
<br>
According to the ferret users guide if we keep shakey second argument 
as zero and third as positive then by default the labels would be 
above the horizontal key. But its not. When I gave the third argument 
as negative then the labels gone above.<br>
<br>
I tried and experimented in a set view for nine plots , the follwoing 
key is looking good, but the key position I am not able to handel.<br>
I want it in bottom of all the nine plots i.e. bottom of window or 
where it is comfortable because above each plot I have to write 
signature of plot. Is it possible in shakey command to handle the key 
position in bottom ?<br>
<br>
The second thing anoying me is the spacing between each row plots. I 
have nine plots in three rows and the white space between the two row 
is looking bit odd.<br>
<br>
I tried window size , aspect but could not get the desire one.<br>
<br>
If any body can help me, that would be great !<br>
<br>
Many thanks,<br>
<br>
Cheers,<br>
Yogesh<br>
<br>
<br>
<br>
William S Kessler wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre>The problem is that you have a negative value for the 3rd argument to
SHAKEY. The 3rd argument is the label size and must be positive. ALso
note that the last 4 arguments, which give the bottom left and top right
corners of the key box, are all relative to the lower left corner of the
*page*, not of any of the plot boxes. Therefore they must also be
positive. I can't think of any reason why any of the SHAKEY arguments
should ever be negative.

The syntax of SHAKEY is:

shakey  [0=nokey,1=key] [0=hor,1=vert] lab-size lab-inc lab-digit
lab-length xlo xhi ylo yhi

A typical use of SHAKEY to make a single key for a set of 4 vertically
stacked plots might be:

shakey 1 1 .12 0 3 9 `1.2+($ppl$xlen)+.4` `1.2+($ppl$xlen)+.7` 1.4
`1.4+4*($ppl$ylen)+0.8`

The &quot;0 3 9&quot; are the defaults, and the last 4 arguments say that the key
extends from 0.4 to 0.7 units to the right of the plot stack, and from
the bottom of the lowest plot to 4 times the plot height +0.8.

Note that the lower left corner of the lowest plot box is at (1.2,1.4).

The only problem I see with SHAKEY is that the distance between the
plots is dependent on the aspect ratio of the window. Therefore it is
impossible to know how tall the key should be to extend over the entire
height of the (in the case 4) plot boxes without experimentation.

Billy K


----- Original Message -----
From: &quot;Yogesh K. Tiwari&quot; &lt;ktiwari@bgc-jena.mpg.de&gt;
Date: Thursday, August 4, 2005 1:24 am
Subject: Re: [ferret_users] problems in generating post scrip file plot


</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Helo Ansley,<br>
<br>
Thanks for reply.<br>
<br>
I tried the shakey option as you suggested (ppl shakey 
1,0,-0.1,2,,,5,9,5.5,6) but the key is not appearing on the plot. I 
played with the shakey numbers and  I could get the key  on the plot.<br>
<br>
ppl shakey 1,0,-0.14, 4, 4, 8<br>
<br>
Now, how to inlarge this key so it should look comfortable for 9 
view plots in a window.<br>
<br>
I tried many option with many numbers in shakey command but could 
not get success.<br>
<br>
Also I want the key in horizontal in bottom, not in vertical.<br>
<br>
One more problem I am facing.<br>
<br>
How to decrease the spacing of each row. There are total three rows 
and there is much space between each row.<br>
<br>
Many thanks,<br>
<br>
Regards,<br>
Yogesh<br>
<br>
<br>
<br>
<br>
<br>
<br>
Manke wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi Yogesh,<br>
I am just back from a vacation and I see this was never answered. 
</blockquote><pre>

To

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">use SHAKEY you need to call the SHADE command with the /SET_UP 
</blockquote><pre>

option:&gt;

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"> shade/set  v1<br>
 ppl shakey 1,,0.26, 4, 4, 8<br>
 ppl shade<br>
<br>
Also, in general when using many plots in a window with the same 
colorbar, it is a good idea to put just one colorbar somewhere on 
</blockquote><pre>

the

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">page rather than one for each plot.  The shade key is located 
</blockquote><pre>

relative

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">to the current viewport, but it can be drawn on the page outside 
</blockquote><pre>

the

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">viewport.  So with 9 viewports you might draw one shade key 
</blockquote><pre>

across the

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">top, or down one side of the page, and remove it from all the 
</blockquote><pre>

other

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">plots.  For example to draw it across the top.  Note that using 
</blockquote><pre>

/LEV

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">without any levels settings will use the levels from the previous 
</blockquote><pre>

plot.&gt;

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre> go portraitNxN 3 3

 SET VIEW 1
 shade/nolab/lev=(374,382.5,.5)/set v1
  ppl shakey 1,0,-0.1,2,,,5,9,5.5,6
  ppl shade

 SET VIEW 2
 shade/nolab/lev/set v2
 ppl shakey 0
 ppl shade

 SET VIEW 3
 shade/nolab/lev/set v3
 ppl shakey 0
 ppl shade

 set view 4
 shade/nolab/set v4
 ppl shakey 0
 ppl shade

 set view 5

...





Yogesh K. Tiwari wrote:


</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hello Ferret Users,<br>
<br>
I want to generate nine plots in a single window and want to 
</blockquote><pre>
</pre>
</blockquote>
save as 
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">'.ps' file. To do this I am using my attched script.<br>
<br>
Some of the ppl commands are not fully worked in the script, for 
example the 'ppl shakey' to control color bar.<br>
<br>
The generated plot color bar looks crowded with data.<br>
<br>
I know I am making mistake in issuing commands in my script.<br>
<br>
Kindly suggest.<br>
<br>
Many thanks,<br>
<br>
Regards,<br>
<br>
Yogesh<br>
<br>
------------------------------------------------------------------<br>
</blockquote><pre>
</pre>
</blockquote><pre>
------

</pre>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em"><pre>set data file1.cdf

set data file2.cdf

set data file3.cdf


set mode metafile del.plt


set window/size=0.7

set windo&gt;&gt;

go portraitNxN 3 3

ppl dfltfnt,@tr

ppl axlsze 0.14 0.14

go margins  &quot; &quot;   &quot; &quot;   1.6 2.3


!*****************Jan03-Feb03*****************************
SET VIEW 1

shade/nolab/lev=(374,382.5,.5) v1[l=1:2@ave,y=-40:40]+16.4

ppl shakey 1,,0.26, 4, 4, 8

ppl shade

go land 7

label ,,-1,90,.13 &quot;LATITUDE&quot;
label &quot;LONGITUDE&quot;
label &quot;Jan03-Feb03,[TM3]&quot;

SET VIEW 2

shade/nolab/lev=(374,382.5,.5) v2[l=1:2@ave,y=-40:40]-23.9

ppl shakey 1,,0.26, 4, 4, 8

ppl shade

go land 7

label ,,-1,90,.13 &quot;LATITUDE&quot;
label &quot;LONGITUDE&quot;
label &quot;Jan03-Feb03,[LMDZ]&quot;

SET VIEW 3

shade/nolab/lev=(374,382.5,.5) v3[l=1:2@ave,y=-40:40]

ppl shakey 1,,0.26, 4, 4, 8

ppl shade

go land 7

label ,,-1,90,.13 &quot;LATITUDE&quot;
label &quot;LONGITUDE&quot;
label &quot;Jan03-Feb03,[AIRS]&quot;
!****************************************

!Similarly the following set view in next time steps.

SET VIEW 4

SET VIEW 5

SET VIEW 6

SET VIEW 7

SET VIEW 8

SET VIEW 9


cancel mode metafile
spawn Fprint -l cps -p portrait -R -o test.ps del.plt


cancel dat&gt;&gt;






</pre>
</blockquote></blockquote><pre>

--

===========================================
Yogesh Tiwari,
Max-Planck Institute for Biogeochemistry,
Hans-Knoell Strasse 10,
D-07745 Jena,
Germany

Office   : 0049 3641 576 376
Home     : 0049 3641 223 163
Fax      : 0049 3641 577 300
Cell     : 0049 1520 4591 008
e-mail   : yogesh.tiwari@bgc-jena.mpg.de
===========================================



</pre>
</blockquote><pre>



</pre>
</blockquote><pre>

</pre>
</blockquote><pre>
</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00743" href="msg00743.html">Re: [ferret_users] problems in generating post scrip file plot</a></strong>
<ul><li><em>From:</em> William S Kessler</li></ul></li>
<li><strong><a name="00744" href="msg00744.html">Re: [ferret_users] problems in generating post scrip file plot</a></strong>
<ul><li><em>From:</em> Yogesh K. Tiwari</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00744.html">Re: [ferret_users] problems in generating post scrip file plot</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00702.html">[ferret_users] Problem when making EPS.</a></strong>
</li>

</UL>
<center>[<a href="msg00744.html">Thread Prev</a>][<a href="msg00702.html">Thread Next</a>][<A HREF="threads.html#00745">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
