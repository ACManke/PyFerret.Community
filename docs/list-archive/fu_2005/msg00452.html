<!-- MHonArc v2.5.13 -->
<!--X-Subject: Fw: Re: Re: make scatter plot and regression -->
<!--X-From-R13: "Unb Dbatmura" <tnbemNfpfvb.np.pa> -->
<!--X-Date: Fri, 20 May 2005 02:54:24 &#45;0700 -->
<!--X-Message-Id: NSIPNHp14N69dStaJAy00004e4e@ns.scsio.ac.cn -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Derived: gif00023.gif -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Fw: Re: Re: make scatter plot and regression</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00451.html">Thread Prev</a>][<a href="msg00439.html">Thread Next</a>][<A HREF="threads.html#00452">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Fw: Re: Re: make scatter plot and regression</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Ferret&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Fw: Re: Re: make scatter plot and regression</strong></li>
<li><strong>From</strong>: <strong>&quot;Gao Rongzhen&quot; &lt;<a href="mailto:gaorz@DOMAIN.HIDDEN">gaorz@xxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 20 May 2005 17:56:00 +0800</li>
<li>Organization: SCSIO</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->



<HR>

<DIV>Hi, all</DIV>
<DIV>&nbsp;</DIV>
<DIV>I tried to use regresst script&nbsp;to make a linear regression. But i 
failed to plot qhat (the regression line) over the scsttered figure.</DIV>
<DIV>My script shown as below.</DIV>
<DIV>Anyone helps?</DIV>
<DIV>Thanks.</DIV>
<DIV>&nbsp;</DIV>
<DIV>---------------------my script------------------------------</DIV>
<DIV>cancel mode verify;cancel region;cancel data/all<BR>!<BR>&nbsp;<BR>&nbsp; 
define axis/t=1946:1992/npoints=47 t2&nbsp; !annual mean time series<BR>&nbsp; 
define grid/t=t2 g2<BR>&nbsp; file/var="a,b,c,d"/grid=g2/col=4 d:\Fig5.asc&nbsp; 
!&nbsp;i attached the data file last time&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp; set window/size=1/aspect=1.294<BR>&nbsp; def 
view/xlim=0.2,0.6/ylim=0.6,0.85 v11<BR>&nbsp; def sym 
margin1=0.0,0.0,0.0,0.0<BR>&nbsp;<BR>&nbsp; LET p = a;&nbsp; LET q = d !SET GRID 
q&nbsp; !GO regresst<BR>&nbsp;let pq = p*q<BR>&nbsp;let pqmask = pq-pq&nbsp; ! 0 
or "missing" so all variables share the same missing<BR>&nbsp;let pmasked = p + 
pqmask<BR>&nbsp;let qmasked = q + pqmask<BR>&nbsp;let pp = 
pmasked*pmasked<BR>&nbsp;let qq = qmasked*qmasked<BR>&nbsp;<BR>&nbsp;let pave = 
pmasked[t=@ave]<BR>&nbsp;let qave = qmasked[t=@ave]<BR>&nbsp;let pqave = 
pq[t=@ave]<BR>&nbsp;let ppave = pp[t=@ave]<BR>&nbsp;let qqave = 
qq[t=@ave]<BR>&nbsp;let pvar&nbsp; = ppave - pave*pave<BR>&nbsp;let qvar&nbsp; = 
qqave - qave*qave<BR>&nbsp;let pqvar = pqave - pave*qave</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;let slope = pqvar / pvar<BR>&nbsp;let intercep = qave - 
slope*pave<BR>&nbsp;let qhat = slope*p + intercep<BR>&nbsp;let rsquare = 
(pqvar*pqvar) / (pvar*qvar)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !list 
slope,intercep<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !list 
qhat&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </DIV>
<DIV><BR>&nbsp; set view v11<BR>&nbsp; go margins ($margin1)<BR>&nbsp; ppl tics 
0,.15,0,.15,1,-1;ppl axlsze,0.14,0.14;ppl labset 0.2,0.2,0.2,0.2<BR>&nbsp; 
plot/nolabel/vs/set/sym=27/color=2 p,q<BR>&nbsp;&nbsp;&nbsp; ppl yfor "(i2)";ppl 
xfor "(i2)"; ppl yaxis -4,4,.5;ppl xaxis -3,3,.5<BR>&nbsp;&nbsp;&nbsp; ppl 
axlabp -1,-1,;ppl axset 1,1,1,1;ppl plot <BR>&nbsp; plot/over/nolabel/line=4/set 
qhat;&nbsp; ppl plot/over</DIV>
<DIV><BR>&nbsp;&nbsp; frame/file=Fig5.gif</DIV>
<DIV>-----------------------------------------------------------------------------</DIV>
<DIV>&nbsp;</DIV>
<DIV>
<HR>
</DIV>
<DIV>Hello&nbsp;Gao,</DIV>
<DIV>Yes&nbsp;you&nbsp;can&nbsp;do&nbsp;this.&nbsp;&nbsp;Read&nbsp;the&nbsp;data&nbsp;into&nbsp;four</DIV>
<DIV>variables,&nbsp;say&nbsp;they&nbsp;are&nbsp;&nbsp;a,&nbsp;b,&nbsp;c,&nbsp;and&nbsp;d.&nbsp;&nbsp;Then&nbsp;the</DIV>
<DIV>scatter&nbsp;plot&nbsp;of&nbsp;two&nbsp;of&nbsp;them&nbsp;is&nbsp;made&nbsp;with</DIV>
<DIV>&nbsp;</DIV>
<DIV>yes?&nbsp;plot/vs&nbsp;a,&nbsp;c</DIV>
<DIV>&nbsp;</DIV>
<DIV>You&nbsp;can&nbsp;use&nbsp;/HLIMITS&nbsp;and&nbsp;/VLIMITS&nbsp;on&nbsp;the&nbsp;plot&nbsp;call&nbsp;to</DIV>
<DIV>make&nbsp;the&nbsp;axes&nbsp;any&nbsp;length&nbsp;you&nbsp;want.</DIV>
<DIV>&nbsp;</DIV>
<DIV>If&nbsp;you&nbsp;have&nbsp;defined&nbsp;the&nbsp;axis&nbsp;for&nbsp;the&nbsp;data&nbsp;as&nbsp;a&nbsp;time</DIV>
<DIV>axis,&nbsp;then&nbsp;the&nbsp;script&nbsp;regresst.jnl&nbsp;will&nbsp;define&nbsp;the</DIV>
<DIV>variables&nbsp;you&nbsp;need&nbsp;for&nbsp;the&nbsp;regression&nbsp;line.&nbsp;There&nbsp;is&nbsp;a</DIV>
<DIV>Ferret&nbsp;FAQ&nbsp;about&nbsp;how&nbsp;to&nbsp;use&nbsp;the&nbsp;regress&nbsp;scripts:</DIV>
<DIV>&nbsp;</DIV>
<DIV>http://www.ferret.noaa.gov/Ferret/FAQ/analysis/regressions.html</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>---&nbsp;Gao&nbsp;Rongzhen&nbsp;&lt; gaorz@scsio.ac.cn&gt; 
&nbsp;wrote:</DIV>
<DIV>&nbsp;</DIV>
<DIV>&gt; &nbsp;Hi,&nbsp;Dear&nbsp;All,</DIV>
<DIV>&gt; &nbsp;</DIV>
<DIV>&gt; 
&nbsp;The&nbsp;attatched&nbsp;data&nbsp;file&nbsp;contains&nbsp;4&nbsp;colomns,</DIV>
<DIV>&gt; 
&nbsp;representing&nbsp;four&nbsp;annual&nbsp;mean&nbsp;time&nbsp;series&nbsp;ranging</DIV>
<DIV>&gt; &nbsp;from&nbsp;1946&nbsp;to&nbsp;1992&nbsp;.</DIV>
<DIV>&gt; &nbsp;</DIV>
<DIV>&gt; 
&nbsp;Now&nbsp;i&nbsp;want&nbsp;to&nbsp;make&nbsp;a&nbsp;scatter&nbsp;plot&nbsp;and&nbsp;its&nbsp;linear</DIV>
<DIV>&gt; 
&nbsp;regression&nbsp;line.&nbsp;For&nbsp;example,&nbsp;a&nbsp;is&nbsp;independent</DIV>
<DIV>&gt; 
&nbsp;variable&nbsp;(x),&nbsp;and&nbsp;c&nbsp;is&nbsp;dependent&nbsp;variable&nbsp;(y).</DIV>
<DIV>&gt; &nbsp;</DIV>
<DIV>&gt; &nbsp;Can&nbsp;ferret&nbsp;make&nbsp;it&nbsp;and&nbsp;how?</DIV>
<DIV>&gt; &nbsp;</DIV>
<DIV>&gt; &nbsp;Thanks&nbsp;for&nbsp;any&nbsp;help.</DIV>
<DIV>&gt; &nbsp;</DIV>
<DIV>&gt; &nbsp;Gao&nbsp;Rongzhen</DIV>
<DIV>&gt; &nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>__________________________________________________</DIV>
<DIV>Do&nbsp;You&nbsp;Yahoo!?</DIV>
<DIV>Tired&nbsp;of&nbsp;spam?&nbsp;&nbsp;Yahoo!&nbsp;Mail&nbsp;has&nbsp;the&nbsp;best&nbsp;spam&nbsp;protection&nbsp;around&nbsp;</DIV>
<DIV>http://mail.yahoo.com&nbsp;</DIV>
<DIV>&nbsp;</DIV>
<DIV>.</DIV>
<HR>

<HR>

<p><strong>Attachment:
<a href="gif00023.gif" ><tt>Fig5.gif</tt></a></strong><br>
<em>Description:</em> GIF image</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00451.html">Re: Re: make scatter plot and regression</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00439.html">Can ferret read HDF files?</a></strong>
</li>

</UL>
<center>[<a href="msg00451.html">Thread Prev</a>][<a href="msg00439.html">Thread Next</a>][<A HREF="threads.html#00452">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
