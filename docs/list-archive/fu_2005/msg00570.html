<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: axis order when useing SAVE? -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 8 Jun 2005 11:54:38 &#45;0700 -->
<!--X-Message-Id: 42A73EEC.5050003@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.GSO.4.58L.0506081344070.17029@all&#45;night&#45;tool.mit.edu -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: axis order when useing SAVE?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00569.html">Thread Prev</a>][Thread Next][<A HREF="threads.html#00570">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: axis order when useing SAVE?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Gene-Hua Crystal Ng &lt;<a href="mailto:gng@DOMAIN.HIDDEN">gng@xxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: axis order when useing SAVE?</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 08 Jun 2005 11:54:36 -0700</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></li>
<li>In-reply-to: &lt;<a href="msg00569.html">Pine.GSO.4.58L.0506081344070.17029@all-night-tool.mit.edu</a>&gt;</li>
<li>References: &lt;<a href="msg00569.html">Pine.GSO.4.58L.0506081344070.17029@all-night-tool.mit.edu</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.4) Gecko/20030624 Netscape/7.1 (ax)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi Crystal,<br>
This is a non-standard netCDF file.  The coordinate axes (dimensions) in 
a netcdf file must have unique names.  If the file does not have enough 
information or encounters non-standard axis ordering, then Ferret will 
use the dimensions in the order in which they are encountered.  This 
lets you open and look at files which do not meet the standards and 
perhaps fix them.<br>
<br>
The CF conventions that Ferret adheres to for reading NetCDF files is at<br>
<br>
 <a  href="http://www.cgd.ucar.edu/cms/eaton/cf-metadata/CF-1.0.html">http://www.cgd.ucar.edu/cms/eaton/cf-metadata/CF-1.0.html</a><br>
<br>
And the description of coordinate variables and grids can be found at<br>
  <a  href="http://www.cgd.ucar.edu/cms/eaton/cf-metadata/CF-1.0.html#grids">http://www.cgd.ucar.edu/cms/eaton/cf-metadata/CF-1.0.html#grids</a><br>
<br>
To see what Ferret is doing with the SAVE statements, look at the header 
information of your NetCDF file with ncdump -h.<br>
<br>
yes? save/file=my_file.nc Var_a<br>
yes? spawn ncdump -h my_file.nc<br>
<br>
! are you redefining axis abc here?<br>
<br>
yes? save/append/file=my_file.nc Var_b<br>
yes? spawn ncdump -h my_file.nc<br>
<br>
I think you'll see that coordinate variable abc keeps the direction it 
had when the file is first written. I would suggest using unique names 
for the axes within Ferret, and if you want to change the names for use 
in another application, then you could edit the file using NCO operators 
after exiting Ferret.<br>
<br>
Ansley<br>
<br>
Gene-Hua Crystal Ng wrote:<br>
<br>
<blockquote style="border-left: #0000FF solid 0.1em; margin-left: 0.0em; padding-left: 1.0em">Hi,<br>
<br>
How can I save 2 variables to a netCDF file that have grids with the same<br>
axis describing two different axes (e.g. x and y axis)?<br>
<br>
For example, I have Var_a defined on a grid with &quot;abc&quot; as the X axis.<br>
I also have Var_b defined on a grid with &quot;abc&quot; as the Y axis.  I then use<br>
the following to try to save both to file:<br>
<br>
save/file=my_file.nc Var_a<br>
save/append/file=my_file.nc Var_b<br>
<br>
Ferret allows me to do this without any error message.  However, when I<br>
then try to USE my_file.nc, I get the following message:<br>
<br>
*** NOTE: unsupported ordering of axes in variable VAR_B<br>
*** NOTE: The default ordering will be used<br>
<br>
When I then look at the data in the file with ferret, everything looks<br>
fine, but I know something isn't right because the model I'm trying to<br>
input the data file to (CLM) gives an error when trying to read the file.<br>
<br>
I tried using the command qualifier /order=y with SAVE but am not having<br>
any luck.<br>
<br>
Thanks,<br>
Crystal<br>
 
<br>
</blockquote><pre>
</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00569" href="msg00569.html">axis order when useing SAVE?</a></strong>
<ul><li><em>From:</em> Gene-Hua Crystal Ng</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00569.html">axis order when useing SAVE?</a></strong>
</li>

</UL>
<center>[<a href="msg00569.html">Thread Prev</a>][Thread Next][<A HREF="threads.html#00570">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
