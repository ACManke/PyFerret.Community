<!-- MHonArc v2.6.18 -->
<!--X-Subject: Fwd: Re: [ferret_users] Masking and set var/bad = 0 -->
<!--X-From-R13: "XbfuOP1995Nbhgybbx.pbz" <wbfuno1995Nbhgybbx.pbz> -->
<!--X-Date: Mon, 24 Jun 2019 10:42:34 &#45;0700 -->
<!--X-Message-Id: DM6PR03MB434895649FED02B6272022F6C5E00@DM6PR03MB4348.namprd03.prod.outlook.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: DM6PR03MB4348732F744B5E82403EBB61C5E00@DM6PR03MB4348.namprd03.prod.outlook.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Fwd: Re: [ferret_users] Masking and set var/bad = 0</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00245.html">Thread Prev</a>][<a href="msg00247.html">Thread Next</a>][<A HREF="threads.html#00246">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Fwd: Re: [ferret_users] Masking and set var/bad = 0</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Fwd: Re: [ferret_users] Masking and set var/bad = 0</strong></li>
<li><strong>From</strong>: <strong>&quot;<a href="mailto:JoshAB1995@DOMAIN.HIDDEN">JoshAB1995@xxxxxxxxxxx</a>&quot; &lt;<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 24 Jun 2019 17:42:28 +0000</li>
<li>Accept-language: en-GB, en-US</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=&quot;L7bJUNG/&quot;;       arc=pass (i=2 dkim=pass dkdomain=outlook.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=outlook.com</li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=&quot;L7bJUNG/&quot;;       arc=pass (i=2 dkim=pass dkdomain=outlook.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=outlook.com</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=&quot;L7bJUNG/&quot;;       arc=pass (i=1 spf=pass spfdomain=outlook.com dkim=pass dkdomain=outlook.com dmarc=pass fromdomain=outlook.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> does not designate 65.153.203.171 as permitted sender) smtp.mailfrom=<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@outlook.com header.s=selector1 header.b=&quot;L7bJUNG/&quot;;       spf=pass (google.com: domain of <a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a> designates 40.92.8.71 as permitted sender) smtp.mailfrom=<a href="mailto:joshab1995@DOMAIN.HIDDEN">joshab1995@xxxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=outlook.com</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :message-id:mime-version:content-language:accept-language         :in-reply-to:date:thread-index:thread-topic:subject:to:from:sender         :dkim-signature;        bh=KOI/B44iceuvej2Xx2YG2ZG9nHnj26Y8LysgnOwTqDY=;        b=af12Pbn1IUarERjkmxLyClzVBo/lR+YXVAK7pcDQ7U1wHmbmsmjoGWxZnJ6VdTRVvp         eib4vO4Is0lg3tPUYeSInaLtGk37neKA/OilfkxeCnHo/XlJp/HZ0e3lmehAt46jnVoy         CsH5yqHWwdmhPhpGrrVgkJGI+F6/e4gIYeiDP+2s42ygdnWTBeWxGtDY9k2jjGt8eo0G         O8u+EIf0UOca416uIvx/2QcoXsV+DrHTEgs/N4+JN18RonEXpuTGMUjX4zlqAofFCrfx         sdVfCy/cVoELY54OME+Nfnpozpet9mTEIJpvP6KJ+Fn0OLwpBCbqodqnOoQt3RRnezd6         FYaA==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:mime-version:content-language:accept-language         :in-reply-to:date:thread-index:thread-topic:subject:to:from         :dkim-signature;        bh=KOI/B44iceuvej2Xx2YG2ZG9nHnj26Y8LysgnOwTqDY=;        b=u0AvmhJ4eBaFWdjr5iexh+/Hen2goSyMbTuep2I95eGgQ24tMF5xN+ZCPFEl38PZee         FhDLh0qiEB3FmIOTZZnITfeK+NCLeb3NKFDTaJT5kEAMP847GjmXfcb62XcMtFmHHeGq         Rx2Dli+14vba5iOCmes99hK/2Pl6EuKM72zTrhheFrXVgoMh2kJcFL/R0JT0aa4IM+bH         WqKtm2n0/yK0ybyHjSrKlWbazXkXkGwhw9eh0soCQFcRUXY5MVAEZSAYz1TkkC//ygmL         Nh6o/CBjuXLzt+kWHRBlLs8fy0xBesOwvp9rUDK67fWoAC+fcG7Qu+OMU84afyjL57qt         RXSg==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:content-language:accept-language:in-reply-to         :message-id:date:thread-index:thread-topic:subject:to:from         :dkim-signature;        bh=KOI/B44iceuvej2Xx2YG2ZG9nHnj26Y8LysgnOwTqDY=;        b=XfzFDF+v/tnwF86D+z5hPUSxRst+3euwesADMnwuNBwIK2EtkGBOYW1FrJpuH0K7/3         QbkXnIfUX42M6jnAslnsKrN6CVVGeFSv9MYHgzWtjMGlkpyVWeVdH1XmnCeyGM560gMd         q7m1R9FDF4BS4M8FxokarGl2deYjpB61iUfJEg0VOC+9xvYSqXxefVWHH09jhYxSI4GV         D6eIqPXC+cWvkcOlbSSyogKz8hGTlEDUK0CjdX4sprSI5d7XAKdrHJ6xKvSiAYJl78yy         9JiZONQuCHbNQVN6afTiuQaWYz75uhXYevKnkXdmK29R7xc7yA2wmoM2+SzXJxJBtg5M         fnsw==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:content-language:accept-language:in-reply-to         :message-id:date:thread-index:thread-topic:subject:to:from         :dkim-signature;        bh=KOI/B44iceuvej2Xx2YG2ZG9nHnj26Y8LysgnOwTqDY=;        b=h4F3vW3jyre7MsDNTfa6TiKm56YbcPTv1TYLsmxNgGe3jH8Z4Jaq6z3O0AQWI75gMd         tkEqV2O6pdIFhxXe4R9jVSlhVShcX15jj2Y3RF5xrr1dY1yeKgv5Eh7mfxw6RC2Tesix         l7XSelwcI6FKB+8KEqBbhc4z52lG7jAFQdyO2XXAsrP6YM6/7y1BynrV2ok1KzGYuMsV         3L5ShXRKRUzxcuqN3gqAuy89jq+vh4sXwYa0z/sv5trd9uOe/t5EpkfDCBY17gip2qYp         fm32Mf83ynH8aJ9v7g4raNOQx/sln5xccXxuw+dRrjQuDWNmiGGguA6LZk82S7wMWXTw         sHMQ==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1561398154; cv=pass;        d=google.com; s=arc-20160816;        b=or7tyU/GlPoijPOi2ypMRh+rn2v61Ou6uGlY4ECF899u5WeytIRRhKJiAJS1sR7Dd9         I6PmdtFWkdyN40bTx32Mi9kncxSrQCAFhrbMeH19IDMPxxW5XG/bP/o1kl1o2r4ow+rD         v9hODnXl2XP/IMYje2gJP+oeAxtglUJtzi0Sw03bfjR04ZRJJVIW/oa3tHsA+OHq/1vv         qOdpGTltsn+320o2hrVHfLhWIU4WcA+uPlOvLZTnf1F6GReYIZQwIskjWW0EVbD0DeZF         LNsztur3OTB6DLqcU+y7Qb2bPNfi21rCfl/GYSMIpSeB2MX9lNU4o0icYhKNH7FKTtU5         yXow==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1561398153; cv=pass;        d=google.com; s=arc-20160816;        b=DtFKojj/bhD/vDQ1mBjWSOaDtvQnYeV7T12c5z+b9I6/+Tg36Sx+por2xmXoJgo8/p         W2LbdcO5HLnjR+fGtXXLIfr26mC7YTrY9m2wFaHNwipv/9qEZgPF55Wdzr36F1ZhIeZJ         78ZDHYbxqBdzaD0bj+1DI9olc2qUs7zpG+kT3lO5X3FHLaE94fNnXjWbdvt14xj8YRPS         xigCJLYmS5qMHZtrCwU+o45U7c24AiX7x2UwpSUegCbf+tSuanyDBjmAcyOXpm7RjoiY         yqXVkYgaNS4tg1Agr9oDHH1BFnm5TKrKqRebjZ1FAI3GCZPJRPlWmhYaCg1oj8O5qyKr         B+aw==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1561398150; cv=pass;        d=google.com; s=arc-20160816;        b=JL0mWgikv6P5fdFVSEffMRCNY5l+Yvl+RheVzL0qrrOEA4xYehEF0oeNI65QcIPyD8         ryeHoDA9nyXsAd/wjgErRIlnWRZqjXoxmzgo0OHetRuK1gw4cQxJbx7cbbPLUSJ2ep1U         tzSRKc5BFBlcbKV18jc4D68r2aWDsaArmfFDWAzFFBKbJ4YapO1I4jr25i4+SrMsb+Hk         1JQTyRzTt3u3mSTtx/jtIcXzXKxIr9ytld5GtF5+90nOfXNo3S4HndMSDD6GhPNtLLMh         bruR4hFZts9Ycr2ToNgweDOaY3SWZfp3jFfdkKXXh/RAVLzA5J4JVF150xMiiZ0O5Otp         PPJg==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1561398149; cv=none;        d=google.com; s=arc-20160816;        b=L0tKAqe/6aJTOIo+PICGrV2Nb7cq8Gq3ZvFJRCX+A1qyKnTvYWgrZ2c9T2qa0qGl8U         RoMVV5N5S6dCxgALDNtvXvTG3xJLODdTtTmmbjnsfY1AKkVfPBxtZjQf0LHKIRE33dzr         FzxtqOcDJucGVh5D+XB6BVvUZbqwZRjKBdQmMDdv1pxddRRv9863Yg9c0kb9Lwkmm/5F         BbfdAPqC3s4FbOdAigqCr+39KfNg/OLcOEPVQOYiiCa8rtRRG5VwO73of5yiNM3sihIG         K8XGRX22J10VuP2C8Yeh/Pm3YEu00Kb/44yYqlLTNpHvK7kFypwiKw7MN2gCZzCxH5OD         /dBw==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:from:to:subject:thread-topic:thread-index:date:in-reply-to         :accept-language:content-language:mime-version:message-id         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=KOI/B44iceuvej2Xx2YG2ZG9nHnj26Y8LysgnOwTqDY=;        b=bpVcuk6+5I21fsb7CEyLtGqsywaooLUQ5c7Hr2zsdv40Z2X6YuljYNPzyZuKe9aWDX         2p6fP7WtZ34tJHLSC75BMivc8+kW/tF2ktMafHhy+02QuW/OlxL4zti2iCLsdVFLQt5g         yarIw9SvEo49xaBpC/fbJs/unzeLN6pl81s9ueV5oxBesze1s5uX0YK2vholyA7pBZlS         rUyBrKgEZDBbREFKEj97IOpL1rzOQMOm4m05jFpQ58I7hmzEm7AdVMZen+5NgVcgvNaz         NN82R+doNklXlDFXRfVPELbQKKAnTtj61fXJupK4hhknkdeBdFmyPuoC/KkSik3nTrja         ENKg==</li>
<li>In-reply-to: &lt;DM6PR03MB4348732F744B5E82403EBB61C5E00@DM6PR03MB4348.namprd03.prod.outlook.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-index: AQHVKEaot4jk/zb20Ea5RlJvP8bKoqamqfQAgAEbJ1WAA0r2gIAAB0+AgAAAagA=</li>
<li>Thread-topic: Re: [ferret_users] Masking and set var/bad = 0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->



<div dir="auto"></div>
<div class="gmail_quote">---------- Forwarded message ----------<br>
From: joshab1995@xxxxxxxxxxx<br>
Date: 24 Jun 2019 18:40<br>
Subject: Re: [ferret_users] Masking and set var/bad = 0<br>
To: &quot;Ansley C. Manke&quot; &lt;ansley.b.manke@xxxxxxxx&gt;<br>
Cc: <br>
<br type="attribution">
<blockquote class="quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
<div dir="auto">Hi Ansley,
<div dir="auto"><br>
</div>
<div dir="auto">Thanks again.&nbsp;</div>
<div dir="auto"><br>
</div>
<div dir="auto">So i do want them to be missing but when i exclude the 0 the entire output is empty, and then when i set 0 as bad the whole thing disappears too.</div>
<div dir="auto"><br>
</div>
<div dir="auto">Going to try it with the coads later and see what happens. It might be because some of the months are zero in terms of the strat value and so its getting confused about which section of my calculations to mask?&nbsp;</div>
<div dir="auto"><br>
</div>
<div dir="auto">I'll feed back my results when i get a chance to log on later.&nbsp;</div>
<div dir="auto"><br>
</div>
<div dir="auto">Many thanks,&nbsp;</div>
<div dir="auto"><br>
</div>
<div dir="auto">Josh</div>
</div>
<div><br>
<div class="elided-text">On 24 Jun 2019 18:14, &quot;Ansley C. Manke&quot; &lt;ansley.b.manke@xxxxxxxx&gt; wrote:<br type="attribution">
<blockquote style="margin:0 0 0 0.8ex;border-left:1px #ccc solid;padding-left:1ex">
<div>
<p>Oh yes of course if you want the values to be valid data with a value of 0.&nbsp; If a shade plot of this looks correct<br>
</p>
<p><tt>LET no_strat = if stratified[l=1:12@sum] eq 0 then 1 else 0<br>
</tt></p>
<p>then I'm not sure why <br>
</p>
<p><tt>set var/bad=0 </tt><tt>no_strat <br>
</tt></p>
<p>wouldn't give you what you expect.<tt><br>
</tt></p>
<p>Can you see a difference in what you're trying and this example:<tt><br>
</tt></p>
<p><tt>yes? use coads_climatology</tt><tt><br>
</tt><tt>yes? let mymask = if sst[L=@ave] gt 15 then 1 else 0</tt><tt><br>
</tt><tt><br>
</tt><tt>yes? shade/lev=(0,1,1)/key=center mymask</tt></p>
<p><tt></tt><tt>yes? set var/bad=0 mymask</tt><tt><br>
</tt><tt>yes? shade mymask</tt><tt><br>
</tt><tt><br>
</tt></p>
<p><br>
</p>
<div>On 6/22/2019 8:07 AM, <a rel="nofollow" href="mailto:JoshAB1995@xxxxxxxxxxx">JoshAB1995@xxxxxxxxxxx</a> wrote:<br>
</div>
<blockquote>
<div>
<p>Hi Ansley,</p>
<p>&nbsp;</p>
<p>Thanks for this. It makes sense, however by removing the else 0, ferret doesn&#x2019;t display anything in the output [fill/sha etc]. When I add in the else 0 then it will display the output.</p>
<p>&nbsp;</p>
<p>Even when using a variation on your equation:</p>
<p>&nbsp;</p>
<p>LET/bad=-9999 no_strat = if stratified[l=1:12@sum] eq 0 then 1 else (-9999)</p>
<p>&nbsp;</p>
<p>The output shows no valid data... Bit stuck, maybe it&#x2019;s something to do with the land values? (which are selected by my l=1:12@sum eq 0)</p>
<p>&nbsp;</p>
<p>Thanks again,</p>
<p>Josh</p>
<p>&nbsp;</p>
<p>Sent from <a rel="nofollow" href="https://go.microsoft.com/fwlink/?LinkId=550986">Mail</a> for Windows 10</p>
<p>&nbsp;</p>
</div>
<hr style="display:inline-block;width:98%">
<div dir="ltr"><font style="font-size:11pt" face="Calibri, sans-serif" color="#000000"><b>From:</b>
<a rel="nofollow" href="mailto:owner-ferret_users@xxxxxxxx">owner-ferret_users@xxxxxxxx</a> <a rel="nofollow" href="mailto:owner-ferret_users@xxxxxxxx">
&lt;owner-ferret_users@xxxxxxxx&gt;</a> on behalf of Ansley C. Manke <a rel="nofollow" href="mailto:ansley.b.manke@xxxxxxxx">
&lt;ansley.b.manke@xxxxxxxx&gt;</a><br>
<b>Sent:</b> Friday, June 21, 2019 11:04:10 PM<br>
<b>To:</b> <a rel="nofollow" href="mailto:ferret_users@xxxxxxxx">ferret_users@xxxxxxxx</a><br>
<b>Subject:</b> Re: [ferret_users] Masking and set var/bad = 0</font>
<div>&nbsp;</div>
</div>
<div>
<p>Hi Josh,</p>
<p>Zero is a bit problematic for use as a bad-value, especially when your data contains zeros.&nbsp; Try it this way:<br>
</p>
<p><tt>&nbsp;&nbsp; LET no_strat = if stratified[l=1:12@sum] eq 0 then 1 </tt><br>
</p>
<p>You don't need an &quot;else&quot; here.&nbsp; By default in an IF, if there is no else it's treated as &quot;else missing&quot;.&nbsp; As I've written that command, the default missing-value of -1.e34 will be used for missing-data. If you want to assign a particular missing-value, then
 you can do that right on the LET command.<br>
</p>
<p><tt>&nbsp;&nbsp; LET/bad=-9999 </tt><tt>no_strat = if stratified[l=1:12@sum] eq 0 then 1
<br>
</tt></p>
<p>Also have a look in the documentation about the distinction between <a rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPINDEXENTRY_553">
IF and IFV</a>.&nbsp;&nbsp;&nbsp; There can be valid values of 0 in data.&nbsp;&nbsp; Here's a variable with one value that's 0 and another that's missing.<br>
</p>
<p><tt>yes? let var = {6, 2, 0, 2, , 3}</tt></p>
<tt>yes? list IF var then 1</tt><tt><br>
</tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARIABLE : IF VAR THEN 1</tt><tt><br>
</tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SUBSET&nbsp;&nbsp; : 6 points (X)</tt><tt><br>
</tt><tt>&nbsp;1&nbsp;&nbsp; / 1:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;2&nbsp;&nbsp; / 2:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;3&nbsp;&nbsp; / 3:&nbsp;&nbsp; ....</tt><tt><br>
</tt><tt>&nbsp;4&nbsp;&nbsp; / 4:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;5&nbsp;&nbsp; / 5:&nbsp;&nbsp; ....</tt><tt><br>
</tt><tt>&nbsp;6&nbsp;&nbsp; / 6:&nbsp; 1.000</tt><tt><br>
</tt><tt><br>
</tt><tt>yes? list IFV var then 1</tt><tt><br>
</tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARIABLE : IFV VAR THEN 1</tt><tt><br>
</tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SUBSET&nbsp;&nbsp; : 6 points (X)</tt><tt><br>
</tt><tt>&nbsp;1&nbsp;&nbsp; / 1:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;2&nbsp;&nbsp; / 2:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;3&nbsp;&nbsp; / 3:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;4&nbsp;&nbsp; / 4:&nbsp; 1.000</tt><tt><br>
</tt><tt>&nbsp;5&nbsp;&nbsp; / 5:&nbsp;&nbsp; ....</tt><tt><br>
</tt><tt>&nbsp;6&nbsp;&nbsp; / 6:&nbsp; 1.000</tt><br>
<br>
<p>By the way, you shouldn't be able to X as a variable name. (Did Ferret really let you use that command? Or were you just simplifying for writing the question? A command with&nbsp; LET X = should return an error, &quot; **ERROR: command syntax: cannot define: X&quot;)&nbsp;&nbsp;
 X is a <a rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/DEFINE#_VPINDEXENTRY_1352">
reserved keyword</a> , used to refer to the x coordinate of the grid, so it's best to use other variable names.</p>
<p><br>
</p>
<p><br>
</p>
<div>On 6/21/2019 8:40 AM, <a rel="nofollow" href="mailto:JoshAB1995@xxxxxxxxxxx">JoshAB1995@xxxxxxxxxxx</a> wrote:<br>
</div>
<blockquote>
<div>
<p>Good Afternoon,</p>
<p>&nbsp;</p>
<p>I&#x2019;m having an issue using the set var/bad = 0 <b>dataset</b> command. I&#x2019;ve defined some new regions as the following, to indicate presence or absence of stratification:</p>
<p>&nbsp;</p>
<p><i>let X = if stratified[l=1:12@sum] eq 0 then 1 else 0</i></p>
<p><i>let Y = if stratified[l=10:2@sum] eq 0 and stratified[l=3:9@sum] gt 0 and stratified[l=3:9@sum] le 3 then 1 else 0</i></p>
<p>&nbsp;</p>
<p>So this creates a map of 1&#x2019;s where the region matches what is described in the mask, and 0&#x2019;s where it doesn&#x2019;t.</p>
<p>&nbsp;</p>
<p>So now I try to mask out all of the 0&#x2019;s so that I can create shapefiles of the areas matching my description using:</p>
<p>&nbsp;</p>
<p><i>Set var/bad = 0 X</i></p>
<p><i>Set var/bad = 0 Y</i></p>
<p>&nbsp;</p>
<p>However, this seems to mask the entirety of my data and I get a screen telling me that no data is available.</p>
<p>&nbsp;</p>
<p>Does anyone have any clues as to why this happens? Because I am lost for ideas, I think it might be to do with the fact that both of these &#x2018;original&#x2019; datasets will have values of 0 (as seen in original definitions), and so it is masking the original dataset,
 does anyone know how I can make the mask apply only to my map of 1&#x2019;s and 0&#x2019;s?</p>
<p>&nbsp;</p>
<p>Many thanks,</p>
<p>&nbsp;</p>
<p>Josh</p>
<p>&nbsp;</p>
<p>Sent from <a rel="nofollow" href="https://go.microsoft.com/fwlink/?LinkId=550986">Mail</a> for Windows 10</p>
<p>&nbsp;</p>
</div>
</blockquote>
<div>-- <br>
<i>Ansley Manke<br>
NOAA/PMEL Science Data Integration Group<br>
7600 Sand Point Way NE<br>
206-526-6246</i></div>
</div>
</blockquote>
<div>-- <br>
<i>Ansley Manke<br>
NOAA/PMEL Science Data Integration Group<br>
7600 Sand Point Way NE<br>
206-526-6246</i></div>
</div>
</blockquote>
</div>
<br>
</div>
</blockquote>
</div>
<br>



<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00247" href="msg00247.html">Re: Fwd: Re: [ferret_users] Masking and set var/bad = 0</a></strong>
<ul><li><em>From:</em> JoshAB1995@xxxxxxxxxxx</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00245.html">Re: [ferret_users] Masking and set var/bad = 0</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00247.html">Re: Fwd: Re: [ferret_users] Masking and set var/bad = 0</a></strong>
</li>

</UL>
<center>[<a href="msg00245.html">Thread Prev</a>][<a href="msg00247.html">Thread Next</a>][<A HREF="threads.html#00246">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
