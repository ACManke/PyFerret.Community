<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Number of cells -->
<!--X-From-R13: Yney Ezvgu &#45; @AOO Ossvyvngr <xney.fzvguNabnn.tbi> -->
<!--X-Date: Tue, 19 Mar 2019 15:08:08 &#45;0700 -->
<!--X-Message-Id: CAELLC7XkEZSXQp5atUCJRq18_fxRbB1qq97Sd4QZ_0Z4k5DnLA@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: DM6PR03MB43484C9338F48F0B9AADCB3DC5400@DM6PR03MB4348.namprd03.prod.outlook.com -->
<!--X-Reference: CAELLC7XSDMFMBzhOSSK3RSyDErzD0d61GeN3k8JuTGUh=1Xdhg@mail.gmail.com -->
<!--X-Reference: DM6PR03MB434859D6D453B3A0A4823478C5400@DM6PR03MB4348.namprd03.prod.outlook.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Number of cells</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00084.html">Thread Prev</a>][<a href="msg00086.html">Thread Next</a>][<A HREF="threads.html#00085">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Number of cells</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;<a href="mailto:JoshAB1995@DOMAIN.HIDDEN">JoshAB1995@xxxxxxxxxxx</a>&quot; &lt;<a href="mailto:JoshAB1995@DOMAIN.HIDDEN">JoshAB1995@xxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Number of cells</strong></li>
<li><strong>From</strong>: <strong>Karl Smith - NOAA Affiliate &lt;<a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 19 Mar 2019 15:07:55 -0700</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=gmjbAdTb;       spf=pass (google.com: domain of <a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=gmjbAdTb;       spf=pass (google.com: domain of <a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence:cc         :to:subject:message-id:date:from:in-reply-to:references:mime-version         :dkim-signature;        bh=hzefhnN+WP4JUbHw++erJP/rAlfQysVnF/cRkS8FsJg=;        b=TM76WmRvBY2+ykQ8RS62gxl1UTH7nZ/JQ5tW3km7GPVVww9wLDjfhMqTtnCPqpMTUZ         //fQxfm8oM4w7T/npcz5GZXsRpH3LUCGY2v+K4pWu4mYh8Dr5CdOZLmDvuI1w4IQxYA6         DSAmZqpHJgPc9cBvruDUoWSGM2qmQ+4Q/1S/1HjhGCBDXnURL/hZ3zzGaGlLT0O8gZLx         t24os8Ehs0QvxxUiE385DZv8KO/hdXAmW8jFhPFDr3XWxlJnlKRjvFMpc6NTYS+c4Pe2         AQtbrxjCgnL1Z/1E1mrKvj6hIy7iIAX6yQSVDg/FCz1e1Kw6v6lwrHKhXP36YbgYgDUX         kJsg==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=hzefhnN+WP4JUbHw++erJP/rAlfQysVnF/cRkS8FsJg=;        b=o4J3uhQrdUa3AD/SHUvWyFRjhI7uWZHauwIFy/DwqMdeDEW86+4rrM2Du+zjrnZyad         Tt4p5L7CBa+Z8884JYVvxBAbLwHmLj58yGxVeLJd5ZQ2MRRs62FaEqIIfzivFE4lqeoH         WhUN0ADpYXvRaS/mitGOvT2PqMLx6Ez9FZ/xgROGIPYsTxiJmXYkt4nPbAsZ60gzPx+N         If9NyuSW8nK/7VcU7vJLaTTdWe9GOUtgI1blnUw2ss0rcuejqWr+Wh8cEJA+HhlT9fxW         D/bvx/7M2jfPBRkB57JyRhsRCwS7NCk8v01Dh+3l9Gk4jdltPVZ5KhR5v9X7VElxwI/i         Ab5A==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1553033287; cv=pass;        d=google.com; s=arc-20160816;        b=AGq63oMwoIbuOoQZs+OdXnar7lIbC/4w5gOkTgkLeNFz+ZJrdUORiWbMwOJapDpSQR         w/aTxwKjpn/BKJ+oFUmwbDfnPArlHvSsAEd/KKCd9duSXxHq7hWJKIR3UEb4OKnMJVTD         qNnHCzOtgrtSf4hOPwFRKJL4/QREVZbmag4XHWXAv5nCtqIELObuV1t1IZi8BHut/1C3         tY6jKuHyFzQtzu7porceHzrl53iU1ffEvCUP0BPPg4LGKmouKldh7NKNTrqyCclfuHdO         5SntfUTWng0K8U3IpD4AppKPiGA3y51EpEelMN5cNxb/hye0rKdf31jiLuQQvgLg4N1j         CVqg==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1553033286; cv=none;        d=google.com; s=arc-20160816;        b=lSsn0bETdoMqDvBVznSza2GhMup+ImcVGsDropEfIfOqLlThAwz4HKBBGFMOzu8gnE         gi/cDOVc9n2buldcu9isJ8vELbK8Tiwmp9fqxYtuBp2bNjExcqGt9KuCPS01OehbRftO         ls/wplI3rWgNpDx1OId86tAQyapClhccdPVTY/JrjsrwC3VSy2599J+RABsIy7cTbaXr         c4m0f2l7oWuGHinxUFYGDbndP+BjemajUsN3EFNYWCPtVC+dl+TznhT8MTBY13qKVAYG         3D/s5cYOzKjcJ0ILDkz04LEdodrUkExj4YeOB/RMH5DvR5w0NjnuJv2DD/iK2EEf7vjT         fi0g==</li>
<li>Cc: &quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=mime-version:references:in-reply-to:from:date:message-id:subject:to         :cc:x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=hzefhnN+WP4JUbHw++erJP/rAlfQysVnF/cRkS8FsJg=;        b=dwOsmr1RB9008aB6MfToy5xU+iZkYnIiautAY2aZyAbaDeUWSAVTd/dUaIw6DekitJ         xE2zn3pxYqmze1WzSVkDTZvKtxCPjq/ZyCRiLlFD6Djbq+U1NQLCCg2D639hgv3uy5bV         Pk6YCBYdHb4sJBNcNFVNO4FRUIww8ydELrVNkN21O+UZeHft9U8gdJgGQ/gh3D6Fz1Db         18VWlVVKQfPYfEfHVsh5WxDaWCjZsfWpVECTWXHkpXNldOX1sxeuiWAxi36HEefeYT1K         GgI7OmqFVnuMTHN8mZGcb3VoB3at8MKuYSK6eZu1Ui6OCZ/XMVxXi3GVSn1bdpofZQCa         9ctQ==</li>
<li>In-reply-to: &lt;<a href="msg00084.html">DM6PR03MB434859D6D453B3A0A4823478C5400@DM6PR03MB4348.namprd03.prod.outlook.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00082.html">DM6PR03MB43484C9338F48F0B9AADCB3DC5400@DM6PR03MB4348.namprd03.prod.outlook.com</a>&gt; &lt;CAELLC7XSDMFMBzhOSSK3RSyDErzD0d61GeN3k8JuTGUh=1Xdhg@mail.gmail.com&gt; &lt;<a href="msg00084.html">DM6PR03MB434859D6D453B3A0A4823478C5400@DM6PR03MB4348.namprd03.prod.outlook.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Hi Josh,<div><br></div><div>Note that in your original script (assigning zero, then setting zero to be bad), if you happen to have any valid data that were exactly zero, they would have been turned into &quot;bad&quot;.&#xA0; So the change is more than just a &quot;shortcut&quot;.</div><div><br></div><div>Karl</div><div><br></div></div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Tue, Mar 19, 2019 at 2:13 PM <a rel="nofollow" href="mailto:JoshAB1995@xxxxxxxxxxx">JoshAB1995@xxxxxxxxxxx</a> &lt;<a rel="nofollow" href="mailto:JoshAB1995@xxxxxxxxxxx">JoshAB1995@xxxxxxxxxxx</a>&gt; wrote:<br></div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex">



<div>


<div class="gmail-m_2015393363482905390WordSection1">
<p class="MsoNormal">Hi Karl,</p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
<p class="MsoNormal">Thanks for this shortcut, hadn&#x2019;t realised this was the case.
</p>
<p class="MsoNormal">Unfortunately I&#x2019;m still getting an unusual trend for my data &#x2013; leaning towards the idea of the issue being in the data.</p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
<p class="MsoNormal">Cheers,</p>
<p class="MsoNormal">Josh</p>
<p class="MsoNormal">Sent from <a rel="nofollow" href="https://go.microsoft.com/fwlink/?LinkId=550986" target="_blank">
Mail</a> for Windows 10</p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
</div>
<hr style="display:inline-block;width:98%">
<div id="gmail-m_2015393363482905390divRplyFwdMsg" dir="ltr"><font face="Calibri, sans-serif" style="font-size:11pt" color="#000000"><b>From:</b> Karl Smith - NOAA Affiliate &lt;<a rel="nofollow" href="mailto:karl.smith@xxxxxxxx" target="_blank">karl.smith@xxxxxxxx</a>&gt;<br>
<b>Sent:</b> Tuesday, March 19, 2019 7:59:41 PM<br>
<b>To:</b> <a rel="nofollow" href="mailto:JoshAB1995@xxxxxxxxxxx" target="_blank">JoshAB1995@xxxxxxxxxxx</a><br>
<b>Cc:</b> <a rel="nofollow" href="mailto:ferret_users@xxxxxxxx" target="_blank">ferret_users@xxxxxxxx</a><br>
<b>Subject:</b> Re: [ferret_users] Number of cells</font>
<div>&#xA0;</div>
</div>
<div>
<div dir="ltr">
<div>Leave off the else in the first let.&#xA0; The &quot;implicit else value&quot; is &quot;undefined&quot; (you have not specified what the value should be, so makes sense it should be &quot;undefined&quot;).</div>
<div><br>
</div>
<div>LET mymask = IF myval LT mymax THEN 1</div>
<div><br>
</div>
<div>Karl</div>
<div><br>
</div>
</div>
<br>
<div class="gmail_quote">
<div dir="ltr" class="gmail_attr">On Tue, Mar 19, 2019 at 11:28 AM <a rel="nofollow" href="mailto:JoshAB1995@xxxxxxxxxxx" target="_blank">
JoshAB1995@xxxxxxxxxxx</a> &lt;<a rel="nofollow" href="mailto:JoshAB1995@xxxxxxxxxxx" target="_blank">JoshAB1995@xxxxxxxxxxx</a>&gt; wrote:<br>
</div>
<blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex">
<div lang="EN-GB">
<div class="gmail-m_2015393363482905390gmail-m_1620584856888315102gmail-m_120236309818239709WordSection1">
<p class="MsoNormal">Dear Ferreters,</p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
<p class="MsoNormal">I&#x2019;ve been stuck for a considerable length of time trying to calculate the number of grid cells that contain a desired value, which I could then multiply by some value to gain a volume.</p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
<p class="MsoNormal">For the values I&#x2019;m after I&#x2019;ve created the following mask:</p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
<p class="MsoNormal"><i>Let <b>X</b> = if <b>x</b> LT <b>x</b> then 1 else 0 !This sets all of the values that are within the range I&#x2019;m after as &#x2018;1&#x2019;<u></u><u></u></i></p>
<p class="MsoNormal"><i>Set var/bad = 0 <b>X </b>!To remove the values from my dataset that fall outside of the desired range<u></u><u></u></i></p>
<p class="MsoNormal"><i>Plot <b>X</b>[x=@ngd,y=@ngd,k=@ngd] !Hoping that this plots the total number of grid cells that are not &#x2018;missing&#x2019; against time<u></u><u></u></i></p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
<p class="MsoNormal">From this plot I get an unexpected result (a decrease when it should be increasing!!!)... Have been beginning to think that there is an issue with the data.
</p>
<p class="MsoNormal">So I was wondering if there was anything obvious that anyone can see I&#x2019;m doing incorrectly in the masking? I&#x2019;m not sure if my &#x2018;plot&#x2019; is adding the values correctly &#x2013; the best I could think to do was for in each axis (lat,lon,depth) to select
 the &#x2018;good values&#x2019; or to &#x2018;sum&#x2019; my values... </p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
<p class="MsoNormal">Any help is greatly appreciated,</p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
<p class="MsoNormal">J</p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
<p class="MsoNormal">Sent from <a rel="nofollow" href="https://go.microsoft.com/fwlink/?LinkId=550986" target="_blank">
Mail</a> for Windows 10</p>
<p class="MsoNormal"><u></u>&#xA0;<u></u></p>
</div>
</div>
</blockquote>
</div>
<br clear="all">
<div><br>
</div>
-- <br>
<div dir="ltr" class="gmail-m_2015393363482905390gmail-m_1620584856888315102gmail_signature">
<div dir="ltr">Karl M. Smith, Ph.D.<br>
JISAO Univ. Wash. and PMEL NOAA<br>
&quot;The contents of this message are mine personally and do<br>
not necessarily reflect any position of the Government<br>
or the National Oceanic and Atmospheric Administration.&quot;<br>
</div>
</div>
</div>
</div>

</blockquote></div><br clear="all"><div><br></div>-- <br><div dir="ltr" class="gmail_signature"><div dir="ltr">Karl M. Smith, Ph.D.<br>JISAO Univ. Wash. and PMEL NOAA<br>&quot;The contents of this message are mine personally and do<br>not necessarily reflect any position of the Government<br>or the National Oceanic and Atmospheric Administration.&quot;<br></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00082" href="msg00082.html">[ferret_users] Number of cells</a></strong>
<ul><li><em>From:</em> JoshAB1995@xxxxxxxxxxx</li></ul></li>
<li><strong><a name="00083" href="msg00083.html">Re: [ferret_users] Number of cells</a></strong>
<ul><li><em>From:</em> Karl Smith - NOAA Affiliate</li></ul></li>
<li><strong><a name="00084" href="msg00084.html">RE: [ferret_users] Number of cells</a></strong>
<ul><li><em>From:</em> JoshAB1995@xxxxxxxxxxx</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00084.html">RE: [ferret_users] Number of cells</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00086.html">Re: [ferret_users] Number of cells</a></strong>
</li>

</UL>
<center>[<a href="msg00084.html">Thread Prev</a>][<a href="msg00086.html">Thread Next</a>][<A HREF="threads.html#00085">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
