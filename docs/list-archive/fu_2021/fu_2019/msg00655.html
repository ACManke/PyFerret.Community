<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Problems with netcdf output and zaxreplace -->
<!--X-From-R13: Uvbetvb Uenssvab <t.tenssvabNgvz.vg> -->
<!--X-Date: Mon, 18 May 2020 10:47:15 &#45;0700 -->
<!--X-Message-Id: 17228e57792.g.graffino@tim.it -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Problems with netcdf output and zaxreplace</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00643.html">Thread Prev</a>][<a href="msg00665.html">Thread Next</a>][<A HREF="threads.html#00655">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Problems with netcdf output and zaxreplace</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Problems with netcdf output and zaxreplace</strong></li>
<li><strong>From</strong>: <strong>Giorgio Graffino &lt;<a href="mailto:g.graffino@DOMAIN.HIDDEN">g.graffino@xxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 18 May 2020 19:47:06 +0200 (CEST)</li>
<li>Arc-authentication-results: i=3; mx.google.com;       arc=pass (i=2);       spf=softfail (google.com: domain of transitioning <a href="mailto:g.graffino@DOMAIN.HIDDEN">g.graffino@xxxxxx</a> does not designate 209.85.160.198 as permitted sender) smtp.mailfrom=<a href="mailto:g.graffino@DOMAIN.HIDDEN">g.graffino@xxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       arc=pass (i=1 spf=pass spfdomain=tim.it);       spf=softfail (google.com: domain of transitioning <a href="mailto:g.graffino@DOMAIN.HIDDEN">g.graffino@xxxxxx</a> does not designate 65.153.203.170 as permitted sender) smtp.mailfrom=<a href="mailto:g.graffino@DOMAIN.HIDDEN">g.graffino@xxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       spf=pass (google.com: domain of <a href="mailto:g.graffino@DOMAIN.HIDDEN">g.graffino@xxxxxx</a> designates 82.57.200.117 as permitted sender) smtp.mailfrom=<a href="mailto:g.graffino@DOMAIN.HIDDEN">g.graffino@xxxxxx</a></li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:mime-version:cc:subject:to:reply-to:from:date;        bh=uOwUuhtXePTT6UxN2BLAWmvvRNUt+h0SOC/Hx2CR9pg=;        b=zSvFa1jWhzzab9zbigLIwri6HqYQnxPeQwutYTD5WIgkpxOH+kVnKT0+iv2BJIl7ie         Aue8B6+vfYCmAeYvaFxi8DtiGQ86eYhCQRph33a8mqavAzzSne/WOhbj7JhA9zyYFv2P         4JWRewcoZoqIXWoOyUgQX2n3VhXuRNMAHIURaAGisp4PowoKqe/vP79E3X/AOOjJ/P4s         X+Puf3XQMNprI/B52JkRdV5Wzmu2jvnmZu5l6yx0hM/pMijU6x5Y8P/Azto1j8YRqpSF         U7y86DrN4njZ2tzTGaTnJ6b+eacXAN1Ui8uaXCCdikZD66L/mgKAFBc3ONIl5qQvSU9V         2YZA==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:cc:subject:to:reply-to:from:date:message-id;        bh=uOwUuhtXePTT6UxN2BLAWmvvRNUt+h0SOC/Hx2CR9pg=;        b=JxwyrvhLgV89HP6NSpU7ekFEbxLDObVYt+op7nHnWi+zZirp3YCR9qHmyf49ETpaLi         0+BWREFBwqAa+ay96DqMBdRGaHt5nynP5vVe7Xi/xKU081aCqE6ezutT2cM0IeS5wbz5         AmAgXuPhz/Q35FumEsQ7BSgwVofIZC5vUk2pGzR2EIA8Z07mBpxq/2/DcpmPOVQAae6R         rKu/KqB/rNp0k2DTCCjEHxOfnGag/x7wy72iPYw2NkAtrcrn5FSeETn+ogjqml5PgJgt         WqFS5q6v/ZAOxalFbhH/8ZqDqJFQ3qod7dSZNO9aLO+5G7yF1v08FGC9+ruMEHWdOhZ6         ahww==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:cc:subject:to:reply-to:from:date:message-id;        bh=uOwUuhtXePTT6UxN2BLAWmvvRNUt+h0SOC/Hx2CR9pg=;        b=BpNFTHc0AgFejl+PUgq1/NyQjRdl/Hy/mdLNrRJcFzBBgCCpZtTBTUGsEbvZWblUZv         hRNh0P4agMRVGoMZqlEfJy/GVwK6kB33SuOUG8BIaYck4ZTCazk0tVwDmevXjESJpUJZ         UVleBkb6RIbXnyfaIMDr+gFzjavP8yinjVpptF5HfNygyfPEc6qx2j68399JayiQvu+e         nrG4PiMnaAofIkb9ruU4yTt3se8mNlRoY8WaY4b4y6h/wRb+hOBlF96kALdtQ/xXkQeT         yIvDcJo+qI2qeL3yXMKazHu4P5+wDpgY3IsgILpvmwBppJg5Bd3Sj/NrMSb8lRj+yWcO         85+w==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1589824034; cv=pass;        d=google.com; s=arc-20160816;        b=SzN4EbJXdKXl67CwnVDaHMYIJxHGuKBMpu35i7718czbY2DDkYz3OZb9eSHLEo14Xv         O76RZzwZr8lXo9H5i2A5Is91xPX1O82ox7M1FYxhCLGf6IbXFXZ8Tzpx0lbh0JgLHtLF         BOlHikA8S/JDNViYhpa0D7YCjuCrrgdirKcq3qW/8/kO7lKB4S91xmdOQ9C/M4iWJgvs         kY7YxulTG9veDNyhSJMOE82Yh8Tsnyaeg2lRWf6eRw/Amth0SJrfyCFo8adW4HGcVf1D         3BjSyjOSTWYCTXD0XdW3IpEY143VWJZwqbq9UjFAhlYZMQPrhO7VnP/aQcanp2msTwVa         VTPQ==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1589824031; cv=pass;        d=google.com; s=arc-20160816;        b=b2N1L2ecBZ8T/zJ526LPu9G3wqQzPKO0cv/cwcdw0YIRvJAgNAhg0ykv1xTuwt2TpI         AB160oYeCFZNsR0Q8y09sprrwJb99wbMfsl+RP0iqaXi9RNDL2BYxC6B1Vg5fQSd9GC4         QNXYKJ09Hli3WGRsdbGWHA24AhKRBlqw7AAgpd6qUaulLkpfiwkiKpZR67fEbLHKrxwb         1hu0jVFcVcMufqxwRoi21KdQJYloD4Aeo2TZLo9W9sUiutgxb5rfJaw9lYEuj3F7bIJs         y7amQDLJssiwZEhHk8Jc450t56xpaTVwIA5wWuL0iX+OxmhVkp7Rp+gn7PyojPnOND7q         7DBQ==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1589824027; cv=none;        d=google.com; s=arc-20160816;        b=n0F/9Tyzxn+pZnKwDs/8v75NMoj0aYEcpwUF/HvCjDp4GpYdv+4dYYURx0hijWbLtK         BCDz5azHQ/47v+QPzdQaRrs3XfSgVPkAcbnaSw9UiAa9UcwDIBaZTkrJFwKiiBmpYlVt         vSeZEVqyeIgIJTk8RPLA5c2p683lRpfrSBGfTafnXuQPu/tYroaWQFx//3ZXoNWJjctr         OUV/AAULiMqYMuLK+bVqXZFj2mAbjSyywr7890WRfMV6ZlJfq9Q8GvWSPsWyB5Eb71Bd         wpckWBWdkiTBlp9rkupH+Jd3sZ0gvan8e5ANkFx0950v3HWjZVfRSM/1WfxCTG4HrGWo         IaCw==</li>
<li>Cc: &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:date:from:reply-to:to:subject:cc:mime-version:message-id         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=uOwUuhtXePTT6UxN2BLAWmvvRNUt+h0SOC/Hx2CR9pg=;        b=l7FYG5x7OaN+0nHvT4WVCIHOlCX6ZwHKauOO9B9LjXEfgzNdAd7+ibmYwtV8QupZFC         t69itlgKV6mrOaT7uachAn7Aoc7XVcXuPJM2m06KmOuuFPZ4KWnmvwu9t2xfDye68cLI         X7o8Zc7Fajrk1yVvmcT4aikUyw1enYdfI4P9+FVAv6OkjSgiKoE9XskHv1zM3/oz3c5Q         kEqnuDRm3KumekpLld3QRqg1rgAfvaC/rMXYJYUD9v4WifAmvSbqeE9Q4ms+5wCv1Isd         XDEEuoPbrWxKmsI6bfaRnoVq9dRlz6/nCLQH1h/g1Og1QgOT04NCdEfzLMn2KYcbS+JI         15/Q==</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Reply-to: Giorgio Graffino &lt;<a href="mailto:g.graffino@DOMAIN.HIDDEN">g.graffino@xxxxxx</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<font face="tahoma, arial, helvetica, sans-serif"><span style="font-size: 12px;">Hi Ashley,
</span></font><div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">
 thanks for your suggestion.
</div>
<div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">
 <br>
</div>
<div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">
 I preferred to implement the other method because it involved a single Ferret call, but I haven't thought about passing all variables in that way. You are suggesting something like
</div>
<div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">
 <br>
</div>
<div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">
 ferret -script scriptname.jnl model1 model2 model3
</div><div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;"><br></div><div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">which would be great to have, but I should find a way to loop across all models from inside the jnl script. Now my jnl script includes</div><div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;"><br></div><div style=""><div style=""><font face="tahoma, arial, helvetica, sans-serif"><span style="font-size: 12px;">define symbol model = ($01)</span></font></div></div><div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;"><br></div><div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">to read the argument, because I'm parsing only one argument at a time. How can I loop over all models from inside the jnl script?</div><div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;"><br></div><div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">Cheers,</div><div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">Giorgio</div>
<div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">
 <br>
</div>
<div style="font-family: tahoma, arial, helvetica, sans-serif; font-size: 12px;">
 <br>
 <blockquote>
   ----Messaggio originale---- 
  <br> Da: ansley.b.manke@xxxxxxxx 
  <br> Data: 12-mag-2020 19.55 
  <br> A: &lt;ferret_users@xxxxxxxx&gt; 
  <br> Ogg: Re: [ferret_users] Problems with netcdf output and zaxreplace 
  <br>
  <br>
  <p>Hi Giorgio,</p>
  <p>Another method for sending Ferret/PyFerret a set of commands is to use the -script option on startup.</p>
  <p>&gt; pyferret -script my_script.jnl&nbsp; [arguments]</p>
  <p>This is generally more flexible than piping commands.&nbsp; The startup option -batch for Ferret or -nodisplay for PyFerret are also useful when you don't want to have graphics windows display.&nbsp; Note that -script must appear last among command line switches so that the script arguments will be parsed correctly.</p>
  <p><a rel="nofollow" moz-do-not-send="true" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/introduction/GETTING-STARTED#_VPID_8">Unix command-line switches</a><br></p>
  <p><br></p>
  <p><br></p>
  <div class="moz-cite-prefix">
    On 5/9/2020 3:19 AM, Giorgio Graffino wrote: 
   <br>
  </div>
  <blockquote type="cite">
    Hi Ryo, 
   <div>
     thanks to your "quote" suggestion I could successfully run my bash script. 
   </div>
   <div>
    <br>
   </div>
   <div>
     Cheers, 
   </div>
   <div>
     Giorgio 
    <br>
    <br>
    <blockquote>
      ----Messaggio originale---- 
     <br> Da: 
     <a rel="nofollow" class="moz-txt-link-abbreviated" href="_javascript_:handleMailto('mailto:_javascript:handlemailto( mailto:furue@xxxxxxxxxx );return false;');return false;">furue@xxxxxxxxxx</a>
     <br> Data: 28-apr-2020 14.28 
     <br> A: "Giorgio Graffino" 
     <a rel="nofollow" class="moz-txt-link-rfc2396E" href="_javascript_:handleMailto('mailto:_javascript:handlemailto( mailto:g.graffino@xxxxxx );return false;');return false;">&lt;g.graffino@xxxxxx&gt;</a>
     <br> Cc: "Ferret" 
     <a rel="nofollow" class="moz-txt-link-rfc2396E" href="_javascript_:handleMailto('mailto:_javascript:handlemailto( mailto:ferret_users@xxxxxxxx );return false;');return false;">&lt;ferret_users@xxxxxxxx&gt;</a>
     <br> Ogg: Re: [ferret_users] Problems with netcdf output and zaxreplace 
     <br>
     <br>
     <div dir="ltr">
      <div dir="ltr">
        Hi Giorgio, 
       <br>
      </div>
      <div dir="ltr">
       <br>
      </div>
      <div class="gmail_quote">
       <div dir="ltr" class="gmail_attr">
         On Tue, Apr 28, 2020 at 7:09 PM Giorgio Graffino &lt; 
        <a rel="nofollow" href="invalidurl.gif" moz-do-not-send="true">g.graffino@xxxxxx</a>&gt; wrote: 
        <br>
       </div>
       <blockquote class="gmail_quote" style="margin: 0.0px 0.0px 0.0px 0.8ex;border-left: 1.0px solid rgb(204,204,204);padding-left: 1.0ex;">
        <div>
         <br>
        </div>
        <div>
         <span style="font-family: monospace;"><span style="background-color: rgb(255,255,255);">!-&gt; REPEAT: I=1 </span><br> **ERROR: command syntax: II = ??? <br> define symbol ii</span>
        </div>
       </blockquote>
       <div>
        <br>
       </div>
       <div>
         Compare this line with the one in the original shell script: 
       </div>
       <div>
        <br>
       </div>
       <div>
        <font face="monospace">ferret &lt;&lt; STOP</font>
       </div>
       <div>
        <font face="monospace">. . .&nbsp;</font>
       </div>
       <div>
        <font face="monospace">define symbol ii <font color="#ff0000">`i`</font></font>
       </div>
       <div>
        <font face="monospace">. . .</font>
       </div>
       <div>
        <font face="monospace">STOP</font>
       </div>
       <div>
        <br>
       </div>
       <div>
         Where did&nbsp;&nbsp; 
        <font face="monospace" color="#ff0000">`i`</font>&nbsp; go? 
       </div>
       <div>
        <br>
       </div>
       <div>
         In the shell script as well as in the ferret script, the backquote construct is evaluated.&nbsp; In the above shell script, the shell tries to run a command named "i".&nbsp; It fails and is replaced with an empty string.&nbsp; I suppose&nbsp;you saw this error message on your screen 
       </div>
       <div>
        <br>
       </div>
       <div>
        <font face="monospace">. . . i: command not found</font>
        <br>
       </div>
       <div>
        <br>
       </div>
       <div>
         To prevent the shell from interpreting the backquote construct, you "quote" the here-document by 
       </div>
       <div>
        <br>
       </div>
       <div>
        <font face="monospace">ferret &lt;&lt;<font color="#ff0000">'STOP'</font></font>
       </div>
       <div>
        <font face="monospace">. . .&nbsp;</font>
       </div>
       <div>
        <font face="monospace">STOP</font>
       </div>
       <div>
        <br>
       </div>
       <div>
         Ryo 
       </div>
       <div>
         -------------------- 
       </div>
       <div>
         To see what's going on, run this kind of test shell script 
       </div>
       <div>
        <br>
       </div>
       <div>
         echo date 
        <br> echo `date` 
        <br> echo "abc `date` def" 
        <br> echo 'abc `date` def' 
        <br>
       </div>
       <div>
        <br>
       </div>
       <div>
         cat &lt;&lt;EOF 
       </div>
       <div>
         date 
       </div>
       <div>
         `date` 
       </div>
       <div>
         EOF 
       </div>
       <div>
        <br>
       </div>
       <div>
         cat &lt;&lt;'EOF' 
       </div>
       <div>
         date 
       </div>
       <div>
         `date` 
       </div>
       <div>
         EOF 
       </div>
       <div>
        <br>
       </div>
      </div>
     </div>
     <br>
    </blockquote>
    <br>
   </div>
  </blockquote>
  <pre class="moz-signature" cols="72">-- 
Ansley Manke
Science Data Integration Group
NOAA Pacific Marine Environmental Laboratory
7600 Sand Point Way NE
Seattle WA 98115

I am currently teleworking and am available Tue-Wed-Thu.</pre>
  <br>
 </blockquote>
 <br>
</div>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00665" href="msg00665.html">Re: [ferret_users] Problems with netcdf output and zaxreplace</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00643.html">Re: [ferret_users] Problems with netcdf output and zaxreplace</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00665.html">Re: [ferret_users] Problems with netcdf output and zaxreplace</a></strong>
</li>

</UL>
<center>[<a href="msg00643.html">Thread Prev</a>][<a href="msg00665.html">Thread Next</a>][<A HREF="threads.html#00655">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
