<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] how to put symbol in legend -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 22 May 2019 15:18:45 &#45;0700 -->
<!--X-Message-Id: 0d7153fc&#45;664e&#45;9016&#45;bd49&#45;7a6ca951d4e3@noaa.gov -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: CAFXLzPgKAN2L7R&#45;QVq53pvgR_8w0YT5y8WoeCxuwC+sfftg5gg@mail.gmail.com -->
<!--X-Derived: pngrLQf9MQhhj.png -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] how to put symbol in legend</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00181.html">Thread Prev</a>][<a href="msg00184.html">Thread Next</a>][<A HREF="threads.html#00183">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] how to put symbol in legend</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] how to put symbol in legend</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 22 May 2019 15:18:41 -0700</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=bh3kn0wI;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=bh3kn0wI;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=p0gstP2bbWUNQFHMIHpMRb8DxGsNVG+B1LmtGpbXnv4=;        b=lacx9/R/PEiIRqCC3BFt4KVltyNwAqxauS1+RwdgTR51zWAri9prUchOYb2oLn8j+9         c9XkAuih9uO8UmB9vFGiGRK32oyPsS/lwIK2ize/Y73UZd+a2U0KX7lurH95vSfuzVtY         wV8cnUEgF/1VtyVdFQfzg8J+wNMYtS0VcEYKIm7hKImSnZ3o7oxREyFDVdJN+qNtNO8p         kxssSntlF5+DvDXvmd0uUvDUepmQ8Eyv8Pb/vaE/MgvT3yDzKho5CRDTojvwV3ywI3BV         zOm5KlDngx/blJXT2GlpwVRt2Xr9dHJyHwKZlBy8yC8a72p3j609pw2AGOQqAzw7tyFd         S3Zg==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=p0gstP2bbWUNQFHMIHpMRb8DxGsNVG+B1LmtGpbXnv4=;        b=O10F7iL9W+qOkqNcGJxZZz5lfAH8Sx/iBTe5FpaCWZ3heqxyfPuMeeYm6Mg+Y4BKD0         ENCfqB7UT21qoB7v/iU9G/pglXlfgAFibHpuFiKpRjLtUi1VL1S7A1GNuW4h5EBDRkHl         umNmpcZY5lPy98FEaeQabPx42Kk9Ju1MryOG6hw+vZdnOkyJin7ybMXstHBss2SBu1v9         SdfDMeZ07KSU9nECGBwPNwAoh5z0TG69xrjmdaBJZFvIdXt8IT4ixAXJpnpekc09v21x         EAUtGOhuo61eS4qIOu+US7oUKQAeiEfojaW3xH2HbzqFDWQAYxRxcWmldR50x7mycA7q         webw==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1558563524; cv=pass;        d=google.com; s=arc-20160816;        b=p6IfUm6nTdko+DhanbDkUNerhrO1ph8M625B491I9amb0FLD/VCmoF8Mlp//LWKgQn         iuwB337/uGM7ZfPz57ldRDpn96XGBIW36T6B4pa870cbI+KRN+FJXG7nnEnjiHqtMbFK         w00u7q0PlEyKSvYoOCqI4/R6TSG8TKgzOxLV/xoZ83UptgKxT+llMHjekf1IX4WR1cMz         DMqGPBNRkvpXTEUtxuOuHs03y0Ueyg1ItS+HjPMoTzClxN0wINZiZgtOjWj+Snbkc4Y8         lD9RmJGO3gP6bkmjsS9LBxc2NDWStoZqKF/tMKJTUbzZv5GEZgHiA4XSzfB9TebJEYD9         jCSw==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1558563523; cv=none;        d=google.com; s=arc-20160816;        b=tbQG0H7SzhK6oJVBj0TCr5ADbb+tjg9IoUvJzwH9OxmEAH5iZ85AHL7TiFeyD84oZV         uJfRZfMKbGlOKJsF+HeSu6mnHDkxnAI3hyW8EnZKnn3BqZPlKeJ1LTnODsR9I5WPwFDf         ozsRUZOGYPyqpylsnKgO8S5nVk5XQOJeHKpdzowQN0LiDwjAtVCIgGgNfYQx/A1g91rQ         ETd5X0Jlv3J8BrSWAuvZGj52tjVLBme7uu/dCpueTD9krCeBP4v3hYOy+Prlk3mHeYsu         W4LWxQH0g/hibMswPblCKwZcfp8KqQH55+BWQ1FmhmZcUuLsPZSneEDbLfaN4AAYav6f         aYAA==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-language:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=p0gstP2bbWUNQFHMIHpMRb8DxGsNVG+B1LmtGpbXnv4=;        b=TcmBSURc7aJclQkZDnAU8OvnWyQ8etPYJ5qIYp69ToJBTXRoMx8tPb8cen2907N4wC         WFjfcTdnhCN1w4Ppj+IBXAxi1+bxo2WwSMvE9du8Ndy7lCMiqW/WqIWoLGFo773VgwrH         aa1uyNCJwsl2faQvTIUJqrKczsmAOwPwz/i/fyj7fC5skbfO+vDKogcAiJb1gRD5Hh7p         BU3zm2SZMd3TMQ7luoYwETRjrMdgHXx/uZ1/l2469eUZtIwhGDgMJ1ICpLy1OzJh0L/x         anYzxvZ6wd+zGsiJsjF5UVvZ77F8xsc4jOyPYIueuxyiWfu5xLKrMXcVGzjpv4/azsAo         Z2zw==</li>
<li>In-reply-to: &lt;<a href="msg00181.html">CAFXLzPgKAN2L7R-QVq53pvgR_8w0YT5y8WoeCxuwC+sfftg5gg@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00181.html">CAFXLzPgKAN2L7R-QVq53pvgR_8w0YT5y8WoeCxuwC+sfftg5gg@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:60.0) Gecko/20100101 Thunderbird/60.6.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    <p>Hi,</p>
    <p>This is something we've planned to add for a long time: more
      flexibility to the legend-line plotting.&#xA0; "go legend"&#xA0; and "go
      legline" cannot do it; they both use an old capability called
      "aline" which can only draw lines based on the default line-type
      numbers, with line 1 always drawn as a thin black line, line 2 a
      thin red line, and so forth.</p>
    <p>Please try the attached script "linekey.jnl".&#xA0; It is somewhat
      similar to "legend.jnl" in that it adds one line to the legend,
      but it lets you pass in the plot qualifiers you want to use.&#xA0; It
      will also allow the legend to be placed outside the plot box. Read
      the comments at the start of the script for some details.&#xA0; Note
      that this is new and has not been heavily tested - it accounts for
      the aspect ratio of the plot in positioning and spacing the legend
      lines, but it may need some adjustments.&#xA0; It will be part of
      future Ferret/PyFerret releases.</p>
    <p>The script "test_linekey.jnl" also attached, does a few
      examples.&#xA0; Here is a short example of how it looks,&#xA0; making a
      couple of line plots and a legend in the lower left.&#xA0; The
      arguments are <br>
    </p>
    <ul>
      <li>line number in the legend</li>
      <li>title to use in the legend</li>
      <li>plot command with qualifiers for this legend line<br>
      </li>
      <li>location: ll, lr, ul, ur&#xA0; as in "legend.jnl"&#xA0; or &#xA0; llc, lrc,
        ulc, urc referring to the corners of the plot window,
        lower-left-corner and so forth.<br>
      </li>
    </ul>
    <p><tt><br>
      </tt></p>
    <p><tt>! simple example calling the linekey.jnl script<br>
      </tt></p>
    <p><tt>yes? cancel mode logo</tt></p>
    <tt>yes? go margins 1.4&#xA0; 1.4&#xA0; 1.2&#xA0; 1.2</tt><tt><br>
    </tt>
    <p><tt>yes? plot/nolab/i=1:60/thick/sym=20/color=blue cos(i/7)</tt><tt><br>
        yes?
        plot/over/nolab/i=1:60/thick/size=0.16/line/sym=30/color=red
        sin(i/10)</tt></p>
    <p><tt>yes? go linekey 1 "line 1" plot/thick/sym=20/color=blue llc</tt><tt><br>
      </tt><tt>yes? go linekey 2 "line 2"
        plot/thick/size=0.16/line/sym=30/color=red llc</tt></p>
    <p><tt>yes? frame/file=example_linekey.png</tt><br>
    </p>
    <br>
    <p><br>
    </p>
    <div class="moz-cite-prefix">On 5/22/2019 5:17 AM, saurabh rathore
      wrote:<br>
    </div>
    <blockquote type="cite"
cite="">
      
      <div dir="ltr">
        <div class="gmail_default" style="color:#000000">Dear Ferreters,<br
            clear="all">
        </div>
        <div style="color:rgb(0,0,0)" class="gmail_default">G'day</div>
        <div style="color:rgb(0,0,0)" class="gmail_default"><br>
        </div>
        <div style="color:rgb(0,0,0)" class="gmail_default">I am trying
          to put a legend to my plot in which i used symbol (sym=29). I
          am trying to put that symbol as my legend but I am unable to
          do so. here is my code. <br>
        </div>
        <div style="color:rgb(0,0,0)" class="gmail_default"><br>
        </div>
        <div style="color:rgb(0,0,0)" class="gmail_default">use
          "/media/srathore/Binny/data/rain/mine/noaa_prel/<a rel="nofollow"
            href="http://precip_calender.nc" moz-do-not-send="true">precip_calender.nc</a>"<br>
          <br>
          plot/ov/thick=3/noaxes/nolab/nokey/col=4/opacity=70
precip[x=110E:155E@ave,y=45S:10S@ave,t=16-jan-1972:16-dec-1974]/precip[x=110E:155E@ave,y=45S:10S@ave,t=16-jan-1972:16-dec-1974@std]<br>
plot/thick=2/ov/noaxes/nolab/nokey/col=1/opacity=30/sym=29/size=.6
precip[x=141E:155E@ave,y=29S:10S@ave,t=16-jan-1972:16-dec-1974]/precip[x=141E:155E@ave,y=29S:10S@ave,t=16-jan-1972:16-dec-1974@std]<br>
          <br>
          !plot/ov/nolab/col=1/thick=2/opacity=30/sym=29 12,4<br>
          !go legend 5 rain-Qld<br>
        </div>
        <div style="color:rgb(0,0,0)" class="gmail_default"><br>
        </div>
        <div style="color:rgb(0,0,0)" class="gmail_default">ppl plot/ov</div>
        <div style="color:rgb(0,0,0)" class="gmail_default"><br>
        </div>
        <div style="color:rgb(0,0,0)" class="gmail_default">So how to
          put this symbol as a legend on my desired location, with my
          choice of color, thickness, opacity and size ?</div>
        <div style="color:rgb(0,0,0)" class="gmail_default"><br>
        </div>
        <div style="color:rgb(0,0,0)" class="gmail_default">cheers,
          saurabh<br>
        </div>
        <br>
        -- <br>
        <div dir="ltr" class="gmail_signature"
          data-smartmail="gmail_signature">
          <div dir="ltr">
            <div>
              <div dir="ltr">
                <div><font size="4" color="#0000ff"><b><br>
                    </b></font></div>
                <div><font size="4" color="#0000ff"><b><br>
                    </b></font></div>
                <font size="4" face="times new roman, serif"
                  color="#0000ff"><b>REGARDS</b></font>
                <div><font size="4" face="times new roman, serif"
                    color="#0000ff"><b><br>
                    </b></font>
                  <div><font size="4" face="times new roman, serif"
                      color="#0000ff"><b>Saurabh Rathore</b></font></div>
                  <div><font size="4" face="times new roman, serif"
                      color="#0000ff"><b>Research Scholar (PhD.)</b></font></div>
                  <div><font size="4" face="times new roman, serif"
                      color="#0000ff"><b>Centre For Oceans, Rivers,
                        Atmosphere &amp; Land Science Technology</b></font></div>
                  <div><font size="4" face="times new roman, serif"
                      color="#0000ff"><b>Indian Institute Of Technology,
                        Kharagpur</b></font></div>
                  <div><font size="4" face="times new roman, serif"
                      color="#0000ff"><b>contact :- 91- 8345984434</b></font></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </blockquote>
    <div class="moz-signature">-- <br>
      <i>Ansley Manke<br>
        NOAA/PMEL Science Data Integration Group<br>
        7600 Sand Point Way NE<br>
        206-526-6246</i></div>
  

</font></td></tr></table><pre>\cancel mode verify
!
! linekey.jnl
!   Draw a labeled line sample on a plot, a single line in a legend.
!   User-specified PLOT command with qualifiers for line style, color, 
!     symbol, thickness.
! 
! 5/22/2019
! 
! Arguments
!   1  line number
!   2  title
!   3  plot command with thickness, color, symbol, size
!   4  location on the page ul ur ll lr ulc urc llc lrc, where:
!        ul, ur, ll, lr     are upper left, upper right etc, within the plot box
!        ulc, urc, llc, lrc are upper left corner, etc outside the plot box.
! 
!  For legends in the plot corners, you may need to increase the margins for them to fit.
!  See the margins script:  yes? GO/HELP margins.jnl
!  To make the legend in the upper right of a page, use &quot;CANCEL MODE LOGO&quot; 
!  to remove the ferret-version and date lines.
!
! Example:
!   cancel mode logo
!   go margins 1.4  1.4  1.2  1.2
!
!   plot/i=1:60/thick/sym=20 cos(i/10)
!   plot/over/nolab/i=1:60/thick/size=0.16/line/sym=30/color=red sin(i/10)
!   go linekey 1 &quot;cosine&quot; plot/thick/sym=20/color=black ur
!   go linekey 2 &quot;sine&quot; plot/thick/size=0.16/line/sym=30/color=red ur

! For the legends drawn within the plot box, the first line is drawn nearest
! the upper or lower axis line of the plot, with each new line drawn below that 
! for upper-located legends or above for lower-located ones.

! For legends drawn outside the plot box, the first line is drawn nearest the plot
! box. For upper-located legends the first line is drawn just above the upper axis
! with more lines added above that. For lower-located legends the first line is drawn
! just below the bottom axis with more lines added below that.

query/ignore $1%&lt;usage: go linekey line# title plot_command [location]%
query/ignore $2%&lt;usage: go go linekey line# title plot_command [location]%
query/ignore $3%&lt;usage: go go linekey line# title plot_command [location]%
query/ignore $4%1|ul&gt;1|ur&gt;1|ll&gt;1|lr&gt;1|ulc&gt;1|urc&gt;1|llc&gt;1|lrc&gt;1|\
 &lt;location must be ul, ur, ll, lr, ulc, urc, llc or lrc%


DEFINE SYMBOL plot_command = `upcase(&quot;($3)&quot;)`

IF `substring(&quot;($plot_command)&quot;, 1,1) NE &quot;P&quot;` THEN 
  SAY Argument 3 must be a PLOT command, e.g. PLOT/COLOR=RED
  EXIT/SCRIPT
ENDIF
DEFINE SYMBOL plot_command = ($plot_command)/NOLAB/OVER/VS

! IF it's not explicitly plot/sym=  THEN add /line.  By default plot/vs makes symbol plots
IF `STRINDEX(&quot;($plot_command)&quot;, &quot;SY&quot;) EQ 0` THEN DEFINE SYMBOL plot_command = ($plot_command)/line


LET lk_xrange = ($XAXIS_MAX)-(($XAXIS_MIN))
LET lk_yrange = ($YAXIS_MAX)-(($YAXIS_MIN))

LET lk_aspect = ($PPL$HEIGHT)/($PPL$WIDTH)
LET lk_xdel = 0.04* lk_aspect
LET lk_ydel = 0.03/ lk_aspect


! expand things a bit IF we're in a viewport
LET lk_xdel = `lk_xdel/(($vp_xhi%1%)-($vp_xlo%0%))`
LET lk_ydel = `lk_ydel/(($vp_yhi%1%)-($vp_ylo%0%))`

IF `$4%1|ul&gt;1|*&gt;0|% EQ 1` THEN     ! left top

   LET lk_x1pt = (0.5*lk_xdel)* lk_xrange + (($XAXIS_MIN))
   LET lk_x2pt = lk_xdel*lk_xrange + lk_x1pt
   
   LET lk_yfac = (1-0.5*lk_ydel) - (($1)-1)* lk_ydel
   LET lk_y1pt = lk_yfac * lk_yrange + ($YAXIS_MIN)
   
   LET lk_xlabloc = lk_x2pt + 0.02*lk_xrange

   ($plot_command) {`lk_x1pt`,`lk_x2pt`}, {`lk_y1pt`, `lk_y1pt`}
   ANNOTATE/XPOS=`lk_xlabloc`/YPOS=`lk_y1pt`/HALIGN=-1/VALIGN=0/SIZE=0.11 &quot;($2)&quot;


ELIF `$4%1|ur&gt;1|*&gt;0|% EQ 1` THEN   ! right top

   LET lk_x1pt = (1-1.5*lk_xdel)* lk_xrange + (($XAXIS_MIN))
   LET lk_x2pt = lk_xdel*lk_xrange + lk_x1pt
   
   LET lk_yfac = (1-0.5*lk_ydel) - (($1)-1)* lk_ydel
   LET lk_y1pt = lk_yfac * lk_yrange + ($YAXIS_MIN)

   LET lk_xlabloc = lk_x1pt - 0.02*lk_xrange

   ($plot_command) {`lk_x1pt`,`lk_x2pt`}, {`lk_y1pt`, `lk_y1pt`}
   ANNOTATE/XPOS=`lk_xlabloc`/YPOS=`lk_y1pt`/HALIGN=1/VALIGN=0/SIZE=0.11 &quot;($2)&quot;

ELIF `$4%1|ll&gt;1|*&gt;0|% EQ 1` THEN   ! left bottom

   LET lk_x1pt = (0.5*lk_xdel)* lk_xrange + (($XAXIS_MIN))
   LET lk_x2pt = lk_xdel*lk_xrange + lk_x1pt
   
   LET lk_yfac = 0.5*lk_ydel + (($1)-1)* lk_ydel
   LET lk_y1pt = lk_yfac * lk_yrange + ($YAXIS_MIN)
   
   LET lk_xlabloc = lk_x2pt + 0.02*lk_xrange

   ($plot_command) {`lk_x1pt`,`lk_x2pt`}, {`lk_y1pt`, `lk_y1pt`}
   ANNOTATE/XPOS=`lk_xlabloc`/YPOS=`lk_y1pt`/HALIGN=-1/VALIGN=0/SIZE=0.11 &quot;($2)&quot;

ELIF `$4%1|lr&gt;1|*&gt;0|% EQ 1` THEN   ! right bottom

   LET lk_x1pt = (1-1.5*lk_xdel)* lk_xrange + (($XAXIS_MIN))
   LET lk_x2pt = lk_xdel*lk_xrange + lk_x1pt
   
   LET lk_yfac = 0.5*lk_ydel + (($1)-1)* lk_ydel
   LET lk_y1pt = lk_yfac * lk_yrange + ($YAXIS_MIN)
   
   LET lk_xlabloc = lk_x1pt - 0.02*lk_xrange

   ($plot_command) {`lk_x1pt`,`lk_x2pt`}, {`lk_y1pt`, `lk_y1pt`}
   ANNOTATE/XPOS=`lk_xlabloc`/YPOS=`lk_y1pt`/HALIGN=1/VALIGN=0/SIZE=0.11 &quot;($2)&quot;

ENDIF

! legends in the plot corners.  

! set up to draw outside the plot box
IF `$4%|ulc&gt;1|urc&gt;1|llc&gt;1|lrc&gt;1|*&gt;0|% EQ 1` THEN PPL WINDOW,OFF

IF `$4%1|ulc&gt;1|*&gt;0|% EQ 1` THEN     ! left top

   LET lk_x1pt = (0.5*lk_xdel)* lk_xrange + (($XAXIS_MIN) - 4*lk_xdel*lk_xrange)
   LET lk_x2pt = lk_xdel*lk_xrange + lk_x1pt
   
   LET lk_yfac = (1-0.5*lk_ydel) + (($1)-1)* lk_ydel
   LET lk_y1pt = lk_yfac * lk_yrange + (($YAXIS_MIN) + 2*lk_ydel*lk_yrange)
   
   LET lk_xlabloc = lk_x2pt + 0.02*lk_xrange

   ($plot_command) {`lk_x1pt`,`lk_x2pt`}, {`lk_y1pt`, `lk_y1pt`}
   ANNOTATE/XPOS=`lk_xlabloc`/YPOS=`lk_y1pt`/HALIGN=-1/VALIGN=0/SIZE=0.11 &quot;($2)&quot;


ELIF `$4%1|urc&gt;1|*&gt;0|% EQ 1` THEN   ! right top

   LET lk_x1pt = (1-1.5*lk_xdel)* lk_xrange + (($XAXIS_MIN) + 4*lk_xdel*lk_xrange)
   LET lk_x2pt = lk_xdel*lk_xrange + lk_x1pt
   
   LET lk_yfac = (1-0.5*lk_ydel) + (($1)-1)* lk_ydel
   LET lk_y1pt = lk_yfac * lk_yrange + (($YAXIS_MIN) + 2*lk_ydel*lk_yrange)

   LET lk_xlabloc = lk_x1pt - 0.02*lk_xrange

   ($plot_command) {`lk_x1pt`,`lk_x2pt`}, {`lk_y1pt`, `lk_y1pt`}
   ANNOTATE/XPOS=`lk_xlabloc`/YPOS=`lk_y1pt`/HALIGN=1/VALIGN=0/SIZE=0.11 &quot;($2)&quot;

ELIF `$4%1|llc&gt;1|*&gt;0|% EQ 1` THEN   ! left bottom

   LET lk_x1pt = (0.5*lk_xdel)* lk_xrange + (($XAXIS_MIN) - 4*lk_xdel*lk_xrange)
   LET lk_x2pt = lk_xdel*lk_xrange + lk_x1pt
   
   LET lk_yfac = 0.5*lk_ydel - (($1)-1)* lk_ydel
   LET lk_y1pt = lk_yfac * lk_yrange + (($YAXIS_MIN) - 2.5*lk_ydel*lk_yrange)
   
   LET lk_xlabloc = lk_x2pt + 0.02*lk_xrange

   ($plot_command) {`lk_x1pt`,`lk_x2pt`}, {`lk_y1pt`, `lk_y1pt`}
   ANNOTATE/XPOS=`lk_xlabloc`/YPOS=`lk_y1pt`/HALIGN=-1/VALIGN=0/SIZE=0.11 &quot;($2)&quot;

ELIF `$4%1|lrc&gt;1|*&gt;0|% EQ 1` THEN   ! right bottom

   LET lk_x1pt = (1-1.5*lk_xdel)* lk_xrange + (($XAXIS_MIN) + 4*lk_xdel*lk_xrange)
   LET lk_x2pt = lk_xdel*lk_xrange + lk_x1pt
   
   LET lk_yfac = 0.5*lk_ydel - (($1)-1)* lk_ydel
   LET lk_y1pt = lk_yfac * lk_yrange + (($YAXIS_MIN) - 2.5*lk_ydel*lk_yrange)
   
   LET lk_xlabloc = lk_x1pt - 0.02*lk_xrange

   ($plot_command) {`lk_x1pt`,`lk_x2pt`}, {`lk_y1pt`, `lk_y1pt`}
   ANNOTATE/XPOS=`lk_xlabloc`/YPOS=`lk_y1pt`/HALIGN=1/VALIGN=0/SIZE=0.11 &quot;($2)&quot;

ENDIF

ppl window,on
cancel variale lk_*

</pre><pre>! test_linekey.jnl
! Examples using the &quot;linekey.jnl&quot; script for legend lines.


cancel mode logo
go margins 1.4  1.4  1.2  1.2

! Draw an example pair of lines, and show all of the different legend
! locations

plot/i=1:60/thick/sym=20 cos(i/10)
plot/over/nolab/i=1:60/thick/size=0.16/line/sym=30/color=red sin(i/10)

go linekey.jnl 1 &quot;title one&quot; plot/thick/sym=20/color=black ur
go linekey.jnl 2 &quot;title two&quot; plot/thick/size=0.16/line/sym=30/color=red ur

go linekey.jnl 1 &quot;title one&quot; plot/thick/sym=20/color=black ul
go linekey.jnl 2 &quot;title two&quot; plot/thick/size=0.16/line/sym=30/color=red ul

go linekey.jnl 1 &quot;title two&quot; plot/thick/size=0.16/line/sym=30/color=red ll
go linekey.jnl 2 &quot;title one&quot; plot/thick/sym=20/color=black ll

go linekey.jnl 1 &quot;title two&quot; plot/thick/size=0.16/line/sym=30/color=red lr
go linekey.jnl 2 &quot;title one&quot; plot/thick/sym=20/color=black lr

! Now the legends outside the plot box
go linekey.jnl 1 &quot;title one&quot; plot/thick/sym=20/color=black urc
go linekey.jnl 2 &quot;title two&quot; plot/thick/size=0.16/line/sym=30/color=red urc

go linekey.jnl 1 &quot;title one&quot; plot/thick/sym=20/color=black ulc
go linekey.jnl 2 &quot;title two&quot; plot/thick/size=0.16/line/sym=30/color=red ulc

go linekey.jnl 1 &quot;title one&quot; plot/thick/sym=20/color=black llc
go linekey.jnl 2 &quot;title two&quot; plot/thick/size=0.16/line/sym=30/color=red llc

go linekey.jnl 1 &quot;title one&quot; plot/thick/sym=20/color=black lrc
go linekey.jnl 2 &quot;title two&quot; plot/thick/size=0.16/line/sym=30/color=red lrc

message now show the example as in test_legend.jnl that used the older legend.jnl script

cancel mode logo

let one=3*x+2
let two=x*x-5
let three=0*x+3

set region /x=-10:10

set viewport ul
go margins 1.4  1.4  1.2  1.2
plot/title=&quot;test plot&quot; one,two,three

go linekey 1 &quot;Variable one&quot; plot/color=black ul
go linekey 2 &quot;Variable two&quot;  plot/color=red ul
go linekey 3 &quot;Variable three&quot; plot/color=green ul


set viewport ur
go margins 1.4  1.4  1.2  1.2
plot/title=&quot;test plot&quot; one,two,three

go linekey 1 &quot;Variable one&quot; plot/color=black ur
go linekey 2 &quot;Variable two&quot;  plot/color=red ur
go linekey 3 &quot;Variable three&quot; plot/color=green ur


set viewport ll
go margins 1.4  1.4  1.2  1.2
plot/title=&quot;test plot&quot; one,two,three

go linekey 1 &quot;Variable one&quot; plot/color=black ll
go linekey 2 &quot;Variable two&quot;  plot/color=red ll
go linekey 3 &quot;Variable three&quot; plot/color=green ll

set viewport lr
go margins 1.4  1.4  1.2  1.2
plot/title=&quot;test plot&quot; one,two,three

go linekey 1 &quot;Variable one&quot; plot/color=black lr
go linekey 2 &quot;Variable two&quot;  plot/color=red lr
go linekey 3 &quot;Variable three&quot; plot/color=green lr

message now draw legends outside the plot boxes.
cancel view

set viewport ul
go margins 1.4  1.4  1.2  1.2
plot/title=&quot;test plot&quot; one,two,three

go linekey 1 &quot;Variable one&quot; plot/color=black ulc
go linekey 2 &quot;Variable two&quot;  plot/color=red ulc
go linekey 3 &quot;Variable three&quot; plot/color=green ulc


set viewport ur
go margins 1.4  1.4  1.2  1.2
plot/title=&quot;test plot&quot; one,two,three

go linekey 1 &quot;Variable one&quot; plot/color=black urc
go linekey 2 &quot;Variable two&quot;  plot/color=red urc
go linekey 3 &quot;Variable three&quot; plot/color=green urc


set viewport ll
go margins 1.4  1.4  1.2  1.2
plot/title=&quot;test plot&quot; one,two,three

go linekey 1 &quot;Variable one&quot; plot/color=black llc
go linekey 2 &quot;Variable two&quot;  plot/color=red llc
go linekey 3 &quot;Variable three&quot; plot/color=green llc

set viewport lr
go margins 1.4  1.4  1.2  1.2
plot/title=&quot;test plot&quot; one,two,three

go linekey 1 &quot;Variable one&quot; plot/color=black lrc
go linekey 2 &quot;Variable two&quot;  plot/color=red lrc
go linekey 3 &quot;Variable three&quot; plot/color=green lrc



</pre><p><strong>Attachment:
<a href="pngrLQf9MQhhj.png" ><tt>example_linekey.png</tt></a></strong><br>
<em>Description:</em> PNG image</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00184" href="msg00184.html">Re: [ferret_users] how to put symbol in legend</a></strong>
<ul><li><em>From:</em> saurabh rathore</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00181" href="msg00181.html">[ferret_users] how to put symbol in legend</a></strong>
<ul><li><em>From:</em> saurabh rathore</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00181.html">[ferret_users] how to put symbol in legend</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00184.html">Re: [ferret_users] how to put symbol in legend</a></strong>
</li>

</UL>
<center>[<a href="msg00181.html">Thread Prev</a>][<a href="msg00184.html">Thread Next</a>][<A HREF="threads.html#00183">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
