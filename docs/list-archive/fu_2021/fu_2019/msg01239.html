<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] SHF transformation on time axis -->
<!--X-From-R13: Dlb Thehr <shehrNunjnvv.rqh> -->
<!--X-Date: Thu, 23 Feb 2023 18:54:27 &#45;0800 -->
<!--X-Message-Id: CAEwQpaJXVv2Ma9JXkW95R6+yk=nvCr1N9B5Cqb2YpNHoNXPUBw@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAEwQpaJHvVK8BTT5G3aB1sUDKbyruCK50u1bJSptWxm4uOXN9g@mail.gmail.com -->
<!--X-Reference: CAK0Qe2OS7Rnz3QvcgGyDOji5CBSsq01jWQLc=eLHtVAS4oDgEw@mail.gmail.com -->
<!--X-Reference: CAEwQpaJLJJgN0mPCRMgdCJN7AGp+LyOL6p98LxMJA2M2fP=4Wg@mail.gmail.com -->
<!--X-Reference: LO2P302MB03329F123F62E4163C40A605B6AA9@LO2P302MB0332.GBRP302.PROD.OUTLOOK.COM -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] SHF transformation on time axis</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg01234.html">Thread Prev</a>][<a href="msg01235.html">Thread Next</a>][<A HREF="threads.html#01239">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] SHF transformation on time axis</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Friedlingstein, Pierre&quot; &lt;<a href="mailto:P.Friedlingstein@DOMAIN.HIDDEN">P.Friedlingstein@xxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] SHF transformation on time axis</strong></li>
<li><strong>From</strong>: <strong>Ryo Furue &lt;<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 24 Feb 2023 11:54:08 +0900</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=BtGLRytC;       arc=pass (i=2 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii.edu);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.160.200 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=BtGLRytC;       arc=pass (i=2 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii.edu);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.160.200 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=BtGLRytC;       arc=pass (i=1 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii.edu dmarc=pass fromdomain=hawaii.edu);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=BtGLRytC;       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=hawaii.edu</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence:cc         :to:subject:message-id:date:from:in-reply-to:references:mime-version         :sender:dkim-signature;        bh=3EfOoYdkOO7igYWrviG20z2+YNb/D1UXYLCFF6ECW3U=;        b=I04Z+7lIsqTpD7l8op2mY6QOQL/SfC4fvr4+TygDepsFL9aM0ks3fTTr05C6nTC2pr         f9JRhBytL0/gGb5vNMfYqiVKy7AApaLQ3EbiP8rVF91JBUoI3zxC0XhIJHp03SRcfKjT         rctpytZLswHwWBgB+hkDupxPU9SjhMX9EPKpDHqazgp1TUFp+S7uP6e+O1EvEuMRijor         zjOl1zoq7kgsiD+28Oj5Kg6deQy7lXB5EoffT2ZE1w2RFocns26RIrlrs6LUDXc0g7qL         im2zdxksqG+yBFKZQ5govqhA/IEzsDRqxMhm55pEaqyqfUAufJqlmFirQOy14IHCvAJy         00DA==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=3EfOoYdkOO7igYWrviG20z2+YNb/D1UXYLCFF6ECW3U=;        b=EK4IpBmqZSVDNYYRvCSLYxi1TfxG3Z2c4v2tNP+J3H6vAaWxaDdnMVxKVOAVD77fe1         JT5trQFlikL2M9m4WLUpxx25djgf/tmXY9mSmQnCG36/x6kYk3Z5U3/OdqsjT+Zobjos         4vYu5Uu5Y+VqhCyeCRao5WxakhRYtLSrRyVU5eoXyyRltWKtUb0Y2adRU4gWCjVrOZk4         /PyBOiofOUYweszgCRslq+VsE3jfttD5pH8ISyNhshoqZGv3T0y4e4tNXDMnokwAPzlh         VitH5zig2OrhnVEGw6evglW995O2Ut+j8nhMMg96HqczOY/nU3ldeEwg8+j9fOFXjmuv         3LvQ==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=3EfOoYdkOO7igYWrviG20z2+YNb/D1UXYLCFF6ECW3U=;        b=aOIbjtWO+1LQbuXzE3KX0SY/tNvaGSWttjYybFHowUVlfSDKiuZHjb5u29dnaJ4gWb         e79m4a+X82V+0UxSFf1LJrAiFlh6qEv6/Gt7VQAfCySJHBNkqJsBa3nAO+Nnh/85JBit         6OEezNN9ZMi9REzEXUjOEgeXd7oA+SpQptvYIbd0th0JQBbkbkOQVI1I/eHQ6DcSffeG         MCVYbOg5nCeVW2pUAFb+N3mF6GRGC8AFq9oFp/tWHKvafMbPbpge/+GUOGZVJ9A0+R7R         Od6B+Xqj1NzSXPE/PTOvxw3rPu5PD4AlS3ZnpHyJAAkfW1n9DupVuN8znfRcQ4VMLsYf         tVbw==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=3EfOoYdkOO7igYWrviG20z2+YNb/D1UXYLCFF6ECW3U=;        b=sElJIhygm9/L4X8RS8iX3T23Ocd3HIDRUtiqXMM9leWZ6QVqW+VZxbo2k/56KtxHps         4XEPcM+XkATT/qqBqCP2HMN6Q4FvF6hK9fbiFI32nJZqak3QF3q+Ry4MbjnYbUoW/rSt         XFSugNE9Q9SsJbRnytYRshoFRmyQZ7QnTfFCjqGxsoGuf2TDIeQh88TP1aNwmi8WIIYK         NGlXrbriLnMHiiHZKMVYn92IiefHs1Wa2nSvMq8dQRzCHr/A70o5VlB2YT6RUca5A3BE         f0nKl/Sa6cJypH0X1wDHxIomTzCWAFsvFb4A/eTfNabKBLJe1g+l5oSyj455mqstRS/L         hv6g==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1677207265; cv=pass;        d=google.com; s=arc-20160816;        b=Dm5T8isAv+zVo3qPFQe1RCN2G9FdbdaVqGj+og4+ojKeiZZLmTT1PNHwpUraofCN5X         VYhTArBHz2uSJOanDJi9Dd6U9aZuBi4s9BdiBNfWcHclPicvTBj9UTJA9cb7yO1NnTLE         kEjGf02S3GksVF6+42qfoRZPuxU8mR2wg/0uG9glcSh8L2eynJj1waJb7UK3cRzGBIVT         2MwTA3rb4hTxHWkFmEJ/8VPCAxnimZG1yycFULZMlnkqohzsVgiLpDrpgDgSwIx6O5G0         Z9KIkwK/hlZevhDu2hEPMhcd3Njj5RGNLmyQiV4O6nYAHJLqS1fLdye+LXvd+kg3Bs8w         0jpQ==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1677207264; cv=pass;        d=google.com; s=arc-20160816;        b=waMfSaTNXjxkE3M3158bS+Igh+9BikBmpIcRKdMQsSdoLwa822Zs2zdIRbOxMGvIOG         0V9TaWS7D81p+MPnhEXfKKdO0o84ym0WKYcZJ5y7+R5fCnzNDgYoFRLj/1WncSun+w7g         j9iE1gIq/uwgRWJe5L3DcT0MWwqZu6RowRyQzXD2nGFjbcL6K69GnadEq9co2T/9uXjn         DZbY9vExh65r/Mn74mmRe9kbvFpl8C70VsaJwPBYU75qva+x+/4AHrIM9Z9iMn+ZHyga         C+S6Lc6dYrGrvoZDOZIwNz/mc9KvNciqKla7BcKooHszI+F8mwgKOprzVh5MFm3hvvRQ         rRKQ==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1677207261; cv=pass;        d=google.com; s=arc-20160816;        b=XZLFNXr65rXIj8N4EC6aYqC3JR442nj+8S+wnvr7HQqwcc/XZ8tdoI/AfpQSvUvLQ7         53GLzpF0AaLkaRDr7AoskiYE5KYBXnF6p3dUGNydxs0tZ5Y5XWiiP3rxdJn8bnkGQAHD         pGDsqQHSaraC+Bqd/oOMvgjlPVXJl5kKvaMk/+0c4BAGJNjG0D+PUibCBcwGqwv6v5K5         G1atz9CHxuEKty+p2s1DzCHnrEp+z2Xh7zZubPbg1VRjZqCMns+tafgd6YLWOlkxSloD         7CCxsbp6DbrHkDr7hFRuz+scf2GRJUbZdZw5KMVOsRMWH+VzTwEwKA0I7Gg15BF01+HQ         5J4g==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1677207260; cv=none;        d=google.com; s=arc-20160816;        b=VslNzKGCOYyrO0ZB9Sx02ATojFewHyhAZLMg6cvupEUtzLaDg1hNUqpE7lrJFkvhtM         j/RA3Rk+Iy1xic3W9DbyVXK29yh23JXedw6LHCLLlRyYpJCpuFF4SDJZzZCXlX60s1sE         YdE3pXBSNdZIbVntfJWqDBqPxmyEw9sTvwpwZDhk+uV9SjZMRefbKtvNFzqZ2U2KbBEz         9z7iBgOqk7Mjc4kL6kWBD7pXhwG0QN11StLaIRmBVC3eIiugIJBNHmxxBSjFgyF22QUo         SjeyVaWxzF2pCc52DuiOdm1NhfwfEBWcj79rQkj2KjStXg3PbxjGrlptYYsnT8QR6oqg         POYg==</li>
<li>Cc: ferret users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :x-original-authentication-results:x-original-sender:cc:to:subject         :message-id:date:from:in-reply-to:references:mime-version:sender         :from:to:cc:subject:date:message-id:reply-to;        bh=3EfOoYdkOO7igYWrviG20z2+YNb/D1UXYLCFF6ECW3U=;        b=ij+/wCR05PpCcF+kAbWhxAs706TpWDm3Z7k1zc/UkZ9aK9ti4zU25w2XInBURLsdge         VntFjtqjisbtTEXDWubUoC47LneqP81yHBKI6Ekk8QC5X6tw5ZrsMuxz4wcXFZptwM/j         jTfoRmlGpU8+LsbL0i+wDAFb0SO2g/VDP05Z0x9WrbxWNt3gREb5IdF+hVnz3J20um5s         RHwpG4UjETc/N6uj/KHSgwPH59qaZ+OaIUCojfNA8BP21sfC4hLWOgoLEG7U6WE2s8bc         0zJNY5YrsBWoyMAsjN9DoyM2bG96iZmTOfCD9I307HZKNqr7pKMTQ77aJpLxaQKAPS3v         6+MA==</li>
<li>In-reply-to: &lt;<a href="msg01234.html">LO2P302MB03329F123F62E4163C40A605B6AA9@LO2P302MB0332.GBRP302.PROD.OUTLOOK.COM</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg01230.html">CAEwQpaJHvVK8BTT5G3aB1sUDKbyruCK50u1bJSptWxm4uOXN9g@mail.gmail.com</a>&gt; &lt;CAK0Qe2OS7Rnz3QvcgGyDOji5CBSsq01jWQLc=eLHtVAS4oDgEw@mail.gmail.com&gt; &lt;CAEwQpaJLJJgN0mPCRMgdCJN7AGp+LyOL6p98LxMJA2M2fP=4Wg@mail.gmail.com&gt; &lt;<a href="msg01234.html">LO2P302MB03329F123F62E4163C40A605B6AA9@LO2P302MB0332.GBRP302.PROD.OUTLOOK.COM</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><div dir="ltr">Dear Pierre,</div><br><div class="gmail_quote"><div dir="ltr" class="gmail_attr">On Thu, Feb 23, 2023 at 2:47 AM &#39;Friedlingstein, Pierre&#39; via _OAR PMEL Ferret Users &lt;<a rel="nofollow" href="mailto:ferret_users@xxxxxxxx">ferret_users@xxxxxxxx</a>&gt; wrote:<br></div><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div class="msg5308517421146144098">





<div lang="EN-GB" style="overflow-wrap: break-word;">
<div class="m_-7088797674605047232WordSection1">
<p class="MsoNormal"><br></p>
<p class="MsoNormal">I have a time series (annual values) of a variable GPP, with L as a time axis and J as the land surface model axis (19 models). I want to shift the variable GPP by N years on its
 time axis.<u></u><u></u></p>
<p class="MsoNormal">I tried using the transformation l=@SHF with a shift of `itau` but it doesn&#x2019;t work as itau is a vector on the J axis, itau being model dependent.</p></div></div></div></blockquote><div><br></div><div><br></div><div>If I had to do this within Ferret, I would save the 19 models separately into 19 files within a loop:</div><div><br></div><div>! pseudo Ferret.&#xA0; Doesn&#39;t work as is.</div><div>! Likely I&#39;ve made some mistakes.</div><div>repeat/J=1:19</div><div>&#xA0; &#xA0;let shift = (-1)*itau ! for each J</div><div>&#xA0; &#xA0;let GPP_lag = GPP[L=@SHF:`shift`,J=`J`@MAX] ! erase the J axis.</div><div>&#xA0; &#xA0;save/file=model`J,zw=2`.nc GPP_lag<br></div><div>end repeat</div><div><br></div><div>assuming that <font face="monospace">itau</font> has only the J axis.</div><div><br></div><div>In this way, you get <a rel="nofollow" href="http://model01.nc">model01.nc</a>, <a rel="nofollow" href="http://model02.nc">model02.nc</a>, . . . , without J axis.&#xA0; You then read them in with</div><div><br></div><div>ensemble shifted = {SPAWN:&quot;ls model??.nc&quot;}</div><div><br></div><div>Then, you have the 19 models along the M axis.</div><div><br></div><div>By the way, it&#39;s better to use the M axis instead of J to represent different models.</div><div><br></div><div>Ryo</div><div><br></div></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01230" href="msg01230.html">[ferret_users] pyferret on M2 macs</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="01232" href="msg01232.html">Re: [ferret_users] pyferret on M2 macs</a></strong>
<ul><li><em>From:</em> William Kessler - NOAA Federal</li></ul></li>
<li><strong><a name="01233" href="msg01233.html">Re: [ferret_users] pyferret on M2 macs</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="01234" href="msg01234.html">[ferret_users]  SHF transformation on time axis</a></strong>
<ul><li><em>From:</em> 'Friedlingstein, Pierre' via _OAR PMEL Ferret Users</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg01234.html">[ferret_users]  SHF transformation on time axis</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01235.html">[ferret_users] DAYS1900 function not working as I expect</a></strong>
</li>

</UL>
<center>[<a href="msg01234.html">Thread Prev</a>][<a href="msg01235.html">Thread Next</a>][<A HREF="threads.html#01239">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
