<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] converting binary to netCDF: memory insufficient? -->
<!--X-From-R13: Dlb Thehr <shehrNunjnvv.rqh> -->
<!--X-Date: Fri, 1 May 2020 01:03:34 &#45;0700 -->
<!--X-Message-Id: CAEwQpaJABM4SntxwkDD&#45;wLg8FAGqg2R&#45;YdFamyJYBfwv0NO19w@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] converting binary to netCDF: memory insufficient?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00626.html">Thread Prev</a>][<a href="msg00631.html">Thread Next</a>][<A HREF="threads.html#00628">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] converting binary to netCDF: memory insufficient?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>ferret users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] converting binary to netCDF: memory insufficient?</strong></li>
<li><strong>From</strong>: <strong>Ryo Furue &lt;<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 1 May 2020 17:03:17 +0900</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=n5nuvSqT;       arc=pass (i=2 dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.160.197 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=n5nuvSqT;       arc=pass (i=2 dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.160.197 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=n5nuvSqT;       arc=pass (i=1 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> does not designate 65.153.203.168 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=n5nuvSqT;       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :message-id:to:subject:date:from:mime-version:sender:dkim-signature;        bh=NCltTzO4+HaDRpXcCQuqc7RuJ7plzlrly0BP0ziZvhw=;        b=X9YhxCImQNHC7/teVSC4svBawkilhIQ2YWRJVbjUES5F6eNPAMP3yyYFwZ3cHpKTNo         rWcqsb4CpWu8qN1GNMLjVd8T5Ykh4ud99x+yMVI9OyFySIFSSFvd0Q6qSrXcknjdXzIQ         gIZ2BQMhXdNDoWQ9hgw748bq7laLikLYNgvYEt8J6ndFuo461ra3nxxJqCEjjsGm4HSC         bXH5kWfjhZaoO89KfED0n98T6E+dXyxNshdCwvBugzZGPAqPKUO8j4Si9ACP6DptN6I8         wJuyEHRTYXnAL7Rhm7vPtGdCJXzhv6k5Id6McGLQ1TNOCq29/RZkhrQzP/TEBo/fWizs         9H0Q==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:to:subject:date:from:mime-version:dkim-signature;        bh=NCltTzO4+HaDRpXcCQuqc7RuJ7plzlrly0BP0ziZvhw=;        b=CqnIPw3XYg/Neto5qMmfkaWtN2OVV9pNwgL4OhOOOaLkjx2fCKR8Hffr6ciXfVO5vS         g6cf1ZZgARClF/N4nJvwwFmmFnvwl3r8q4Z0saN2BIt4xOLulb7RTs2w8WwR56n5Z0BG         FihUzDhVqp/HrAs2GlSoQGx5tJE48ksDGu1tQhsr5zIiJdsh+EBm0eia8Fo2155ZlEsl         T+8znEJID8p1farfXIiXRRpvr0rHkIQnewcRixP+JS8HtMqzHOoABUEy12+pil/JJb+G         /ZY7QNuYQ2SYtVSmnrAZ+0Rvu9+b2Gl8zTYBW7ijxh65dIG+Q1gmty1wWzdz4L2IOS+P         3yLQ==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:subject:message-id:date:from:mime-version:dkim-signature;        bh=NCltTzO4+HaDRpXcCQuqc7RuJ7plzlrly0BP0ziZvhw=;        b=B41c0RGNIgTvcGze8PRN3Z45YnnlxKhW8oQQa9uSQnzUyf04RUR4eHqooM/aH3jsWP         IPCXc6pvxkeGRd5fVs8L00OCBXzXhuB3+JKVWZ/Pw9846idDIhuSTwEm3LWRc16KAweE         WdNa/l6XWkIa3MwdA9bIwnrDJ2LbUXjXkPXYMmV4G016dEaHMbryqlGN0RJ/qj2elp6J         4ODfyhSvFAtOkjucpFUswrk3PbMgJmKDXa6/2zLfHpPMqHXMLAPP359Hyeb8zC5VbQrK         JfB8RS1p26w7oGTWhnP7tYbkEJev0JxP1vWiVnl54r6YM45BAP+zwLx6VLlpKClZ9349         m//Q==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:subject:message-id:date:from:mime-version:dkim-signature;        bh=NCltTzO4+HaDRpXcCQuqc7RuJ7plzlrly0BP0ziZvhw=;        b=jNiYjfsPAhRTu1FjeHgfKSi3dS5VVBwFkqXRZRIMHNo7QxSrtqCrF5DXq6WhQb8doO         B8ZsPCQzpT01lUnEQ6cO3N2q6t+9qtrpjqNwYN8yuBOdkh70Y9wlxobKZInlaq1Fby1v         tKNvPBnUHgRl7df5C5uechFsOTmpWYhIDLNDpOBgOWAThzs0plZxf0xhaO7hZ4Apl6YB         jPVkQwjkI9+BIbIKVh9alC4AVSnDHdGmdfchINqc9DMEq86wIDuHgORLzlY5UEPkl8Zw         wMvIUlzwuiW8qVTDjFojNgMhm6U9nHuBQy/bBgx9vfvGSF9rA4Wy5VaQu4DYUVS7xSOO         rJLw==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1588320214; cv=pass;        d=google.com; s=arc-20160816;        b=jaly3PxAdWhCmmFCD0GYYAMY5Z/kp8hIdVnmi2ut4j2fF7Mj54MFpN4ilatU8QN+K6         iDNLU9qphvpb4hNCr3Mx332Oa9GftQ5YFlhS+6XMX9SF602+McSKUpPnBDf/Qb+XrZob         xaehaKVtPl010S6acnXuV4em7rG38PkAHaETVQhrVvhRUCclJrwnk0FoGQiw1ypV/9gD         5hIMWx9YPIYZMxpXQeIsNXkOwcfiyRSqCj5YGMvDmN3Ipkv1IM5YIUZqQWBDzHYDJRgR         mlOHqybyu1kJg82EEfLd2lK8Z3ta5PUdEf94c6bWb8ykhuEME7gNaOIEugYYNIrZV+/6         hZRg==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1588320213; cv=pass;        d=google.com; s=arc-20160816;        b=lYwFHEMR7G2ojQFI4ZeT9GHQxlK6Pc7LTSRFQezY1yuY7bQfQRtl2hNNfxKVkUEPoh         9iO9u/OOE9ZtNBHyZOAhYtaj5rHuPCc9QIf3RptgOXEgPoAY8ev5VYBypXSAGObEdnfG         gu1gStAuTb13aJWlT6wQnfPUKYnCzSA+3nEqxFv42QjdYPzXTo+lE7vdW9PnYABmJT4g         DGpHgHLZJb9tZo9/63hupdSd9ku4/Yl7TpbvET7rBYkeQqaU2AKarByuwIqbWvc7v0Ni         da+P7ny6iSq+5LZR0XC+V+6s4J517u82UEOIHiUo9IxkYV908HNjceiSocM3f1Vdw4Em         xuhA==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1588320209; cv=pass;        d=google.com; s=arc-20160816;        b=M5rQML2Uqme74+cmfPEMHpF6YPOgfPiuRl4zef1W2F9wIj57UcaCPaidQuGMz4Soe0         0+RPC+tuvNOvjcVnfYQI7uC89HwlUhkLCCAr4icEJU9R4mtj6AzoyvEeMyW/TazEBggu         VjJtQQqMsnIIzohksXsvDyZocZxmoAGim+zCRUczpBlWqJrsi9REMZBcUZkNBaegbd0q         SJnaQchvljv5ba3w6TP7IdaxZYcoNKgmhTAQ39ybvMBHPgFzKf+061kPs/bSKstkQmNw         MVRyoE1KegU+6DV6zL/VIoJu5K48BhjgBM43JBf4ftWCy4ix57maFSKPJJLEQF7dmoIa         Gtdw==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1588320208; cv=none;        d=google.com; s=arc-20160816;        b=e1xatE9YRySs7cVQYryYxEFwTfRhXT9fV2uETTYEeNkn87iT9f4DgRxQV3V/3PPsLO         ak+X9yAaX6xTifrEd1HYZ0bUkThExMW6NxfxoFiouZvB1F9EIsoG4L/L4BIP/PmA2zJ5         M+ZXESX4ZfGp/JjpBU9aGtkAGfiU8CKhIbcUgRosCeWbg0gjcoWZgaydt5m14ueKz7RL         0ESmzbe9RimCLkt0o78QcBp8K9G7yDq4VVOoOHGtEYGUmpiLSWn8qIIlgVLIGDEosS8V         ooR3VetnhUKlcm7Ow9yQx4suvxLWjwR2nyHRsllB3JUuesRoqMCN932A5UruSuhIGc2d         EYXw==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:mime-version:from:date:subject:to:message-id         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=NCltTzO4+HaDRpXcCQuqc7RuJ7plzlrly0BP0ziZvhw=;        b=Cmo58o16DMzO6IKJZO6xwgjHpDfaAXl1/EZLcNEEaUT4yMPx6iaUgDg5QKnvD/BDkc         b4PuyALShxfN83l5ouoQdXb4cJrDghFkrC7YjNHD8ivIegRqPIAJUsjOFR4bkrRuX/Cg         ubPHaBRCzQS7CZJaRVQYmzBQJ7UxJu6DNQUGEcZQ3KSEOVZrwgsSuooM0MhnDxCe6Bai         u4rw29pHGrDJCZF4cqmiwbCSK+4+RD6Fpq+bdTbyFKOXFMgr7Dt8mioSf7s81H1lPqWO         P2quxepsYDL+9Z+HcIUCV9QdUeI5otsQ3kfOmPm+Gn+HYllIZg9vSTRqGvvn8YciTsLa         0tSw==</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Dear Ferret users,<div><br></div><div>I seem to be missing something, but I can&#39;t even list a single point of my 4D variable:</div><div><br></div><div><font face="monospace">yes? save/clobber/i=1:1/j=1:1/k=1:1/l=1:1/file=<a rel="nofollow" href="http://tmp.nc">tmp.nc</a> temp[i=1,j=1,k=1,l=1]</font></div><div>. . . memory error . . .&#xA0;</div><div><font face="monospace">yes? list/i=1/j=1/k=1/l=1 temp<br></font></div><div>. . . memory error . . .&#xA0;</div><div><br></div><div>(Some more details are at the end of this message).</div><div><br></div><div>Basically, I just want to convert a 4D variable in a raw-binary format to a netCDF file.</div><div><br></div><div>Is there any fundamental limit to the size of the underlying raw binary file?</div><div><br></div><div>The array is in the regular Fortran order of (i, j, k, l) and because i=1:500 and j=1:400, the x-y plane (500 x 400) isn&#39;t so large.&#xA0; It&#39;s just 1.5 MB in double precision.&#xA0; So, I thought saving by</div><div><br></div><div><font face="monospace">repeat/L=1:73 ( \</font></div><div><font face="monospace">&#xA0; &#xA0; repeat/K=1:67 ( \</font></div><div><font face="monospace">&#xA0; &#xA0; &#xA0; &#xA0; save/append/klimits=1:67/file=<a rel="nofollow" href="http://output.nc">output.nc</a> temp ) )</font></div><div><br></div><div>would be manageable.</div><div><br></div><div>Regards,</div><div>Ryo</div><div>---------<br></div>&#xA0; NOAA/PMEL TMAP<br>&#xA0;	PyFerret v7.5 (optimized)<br>&#xA0;	Linux 4.15.0-1061-azure - 11/14/19<br><div>&#xA0; &#xA0;1-May-20 16:40</div><div>[. . . ]</div>yes? file/form=STREAM/type=r8/var=temp/grid=grid_xt_yt_zt_ctime\<br>&#xA0;temp-pntd.bin<br><div>yes? set memory/size=300<br></div><div>yes? save/clobber/i=1:1/j=1:1/k=1:1/l=1:1/file=<a rel="nofollow" href="http://tmp.nc">tmp.nc</a> temp[i=1,j=1,k=1,l=1]<br>&#xA0;**ERROR: request exceeds memory setting<br>&#xA0; &#xA0; To fulfill this request would exceed the current SET MEMORY/SIZE= limit of 300 megawords<br>&#xA0; &#xA0; At the moment that the memory limit was reached<br>&#xA0; &#xA0; memory was committed as follows:<br>&#xA0; &#xA0; &#xA0; &#xA0; - to objects used in computation: : 0 (0%)<br>&#xA0; &#xA0; The size of the requested object was: : 978200000 (326%)<br>yes? show grid temp<br>&#xA0; &#xA0; GRID GRID_XT_YT_ZT_CTIME<br>&#xA0;name &#xA0; &#xA0; &#xA0; axis &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;# pts &#xA0; start &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;end &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; subset<br>&#xA0;XT &#xA0; &#xA0; &#xA0; &#xA0;LONGITUDE &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;500mr &#xA0; 105.05E &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;154.95E(154.95) &#xA0; &#xA0; full<br>&#xA0;YT &#xA0; &#xA0; &#xA0; &#xA0;LATITUDE &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 400 r &#xA0; 44.95S &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 5.05S &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; full<br>&#xA0;ZT &#xA0; &#xA0; &#xA0; &#xA0;Z (METERS) &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;67 i &#xA0; 2.5 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;767.22 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;full<br>&#xA0;CTIME &#xA0; &#xA0; TIME &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;73mr &#xA0; 06-JAN 00:00 &#xA0; &#xA0; &#xA0; &#xA0; 01-JAN 00:00 &#xA0; &#xA0; &#xA0; &#xA0;full<br>yes?<br></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00631" href="msg00631.html">Re: [ferret_users] converting binary to netCDF: memory insufficient?</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00626.html">[ferret_users] Strange bug in plot title with html features</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00631.html">Re: [ferret_users] converting binary to netCDF: memory insufficient?</a></strong>
</li>

</UL>
<center>[<a href="msg00626.html">Thread Prev</a>][<a href="msg00631.html">Thread Next</a>][<A HREF="threads.html#00628">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
