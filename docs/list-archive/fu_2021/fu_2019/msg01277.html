<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Produce a time serie by averaging a large variable -->
<!--X-From-R13: Dlb Thehr <shehrNunjnvv.rqh> -->
<!--X-Date: Mon, 31 Jul 2023 20:09:07 &#45;0700 -->
<!--X-Message-Id: CAEwQpa+azKT3QqkQ7=RaeEB7ysQz3=PNW5HGi2KQX_VW1z4NKw@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 1766599257.51543874.1690824433485.JavaMail.zimbra@lsce.ipsl.fr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Produce a time serie by averaging a large variable</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg01276.html">Thread Prev</a>][<a href="msg01278.html">Thread Next</a>][<A HREF="threads.html#01277">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Produce a time serie by averaging a large variable</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Patrick Brockmann &lt;<a href="mailto:patrick.brockmann@DOMAIN.HIDDEN">patrick.brockmann@xxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Produce a time serie by averaging a large variable</strong></li>
<li><strong>From</strong>: <strong>Ryo Furue &lt;<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 1 Aug 2023 12:08:47 +0900</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=hgb5blcc;       arc=pass (i=2 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii.edu);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.219.70 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=hgb5blcc;       arc=pass (i=2 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii.edu);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.219.70 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=hgb5blcc;       arc=pass (i=1 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii.edu dmarc=pass fromdomain=hawaii.edu);       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@hawaii.edu header.s=google header.b=hgb5blcc;       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>;       dmarc=pass (p=NONE sp=NONE dis=NONE) header.from=hawaii.edu</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence:cc         :to:subject:message-id:date:from:in-reply-to:references:mime-version         :sender:dkim-signature;        bh=MRtgDGRoYyRfyVSGK92iUAoTVEqu9lJST67ZXWswenY=;        fh=bHpY+alJ93SuCBWFN+q6NOcyd7JN1zyW6bOxOWSYxuA=;        b=hbBYyNj3JJmquEBT14CoFjBSkwrENMZucXh0I3JtNuy8KnS/j69F9lu4wEq3TlOLYr         XA9THhWSq7jV8RNg7tNf6yHkyF8nEyaUx9ZZ1EtS0pOvIhDvic0YxnglhkD/Rz2Mm/Rk         aeqpMMSpUC5MtW6H8LzKKhR15WiVUIn927RHxJVz8gjta5fj560yvBo1wec50Yg3DdXV         aIzE+DoSiqscFRapukNwo4Z+trDB5UlcY3lM3F//wzXoIM+OcRXlS6duYV/kcHRZWwOC         nG6JDpvZ/JVzy8urbUQK04L5D4vchiPqukVS0F6jxyfJucVALryGPqIEMoRCbxXv5PtL         tqSQ==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=MRtgDGRoYyRfyVSGK92iUAoTVEqu9lJST67ZXWswenY=;        fh=bHpY+alJ93SuCBWFN+q6NOcyd7JN1zyW6bOxOWSYxuA=;        b=QI6HpPivsZHkIgT0honzXfrxgo1lxrbmQqS+9EfMjkpemPHt+fhMYZFn7t9lmL2JE1         cq5gIaGySMpdq1JbnEOvku0EQOfErcvPwvj68iHS8K3l0FtG0SglSzhSpEUAmiJd5SEL         tcdxYZnlIbEdN7BeCpLhaC/io9OGoo0NdoswS2l+CrW+Smm/D9TPvmF0BdGnJRM6Q488         2jO2EuhdvbbuYpQHnNPYrQcbOpAUyHeQESx2SBZ4Z4Qr2dgvzctpluBzbtyscD22O43C         S9DrGsGiSsKdaILkqjnXn3FLtlZCh5bLD05m+tJXkQAJQ8L3rKIePuPs0idl1GNlcNw7         jKYA==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=MRtgDGRoYyRfyVSGK92iUAoTVEqu9lJST67ZXWswenY=;        fh=bHpY+alJ93SuCBWFN+q6NOcyd7JN1zyW6bOxOWSYxuA=;        b=yXYmdeJqJJcRu4Baq2ermozT8iaXLpbX/cdWSongT9rlmZ4xPShs4XNokNpJJ1eVdx         RfDaaxRSfHFoi6H5HcONqEMq9iV3OnntQ7k4y4UQYhDlqfHCEVBjj8vyWUBHB8W28vzP         P8huq/Yzd/KLDX4i8FjAnNQ8BLI+xLlJAWa/n57ded9XXkebuz9ZjTrH+cglmmbFZ2DA         DR1p/zZZMP82ugPnLaBNJ4uQoxQczuo/F1nuyCXlpdKG9McfpTlZXnCMr9GrEXil0oEl         XS7z4ddCrJsCg8S4MPTpLO1qKFvOggCkZqtlWemVyhe0q0lOc/YyRGUtkqrNPOQcCtun         z7jg==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:in-reply-to:references         :mime-version:dkim-signature;        bh=MRtgDGRoYyRfyVSGK92iUAoTVEqu9lJST67ZXWswenY=;        fh=bHpY+alJ93SuCBWFN+q6NOcyd7JN1zyW6bOxOWSYxuA=;        b=dR7VOFTRsJCAfw5jteszoUzGOnlEPSs5tJsyIYUJdxkDho1rytqVlNHsub1jM6cGai         J3z5DOFXGJ4qyVqsIvh5ZBLiPLiulcsyfw8ybxRxVJKiaRXUvwlYS1Z/nCy9tbTxkxet         RAdDHyI5Cg3SN3v/T35dmretLiF11LTioGpukT6V38Rru8MYC+kx5AFciBBlHa052iM4         PyxUJmDdoymoNZ1yTdG/BlDTE2xFj8iNifMZkk4q6s4/OPdM2PCGIgKu1Vlx3RZslGfL         wz166ROdg3YQGkoUiLyW81dBzCj/VKbiUvg4QcbNEok/3VXY7YkStiVV6fdwoLFmr1go         +ndA==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1690859345; cv=pass;        d=google.com; s=arc-20160816;        b=KMNYpb/L/1LVC2n0rn4M6wGXL7Q1x08CJq5MvXPj1NotzAI2wuC8RZOyGU6BCyRKuF         4U3kV3Y4QucZPNQNJj+cjmoK7WTWqCl1lresJZm90oLo9MFeq/cNvVQD/DX9mUzVIzRG         Zj7y8h+NVL7Wde8Trr+zFeve0KPzgc3WfqrEtbNCUeEXwqQBwgYK+QzK3ouoXGlQ0cTo         PrMijb7KWP3ZedYaXsSybfDY86gdbtGk81sX7KvaL6xa7JzWxHbHnFVXUbKL66wyQIwc         sTs1gwWE/icjU61DWE9WcHAAtcAz9x8bas2Eu1VGEnayXX9Gepzhf+fJtjv7sHocyXNz         iYxA==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1690859343; cv=pass;        d=google.com; s=arc-20160816;        b=IIbAMxL2kx9qAXNa4NYUEVoE7MCd71M52P7rsToQYd1E9+L3Ce8Q4qnIUE7JKv5oSD         q+C35oiqJPBElEBJG4+fwxdA1Kfr3AJcs8zp9fll1NNlWuI2iHF+Uq1/Jmqmjh0uoyEx         wHWYDhp0w8cUvt9yvvxKQ2mVA30DrnzmT20l1Kz711J1P9x3WRaeSi3hQsDld0Nedpmr         UnDtXV8U7BgAgxWyjDjxDYSVz9lo0yjYmPZUaAuYHwWF6YDKAevgiAxYTirWyvzqyvVf         Fxnz3nKMY3tL/knHxrGrLFtd9YNM+GYVheIh1BgGCRPBmYeN7rqEZaiI1eVNLlYiGfvC         mdpg==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1690859339; cv=pass;        d=google.com; s=arc-20160816;        b=FL55J6PlmT92vKL/7Rn8dTchlD2eJ4gtFcCCgAXP2nRCj+WTSGO1mFYcyaMhc7JJ4L         TJR0Y0pPhu82zaD+5CTbrqE6BOX6J0I6NO87/euVxhWIuDnECcebYMQ5xFsZzMfsAWTn         6W6rOQe+HBr69E9u435KDwkUV6QYhBXheKVguFj4M3vC52UqICf6xNHoqE/BcdPLadyN         nILiuehps89tYr1AE1N2eYvu9mz74hwPmE0EC56ZltletvQvJjzkfRbjmL41K5V6h20r         RghTi0S7iLhJ/kalmrks7vsJqA5NJBjjQ06spdYW8P54CUJhQEfDemuAsPAfurso6JBi         XxHA==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1690859338; cv=none;        d=google.com; s=arc-20160816;        b=nbLE208jG60AgEXRynAKf/QTlQ1da/gy+bS3htaC69oacwFnIn7P7C/kbaEr1SlJ3D         OV2Z3bhAr71PtYwGBlcc6K3WyORQjvQXfsi93tXiDMNW03U21K0fhDTfk63XJTOxTWyE         2f/Y9vPWOyVgGzixu12/2P74cvDoNr4vXpZWBDXLN5vF8I9WvS/bWYLsy96hN5rV/Ib9         0aDkTjAIqLuRDDom2SCOeFQppvs5NZ4vEXxnjP5a2DOv1Hix34yfwsGD0aN4VzxVYqt9         NUpJj0+mQaEEvVpvxr0/ylo87aMyI5Wgi+IZ+yeX2olXKFZszibpVmkFm0PfrbzUZAW7         Vk1Q==</li>
<li>Cc: ferret users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;,        Karine Laurent &lt;<a href="mailto:karine.laurent@DOMAIN.HIDDEN">karine.laurent@xxxxxxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google; t=1690859345; x=1691464145;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :x-original-authentication-results:x-original-sender:cc:to:subject         :message-id:date:from:in-reply-to:references:mime-version:sender         :from:to:cc:subject:date:message-id:reply-to;        bh=MRtgDGRoYyRfyVSGK92iUAoTVEqu9lJST67ZXWswenY=;        b=Qq26+TqtJjTez4JMm4ABjC5O3/obADhOxk1DkhKmobs5L1obwlgy6RS03jo5aeticV         PclFj4+ifhulib1WtfoMF/0yEEUpNakkdslEKdd+vq31d0OsHzStJhIryQenNf1Vd3pE         VQAsqK3n8ti55QQlyoncLhu9H6G3aRdTA1RHb+4KirVKd13EQGmSuoKN5P3jasUkZ1Rp         /Y2G2Bi6diJZj9NPau+HyEzrTRjm5WZMQKK34U2l7GNqBZGI4OVfBnlpCpq/xGQ/YTeP         z1z2GPK9ryO8L+2XlkDmZ2WbJIqPSNfMVBJXWdlFiUbgjx043zX5QFLdFZ3QCHh/khyW         dZkg==</li>
<li>In-reply-to: &lt;<a href="msg01276.html">1766599257.51543874.1690824433485.JavaMail.zimbra@lsce.ipsl.fr</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg01276.html">1766599257.51543874.1690824433485.JavaMail.zimbra@lsce.ipsl.fr</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><div dir="ltr">Dear Patrick</div><div dir="ltr"><br></div><div dir="ltr"><br></div><div class="gmail_quote"><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex"><div style="font-family:arial,helvetica,sans-serif;color:rgb(0,0,0)"><pre style="">VMRN2O&#xA0; &#xA0;N2O Volume Mixing Ratio&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 1:144&#xA0; &#xA0; &#xA0;1:143&#xA0; &#xA0; &#xA0;1:79&#xA0; &#xA0; &#xA0; 1:11315</pre><div style="">[. . .]</div><pre style="">yes? plot&#xA0;<span style="color:rgb(0,0,0);font-family:arial,helvetica,sans-serif;font-style:normal;font-variant-ligatures:normal;font-variant-caps:normal;font-weight:400;letter-spacing:normal;text-align:start;text-indent:0px;text-transform:none;word-spacing:0px;white-space:normal;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial;float:none;display:inline">VMRN2O[i=@ave, j=@ave, k=@ave]</span><div style="clear:both"><br></div><div style="clear:both">[...]</div><div style="clear:both">What I do not understand is why the memory has to be so large</div><div style="clear:both">and finally why an internal chunk with only 144x143x79 cannot be made internally ?</div></pre></div></blockquote><div><br></div><div>I don&#39;t know the internal well enough to be able to answer those questions. Here I just propose a solution to your problem: You create a temporary file that stores the timeseries:</div><div><br></div><div><font face="monospace">let ave = VMRN2O[i=@ave, j=@ave, k=@ave]</font></div><div><font face="monospace">spawn rm <a rel="nofollow" href="http://tmp.nc">tmp.nc</a></font></div><div><font face="monospace">repeat/L=1:11315 (save/append/file=<a rel="nofollow" href="http://tmp.nc">tmp.nc</a> ave)</font></div><div><font face="monospace">cancel var ave</font></div><div><font face="monospace">open <a rel="nofollow" href="http://tmp.nc">tmp.nc</a></font></div><div><font face="monospace">plot ave&#xA0;</font></div><div><br></div><div>(I haven&#39;t tested this code.)<br></div><div><br></div><div>Ryo</div><div><br></div></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01276" href="msg01276.html">[ferret_users] Produce a time serie by averaging a large variable</a></strong>
<ul><li><em>From:</em> Patrick Brockmann</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg01276.html">[ferret_users] Produce a time serie by averaging a large variable</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01278.html">Re: [EXTERNAL] Re: [ferret_users] Produce a time serie by averaging a large variable</a></strong>
</li>

</UL>
<center>[<a href="msg01276.html">Thread Prev</a>][<a href="msg01278.html">Thread Next</a>][<A HREF="threads.html#01277">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
