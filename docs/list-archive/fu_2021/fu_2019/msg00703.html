<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [EXT]Re: [ferret_users] Different behavior when reading calendars between Pyferret V7.1 and Pyferret V7.5 -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 26 May 2020 11:44:26 &#45;0700 -->
<!--X-Message-Id: ca07eb6d&#45;68bb&#45;5a6c&#45;5f42&#45;fb079f55fe11@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAAZ5b9qMprrFD_xaTffAGNyxSpAJV70gzftnWx1kh&#45;AiUpqWdw@mail.gmail.com -->
<!--X-Reference: MEXPR01MB16391BFCFCE0DDC41A4E88229DB00@MEXPR01MB1639.ausprd01.prod.outlook.com -->
<!--X-Reference: eca4e365&#45;e6dd&#45;0d80&#45;003e&#45;148d18fc6a31@noaa.gov -->
<!--X-Reference: CAAZ5b9psf4Bid2hfvUZ+ZHv8L6sQ_dPpfB8oToS_O0g2YB16RQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [EXT]Re: [ferret_users] Different behavior when reading calendars between Pyferret V7.1 and Pyferret V7.5</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00702.html">Thread Prev</a>][<a href="msg00704.html">Thread Next</a>][<A HREF="threads.html#00703">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [EXT]Re: [ferret_users] Different behavior when reading calendars between Pyferret V7.1 and Pyferret V7.5</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Rebecca Lynn Beadling &lt;<a href="mailto:beadling@DOMAIN.HIDDEN">beadling@xxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [EXT]Re: [ferret_users] Different behavior when reading calendars between Pyferret V7.1 and Pyferret V7.5</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 26 May 2020 11:44:20 -0700</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=&quot;Ma/iF2xc&quot;;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=&quot;Ma/iF2xc&quot;;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:cc:references:to:subject:dkim-signature;        bh=hUZOOLqxGDwZvdKaO6CZuq9AIvn1H9g72UI9JVY28kA=;        b=BkhL2bOJ5eyqNHCOuob68mGxOB1P/Zdh98wpzSW7x/MAXWwEor4DjNNBj+KK9eKcnq         KmVNIPhPFwm8PKFTQaqjmCX4yJ6E+PGzujea97pJgRM3o52HPw9vrgVzkihKs3N5tmFp         NE5ZbsoFB7yrqR4NPxSkXtpnKcrg+NGw6ky1dPDIUOdQzPtPKr5Fms0KZevRWBGQojYm         ZUf4fk2yX+9XEZa7X5vBm5pGMqpnZvCQU/tt4dOtRfrvUXu21VzYe8bpWsCDzPwguF8R         7Fho+EzIFp1osg6K86rN+6Nz7SjuPjsGEKT+MKwJeramlXPJV6LKfWB5EhtaeWq+6yaF         GpGg==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:cc:references:to:subject:dkim-signature;        bh=hUZOOLqxGDwZvdKaO6CZuq9AIvn1H9g72UI9JVY28kA=;        b=Bssuv1fAnHuUDtEdD+bS6wvP/yodG4TR5WxWe6FaJnKDtRPcWEogm3bjUpXdhrvsWY         LlufrDx7CQuB/Djs898+fF7jV+RopBrYNah7I0WBrOmL5O+iV9h5lNHE+bm8yuOekywY         iCyzgiWkRmtzWrllZdt8sY3ycaZYJ9wBZvHsRr+HwTxdGwGF1KwHofzJmWJVX0zVphJv         nKbMD8S/GiJYExeQbO16iiK9uHFqU4hDH2s4ljp/lgMM0JBvLBqELj+yIzD5dXi0ervL         h89SompKBJdPTkaUU4Py11oRL4dIxUbrHlGRaAUNGZYxi6BIygGawM3TOgSvV/P7iq2J         6pkQ==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1590518665; cv=pass;        d=google.com; s=arc-20160816;        b=kL38ZACyN6BW/WGy/lemUQgL3z/EThfynOAjNKK+6ZmamCGF6/E1fc+q52K/beRCAt         cBS0h5yTCabSH47ZVU6wTOUYFZgj5nDX+HPcLF2eOIyssElSpycmkubJ0HDdYEtIRaBA         q2mSf0MNJPEr/OTbc+PP22Aroz3SbA9SuZFkGrJK8WoVI6vuZAlMB0IrAv6bD/HI0Ms3         HXsIsHRkDXTbMGn2u0w6qa5A7wUDX/QxbKygEl96JrKtkFNuiTMIBaSw7ij2LLU3UpI2         25OZaaO/mBxzTsD/aMQwdGbf696+5tQa42RdZLl9A5MD4NKZv8GemgoVRr0+Z5QhTtBw         FqxA==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1590518663; cv=none;        d=google.com; s=arc-20160816;        b=DOvDODg+zib0wQG5v/psIePLel0/m5ThenviDu6oi6pG/vOzXUdixdM4nBX2PwH8z8         ACQ/jwdY/jchsNDUvlmQOCPsf7Wo8SotNthrk5ErEvxZRlpT5/pQqAUseWfys6gASlGF         puGLP5GOucFkl2QGgM+zvOV7MUP01+jnTjU3kfa2YA5Ao8BsrToPih2rCGLobkcJrcEo         bZDQlwxiRnl2IU/Gf5HP+i13euY48wb1H6BMSjFOBAXlZSqzU0p3nAr385ppeE/WOhcj         FOaYvTXxSFFfzhZBuCB0hQXP516lEFisAa1hz8S5wa/eTXgHNxdBA0mLK2+DXRngntQw         icIQ==</li>
<li>Cc: ferret &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=subject:to:references:cc:from:message-id:date:user-agent         :mime-version:in-reply-to:content-language:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=hUZOOLqxGDwZvdKaO6CZuq9AIvn1H9g72UI9JVY28kA=;        b=m4l2LmuNP060r9e4ahWQzwzHRgy/eXHFCL1ZJY4+a+X8lGugV4ZFIFiyVSG12yWSu9         Ww/LjkqqjFYC7fVA79Q3gQYinsjAV3k18K+Hgt6mXMfHZVaHVuzkwkLduoxbWFpccB9r         ycUeqltwj/2tJEriMFn3WaKk7QX1AlSY1/E3efV4dX9qBeLVRlIpcoEyU50OcZK+a1Ty         rHUmUrWcbAdpyKpjUH3S9z6G5CtowhtDwRj1EQvNdfBNUvvcZQTB3hiHs3GU5DPANhHS         r9g4ZvCGzcmJbfAJelnuJL6JpyTD22Ym+eddklaC3kAdy9x8/3n6B4ZhHyT+aWr9HxiH         mDIg==</li>
<li>In-reply-to: &lt;<a href="msg00702.html">CAAZ5b9psf4Bid2hfvUZ+ZHv8L6sQ_dPpfB8oToS_O0g2YB16RQ@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00695.html">CAAZ5b9qMprrFD_xaTffAGNyxSpAJV70gzftnWx1kh-AiUpqWdw@mail.gmail.com</a>&gt; &lt;<a href="msg00698.html">MEXPR01MB16391BFCFCE0DDC41A4E88229DB00@MEXPR01MB1639.ausprd01.prod.outlook.com</a>&gt; &lt;<a href="msg00699.html">eca4e365-e6dd-0d80-003e-148d18fc6a31@noaa.gov</a>&gt; &lt;<a href="msg00702.html">CAAZ5b9psf4Bid2hfvUZ+ZHv8L6sQ_dPpfB8oToS_O0g2YB16RQ@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:68.0) Gecko/20100101 Thunderbird/68.8.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->

  
  
    <p>yes, thanks for the details.&#xA0; <br>
    </p>
    <p>In general Gregorian and Proleptic_Gregorian are identical, but
      there are files out there that use a style of Gregorian calendar
      that is not Proleptic.&#xA0; (That's mentioned here:&#xA0; the <a rel="nofollow"
        moz-do-not-send="true"
href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/Grids-Regions/GRIDS#Chapter4_time_axes_calendars">"blended"
        proleptic/gregorian calendars</a>).&#xA0; There was a change in the
      Ferret code which was meant to tighten up the distinction between
      the two types, keeping the handling of those blended calendars
      where appropriate, but using Proleptic_Gregorian to override that
      where there might be ambiguity.<br>
    </p>
    <p>Your dataset shouldn't run into this issue at all.&#xA0; Those
      blended-calendar time axes have a time origin in year 0.&#xA0; We'll
      look into what's happening.</p>
    <p>Ansley<br>
    </p>
    <div class="moz-cite-prefix">On 5/26/2020 11:10 AM, Rebecca Lynn
      Beadling wrote:<br>
    </div>
    <blockquote type="cite"
cite="">
      
      <div dir="ltr">Hi Ansley and Russ,
        <div><br>
        </div>
        <div>Thank you for the insight. This is the original file that
          the file was subset from (both have the same information for
          the time in the header):</div>
        <div><br>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures">netcdf
siconc_SImon_MPI-ESM1-2-LR_historical_r1i1p1f1_gn_197001-200912 {</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures">dimensions:</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>time
              = UNLIMITED ; // (480 currently)</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>bnds
              = 2 ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>j
              = 220 ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>i
              = 256 ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>vertices
              = 4 ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>strlen
              = 7 ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures">variables:</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>double
              time(time) ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>time:bounds
              = "time_bnds" ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>time:units
              = "days since 1850-1-1 00:00:00" ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>time:calendar
              = "proleptic_gregorian" ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>time:axis
              = "T" ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>time:long_name
              = "time" ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-style:normal;font-variant:normal;font-weight:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>time:standard_name
              = "time" ;</span></p>
          <p class="gmail-p1"
style="margin:0px;font-variant-numeric:normal;font-variant-east-asian:normal;font-stretch:normal;line-height:normal;font-family:Menlo"></p>
          <p class="gmail-p1"
style="margin:0px;font-variant-numeric:normal;font-variant-east-asian:normal;font-stretch:normal;line-height:normal;font-family:Menlo"><span
              class="gmail-s1"
              style="font-variant-ligatures:no-common-ligatures"><span class="gmail-Apple-tab-span" style="white-space:pre">	</span>double
              time_bnds(time, bnds) ;</span></p>
        </div>
        <div><br>
        </div>
        <div>Thanks,</div>
        <div><br>
        </div>
        <div>Becki</div>
        <div><br>
        </div>
      </div>
      <br>
      <div class="gmail_quote">
        <div dir="ltr" class="gmail_attr">On Tue, May 26, 2020 at 9:30
          AM Ansley C. Manke &lt;<a rel="nofollow"
            href="mailto:ansley.b.manke@xxxxxxxx" moz-do-not-send="true">ansley.b.manke@xxxxxxxx</a>&gt;
          wrote:<br>
        </div>
        <blockquote class="gmail_quote" style="margin:0px 0px 0px
          0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex">
          <div>
            <p style="text-align:center"><font color="red"><strong>External
                  Email</strong><br>
              </font></p>
            Rebecca, <br>
            <p>The Gregorian and Proleptic-Gregorian are the same and
              should be treated the same, so it looks like we do have a
              bug.&#xA0; What does the ncdump header show for the time axis
              in your file?<br>
            </p>
            <p><br>
            </p>
            <p>And thanks for the example, Russ.&#xA0; <br>
            </p>
            <p><br>
            </p>
            <p>Ansley<br>
            </p>
            <p><br>
            </p>
            <p><br>
            </p>
            <div>On 5/25/2020 7:22 PM, Fiedler, Russell (O&amp;A,
              Hobart) wrote:<br>
            </div>
            <blockquote type="cite">
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                <br>
              </div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                Hi,</div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                <br>
              </div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                Yes, there is definitely a bug with the proleptic
                gregorian time axes leap year algorithm. These axes
                should be the same.<br>
              </div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                <br>
              </div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                <br>
              </div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                <span>NOAA/PMEL TMAP<br>
                </span>
                <div>&#xA0; FERRET v7.5 (optimized)<br>
                </div>
                <div>&#xA0; Linux 4.18.0-80.el8.x86_64 64-bit - 12/16/19<br>
                </div>
                <div>&#xA0; 26-May-20 11:33 &#xA0; &#xA0; <br>
                </div>
                <span></span></div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                <br>
              </div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                <span></span><span>yes? def
                  axis/t/t0="1-jan-1804"/units=days/cal="gregorian"/nam=tax_gr
                  l[l=1:366]-0.5<br>
                </span><span></span><span>yes? def
                  axis/t/t0="1-jan-1804"/units=days/cal="proleptic_gregorian"/nam=tax_pgr
                  l[l=1:366]-0.5<br>
                </span><span></span><span>yes? sho axis/all<br>
                </span><span></span>...</div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                <span>TAX_PGR &#xA0; TIME &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 366 r &#xA0; 01-JAN-1804
                  12:00 &#xA0; &#xA0;01-JAN-1805 12:00<br>
                </span>
                <div>&#xA0;TAX_GR &#xA0; &#xA0;TIME &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 366 r &#xA0; 01-JAN-1804
                  12:00 &#xA0; &#xA0;31-DEC-1804 12:00<br>
                </div>
                <span></span></div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                <br>
              </div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                <span>yes? let var=l[gt=TAX_PGR]<br>
                </span>
                <div>yes? list var[l=58:60]<br>
                </div>
                <div>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;VARIABLE : L[GT=TAX_PGR]<br>
                </div>
                <div>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;SUBSET &#xA0; : 3 points (TIME)<br>
                </div>
                <div>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;CALENDAR : PROLEPTIC_GREGORIAN<br>
                </div>
                <div>&#xA0;27-FEB-1804 12 / 58: &#xA0;58.00<br>
                </div>
                <div>&#xA0;28-FEB-1804 12 / 59: &#xA0;59.00<br>
                </div>
                <div>&#xA0;01-MAR-1804 12 / 60: &#xA0;60.00&#xA0;&#xA0;
                  &lt;------------Oops!<br>
                </div>
                <span></span><br>
              </div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                <br>
              </div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                Cheers,</div>
              <div
style="font-family:Calibri,Arial,Helvetica,sans-serif;font-size:12pt;color:rgb(0,0,0)">
                Russ<br>
              </div>
              <hr style="display:inline-block;width:98%">
              <div id="gmail-m_-2780581148136279786divRplyFwdMsg"
                dir="ltr"><font style="font-size:11pt" face="Calibri,
                  sans-serif" color="#000000"><b>From:</b> <a rel="nofollow"
                    href="mailto:owner-ferret_users@xxxxxxxx"
                    target="_blank" moz-do-not-send="true">owner-ferret_users@xxxxxxxx</a>
                  <a rel="nofollow" href="mailto:owner-ferret_users@xxxxxxxx"
                    target="_blank" moz-do-not-send="true">&lt;owner-ferret_users@xxxxxxxx&gt;</a>
                  on behalf of Rebecca Lynn Beadling <a rel="nofollow"
                    href="mailto:beadling@xxxxxxxxxxxxxxxxx"
                    target="_blank" moz-do-not-send="true">&lt;beadling@xxxxxxxxxxxxxxxxx&gt;</a><br>
                  <b>Sent:</b> Tuesday, 26 May 2020 10:39 AM<br>
                  <b>To:</b> ferret users <a rel="nofollow"
                    href="mailto:ferret_users@xxxxxxxx" target="_blank"
                    moz-do-not-send="true">&lt;ferret_users@xxxxxxxx&gt;</a><br>
                  <b>Subject:</b> [ferret_users] Different behavior when
                  reading calendars between Pyferret V7.1 and Pyferret
                  V7.5</font>
                <div>&#xA0;</div>
              </div>
              <div>
                <div dir="ltr">Hi Ferret community,
                  <div><br>
                  </div>
                  <div>I have two different versions on pyferret: V7.1
                    on my Mac OS X El Capitan and V.7.5 on a Linux Red
                    Hat workstation. The&#xA0;reason I retained the previous
                    version of pyferret on my Mac was to be sure that my
                    old analysis scripts would run flawlessly if there
                    were differences when upgraded to the newer release.
                    Having been working between the two different
                    systems I have noticed two differences that have
                    impacted my figures / analysis. I am going to split
                    this into two separate emails since these topics are
                    not related.</div>
                  <div><br>
                  </div>
                  <div>The first issue regards how the two versions
                    handle the proleptic gregorian calendar:</div>
                  <div><br>
                  </div>
                  <div>when reading <b>in the same exact file</b>.</div>
                  <div><br>
                  </div>
                  <div><b>Using Pyferret V7.1 on OS X El Capitan:</b></div>
                  <div><b><br>
                    </b></div>
                  <div>list siconc_gt_15[d=3,l=1,x=1,y=1]<br>
                    &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;VARIABLE :
                    CURV_TO_RECT(SICONC_ONLY[D=1], MAP[D=2])<br>
                    &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;FILENAME :
siconc_SImon_MPI-ESM1-2-LR_historical_r1i1p1f1_gn_198601-200512_1x1_regrid_only_gt_15.nc<br>
                    &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;LONGITUDE: 0.5E<br>
                    &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;LATITUDE : 0.5N<br>
                    &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;TIME &#xA0; &#xA0; : <b>16-JAN-1986 12:00</b><br>
                    &#xA0; &#xA0; &#xA0; &#xA0; ....<br>
                    say `siconc_gt_15,return=calendar`<br>
                    &#xA0;!-&gt; MESSAGE/CONTINUE GREGORIAN<br>
                    <b>GREGORIAN</b><br>
                  </div>
                  <div><br>
                  </div>
                  <div><b>Using Pyferret V7.5 on Linux RedHat</b></div>
                  <div><br>
                  </div>
                  <div>yes? list siconc_gt_15[d=1,l=1,x=1,y=1]<br>
                    &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;VARIABLE :
                    CURV_TO_RECT(SICONC_ONLY[D=1], MAP[D=2])<br>
                    &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;FILENAME :
siconc_SImon_MPI-ESM1-2-LR_historical_r1i1p1f1_gn_198601-200512_1x1_regrid_only_gt_15.nc<br>
                    &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;LONGITUDE: 0.5E<br>
                    &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;LATITUDE : 0.5N<br>
                    &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;TIME &#xA0; &#xA0; : <b>18-FEB-1986 12:00
                      PROLEPTIC_GREGORIAN</b><br>
                    &#xA0; &#xA0; &#xA0; &#xA0; ....<br>
                    yes? say `siconc_gt_15,return=calendar`<br>
                    &#xA0;!-&gt; MESSAGE/CONTINUE PROLEPTIC_GREGORIAN<br>
                    <b>PROLEPTIC_GREGORIAN</b></div>
                  <div><br>
                  </div>
                  <div>Any ideas on why this is happening? The correct
                    calendar label in the .nc file is proleptic
                    gregorian, but my understanding is for the modern
                    time period proleptic gregorian and gregorian are
                    equivalent. It seems like V7.1 equates this to
                    Gregorian and thus it allows me to compute a
                    seasonal climatology just fine, yet I can't do this
                    in V7.4 since it reads it as proleptic.</div>
                  <div><br>
                  </div>
                  <div>yes? let MPIESM12LR_clim =
                    MPIESM12LR_SIE[gt=MONTH_GREGORIAN@mod]<br>
                    yes? plot MPIESM12LR_clim<br>
                    QStandardPaths: XDG_RUNTIME_DIR not set, defaulting
                    to '/tmp/runtime-becki'<br>
                    &#xA0;**ERROR: regridding: &#xA0;only @ASN, @LIN, or @NRST
                    regridding between calendar types:
                    PROLEPTIC_GREGORIAN, GREGORIAN</div>
                  <div><br>
                  </div>
                  <div>If you also notice in the TIME dimension output
                    above, V7.1 :&#xA0; TIME &#xA0; &#xA0; : <b> 16-JAN-1986 12:00, </b>while
                    V.7.5 reads<b>&#xA0;18-FEB-1986 12:00
                      PROLEPTIC_GREGORIAN.&#xA0;</b></div>
                  <div><b><br>
                    </b></div>
                  <div>When I ncdump -t -v -time for the file, the
                    correct time stamp should be: <b> "</b>1986-01-16",
                    so V7.5 appears to be incorrectly shifting it.</div>
                  <div><b><br>
                    </b></div>
                  <div>Thanks ahead of time for any insight,</div>
                  <div><br>
                  </div>
                  <div>Becki<br>
                  </div>
                  <div><br>
                  </div>
                  <div>-- <br>
                    <div dir="ltr">
                      <div dir="ltr">Rebecca Beadling | Graduate Student
                        | EPA STAR Fellow
                        <div>Department of Geosciences | University of
                          Arizona</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </blockquote>
            <pre cols="72">-- 
Ansley Manke
Science Data Integration Group
NOAA Pacific Marine Environmental Laboratory
7600 Sand Point Way NE
Seattle WA 98115

I am currently teleworking and am available Tue-Wed-Thu.</pre>
          </div>
        </blockquote>
      </div>
      <br clear="all">
      <div><br>
      </div>
      -- <br>
      <div dir="ltr" class="gmail_signature">
        <div dir="ltr">Rebecca Beadling | Graduate Student | EPA STAR
          Fellow
          <div>Department of Geosciences | University of Arizona</div>
          <div><a rel="nofollow" href="http://rebeccabeadling.com" target="_blank"
              moz-do-not-send="true">rebeccabeadling.com</a></div>
        </div>
      </div>
    </blockquote>
    <pre class="moz-signature" cols="72">-- 
Ansley Manke
Science Data Integration Group
NOAA Pacific Marine Environmental Laboratory
7600 Sand Point Way NE
Seattle WA 98115

I am currently teleworking and am available Tue-Wed-Thu.</pre>
  


<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00695" href="msg00695.html">[ferret_users] Different behavior when reading calendars between Pyferret V7.1 and Pyferret V7.5</a></strong>
<ul><li><em>From:</em> Rebecca Lynn Beadling</li></ul></li>
<li><strong><a name="00698" href="msg00698.html">Re: [ferret_users] Different behavior when reading calendars between Pyferret V7.1 and Pyferret V7.5</a></strong>
<ul><li><em>From:</em> Fiedler, Russell (O&amp;A, Hobart)</li></ul></li>
<li><strong><a name="00699" href="msg00699.html">Re: [ferret_users] Different behavior when reading calendars between Pyferret V7.1 and Pyferret V7.5</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
<li><strong><a name="00702" href="msg00702.html">Re: [EXT]Re: [ferret_users] Different behavior when reading calendars between Pyferret V7.1 and Pyferret V7.5</a></strong>
<ul><li><em>From:</em> Rebecca Lynn Beadling</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00702.html">Re: [EXT]Re: [ferret_users] Different behavior when reading calendars between Pyferret V7.1 and Pyferret V7.5</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00704.html">[ferret_users] Adding a time-axis</a></strong>
</li>

</UL>
<center>[<a href="msg00702.html">Thread Prev</a>][<a href="msg00704.html">Thread Next</a>][<A HREF="threads.html#00703">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
