<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] How to read WRF output and plot ? -->
<!--X-From-R13: Oafyrl [naxr <n.p.znaxrNtznvy.pbz> -->
<!--X-Date: Thu, 20 Apr 2023 16:58:36 &#45;0700 -->
<!--X-Message-Id: e98b93c8&#45;78c2&#45;fdbe&#45;8580&#45;7e13f1d28fd8@gmail.com -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 532A2680&#45;226D&#45;402E&#45;8F91&#45;DDACDCE4FFBC@gmail.com -->
<!--X-Derived: bin5VmonULkaM.bin -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] How to read WRF output and plot ?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00998.html">Thread Prev</a>][<a href="msg00999.html">Thread Next</a>][<A HREF="threads.html#01255">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] How to read WRF output and plot ?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] How to read WRF output and plot ?</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 20 Apr 2023 16:58:18 -0700</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20221208 header.b=dzBpKclO;       arc=pass (i=2 spf=pass spfdomain=gmail.com dkim=pass dkdomain=gmail.com);       spf=pass (google.com: domain of <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> designates 209.85.160.200 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20221208 header.b=dzBpKclO;       arc=pass (i=2 spf=pass spfdomain=gmail.com dkim=pass dkdomain=gmail.com);       spf=pass (google.com: domain of <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> designates 209.85.160.200 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20221208 header.b=dzBpKclO;       arc=pass (i=1 spf=pass spfdomain=gmail.com dkim=pass dkdomain=gmail.com dmarc=pass fromdomain=gmail.com);       spf=pass (google.com: domain of <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20221208 header.b=dzBpKclO;       spf=pass (google.com: domain of <a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:a.c.manke@DOMAIN.HIDDEN">a.c.manke@xxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :in-reply-to:from:content-language:references:to:subject:user-agent         :mime-version:date:message-id:sender:dkim-signature;        bh=03WCkXUFFLVsCLA/SrkQvwQOxs1/j7SBItbJUNFYSpo=;        b=LWYoB8obr0WXU9XPRBq4cUI7a1bJW8zfgNxcLhAq7Ow69nsfcwmae2R9O+tDRkmCm8         u8k9q7TxVOLvR9p/0qDUjxZyR6EGiHQRsF59nX4YuVSNRht3WpfDNzOMI2ufm0rD0B+T         QHWCBWv1eM29AtcHSpxzucy+/s4lvkt4alGgPgvYvMmxRQ5kySqrB6k6VVrtF2cos/9S         fxyCTVx+aMcGJ8qKfFKoKLXo7PocrqngG2fAcgAPP7RLWv7vOAARkW0dMLQi6m+rA7f0         jyvU+zPL/kYLnRnWNSwrThre7jMdKbah2o8lsehmS0aOHizUAfDuX8G6Yer1MPNldt8P         d4HQ==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=in-reply-to:from:content-language:references:to:subject:user-agent         :mime-version:date:message-id:dkim-signature;        bh=03WCkXUFFLVsCLA/SrkQvwQOxs1/j7SBItbJUNFYSpo=;        b=GxKCzolpJUzJ9Ef/nl4V8D3MJZsmB9nM+qReyS+24Y2idFqZrwGP0LshgC2Bf/IaMe         rQYLovTHAc2JRZOOvj70kXeMuCnxdX5L9wAeDrgXFzXK6DjdGrVCnOmeQxluH7EJnxXJ         7Gf3IYzGRcfgcnjuUd1nyEfxc/YjDM/ttbTfVWM1C3Exq3ivQuHEXi2286CSVYfak+bi         nE2ffcZi0nUj2qVvgyUwFvYJc8VL3Odi55mUPgXrFfO8rmkx0HvcWop/5Y8FQV5KzWZS         n84bf0B1jydrBaQByDvnMHpY6ZCYPjxK4tLlSxlLPTvcKs8uMc4ePASEAaQbhpfzZ5Ed         m7rQ==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=in-reply-to:from:content-language:references:to:subject:user-agent         :mime-version:date:message-id:dkim-signature;        bh=03WCkXUFFLVsCLA/SrkQvwQOxs1/j7SBItbJUNFYSpo=;        b=CjqZdq802YdYnFDy+kYPwMtkIC3QKE0fwELbIaaAEBqmy7aqtLBwU9WBNL4DIUsrhY         /qH6bIaHoHCSUoemcKbuS1CQKB8rexlWKFohRFHrvhlHEuzlJ4PvyXOhL9IOhgFC9jpW         Aok9hZ5T/EgRuZAuZGHR3POUobqJPfa9CE10d9mdHFFmVdyf0AU4+4lK+veS03sl/PCb         ZFkyFltFunv3qHLTKIA4pqiaCMhsh3ClvcWWpeDUviTFF0omdUnW8/LqQJSVWXCvgfmA         IkXu3m1I0Y4iNhlfdcks8pCtVkUsAzs4yfIDnCxc/cz0QfntCvu7ebhqzvan57FaQISF         EibQ==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=in-reply-to:from:content-language:references:to:subject:user-agent         :mime-version:date:message-id:dkim-signature;        bh=03WCkXUFFLVsCLA/SrkQvwQOxs1/j7SBItbJUNFYSpo=;        b=JiYEWOJmfxw+8Xyxf3r1h+x9lO1zVtlMw8Z9vvVK9xHZCYtbkyHq3D6yAYqfCPqAPI         0XKt2EAMXNHj/9AAXMKKEcDgAOoTY2vjDAcwkM4LyUInkgPU7JWBiT+wQER5BdgHvU59         nRKbS4dBI2GKUQH5k792zbU8RYMnRdmHwcWkgMjGgyUajfMp2aNZb4GgT3Pn0hRaCUt/         9MmLunT9WloVtSKheiy+Z9WnDnE8U6rIPJDQcQ3gGJQIvyQQ+E7vNM6jn8i48ebz2NAS         H8WYMnqTVDAsL9ZzYwJnQSQTh8pDzlXVutLkFXZJBTJ/Ei/h/CWv2d0UkOc9aOpVKqi7         zLTw==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1682035115; cv=pass;        d=google.com; s=arc-20160816;        b=rs7in20OSyfgeYmAwEjJeQaPZgOM1NQlvpgwq411B8xBReFULF7rN3q1D8zVsQaPfU         E9yr22ZKTCvoG7AHZ8E0mbzc3tmtt9BYXnTlf4EFVpiWoDr7ksGZ+2zk8oo4ENpvhRNq         tWqxFCSypJ50GcBSWT3D280FIZ9m+Iii5uy8VU9SEGmajsH2dQfge7vALBF165jWXH4E         ERasAOamX576mNLp1DEaiGTRikW6b6UQTUNpOHFucWXdDKU0uORddA9V0kVKV2TMOyTM         pW3khVQz56thcPTeiujQArKFNXraNmeuwo4Gmn0neDGR05hVlwbBaXgcV32RCa0DcCAY         J07w==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1682035113; cv=pass;        d=google.com; s=arc-20160816;        b=fiocrp2G7Yf/lzmKr0GzYhwu2kbQQIh4tqiiTQaBsXlCQllY9IUBbmiB0ZIbZX2Ktp         DlSE/4un/drRSQONrOX1DgIBckkxcFpfvxuxsXnwldyHJDI6H+A1ZwJsWS1coBVyTiYe         4H34yOWaioc+kXVhorxh9sQ5apX1JdFgEf3ZMf0KXxtSUtM2k5mMnGqWS1b7H7n5rH5I         gcNISPrUj7omSYKLJ+aHZL8iHJsx9j7nmBP+Gp/g79t1RhVWHoyvzDjPWB8pwmyau+Ci         BsZzLxynQPiA33jZNsJyDS2Rksi/Z5rCVerTUJueIZSbk1+QAF0rHaageiCRY5rNc81x         zUZQ==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1682035104; cv=pass;        d=google.com; s=arc-20160816;        b=oZjCFOEnrgRK4Tx1AAFfD1GxaGrVikEt/ClLs9hgcHnGpZJs2ysxN/iajTITTD7cTn         /DyG6mAKHUj6koOJmRmNQpqYxw6PSjZxjlSYwVshPd6auleyCC+GDVn4xBJUwcLNhowQ         R1Dh5/noNv6eFygi+xS805KPCWfUAFaxsaI4To0kIxSiTa9hEQu04FG8NVQSUsGKRpn/         xTqDA80Nj3i6VwPTIHf2Spohs/4470kexMb26OzD6gw2X7RbBEZvvKLHjmLIgdFm3wEn         fOagiDZ8aWnUfkukMYKgVOxYaWUBriMCKXCo8i33vtX4+1UH4VuWQpUsr36r6i7CitPK         bXaw==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1682035102; cv=none;        d=google.com; s=arc-20160816;        b=wo6lXZkS7wxSsUBI7MBqbvMb2y8tHKSDLgkrIKL/WFssiE4LtLlOJ8H76r0/KDG/AM         qgcpdUfM829l1z9ajz2DQpLmi+42hURWZrZnoujZwJOKMNBJAf26vzklCuMyZ6OLyYkw         jEQC5lVdz7eGECcLgS6vD2tvJZ+Av1YG85u/cGybmoMZFRNKj5wNsOELDZMDxvOmsyWF         VzYjEPodeU9E5BRaQE+NoNrZ29Ni0v/a8LFBDd1MWwrWmQi3KvEAPwm7Lj4CjPx9SMd1         I/nWN1YsnBwPcjztxfb/epgSn4r9Oe4i9FPyxpqC5rmMF+Ls3a0BNZoFAmkBcQDpfMU0         skFw==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google; t=1682035115; x=1684627115;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :x-original-authentication-results:x-original-sender:in-reply-to         :from:content-language:references:to:subject:user-agent:mime-version         :date:message-id:sender:from:to:cc:subject:date:message-id:reply-to;        bh=03WCkXUFFLVsCLA/SrkQvwQOxs1/j7SBItbJUNFYSpo=;        b=eSdRcaDHJxpl7nCo4ErCUT6JPOjxtPFMN35H9MgIQZx0BP2aHTY+WrODS3Ls4w3C1v         IGlf30spZ7aJ4JkWYEOTDKJmAAvm8SFXpTvtvCw/giGb4gx83IevgyLxsHUYDXh+Tr0o         B5pSzbp/0SwpmK4F+3XkZyIRUTP7/JYc15fJLaaoi/CCF91ZE5pwVaaT7nd/oe4qH6N4         ty5vwcgYY6TvTwYb2OLr7FdqvptPFQ2RW31BL+HrCObx4pCCJc5Sqy5ZYk5BnFomLF2n         MbHIQ2wm9ZrUPhqaKSR58uSN06otexMX6Ad//iNfWc7WgDD1kAWMwAkHU3pTYVLowVfX         r0Wg==</li>
<li>In-reply-to: &lt;<a href="msg00994.html">532A2680-226D-402E-8F91-DDACDCE4FFBC@gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00994.html">532A2680-226D-402E-8F91-DDACDCE4FFBC@gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:102.0) Gecko/20100101 Thunderbird/102.10.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->

  
  
    <p><font face="monospace">This has also been asked in the GitHub
        issue.&#xA0; <br>
      </font></p>
    <p><font face="monospace">I have some ideas which I posted there and
        will add here.</font></p>
    <p><font face="monospace">I have looked into this some more. It
        seems that the format for wrf files is not consistent with the
        COARDS and CF netCDF standards used by PyFerret<span>&#xA0;</span><a rel="nofollow"
          href="https://www.ncl.ucar.edu/Applications/wrfnetcdf.shtml"
          rel="nofollow" style="box-sizing: border-box;
          background-color: transparent; color: var(--color-accent-fg);
          text-decoration: none;" class="moz-txt-link-freetext">https://www.ncl.ucar.edu/Applications/wrfnetcdf.shtml</a><br>
      </font></p>
    <p><font face="monospace">I expect that this problem will be
        resolved with updates that are in the code base but not yet in a
        PyFerret release. I do not know what the plans are for the next
        release.</font></p>
    <font face="monospace">However, I have a suggestion, which I'd like
      to add here. I will show it using a small example file, attached
      to this message. This is a file from a previous question, which I
      think shows the behavior that is seen in the wrf files. Its netCDF
      header looks like this:</font>
    <div class="snippet-clipboard-content notranslate position-relative
      overflow-auto" style="box-sizing: border-box; position: relative
      !important; overflow: auto !important; color: rgb(31, 35, 40);
      font-size: 14px; font-style: normal; font-variant-ligatures:
      normal; font-variant-caps: normal; font-weight: 400;
      letter-spacing: normal; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; background-color: rgb(255, 255,
      255); text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;"><code class="notranslate" style="box-sizing: border-box; font-size: 11.9px; padding: 0px; margin: 0px; white-space: pre; background: transparent none repeat scroll 0% 0%; border-radius: 6px; word-break: normal; border: 0px none; display: inline; overflow: visible; line-height: inherit; overflow-wrap: normal;">
netcdf sample_wrf {
dimensions:
	Time = UNLIMITED ; // (13 currently)
	bottom_top = 2 ;
	south_north = 6 ;
	west_east = 7 ;
variables:
	float FNM(Time, bottom_top) ;
		FNM:FieldType = 104 ;
		FNM:MemoryOrder = "Z  " ;
		FNM:description = "upper weight for vertical stretching" ;
		FNM:units = "" ;
		FNM:stagger = "" ;
	float P(Time, bottom_top, south_north, west_east) ;
		P:FieldType = 104 ;
		P:MemoryOrder = "XYZ" ;
		P:description = "perturbation pressure" ;
		P:units = "Pa" ;
		P:stagger = "" ;

// global attributes:
		:TITLE = "Grids as in WRF model" ;
		:history = "Downloaded orig file from link at <a rel="nofollow" class="moz-txt-link-freetext" href="https://www.riinu.me/2014/05/saving-subset/">https://www.riinu.me/2014/05/saving-subset/</a>" ;
}

</code></div>
    <font face="monospace">The note you are seeing about axis
      coordinates suggests that PyFerret would use attributes on
      coordinate variables to determine the directions of the dimensions
      when it is defining grids. The file with coordinate variables
      would look like this, when listed using ncdump -c</font>
    <div class="snippet-clipboard-content notranslate position-relative
      overflow-auto" style="box-sizing: border-box; position: relative
      !important; overflow: auto !important; color: rgb(31, 35, 40);
      font-size: 14px; font-style: normal; font-variant-ligatures:
      normal; font-variant-caps: normal; font-weight: 400;
      letter-spacing: normal; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; background-color: rgb(255, 255,
      255); text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;"><code class="notranslate" style="box-sizing: border-box; font-size: 11.9px; padding: 0px; margin: 0px; white-space: pre; background: transparent none repeat scroll 0% 0%; border-radius: 6px; word-break: normal; border: 0px none; display: inline; overflow: visible; line-height: inherit; overflow-wrap: normal;">
netcdf sample_wrf {
dimensions:
	Time = UNLIMITED ; // (13 currently)
	bottom_top = 2 ;
	south_north = 6 ;
	west_east = 7 ;
variables:
	double Time(Time) ;
		Time:axis = "T" ;
	double bottom_top(bottom_top) ;
		bottom_top:axis = "Z" ;
	double south_north(south_north) ;
		south_north:axis = "Y" ;
	double west_east(west_east) ;
		west_east:axis = "X" ;
	float FNM(Time, bottom_top) ;
		FNM:FieldType = 104 ;
		FNM:MemoryOrder = "Z  " ;
		FNM:description = "upper weight for vertical stretching" ;
		FNM:units = "" ;
		FNM:stagger = "" ;
	float P(Time, bottom_top, south_north, west_east) ;
		P:FieldType = 104 ;
		P:MemoryOrder = "XYZ" ;
		P:description = "perturbation pressure" ;
		P:units = "Pa" ;
		P:stagger = "" ;

// global attributes:
		:TITLE = "Grids as in WRF model" ;
		:history = "Downloaded orig file from link at <a rel="nofollow" class="moz-txt-link-freetext" href="https://www.riinu.me/2014/05/saving-subset/">https://www.riinu.me/2014/05/saving-subset/</a>" ;
data:

 Time = 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13 ;

 bottom_top = 1, 2 ;

 south_north = 1, 2, 3, 4, 5, 6 ;

 west_east = 1, 2, 3, 4, 5, 6, 7 ;
}</code></div>
    <div class="snippet-clipboard-content notranslate position-relative
      overflow-auto" style="box-sizing: border-box; position: relative
      !important; overflow: auto !important; color: rgb(31, 35, 40);
      font-size: 14px; font-style: normal; font-variant-ligatures:
      normal; font-variant-caps: normal; font-weight: 400;
      letter-spacing: normal; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; background-color: rgb(255, 255,
      255); text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;"><code class="notranslate" style="box-sizing: border-box; font-size: 11.9px; padding: 0px; margin: 0px; white-space: pre; background: transparent none repeat scroll 0% 0%; border-radius: 6px; word-break: normal; border: 0px none; display: inline; overflow: visible; line-height: inherit; overflow-wrap: normal;">
</code></div>
    <p><font face="monospace">We can create a new, separate netCDF file
        that contains the desired coordinate variables. Then use the
        netcdf utility ncks to add the coordinate variables to the wrf
        file.</font></p>
    <p><font face="monospace">Here is a Ferret script to write a dummy
        file with the desired "axis" attributes. The appropriate axis
        attributes are automatically written by modern Ferret and
        PyFerret.</font></p>
    <div class="snippet-clipboard-content notranslate position-relative
      overflow-auto" style="box-sizing: border-box; position: relative
      !important; overflow: auto !important; color: rgb(31, 35, 40);
      font-size: 14px; font-style: normal; font-variant-ligatures:
      normal; font-variant-caps: normal; font-weight: 400;
      letter-spacing: normal; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; background-color: rgb(255, 255,
      255); text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;"><code class="notranslate" style="box-sizing: border-box; font-size: 11.9px; padding: 0px; margin: 0px; white-space: pre; background: transparent none repeat scroll 0% 0%; border-radius: 6px; word-break: normal; border: 0px none; display: inline; overflow: visible; line-height: inherit; overflow-wrap: normal;">! Define the coordinate axes, the dimension names and lengths from the wrf file.  Keep 
! the same upper-case and lower-case spellings as in the file. 

define axis/t=1:13:1 Time
define axis/z=1:2:1 bottom_top
define axis/y=1:6:1 south_north
define axis/x=1:7:1 west_east

! Define variables on these axes to write to a new netCDF file.

let/title=Time tcoord = t[gt=Time]
let/title=bottom_top zcoord = z[gz=bottom_top]
let/title=south_north ycoord = y[gy=south_north]
let/title=west_east xcoord = x[gx=west_east]

! Write the dummy variables. We will get the coordinate axes from this file.

cancel mode upcase
save/clobber/file=wrf_axes.nc tcoord, zcoord, ycoord, xcoord</code></div>
    <div class="snippet-clipboard-content notranslate position-relative
      overflow-auto" style="box-sizing: border-box; position: relative
      !important; overflow: auto !important; color: rgb(31, 35, 40);
      font-size: 14px; font-style: normal; font-variant-ligatures:
      normal; font-variant-caps: normal; font-weight: 400;
      letter-spacing: normal; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; background-color: rgb(255, 255,
      255); text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;"><code class="notranslate" style="box-sizing: border-box; font-size: 11.9px; padding: 0px; margin: 0px; white-space: pre; background: transparent none repeat scroll 0% 0%; border-radius: 6px; word-break: normal; border: 0px none; display: inline; overflow: visible; line-height: inherit; overflow-wrap: normal;">
</code></div>
    <div class="snippet-clipboard-content notranslate position-relative
      overflow-auto" style="box-sizing: border-box; position: relative
      !important; overflow: auto !important; color: rgb(31, 35, 40);
      font-size: 14px; font-style: normal; font-variant-ligatures:
      normal; font-variant-caps: normal; font-weight: 400;
      letter-spacing: normal; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; background-color: rgb(255, 255,
      255); text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;"><code class="notranslate" style="box-sizing: border-box; font-size: 11.9px; padding: 0px; margin: 0px; white-space: pre; background: transparent none repeat scroll 0% 0%; border-radius: 6px; word-break: normal; border: 0px none; display: inline; overflow: visible; line-height: inherit; overflow-wrap: normal;">
</code></div>
    <font face="monospace">Now, use the Unix ncks utility to copy the
      coordinate variables into the wrf file. (make a copy of the file
      if you want to keep the original)</font>
    <div class="snippet-clipboard-content notranslate position-relative
      overflow-auto" style="box-sizing: border-box; position: relative
      !important; overflow: auto !important; color: rgb(31, 35, 40);
      font-size: 14px; font-style: normal; font-variant-ligatures:
      normal; font-variant-caps: normal; font-weight: 400;
      letter-spacing: normal; text-align: start; text-indent: 0px;
      text-transform: none; white-space: normal; word-spacing: 0px;
      -webkit-text-stroke-width: 0px; background-color: rgb(255, 255,
      255); text-decoration-thickness: initial; text-decoration-style:
      initial; text-decoration-color: initial;"><code class="notranslate" style="box-sizing: border-box; font-size: 11.9px; padding: 0px; margin: 0px; white-space: pre; background: transparent none repeat scroll 0% 0%; border-radius: 6px; word-break: normal; border: 0px none; display: inline; overflow: visible; line-height: inherit; overflow-wrap: normal;">
&gt; ncks -A -h -v Time wrf_axes.nc sample_wrf.nc
&gt; ncks -A -h -v bottom_top wrf_axes.nc sample_wrf.nc
&gt; ncks -A -h -v south_north wrf_axes.nc sample_wrf.nc
&gt; ncks -A -h -v west_east wrf_axes.nc sample_wrf.nc


</code></div>
    <font face="monospace">Now, sample_wrf.nc will open.</font>
    <p><br>
    </p>
    <div class="moz-cite-prefix">On 9/5/2021 3:37 AM, Jeevan Kumar
      wrote:<br>
    </div>
    <blockquote type="cite"
      cite="">
      
      <p style="box-sizing: border-box; margin-top: 0px !important;
        margin-bottom: 16px;" class="">I have wrfout file at one time
        step and trying to open in ferret. but I am having error like
        this (below)</p>
      <div class="snippet-clipboard-content position-relative"
        style="box-sizing: border-box; position: relative !important;">
        <pre style="box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; font-size: 11.899999618530273px; margin-top: 0px; margin-bottom: 16px; word-wrap: normal; padding: 16px; overflow: auto; line-height: 1.45; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px;" class=""><code style="box-sizing: border-box; font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; padding: 0px; margin: 0px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; word-break: normal; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;" class="">(```
base) jeevan@MacBook-Pro idojaros % pf
 	NOAA/PMEL TMAP
 	PyFerret v7.63 (optimized)
 	Darwin 19.6.0 - 10/13/20
 	 5-Sep-21 12:14     

yes? use wrfout_d01_2020-01-16_00:00_jk_E_G.nc
           *** NOTE:
           *** NOTE: Could not adjust grid for variable ZNU
 **ERROR: inconsistent data grids: File needs axis attributes on coordinate variables indicating correct directions
yes? sh d
     currently SET data sets:
yes? q
</code></pre>
        <div class="snippet-clipboard-content position-relative"
          style="box-sizing: border-box; position: relative !important;
          margin-bottom: 0px !important;">
          <pre style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; word-wrap: normal; padding: 16px; overflow: auto; line-height: 1.45; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px;" class=""><code style="font-size: 11.899999618530273px; font-family: ui-monospace, SFMono-Regular, &quot;SF Mono&quot;, Menlo, Consolas, &quot;Liberation Mono&quot;, monospace; box-sizing: border-box; padding: 0px; margin: 0px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; word-break: normal; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;" class="">
</code><code style="box-sizing: border-box; padding: 0px; margin: 0px; border-top-left-radius: 6px; border-top-right-radius: 6px; border-bottom-right-radius: 6px; border-bottom-left-radius: 6px; word-break: normal; border: 0px; display: inline; overflow: visible; line-height: inherit; word-wrap: normal;" class=""><font class="" face="Times New Roman">How can I solve this ?</font></code></pre>
        </div>
      </div>
      <div class=""><br class="">
      </div>
      <div class="">
        <div dir="auto" style="text-align: start; text-indent: 0px;
          word-wrap: break-word; -webkit-nbsp-mode: space; line-break:
          after-white-space;" class="">
          <div style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);
            letter-spacing: normal; text-transform: none; white-space:
            normal; word-spacing: 0px; text-decoration: none;
            -webkit-text-stroke-width: 0px;">Best Regards</div>
          <div style="caret-color: rgb(0, 0, 0); color: rgb(0, 0, 0);
            letter-spacing: normal; text-transform: none; white-space:
            normal; word-spacing: 0px; text-decoration: none;
            -webkit-text-stroke-width: 0px;">Jeevan Kumar</div>
          <div><a rel="nofollow"
              href="https://www.linkedin.com/in/jeevan-kumar-bodaballa-193b7691/"
              class="moz-txt-link-freetext" moz-do-not-send="true">https://www.linkedin.com/in/jeevan-kumar-bodaballa-193b7691/</a></div>
        </div>
        <br class="Apple-interchange-newline">
        <br class="Apple-interchange-newline">
      </div>
      <br class="">
    </blockquote>
  

<p><strong>Attachment:
<a href="bin5VmonULkaM.bin" ><tt>sample_wrf.nc</tt></a></strong><br>
<em>Description:</em> Binary data</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00994" href="msg00994.html">[ferret_users] How to read WRF output and plot ?</a></strong>
<ul><li><em>From:</em> Jeevan Kumar</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00998.html">Re: [ferret_users] How to read WRF output and plot ?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00999.html">[ferret_users] *** NOTE: crptn??: save_uvar_aux_info</a></strong>
</li>

</UL>
<center>[<a href="msg00998.html">Thread Prev</a>][<a href="msg00999.html">Thread Next</a>][<A HREF="threads.html#01255">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
