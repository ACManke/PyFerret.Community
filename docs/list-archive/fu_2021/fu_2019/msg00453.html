<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] grid compressed after subtract area average -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Tue, 3 Dec 2019 17:11:54 &#45;0800 -->
<!--X-Message-Id: 4e862735&#45;7edd&#45;466a&#45;c1b1&#45;547c0a6827e4@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAKE4FWqfMgfa7AgHq6+xS+c&#45;9FgykzC9EDgJLY=JgmgohpQhAA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] grid compressed after subtract area average</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00452.html">Thread Prev</a>][<a href="msg00454.html">Thread Next</a>][<A HREF="threads.html#00453">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] grid compressed after subtract area average</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] grid compressed after subtract area average</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 3 Dec 2019 17:11:50 -0800</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=iZHSTg9p;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=iZHSTg9p;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=REJECT sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=8rcNv28B3yqRv06WjSrWDZdc9ptVoB3iXbMZBroaB0s=;        b=FJiEoeMREyOC18tpxHifQGi/sXQbnKXlvRxtYLVy5R21DYu18u29Tx6QFS1zsJ8fTY         x2qQFaPGceYVwE8wS2g/c3vW5BAqHVpqI7MhFLcQ2DRoRNAtqm+fhLPpbP2MgDlG6Zfl         kCUF4PSEffVsi0d8SOZtu8H8lJd/wuPreWpjmRSc4sbe7Yv7WRPb49n9xZwcovGyD9ZR         EmxRg2QSCGKLMN02nVv/jxcOBdmIdOep7FP/sr2+goBx9H6rNxyIzXrhtH+qb1wgPrSA         bNgE5vLnQFqJH0BSfJTkVkNVlSXNKpqDJq3WYX8AkAGRJs9v64BUq2pp1eUTDM/UwpOE         WPeQ==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature;        bh=8rcNv28B3yqRv06WjSrWDZdc9ptVoB3iXbMZBroaB0s=;        b=fLH0MW8d1wbZx0kkhXbu0LG4uaGLX4DSKTJfbn/vztk1JA+n1oN9aXv/v+pEANjdU+         2BI+uJKrv4qsGFQLFoEeNSOpTpDFSu63k0lLyKq4KEFCY6h4NrammbJaWuudCzQ/0ZMT         D9dWVkvywR9yw8kj+oJKYejUY7vOl9U/yuhY6ZPxg2V00DI5LHey9f8dYvWyIsuq21vz         lysBzq27s48LP4B7WINvqmKKKFqRRCF687a1C9fgwBXY3LOSO8yT4JlxxNR/rShErIHl         0x7EURpNaBzyq97iSLWtOSBrpAUec9cFNCepJs0FpWqRHjpLO4wE+CdxfpgdQaBDYeaz         ze8g==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1575421913; cv=pass;        d=google.com; s=arc-20160816;        b=dpVcKj57sbcc3FhsaWV9UC7f/alKpzRhAUo2mF5pInEx1G+kWUSIQ6rP1Ook3AkQwJ         XGOM3fC0zxvM536XIZQAhYo5opi0KiVag9FxIay+MOcZ3CAo6A8VOs2t5qAXu6c85hwa         SD4N4Poiht7PQLHfMD8auzri6LPJN8MQlDVYFWtt0XGMXIiGuUhqTEV8e1M1EFPdQzqE         XNgq0w1DdWJeBT+c2gM9WCX6CIJEOrvAVHWdloHjkcxuBC2B3A5WkDiCiu+LfZ1eHO05         M/BmwIPW2QkZl7BJiReASEDAgZliYJU6YMwDMpoE151sfMOYDgB1IzRDq7hOSPRSDLEu         ddXQ==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1575421912; cv=none;        d=google.com; s=arc-20160816;        b=RIRkAUdR7LKGVE6LZxfyko0S+p/l2qfl0navMVS55A8hQXUqCTpk/Z086QDuh7Pip3         WObDKEswTmQ7S0ve+8CFgSyfhW1FVZwfLgHgXqObOmzyZadu0jgrzzhL/kJhiMTe6N61         QbkMWKxIXdem5ZDSbfgGmqCDvxMaDJZzV06NNtx9GT08CL3MgQ8FdjR3jggkQ6Up3r2h         MsOnO6ob98Uz2ZgoTrVkE+trRcwONrI0E+q7y4sdLiibUhSIvTuBa2P2pQe6qnUe7Y+T         js1onfs3OkvwODlPEzYfJ5C6RuWkIcprws1K1Dq1Eb1AI/Gqj2V1e9W4TpVCj2h9ML6S         9OWQ==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-language:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=8rcNv28B3yqRv06WjSrWDZdc9ptVoB3iXbMZBroaB0s=;        b=ll55BXesDCTq+gAAmcmvdjyTrz2QNNB0tJdwirdCBeUJR3a5Oo4b6ZIP1cNfx2CqKH         ra/M+DVqCoRl8r4aHPsCBiwAQkXpurX7JgxNr1qojctDcTL/WyQGIjDv0gzdZIWxarZN         jBW7CQXKYhULwD5JfFhFns5nnIjhPZ2DmQy420zlkGOyBTLuQt8ZS1EYb7uFZrUMvSl9         fgRSw8H/VfRn9y/qGVvdMvkohBlqMj7DVfYabK/WJUD4+euW8ZZLwq91JGx7S8oP4dW9         +QglpkJYtlS2cPg2Mh/0MaH5Lc6IBJ+0GulZkR7zPxA5R1kM56cFr1ZYEJFz3YG1TTSM         L5UQ==</li>
<li>In-reply-to: &lt;CAKE4FWqfMgfa7AgHq6+xS+c-9FgykzC9EDgJLY=JgmgohpQhAA@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CAKE4FWqfMgfa7AgHq6+xS+c-9FgykzC9EDgJLY=JgmgohpQhAA@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:68.0) Gecko/20100101 Thunderbird/68.2.2</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->

  
  
    <p>Hi Xiaoyu,</p>
    <p>First, what you have done with TEMP-TEMP[X=@AVE,Y=@AVE] is to
      remove the mean over longitude and latitude.&#xA0; That will not be
      less noisy.&#xA0; If you want to work with a less-noisy version of
      TEMP, you might use one of the smoothing transformations such as
      the boxcar smoother, @SBX.&#xA0; Here is a list of all the
      transformations: <br>
    </p>
    <p><a rel="nofollow" class="moz-txt-link-freetext" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#Chapter3-Transformations">https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#Chapter3-Transformations</a>,
      and further down that page are detailed descriptions of the
      different transformations.<br>
    </p>
    <p><br>
    </p>
    <p>Now, it looks as if you've discovered an error in the SHOW GRID
      output.&#xA0; It should not be listing the x and y axes as
      "compressed".&#xA0; So we'll look into that.<br>
    </p>
    <tt>yes? use coads_climatology<br>
      yes? let sst_demean =&#xA0; sst - sst[x=@ave,y=@ave]<br>
      <br>
      yes? show grid sst_demean<br>
      &#xA0;&#xA0;&#xA0; GRID GSQ1<br>
      &#xA0;name&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; axis&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; # pts&#xA0;&#xA0; start&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
      end&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; subset<br>
      &#xA0;COADSX&#xA0;&#xA0;&#xA0; LONGITUDE&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 180mr&#xA0;&#xA0; 21E&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
      19E(379)&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; compressed<br>
      &#xA0;COADSY&#xA0;&#xA0;&#xA0; LATITUDE&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 90 r&#xA0;&#xA0; 89S&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
      89N&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; compressed<br>
      &#xA0;normal&#xA0;&#xA0;&#xA0; Z<br>
      &#xA0;TIME&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; TIME&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 12mr&#xA0;&#xA0; 16-JAN 06:00&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 16-DEC
      01:20&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; full<br>
    </tt><tt></tt><br>
    <p>However <tt>sst_demean </tt>does still vary in longitude and
      latitude.&#xA0; See how STAT shows 180 points in X and 90 points in Y,
      and a plot at one time and latitude varies in X.<br>
    </p>
    <tt>&#xA0;<br>
      yes? stat/brief sst_demean<br>
      &#xA0;<br>
      &#xA0;Total # of data points: 194400 (180*90*1*12*1*1)<br>
      &#xA0;# flagged as bad&#xA0; data: 89622<br>
      &#xA0;Minimum value: -23.622<br>
      &#xA0;Maximum value: 12.722<br>
      &#xA0;Mean&#xA0;&#xA0;&#xA0; value: -2.1127 (unweighted average)<br>
    </tt><tt><br>
    </tt><tt>yes? plot/L=1/y=0 sst_demean</tt><br>
    <p><br>
    </p>
    <p>First, what you have done with TEMP-TEMP[X=@AVE,Y=@AVE] is merely
      to remove the mean.&#xA0; If you want a less-noisy version of TEMP, you
      might look at the smoothing transformations. Here is a list of all
      the transformations: <br>
    </p>
    <p><a rel="nofollow" class="moz-txt-link-freetext" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#Chapter3-Transformations">https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#Chapter3-Transformations</a><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <p><br>
    </p>
    <div class="moz-cite-prefix">On 12/3/2019 4:38 PM, Xiaoyu Bai wrote:<br>
    </div>
    <blockquote type="cite"
cite="">
      
      <div dir="ltr">Dear ferreters,
        <div><br>
        </div>
        <div>I noticed that when I subtract area average from a
          variable, it will make the variable's Lat and Lon
          become&#xA0;compressed instead of full. For example:</div>
        <div><br>
        </div>
        <div>use levi_climatology</div>
        <div>let test=TEMP-TEMP[X=@AVE,Y=@AVE]<br>
        </div>
        <div>sh grid TEMP,test<br>
          &#xA0; &#xA0; GRID GMS1<br>
          &#xA0;name &#xA0; &#xA0; &#xA0; axis &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;# pts &#xA0; start &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;end
          &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; subset<br>
          &#xA0;XAXLEVITR LONGITUDE &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;360mr &#xA0; 20.5E &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
          &#xA0;19.5E(379.5) &#xA0; &#xA0; &#xA0; &#xA0;full<br>
          &#xA0;YAXLEVITR LATITUDE &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 180 r &#xA0; 89.5S &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
          &#xA0;89.5N &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; full<br>
          &#xA0;ZAXLEVITR DEPTH (m) &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 20 i- &#xA0;0 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
          &#xA0;5000 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;full<br>
          &#xA0;normal &#xA0; &#xA0;T<br>
          &#xA0; &#xA0; GRID GMS1<br>
          &#xA0;name &#xA0; &#xA0; &#xA0; axis &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;# pts &#xA0; start &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;end
          &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; subset<br>
          &#xA0;XAXLEVITR LONGITUDE &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;360mr &#xA0; 20.5E &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
          &#xA0;19.5E(379.5) &#xA0; &#xA0; &#xA0; &#xA0;compressed<br>
          &#xA0;YAXLEVITR LATITUDE &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 180 r &#xA0; 89.5S &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
          &#xA0;89.5N &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; compressed<br>
          &#xA0;ZAXLEVITR DEPTH (m) &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; 20 i- &#xA0;0 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;
          &#xA0;5000 &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;full<br>
          &#xA0;normal &#xA0; &#xA0;T<br>
        </div>
        <div><br>
        </div>
        <div>What I want is to get a less noisy variable, then
          apply&#xA0;@DIN to it. But this compressed grid was blocking me to
          use @DIN.</div>
        <div><br>
        </div>
        <div>So I am wondering how to get my coordinate to full again.</div>
        <div><br>
        </div>
        <div>Thank you in advance.</div>
        <div>&#xA0;</div>
        <div>-- <br>
          <div dir="ltr" class="gmail_signature"
            data-smartmail="gmail_signature">
            <div dir="ltr">Xiaoyu</div>
          </div>
        </div>
      </div>
    </blockquote>
  


<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00454" href="msg00454.html">Re: [ferret_users] grid compressed after subtract area average</a></strong>
<ul><li><em>From:</em> Xiaoyu Bai</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00452" href="msg00452.html">[ferret_users] grid compressed after subtract area average</a></strong>
<ul><li><em>From:</em> Xiaoyu Bai</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00452.html">[ferret_users] grid compressed after subtract area average</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00454.html">Re: [ferret_users] grid compressed after subtract area average</a></strong>
</li>

</UL>
<center>[<a href="msg00452.html">Thread Prev</a>][<a href="msg00454.html">Thread Next</a>][<A HREF="threads.html#00453">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
