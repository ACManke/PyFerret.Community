<!-- MHonArc v2.6.18 -->
<!--X-Subject: [ferret_users] polygon to mask country -->
<!--X-From-R13: @vpbynf Terlpurg <avpbynf.serlpurgNtznvy.pbz> -->
<!--X-Date: Mon, 25 Mar 2019 04:18:22 &#45;0700 -->
<!--X-Message-Id: CAPTKT0e&#45;3hgt_JaQ1+27DM1jXfhU&#45;sTr9GQX8Cn6=PKPpVA+wg@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CABKKfvVRDXATRc_19TVipwHKKd+j9WzjC=3JgpjKTVDNk5g9bA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[ferret_users] polygon to mask country</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00069.html">Thread Prev</a>][<a href="msg00107.html">Thread Next</a>][<A HREF="threads.html#00106">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[ferret_users] polygon to mask country</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>ferret_users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>[ferret_users] polygon to mask country</strong></li>
<li><strong>From</strong>: <strong>Nicolas Freychet &lt;<a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 25 Mar 2019 11:18:03 +0000</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=M6IfAq4C;       arc=pass (i=2 dkim=pass dkdomain=gmail.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com</li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=M6IfAq4C;       arc=pass (i=2 dkim=pass dkdomain=gmail.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=M6IfAq4C;       arc=pass (i=1 spf=pass spfdomain=gmail.com dkim=pass dkdomain=gmail.com dmarc=pass fromdomain=gmail.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a> does not designate 65.127.216.228 as permitted sender) smtp.mailfrom=<a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@gmail.com header.s=20161025 header.b=M6IfAq4C;       spf=pass (google.com: domain of <a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:nicolas.freychet@DOMAIN.HIDDEN">nicolas.freychet@xxxxxxxxx</a>;       dmarc=pass (p=NONE sp=QUARANTINE dis=NONE) header.from=gmail.com</li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :message-id:to:subject:date:from:in-reply-to:references:mime-version         :sender:dkim-signature;        bh=7dSm1PrJG6Pc8JkmTVL7uaJm0+5A+rK6VKqDY62YjWM=;        b=MbxKpwlZjKfvSwT5R545huPS/6RW5A4xvwKMZDfM1YpifIhA+BNbKjtnLOlHbcpSmM         8SIHu99Fp+h8dibaa8z8pgUvsIfYOTgFVH7gUBhtRNlqPtNOGEvIq8cZ7YvegoTxfe3k         IgxqiXBAoly2vJf1d5el0Wv+CFbUCdN6WFvs9Gquyq+r2ZdLpA2r1qvAWSxdJtiw+N/M         M6oroJQz6okNyivf5MU5Mm3bYrErYkYqZL3jMAlAcBV/fL1vVzwAnyLnQH1yMdxld5Xz         O/8uZhKvCLkVSY3Sbvf1X/E3qZGn8seWFm1sEdcPwktWrRp/WIvN4gJXiJxRi+hwFGfn         DHCw==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:to:subject:date:from:in-reply-to:references:mime-version         :dkim-signature;        bh=7dSm1PrJG6Pc8JkmTVL7uaJm0+5A+rK6VKqDY62YjWM=;        b=mSkwOUfNkk8IohgZMybN86ZFeJmOK8pHPx6XaTkxC4HHGduMve2ktFaOkoa2i/kTEw         oM7AIYEvgCZbP/3rYf7NknTaHFv0SGt5CAnuF2A8Ql2spu86beCmU2o2G8BAIiZaJQaS         ySuFQ2JAhcD5Ezft6hqaDbZcnT5haWKKXdCg0eSB3fVc4WoB9PFUsejMFA2JAZJulTXi         kJfBqRkFE1AX7jWtsCqJX9xXukFl5ObF2cvw+LNeUDdhBFHy8R1Bwi7d/VLQFNF5tWAQ         dO/T2GVUqJ/QE+wneBpG5u6hyiuY6QLFS0HGrP6snE1W2UG11DEBGWt97ORbfWas1rfc         Z5eA==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:subject:message-id:date:from:in-reply-to:references:mime-version         :dkim-signature;        bh=7dSm1PrJG6Pc8JkmTVL7uaJm0+5A+rK6VKqDY62YjWM=;        b=JBe1cHuiM7oTOwaOPm2+wa6R1VjANMNCEBf61b5/LYzqY6wdrRXLTnviYLddPgZtrT         MVMqdv9iI60Bzy4n5/v2ZJsbOtW3f2/PQJpRe60PZwAF/8Cm6odE6gWOhLTeThlFAVtw         za5pej/boc8xPrgV4wltm1wPolMuOpQUwJSyVBAiY+nSl/Ok0fAu8Qh71B7V40n96JBN         bWTJYUCZvG9jKu4MUyNpakr2Y1sn+DZER7eioNWgbX7wkLFExiHFdmWJ+qjkFy5o9Z7I         0Bf9kPtPFYJf6RkOcD3s11yoUGZMBB+1w07PG62dSwIjCStgeAkT0EXYyaeNPlSQXN5e         r1cg==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:subject:message-id:date:from:in-reply-to:references:mime-version         :dkim-signature;        bh=7dSm1PrJG6Pc8JkmTVL7uaJm0+5A+rK6VKqDY62YjWM=;        b=iDRViL58Ov7IXgdbVX0khUTNnIX5ZfAsqyMBLoeV+OnHAEJvJ9xjCX+mHosDtrY0RC         T8ykaXX9A6T8ycu93btDCWLUbk+pSlA7spsV0bxvix6YhuMUqy6dVqUn4FlMONuIb/np         54KCtmwlOk84XfC2XtkjHVxMFZnteQMmK1bQZJ9ByUianp4j1RMxbO8Kssfvsb/6Y6VP         Hkb1t9QT5uZRn5g/ocvbmJfgWzj8zQecBnek1pyq/sPlr9PCQUGYX4lkoRx0PizDVss/         eicmmN4DDozIxnJYdDP+D6NY26jh78k3d2LigIpLhJRtDTJkovWRQghgsVTIoIoTfbVt         e6Vw==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1553512702; cv=pass;        d=google.com; s=arc-20160816;        b=uWD9aoFm8c/9pP5Oi19BWWph8tq24tj1zZ8M/DBIJnm9f5a96O7VVM4bU20B7i/GyI         Wj6l478REcKPpN8rQiaQQDWMoEONKgGu1WibFi5i6M+9MzU4ArK3xRRS5LHZr6rx9gdc         gK0n0vpmDUXfpqMvFkMEGBc2JpFc2mJ3bDZ06AC9hs8noqbnsY1gCjpzNeSQGbG2Tk8Z         qcYtIUorTIDGaeiSvrj78VzgpFQW2mM8EkX1H1+QB8EdPw5voHsyPCqHeJKHynGiS7dU         PnD8gS04H76BPoytYWy5QaopAVZvsxxeDwiBmC/q6zd8D+lSAdMS83oE6q/qv/pYgwgN         KI1Q==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1553512701; cv=pass;        d=google.com; s=arc-20160816;        b=StH4ube14JjdacnomUl+nnRbnHKUuzxW8U0n7+m05hEXUjQU5cEAcoW7KLcD8mOBRq         3ZIrI6FoRpXdK7HagDrvk4VjvwGiDiJtQJGXTuZKsuXYHq3d85AwZj0fz2dxsy1wFNXj         1G9bH88MmY5kW6trqZp5ZV5MtWin98D1kNhnwv1E/sQ2xlIbjwtgDsaLOsFsL+kxAz14         49iI0b7hKhTa6TYcMOvUgbILnVY9fHibyCuWLKOf1aHgDYNlEDu2dESORId/wQ96S6TG         RROs0QiFWyLaUptAaukghSGiGtFi0fUjKJaHJ3qbN9iWfv6c4k1Sff/xE2NXNa73NWlw         kD9A==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1553512696; cv=pass;        d=google.com; s=arc-20160816;        b=lMsNb/5jFR3QGYMImG/9paKtudbbThGLrq+3rUXOtW+DVndKoUuGbYQEQ/HwSYAXoA         ZMbYi9bwKRn7z/63MDk6H7NLL8v++foE2gN6xkZAqURekrX7xH0OhkpYIWPSyg7ZgjfJ         aDCVA+dvsWdu9F0JyZqoTuQuN7wnfyHuRGb9Byev/tPLaeIKkkW3dv6fS/I3H/KSwpvi         5TLydLZciqXU7nLNIQRVbftexUCOGN1fcE/znebHnYlYdAOP76ct0Eq22+D4W9VsCw3Y         /xZ5QrzpBGq43Hts4ajc4Nafpp+4kxlLMYDyQwJgDdLKraVj3bRPT/hj/3/EKTUFrKz2         v9Bg==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1553512695; cv=none;        d=google.com; s=arc-20160816;        b=IGOcUQWZeiF8aC0u6MQUpY/WSyQXfTTn1RsHTy0zU4SeUxbYuAzeLwe2fPXUZdgg2H         Wr84soOv75PLFhvEN2CImJjMHnhZZQFhY7hhFOty3fAb7LuNR/xU18UdIrLAemzOWXXd         F0b0AIFv975f1er2hQTe+pcPqQiMQerM+H5mY9sZgXkxlRIZC7nN8S0PWSyRRpg6mnIN         8WgHomEBN5Wb+BpIQPO3YXYly3FBkR47vWqJOww2dhqcyCC/N6SC2pKTjSXcmzE/pkum         iFlKuTNT2EdV2mTDJ0YOAZqT5F5yHndZ6JtmMKzKu6cQtcP+Wc1v/x2woIfFlQjF3MUz         T0SQ==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:mime-version:references:in-reply-to:from:date:subject:to         :message-id:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive;        bh=7dSm1PrJG6Pc8JkmTVL7uaJm0+5A+rK6VKqDY62YjWM=;        b=QhkUC4Xf0E5jh201WhA/MZOeAKYuVt85GRhH/GFSL1aPTSfGsufO5EJJnZurCQnYKZ         HJYh70gU/Y3hd7V33NPdkruMd6FprFNq/xePUAWA75JCjXCOPXMQxItbDqZjzbHJV9EF         Ol2jNVrw6LFKVgjzlYrwDBKqvIcgHe5yYsW0IOzmFmqpS9CSNCWU4ZKbqsKGY8MaYFW4         cVD1MEnyvCnsW/WEdsFU99770LGZ0c+gpSbjY1J6490zf5lfbk1XN9QkpMnM3TF8jQBe         4BhFMtp6EAghkvvgzGsp9O7UXiOWA2eFFwzemEn+kuDEJue9sPzX7CAVx9DdjCFK4ugQ         y/hQ==</li>
<li>In-reply-to: &lt;CABKKfvVRDXATRc_19TVipwHKKd+j9WzjC=3JgpjKTVDNk5g9bA@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CABKKfvVRDXATRc_19TVipwHKKd+j9WzjC=3JgpjKTVDNk5g9bA@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><div dir="ltr"><div dir="ltr"><div dir="ltr"><div dir="ltr"><div dir="ltr"><div>Dear Ferret users,</div><div><br></div><div>I&#39;m trying to create a mask for a country, following this discussion: <a rel="nofollow" href="https://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2012/msg00019.html">https://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2012/msg00019.html</a></div><div><br></div><div>I managed to have a netcdf file with all lon/lat coordinate to define a polygon of the country as in the discussion, but now I am not sure how to apply it to mask my data. <br></div><div>The pt_in_poly function (<a rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/appendix-a-external-functions/pt_in_poly">https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/appendix-a-external-functions/pt_in_poly</a>) requires to define a table of xp/yp. I tried to do something like: <br></div><div><br></div><div>let xp=LON[d=7,i=1:735178] <br></div><div>let yp=LAT[d=7,i=1:735178]</div><div>let mask = if pt_in_poly(Tmax[d=1,l=1],xp,yp) gt 0 then 1</div><div><br></div><div>But it doesn&#39;t seem to work. I think it&#39;s the way I define xp/yp that is wrong, but I don&#39;t know how to make a table {} from a coordinate. Any idea?</div><div><br></div><div>Cheers,</div><div>Nico</div><div><br></div></div></div></div></div></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00107" href="msg00107.html">Re: [ferret_users] polygon to mask country</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00067" href="msg00067.html">[ferret_users] mp_stereographic_south</a></strong>
<ul><li><em>From:</em> Muyin Wang - NOAA Affiliate</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00069.html">Re: [ferret_users] mp_stereographic_south</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00107.html">Re: [ferret_users] polygon to mask country</a></strong>
</li>

</UL>
<center>[<a href="msg00069.html">Thread Prev</a>][<a href="msg00107.html">Thread Next</a>][<A HREF="threads.html#00106">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
