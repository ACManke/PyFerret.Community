<!-- MHonArc v2.6.18 -->
<!--X-Subject: FW: [ferret_users] Writting a sample netcdf file with Julian calendar (unit=days) -->
<!--X-From-R13: Egne Bulfvpvfg <pbhentrgbxabjtpNubgznvy.pbz> -->
<!--X-Date: Fri, 3 Jan 2014 11:57:20 &#45;0800 -->
<!--X-Message-Id: BAY170&#45;W74617D7CE04453D1F7DCFBA5CA0@phx.gbl -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: BAY170&#45;W100F5A14A88EFDB72FB1E17A5CB0@phx.gbl -->
<!--X-Reference: 52C5A8A8.5060205@noaa.gov -->
<!--X-Reference: BAY170&#45;W81C5D6D2486551BCCB67E0A5CA0@phx.gbl -->
<!--X-Reference: 52C70CB4.1070501@noaa.gov -->
<!--X-Reference: BAY170&#45;W746E1A2B1228700D9F904AA5CA0@phx.gbl -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>FW: [ferret_users] Writting a sample netcdf file with Julian calendar (unit=days)</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00006.html">Thread Prev</a>][<a href="msg00022.html">Thread Next</a>][<A HREF="threads.html#00007">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>FW: [ferret_users] Writting a sample netcdf file with Julian calendar (unit=days)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>FW: [ferret_users] Writting a sample netcdf file with Julian calendar (unit=days)</strong></li>
<li><strong>From</strong>: <strong>Star Physicist &lt;<a href="mailto:couragetoknowgc@DOMAIN.HIDDEN">couragetoknowgc@xxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 3 Jan 2014 19:57:15 +0000</li>
<li>Importance: Normal</li>
<li>In-reply-to: &lt;BAY170-W746E1A2B1228700D9F904AA5CA0@phx.gbl&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/">http://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post">http://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;, &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00002.html">BAY170-W100F5A14A88EFDB72FB1E17A5CB0@phx.gbl</a>&gt;,&lt;<a href="msg00003.html">52C5A8A8.5060205@noaa.gov</a>&gt;,&lt;<a href="msg00005.html">BAY170-W81C5D6D2486551BCCB67E0A5CA0@phx.gbl</a>&gt;,&lt;<a href="msg00006.html">52C70CB4.1070501@noaa.gov</a>&gt;,&lt;BAY170-W746E1A2B1228700D9F904AA5CA0@phx.gbl&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style="">

<div dir='ltr'><br><br><div><hr id="stopSpelling"><br>


<div dir="ltr">Hi Ansley,<br><br>Actually I need much longer time than what my file has. In the sample script I just gave it till 2013. I wanted to go till year 2300 starting from 1850.<br><br><br>Thanks,<br><br>Mubashar<br><br><div><hr id="ecxstopSpelling">Date: Fri, 3 Jan 2014 11:17:08 -0800<br>From: ansley.b.manke@xxxxxxxx<br>To: couragetoknowgc@xxxxxxxxxxx; ferret_users@xxxxxxxx<br>Subject: Re: [ferret_users] Writting a sample netcdf file with Julian calendar (unit=days)<br><br>
  
    
  
  
    Hi,<br>
    You should be able to use the time axis from your file.&nbsp; It starts
    at the same time, and is longer than the time axis that you wanted.
    Initializing the dataset the file will put the definition of axis
    "time" into Ferret, so you can just specify it in your grid
    definition and then write the time range that you want.<br>
    <br>
    <blockquote> !********************************Script to create a
      dummy netcdf file<br>
      <br>
      <br>
      define the axes and grids<br>
      ! temperature axes<br>
      define axis/x=130e:80w:2/unit="degrees" xt<br>
      define axis/y=20s:20n:2/unit="degrees" yt<br>
      <br>
      ! velocity axes (staggered relative to temperature)<br>
      define axis/x=131e:79w:2/unit="degrees" xu<br>
      define axis/y=19s:21n:2/unit="degrees" yu<br>
      <br>
      ! time axis <br>
      !!! define
      axis/t="16-jan-1850:00:00":"16-dec-2013:00:00":31/calendar=julian/unit="days"

      time<br>
      !!! axis is defined in the dataset extlw<br>
      use extlw<br>
      <br>
      ! define the grids<br>
      define grid/x=xt/y=yt/t=time gt<br>
      define grid/x=xu/y=yu/t=time gu<br>
      <br>
      ! define the (dummy) variables<br>
      let u = SIN((x[g=gu]+y[g=gu]+t[g=gu])/100)<br>
      let temp = SIN((x[g=gt]+y[g=gt]+t[g=gt])/100)<br>
      set variable/title="Temperature"/units="centigrade" temp<br>
      set variable/title="Zonal Velocity"/units="m/sec" u<br>
      SET MEMORY/SIZE=1000<br>
      ! create the template NetCDF file<br>
      <br>
      !!! save the desired date range<br>
      save/file=template.cdf/t="16-jan-1850:00:00":"16-dec-2013:00:00"
      temp,u<br>
      <br>
    </blockquote>
    <div class="ecxmoz-cite-prefix">On 1/3/2014 10:50 AM, Star Physicist
      wrote:<br>
    </div>
    <blockquote cite="">
      
      <div dir="ltr">Dear Ansley,<br>
        <br>
        Please find attached ncdump -c information of a file that I am
        giving as an input aerosol data to my GFDL CM2.1 model and it is
        using julian calendar with proper month lengths. I need this
        format of calendar because model is not working with standard
        calendar.<br>
        Thanks,<br>
        <br>
        <br>
        Mubashar<br>
        <br>
        <div>
          <hr id="ecxstopSpelling">Date: Thu, 2 Jan 2014 09:58:00 -0800<br>
          From: <a rel="nofollow" class="ecxmoz-txt-link-abbreviated" href="mailto:ansley.b.manke@xxxxxxxx">ansley.b.manke@xxxxxxxx</a><br>
          To: <a rel="nofollow" class="ecxmoz-txt-link-abbreviated" href="mailto:couragetoknowgc@xxxxxxxxxxx">couragetoknowgc@xxxxxxxxxxx</a>; <a rel="nofollow" class="ecxmoz-txt-link-abbreviated" href="mailto:ferret_users@xxxxxxxx">ferret_users@xxxxxxxx</a><br>
          Subject: Re: [ferret_users] Writting a sample netcdf file with
          Julian calendar (unit=days)<br>
          <br>
          Hi Mubashar<br>
          You want to define an irregularly-spaced axis, so that the
          months have the right number of days for each.&nbsp; This is
          discussed under the heading "calendar" in the Users Guide,&nbsp; In
          the index see, CALENDAR, DEFINE AXIS/CALENDAR.<br>
          <br>
          <a rel="nofollow" class="ecxmoz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/DEFINE#_VPINDEXENTRY_1306" target="_blank">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/DEFINE#_VPINDEXENTRY_1306</a><br>
          <br>
          and particularly, scroll down in that section to the part
          about using /EDGES to make a true monthly axis. Noted in that
          same section there is a script that will define a monthly axis
          in units of days, for the standard Gregorian calendar, the
          NOLEAP, ALL_LEAP, and 360-day calendars. <br>
          <br>
          yes? go/help def_monthaxis_days<br>
          <br>
          Now, for a Julian calendar, the logic doesn't quite work.&nbsp; One
          could think of make February 28.25 days long, but then the
          months after February would start not at hour 00 but
          elsewhere.&nbsp; I suppose there could be a 4-year calendar defined
          with all of the correct month lengths.&nbsp; <br>
          <br>
          Can your work possibly use the Gregorian calendar?<br>
          <br>
          Ansley<br>
          <br>
          <br>
          <div class="ecxmoz-cite-prefix">On 1/2/2014 5:45 AM, Star
            Physicist wrote:<br>
          </div>
          <blockquote cite="">
            
            <div dir="ltr">Dear Ferret users,<br>
              <br>
              I am trying to create a sample file for temperature and
              zonal velocity by using Julian calendar with units as
              days. Follwing script works fine but there is a small
              issue. I need the increment (delta) in define statement to
              be exact number of days (Jan=31, Feb=28 or 29 and so on)
              instead of fixed 31 that I am using currently. Can you
              please help me to modify my script in order to fulfil the
              requirement.<br>
              <br>
              Thanks,<br>
              <br>
              Mubashar<br>
              <br>
              !********************************Script to create a dummy
              netcdf file<br>
              <br>
              define the axes and grids<br>
              ! temperature axes<br>
              define axis/x=130e:80w:2/unit="degrees" xt<br>
              define axis/y=20s:20n:2/unit="degrees" yt<br>
              <br>
              ! velocity axes (staggered relative to temperature)<br>
              define axis/x=131e:79w:2/unit="degrees" xu<br>
              define axis/y=19s:21n:2/unit="degrees" yu<br>
              <br>
              ! time axis<br>
              define
              axis/t="16-jan-1850:00:00":"16-dec-2013:00:00":31/calendar=julian/unit="days"

              time<br>
              ! define the grids<br>
              define grid/x=xt/y=yt/t=time gt<br>
              define grid/x=xu/y=yu/t=time gu<br>
              <br>
              ! define the (dummy) variables<br>
              let u = SIN((x[g=gu]+y[g=gu]+t[g=gu])/100)<br>
              let temp = SIN((x[g=gt]+y[g=gt]+t[g=gt])/100)<br>
              set variable/title="Temperature"/units="centigrade" temp<br>
              set variable/title="Zonal Velocity"/units="m/sec" u<br>
              SET MEMORY/SIZE=1000<br>
              ! create the template NetCDF file<br>
              save/file=template.cdf temp,u<br>
            </div>
          </blockquote>
          <br>
        </div>
      </div>
    </blockquote>
    <br></div> 		 	   		  </div></div> 		 	   		  </div>
</td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00002" href="msg00002.html">[ferret_users] Writting a sample netcdf file with Julian calendar (unit=days)</a></strong>
<ul><li><em>From:</em> Star Physicist</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: [ferret_users] Writting a sample netcdf file with Julian calendar (unit=days)</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">RE: [ferret_users] Writting a sample netcdf file with Julian calendar (unit=days)</a></strong>
<ul><li><em>From:</em> Star Physicist</li></ul></li>
<li><strong><a name="00006" href="msg00006.html">Re: [ferret_users] Writting a sample netcdf file with Julian calendar (unit=days)</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00006.html">Re: [ferret_users] Writting a sample netcdf file with Julian calendar (unit=days)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00022.html">Re: [ferret_users] Writting a sample netcdf file with Julian calendar (unit=days)</a></strong>
</li>

</UL>
<center>[<a href="msg00006.html">Thread Prev</a>][<a href="msg00022.html">Thread Next</a>][<A HREF="threads.html#00007">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
