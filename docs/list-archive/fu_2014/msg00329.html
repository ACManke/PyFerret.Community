<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] addition in ferret -->
<!--X-From-R13: @vgva Bngvy <avgvacngvy85Ntznvy.pbz> -->
<!--X-Date: Wed, 20 Aug 2014 22:52:17 &#45;0700 -->
<!--X-Message-Id: CAEenqf+H38B5W0=5up+FQwtt+n=1xBO_bZ_UvWhA0xJMOGHKuQ@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAEenqf+ehEqKAEGTSqyFnzV5CRPhrAwLXSv3aHAzMDjcoomMnA@mail.gmail.com -->
<!--X-Reference: 53F38CFD.7040702@noaa.gov -->
<!--X-Reference: CAEenqfKirAX+MtPSoGbeyK8HGXTNH6bgfy0VCCvmZhF7DMJ8hA@mail.gmail.com -->
<!--X-Reference: 53F4D4DD.1080702@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] addition in ferret</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00328.html">Thread Prev</a>][<a href="msg00322.html">Thread Next</a>][<A HREF="threads.html#00329">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] addition in ferret</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] addition in ferret</strong></li>
<li><strong>From</strong>: <strong>Nitin Patil &lt;<a href="mailto:nitinpatil85@DOMAIN.HIDDEN">nitinpatil85@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 21 Aug 2014 11:22:14 +0530</li>
<li>Cc: &quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot; &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>In-reply-to: &lt;<a href="msg00328.html">53F4D4DD.1080702@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/">http://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post">http://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00318.html">CAEenqf+ehEqKAEGTSqyFnzV5CRPhrAwLXSv3aHAzMDjcoomMnA@mail.gmail.com</a>&gt;	&lt;<a href="msg00320.html">53F38CFD.7040702@noaa.gov</a>&gt;	&lt;<a href="msg00326.html">CAEenqfKirAX+MtPSoGbeyK8HGXTNH6bgfy0VCCvmZhF7DMJ8hA@mail.gmail.com</a>&gt;	&lt;<a href="msg00328.html">53F4D4DD.1080702@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Thanks Ansley, It worked.</div><div class="gmail_extra"><br clear="all"><div><div dir="ltr"><div>--</div>Regards,<div>Nitin Patil</div></div></div>
<br><br><div class="gmail_quote">On Wed, Aug 20, 2014 at 10:33 PM, Ansley Manke <span dir="ltr">&lt;<a rel="nofollow" href="mailto:ansley.b.manke@xxxxxxxx" target="_blank">ansley.b.manke@xxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">

  
    
  
  <div text="#000000" bgcolor="#FFFFFF">
    Ninin,<br>
    So, to take the average you&#39;ll need to divide by the count of valid
    data in the two rows at each position.<br>
    <blockquote>
      <pre>   gp1    gp2    sum

  0.681  0.716  1.398
  0.664  0.911  1.575
  1.101  0.724  1.825
  1.125  0.844  1.968
  0.516  0.713  1.228
  0.463  0.388  0.851
  0.801   ....   ....
  0.651  0.899  1.550
  0.715  0.795  1.510
  0.656  0.580  1.237</pre>
      <tt><br>
      </tt><tt>! 1 if the data is valid, 0 otherwise.</tt><tt>&#xA0; (see
        below for a note about IF vs IFV.)<br>
      </tt><tt><br>
      </tt><tt>yes? let gp1_good = ifv gp1 then 1</tt><tt> else 0</tt><tt><br>
      </tt><tt>yes? let gp2_good = ifv gp2 then 1 else 0</tt><tt><br>
      </tt><tt><br>
      </tt><tt>yes? list gp1_good, gp2_good</tt><tt><br>
      </tt><tt>...</tt><tt><br>
      </tt><tt>1&#xA0;&#xA0;&#xA0; /&#xA0; 1:&#xA0;&#xA0; 1.000&#xA0;&#xA0; 1.000</tt><br>
      <tt>2&#xA0;&#xA0;&#xA0; /&#xA0; 2:&#xA0;&#xA0; 1.000&#xA0;&#xA0; 1.000</tt><br>
      <tt>3&#xA0;&#xA0;&#xA0; /&#xA0; 3:&#xA0;&#xA0; 1.000&#xA0;&#xA0; 1.000</tt><br>
      <tt>4&#xA0;&#xA0;&#xA0; /&#xA0; 4:&#xA0;&#xA0; 1.000&#xA0;&#xA0; 1.000</tt><br>
      <tt>5&#xA0;&#xA0;&#xA0; /&#xA0; 5:&#xA0;&#xA0; 1.000&#xA0;&#xA0; 1.000</tt><br>
      <tt>6&#xA0;&#xA0;&#xA0; /&#xA0; 6:&#xA0;&#xA0; 1.000&#xA0;&#xA0; 1.000</tt><br>
      <tt>7&#xA0;&#xA0;&#xA0; /&#xA0; 7:&#xA0;&#xA0; 1.000&#xA0;&#xA0; 0.000</tt><br>
      <tt>8&#xA0;&#xA0;&#xA0; /&#xA0; 8:&#xA0;&#xA0; 1.000&#xA0;&#xA0; 1.000</tt><br>
      <tt>9&#xA0;&#xA0;&#xA0; /&#xA0; 9:&#xA0;&#xA0; 1.000&#xA0;&#xA0; 1.000</tt><br>
      <tt>10&#xA0;&#xA0; / 10:&#xA0;&#xA0; 1.000&#xA0;&#xA0; 1.000</tt><br>
      <tt>...</tt><br>
      <br>
      <tt>yes? </tt><tt>let count = gp1_good + gp2_good</tt><br>
    </blockquote>
    <br>
    and you could divide the variable sum by count for the average.<br>
    <br>
    <br>
    Notice I used IFV in the definitions for gp1_good and gp2_good.&#xA0;
    This is a special version of IF, which is TRUE if the data is valid,
    even when the value itself is zero. Using just the IF command would
    return FALSE for valid values of exactly zero.<br>
    <br>
    <tt>yes? list IF {2., 0., 3} then 1</tt><tt><br>
    </tt><tt>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : IF {2., 0., 3} THEN 1</tt><tt><br>
    </tt><tt>
      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SUBSET&#xA0;&#xA0; : 3 points (X)</tt><tt><br>
    </tt><tt>
      &#xA0;1&#xA0;&#xA0; / 1:&#xA0; 1.000</tt><tt><br>
    </tt><tt>
      &#xA0;2&#xA0;&#xA0; / 2:&#xA0;&#xA0; ....</tt><tt><br>
    </tt><tt>
      &#xA0;3&#xA0;&#xA0; / 3:&#xA0; 1.000</tt><tt><br>
    </tt><tt>
    </tt><tt><br>
    </tt><tt>yes? list&#xA0; IFV {2., 0., 3} then 1</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; VARIABLE : IFV {2., 0., 3} THEN 1</tt><tt><br>
    </tt><tt>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; SUBSET&#xA0;&#xA0; : 3 points (X)</tt><tt><br>
    </tt><tt>&#xA0;1&#xA0;&#xA0; / 1:&#xA0; 1.000</tt><tt><br>
    </tt><tt>&#xA0;2&#xA0;&#xA0; / 2:&#xA0; 1.000</tt><tt><br>
    </tt><tt>&#xA0;3&#xA0;&#xA0; / 3:&#xA0; 1.000</tt><div><div class="h5"><tt><br>
    </tt><tt><br>
    </tt><br>
    <br>
    <br>
    <div>On 8/20/2014 3:46 AM, Nitin Patil
      wrote:<br>
    </div>
    <blockquote type="cite">
      <div dir="ltr">
        <div>
          <div>Thanks Ansley for the solution. Sorry I forgot to ask in
            my previous email.<br>
            <br>
            If I have to take the mean for the two columns (as per in my
            previous email attached txt file) instead of sum, I can,t do
            straight forward due to missing. What I tried is:<br>
            <br>
            let sum = MISSING(gp1, 0) + MISSING(gp2, 0)<br>
          </div>
          let mean=sum/2<br>
          <br>
        </div>
        bz It will give wrong mean for missing row. Any solution to
        this.<br>
        <div>
          <div>
            <div>
              <div><img src=""></div>
            </div>
          </div>
        </div>
      </div>
      <div class="gmail_extra"><br clear="all">
        <div>
          <div dir="ltr">
            <div>--</div>
            Regards,
            <div>Nitin Patil</div>
          </div>
        </div>
        <br>
        <br>
        <div class="gmail_quote">On Tue, Aug 19, 2014 at 11:14 PM,
          Ansley Manke <span dir="ltr">&lt;<a rel="nofollow" href="mailto:ansley.b.manke@xxxxxxxx" target="_blank">ansley.b.manke@xxxxxxxx</a>&gt;</span>
          wrote:<br>
          <blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
            <div text="#000000" bgcolor="#FFFFFF"> Hi Nitin,<br>
              In Ferret, missing + variable = missing.&#xA0; (This is true
              for all operations, and it&#39;s probably more intuitive if
              you think, what should be the result if you were
              multiplying or dividing the variables? Missing*2 = ?)<br>
              <br>
              If you want to have the sum contain any values that do
              exist then you&#39;ll need to fill in any missing data with
              zero&#39;s.&#xA0; Either define new variables with an IF statement
              like <br>
              <blockquote>let gp1var = if gp1&#xA0; then gp1 else 0<br>
                let gp2var = if gp2&#xA0; then gp2 else 0<br>
              </blockquote>
              and add those, or you could use the MISSING function to
              substitute 0 where either variable is missing.<br>
              <blockquote>let sum = MISSING(gp1, 0) + MISSING(gp2, 0)<span><font color="#888888"><br>
                  </font></span></blockquote>
              <span><font color="#888888"> <br>
                  Ansley</font></span>
              <div>
                <div><br>
                  <br>
                  <div>On 8/19/2014 1:33 AM, Nitin Patil wrote:<br>
                  </div>
                  <blockquote type="cite">
                    <div dir="ltr">
                      <div>
                        <div>Dear ferret users,<br>
                          <br>
                        </div>
                        I am adding simply 2 defined variables in my
                        script (attached) but it is not doing addition,
                        any idea (output is also attached).<br>
                        <br>
                      </div>
                      It is not accepting &quot;....&quot; in output file in one
                      of the column for addition.<br clear="all">
                      <div>
                        <div>
                          <div>
                            <div>
                              <div>
                                <div dir="ltr">
                                  <div>--</div>
                                  Regards,
                                  <div>Nitin Patil</div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </blockquote>
                  <br>
                </div>
              </div>
            </div>
          </blockquote>
        </div>
        <br>
      </div>
    </blockquote>
    <br>
  </div></div></div>

</blockquote></div><br></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00318" href="msg00318.html">[ferret_users] addition in ferret</a></strong>
<ul><li><em>From:</em> Nitin Patil</li></ul></li>
<li><strong><a name="00320" href="msg00320.html">Re: [ferret_users] addition in ferret</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
<li><strong><a name="00326" href="msg00326.html">Re: [ferret_users] addition in ferret</a></strong>
<ul><li><em>From:</em> Nitin Patil</li></ul></li>
<li><strong><a name="00328" href="msg00328.html">Re: [ferret_users] addition in ferret</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00328.html">Re: [ferret_users] addition in ferret</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00322.html">[ferret_users] Define, change/add/remove element in an array.</a></strong>
</li>

</UL>
<center>[<a href="msg00328.html">Thread Prev</a>][<a href="msg00322.html">Thread Next</a>][<A HREF="threads.html#00329">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
