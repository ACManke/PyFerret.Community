<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Multiplying by days in month -->
<!--X-From-R13: Enz Dnova <fnzenovofghssNtznvy.pbz> -->
<!--X-Date: Wed, 22 Oct 2014 18:51:29 &#45;0700 -->
<!--X-Message-Id: 20DEE5A8&#45;652E&#45;4B71&#45;A315&#45;5C43B97A25DA@gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 69555C2E&#45;C6EA&#45;4A37&#45;8892&#45;CFDE6DC141D3@gmail.com -->
<!--X-Reference: 54482B86.4090107@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Multiplying by days in month</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00360.html">Thread Prev</a>][<a href="msg00362.html">Thread Next</a>][<A HREF="threads.html#00361">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Multiplying by days in month</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Multiplying by days in month</strong></li>
<li><strong>From</strong>: <strong>Sam Rabin &lt;<a href="mailto:samrabibstuff@DOMAIN.HIDDEN">samrabibstuff@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 22 Oct 2014 21:51:20 -0400</li>
<li>In-reply-to: &lt;<a href="msg00360.html">54482B86.4090107@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/">http://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post">http://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00359.html">69555C2E-C6EA-4A37-8892-CFDE6DC141D3@gmail.com</a>&gt; &lt;<a href="msg00360.html">54482B86.4090107@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td style="">Awesome, thanks! This gets me most of the way there, but I noticed a discrepancy. It looks like the result of what you gave me isn&#x2019;t exactly the same as if I multiplied each January by 31, each February by 28.25, etc. &#x2014; except, for some reason, for every July and December, which work perfectly.<div><br></div><div>I made a few variations:<div><br><div><ul class="MailOutline"><li>BA_v1: ba_rate_month as calculated via your procedure</li><li>BA_v2: Used four years&#x2019; worth of days in month so that leap year Februaries have 29 days, others with 28. (To generalize, I can get fancy with IF clauses and the MOD function &#x2014; Y is a leap year if MOD(Y,4) EQ 0.)</li><li>BA_v3: Instead of&nbsp;[gt=ba_rate] on the last line, use&nbsp;[gt=ba_rate@asn].</li></ul><div><br></div><div>As you can see in the results printed below my signature, BA_v3 works correctly.</div></div><div><br></div><div>Thanks for your help!</div><div><br></div><div><span class="Apple-tab-span" style="white-space:pre">	</span>Sam</div><div><br></div><div><br></div><div><br></div><div><font face="Courier"><span style="font-size: 12px;">yes? list/prec=7 ba_rate[i=@sum,j=@sum,l=1:48], BA_v1[i=@sum,j=@sum,l=1:48],&nbsp;BA_v2[i=@sum,j=@sum,l=1:48], BA_v3[i=@sum,j=@sum,l=1:48]<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DATA SET: ./land_month_meanFxAvgProper_1_1501-1723_BArate.nc<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TIME: 01-JAN-1501 00:00 to 01-JAN-1505 00:00 JULIAN<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LONGITUDE: 0E to 0E(360) (XY summed)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LATITUDE: 90S to 90N (XY summed)<br>&nbsp;Column&nbsp;&nbsp;1: BA_RATE is Burned area (km2/day)<br>&nbsp;Column&nbsp;&nbsp;2: BA_V1 is BA_RATE * DAYS_IN_MONTHS[GT=BA_RATE]<br>&nbsp;Column&nbsp;&nbsp;3: BA_V2 is BA_RATE * DAYS_IN_MONTHS2[GT=BA_RATE]<br>&nbsp;Column&nbsp;&nbsp;4: BA_V3 is BA_RATE * DAYS_IN_MONTHS2[GT=BA_RATE@ASN]<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;BA_RATE&nbsp; &nbsp;&nbsp;BA_V1&nbsp;&nbsp; &nbsp;&nbsp;BA_V2&nbsp;&nbsp; &nbsp;&nbsp;BA_V3<br>16-JAN-1501 12 /&nbsp;&nbsp;1:&nbsp;&nbsp; &nbsp;&nbsp;80.44&nbsp;&nbsp; &nbsp;&nbsp;2488.&nbsp;&nbsp; &nbsp;&nbsp;2486.&nbsp;&nbsp; &nbsp;&nbsp;2494.<br>15-FEB-1501 00 /&nbsp;&nbsp;2:&nbsp;&nbsp;&nbsp;2338.79&nbsp; &nbsp;&nbsp;66202.&nbsp; &nbsp;&nbsp;65719.&nbsp; &nbsp;&nbsp;65486.<br>16-MAR-1501 12 /&nbsp;&nbsp;3:&nbsp;&nbsp;&nbsp;9201.38&nbsp;&nbsp;&nbsp;285098.&nbsp;&nbsp;&nbsp;284947.&nbsp;&nbsp;&nbsp;285243.<br>16-APR-1501 00 /&nbsp;&nbsp;4:&nbsp;&nbsp;13499.57&nbsp;&nbsp;&nbsp;405199.&nbsp;&nbsp;&nbsp;405420.&nbsp;&nbsp;&nbsp;404987.<br>16-MAY-1501 12 /&nbsp;&nbsp;5:&nbsp;&nbsp;14870.32&nbsp;&nbsp;&nbsp;460746.&nbsp;&nbsp;&nbsp;460503.&nbsp;&nbsp;&nbsp;460980.<br>16-JUN-1501 00 /&nbsp;&nbsp;6:&nbsp;&nbsp;16933.16&nbsp;&nbsp;&nbsp;508261.&nbsp;&nbsp;&nbsp;508538.&nbsp;&nbsp;&nbsp;507995.<br>16-JUL-1501 12 /&nbsp;&nbsp;7:&nbsp;&nbsp;21494.46&nbsp;&nbsp;&nbsp;666328.&nbsp;&nbsp;&nbsp;666328.&nbsp;&nbsp;&nbsp;666328.<br>16-AUG-1501 12 /&nbsp;&nbsp;8:&nbsp;&nbsp;27994.54&nbsp;&nbsp;&nbsp;867391.&nbsp;&nbsp;&nbsp;866932.&nbsp;&nbsp;&nbsp;867831.<br>16-SEP-1501 00 /&nbsp;&nbsp;9:&nbsp;&nbsp;33873.29&nbsp;&nbsp;1016731.&nbsp;&nbsp;1017286.&nbsp;&nbsp;1016199.<br>16-OCT-1501 12 / 10:&nbsp;&nbsp;25794.03&nbsp;&nbsp;&nbsp;799209.&nbsp;&nbsp;&nbsp;798787.&nbsp;&nbsp;&nbsp;799615.<br>16-NOV-1501 00 / 11:&nbsp;&nbsp;21719.95&nbsp;&nbsp;&nbsp;651940.&nbsp;&nbsp;&nbsp;652296.&nbsp;&nbsp;&nbsp;651599.<br>16-DEC-1501 12 / 12:&nbsp;&nbsp;20904.34&nbsp;&nbsp;&nbsp;648035.&nbsp;&nbsp;&nbsp;648035.&nbsp;&nbsp;&nbsp;648035.<br>16-JAN-1502 12 / 13:&nbsp;&nbsp;22102.71&nbsp;&nbsp;&nbsp;684201.&nbsp;&nbsp;&nbsp;682983.&nbsp;&nbsp;&nbsp;685184.<br>15-FEB-1502 00 / 14:&nbsp;&nbsp;22847.21&nbsp;&nbsp;&nbsp;646185.&nbsp;&nbsp;&nbsp;641997.&nbsp;&nbsp;&nbsp;639722.<br>16-MAR-1502 12 / 15:&nbsp;&nbsp;22879.40&nbsp;&nbsp;&nbsp;709089.&nbsp;&nbsp;&nbsp;708527.&nbsp;&nbsp;&nbsp;709261.<br>16-APR-1502 00 / 16:&nbsp;&nbsp;22050.57&nbsp;&nbsp;&nbsp;661683.&nbsp;&nbsp;&nbsp;662225.&nbsp;&nbsp;&nbsp;661517.<br>16-MAY-1502 12 / 17:&nbsp;&nbsp;21413.66&nbsp;&nbsp;&nbsp;663662.&nbsp;&nbsp;&nbsp;663136.&nbsp;&nbsp;&nbsp;663823.<br>16-JUN-1502 00 / 18:&nbsp;&nbsp;18749.40&nbsp;&nbsp;&nbsp;562623.&nbsp;&nbsp;&nbsp;563084.&nbsp;&nbsp;&nbsp;562482.<br>16-JUL-1502 12 / 19:&nbsp;&nbsp;23282.84&nbsp;&nbsp;&nbsp;721768.&nbsp;&nbsp;&nbsp;721768.&nbsp;&nbsp;&nbsp;721768.<br>16-AUG-1502 12 / 20:&nbsp;&nbsp;31219.10&nbsp;&nbsp;&nbsp;967558.&nbsp;&nbsp;&nbsp;966790.&nbsp;&nbsp;&nbsp;967792.<br>16-SEP-1502 00 / 21:&nbsp;&nbsp;32838.06&nbsp;&nbsp;&nbsp;985389.&nbsp;&nbsp;&nbsp;986196.&nbsp;&nbsp;&nbsp;985142.<br>16-OCT-1502 12 / 22:&nbsp;&nbsp;29327.18&nbsp;&nbsp;&nbsp;908922.&nbsp;&nbsp;&nbsp;908201.&nbsp;&nbsp;&nbsp;909143.<br>16-NOV-1502 00 / 23:&nbsp;&nbsp;18861.25&nbsp;&nbsp;&nbsp;565979.&nbsp;&nbsp;&nbsp;566443.&nbsp;&nbsp;&nbsp;565837.<br>16-DEC-1502 12 / 24:&nbsp;&nbsp;24675.93&nbsp;&nbsp;&nbsp;764954.&nbsp;&nbsp;&nbsp;764954.&nbsp;&nbsp;&nbsp;764954.<br>16-JAN-1503 12 / 25:&nbsp;&nbsp;24545.29&nbsp;&nbsp;&nbsp;760382.&nbsp;&nbsp;&nbsp;759302.&nbsp;&nbsp;&nbsp;760904.<br>15-FEB-1503 00 / 26:&nbsp;&nbsp;23400.15&nbsp;&nbsp;&nbsp;661281.&nbsp;&nbsp;&nbsp;679352.&nbsp;&nbsp;&nbsp;655204.<br>16-MAR-1503 12 / 27:&nbsp;&nbsp;24048.15&nbsp;&nbsp;&nbsp;745493.&nbsp;&nbsp;&nbsp;745493.&nbsp;&nbsp;&nbsp;745493.<br>16-APR-1503 00 / 28:&nbsp;&nbsp;25808.78&nbsp;&nbsp;&nbsp;774263.&nbsp;&nbsp;&nbsp;774263.&nbsp;&nbsp;&nbsp;774263.<br>16-MAY-1503 12 / 29:&nbsp;&nbsp;19201.62&nbsp;&nbsp;&nbsp;595250.&nbsp;&nbsp;&nbsp;595250.&nbsp;&nbsp;&nbsp;595250.<br>16-JUN-1503 00 / 30:&nbsp;&nbsp;17855.02&nbsp;&nbsp;&nbsp;535651.&nbsp;&nbsp;&nbsp;535651.&nbsp;&nbsp;&nbsp;535651.<br>16-JUL-1503 12 / 31:&nbsp;&nbsp;16090.21&nbsp;&nbsp;&nbsp;498797.&nbsp;&nbsp;&nbsp;498797.&nbsp;&nbsp;&nbsp;498797.<br>16-AUG-1503 12 / 32:&nbsp;&nbsp;21976.96&nbsp;&nbsp;&nbsp;681286.&nbsp;&nbsp;&nbsp;681286.&nbsp;&nbsp;&nbsp;681286.<br>16-SEP-1503 00 / 33:&nbsp;&nbsp;27334.76&nbsp;&nbsp;&nbsp;820043.&nbsp;&nbsp;&nbsp;820043.&nbsp;&nbsp;&nbsp;820043.<br>16-OCT-1503 12 / 34:&nbsp;&nbsp;28825.21&nbsp;&nbsp;&nbsp;893581.&nbsp;&nbsp;&nbsp;893581.&nbsp;&nbsp;&nbsp;893581.<br>16-NOV-1503 00 / 35:&nbsp;&nbsp;30561.32&nbsp;&nbsp;&nbsp;916840.&nbsp;&nbsp;&nbsp;916840.&nbsp;&nbsp;&nbsp;916840.<br>16-DEC-1503 12 / 36:&nbsp;&nbsp;28564.04&nbsp;&nbsp;&nbsp;885485.&nbsp;&nbsp;&nbsp;885485.&nbsp;&nbsp;&nbsp;885485.<br>16-JAN-1504 12 / 37:&nbsp;&nbsp;25712.30&nbsp;&nbsp;&nbsp;797081.&nbsp;&nbsp;&nbsp;797081.&nbsp;&nbsp;&nbsp;797081.<br>15-FEB-1504 12 / 38:&nbsp;&nbsp;25385.38&nbsp;&nbsp;&nbsp;717972.&nbsp;&nbsp;&nbsp;712028.&nbsp;&nbsp;&nbsp;736176.<br>16-MAR-1504 12 / 39:&nbsp;&nbsp;24186.73&nbsp;&nbsp;&nbsp;749210.&nbsp;&nbsp;&nbsp;749012.&nbsp;&nbsp;&nbsp;749789.<br>16-APR-1504 00 / 40:&nbsp;&nbsp;22441.96&nbsp;&nbsp;&nbsp;673796.&nbsp;&nbsp;&nbsp;673980.&nbsp;&nbsp;&nbsp;673259.<br>16-MAY-1504 12 / 41:&nbsp;&nbsp;19744.92&nbsp;&nbsp;&nbsp;611620.&nbsp;&nbsp;&nbsp;611458.&nbsp;&nbsp;&nbsp;612092.<br>16-JUN-1504 00 / 42:&nbsp;&nbsp;16672.43&nbsp;&nbsp;&nbsp;500572.&nbsp;&nbsp;&nbsp;500708.&nbsp;&nbsp;&nbsp;500173.<br>16-JUL-1504 12 / 43:&nbsp;&nbsp;15625.86&nbsp;&nbsp;&nbsp;484402.&nbsp;&nbsp;&nbsp;484402.&nbsp;&nbsp;&nbsp;484402.<br>16-AUG-1504 12 / 44:&nbsp;&nbsp;20372.97&nbsp;&nbsp;&nbsp;631075.&nbsp;&nbsp;&nbsp;630908.&nbsp;&nbsp;&nbsp;631562.<br>16-SEP-1504 00 / 45:&nbsp;&nbsp;26970.94&nbsp;&nbsp;&nbsp;809773.&nbsp;&nbsp;&nbsp;809994.&nbsp;&nbsp;&nbsp;809128.<br>16-OCT-1504 12 / 46:&nbsp;&nbsp;28341.75&nbsp;&nbsp;&nbsp;877916.&nbsp;&nbsp;&nbsp;877684.&nbsp;&nbsp;&nbsp;878594.<br>16-NOV-1504 00 / 47:&nbsp;&nbsp;27011.61&nbsp;&nbsp;&nbsp;810994.&nbsp;&nbsp;&nbsp;811216.&nbsp;&nbsp;&nbsp;810348.<br>16-DEC-1504 12 / 48:&nbsp;&nbsp;26251.07&nbsp;&nbsp;&nbsp;813783.&nbsp;&nbsp;&nbsp;813783.&nbsp;&nbsp;&nbsp;813783.<br>yes? list BA_v1[i=@sum,j=@sum,l=1:48]/ba_rate[i=@sum,j=@sum,l=1:48],&nbsp;BA_v2[i=@sum,j=@sum,l=1:48]/ba_rate[i=@sum,j=@sum,l=1:48],&nbsp;BA_v3[i=@sum,j=@sum,l=1:48]/ba_rate[i=@sum,j=@sum,l=1:48]<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DATA SET: ./land_month_meanFxAvgProper_1_1501-1723_BArate.nc<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;TIME: 01-JAN-1501 00:00 to 01-JAN-1505 00:00 JULIAN<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LONGITUDE: 0E to 0E(360)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LATITUDE: 90S to 90N<br>&nbsp;Column&nbsp;&nbsp;1: EX#1 is BA_V1[I=@SUM,J=@SUM,L=1:48]/BA_RATE[I=@SUM,J=@SUM,L=1:48]<br>&nbsp;Column&nbsp;&nbsp;2: EX#2 is BA_V2[I=@SUM,J=@SUM,L=1:48]/BA_RATE[I=@SUM,J=@SUM,L=1:48]<br>&nbsp;Column&nbsp;&nbsp;3: EX#3 is BA_V3[I=@SUM,J=@SUM,L=1:48]/BA_RATE[I=@SUM,J=@SUM,L=1:48]<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;EX#1&nbsp;&nbsp;&nbsp;EX#2&nbsp;&nbsp;&nbsp;EX#3<br>16-JAN-1501 12 /&nbsp;&nbsp;1:&nbsp;&nbsp;30.93&nbsp;&nbsp;30.90&nbsp;&nbsp;31.00<br>15-FEB-1501 00 /&nbsp;&nbsp;2:&nbsp;&nbsp;28.31&nbsp;&nbsp;28.10&nbsp;&nbsp;28.00<br>16-MAR-1501 12 /&nbsp;&nbsp;3:&nbsp;&nbsp;30.98&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-APR-1501 00 /&nbsp;&nbsp;4:&nbsp;&nbsp;30.02&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-MAY-1501 12 /&nbsp;&nbsp;5:&nbsp;&nbsp;30.98&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-JUN-1501 00 /&nbsp;&nbsp;6:&nbsp;&nbsp;30.02&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-JUL-1501 12 /&nbsp;&nbsp;7:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>16-AUG-1501 12 /&nbsp;&nbsp;8:&nbsp;&nbsp;30.98&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-SEP-1501 00 /&nbsp;&nbsp;9:&nbsp;&nbsp;30.02&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-OCT-1501 12 / 10:&nbsp;&nbsp;30.98&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-NOV-1501 00 / 11:&nbsp;&nbsp;30.02&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-DEC-1501 12 / 12:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>16-JAN-1502 12 / 13:&nbsp;&nbsp;30.96&nbsp;&nbsp;30.90&nbsp;&nbsp;31.00<br>15-FEB-1502 00 / 14:&nbsp;&nbsp;28.28&nbsp;&nbsp;28.10&nbsp;&nbsp;28.00<br>16-MAR-1502 12 / 15:&nbsp;&nbsp;30.99&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-APR-1502 00 / 16:&nbsp;&nbsp;30.01&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-MAY-1502 12 / 17:&nbsp;&nbsp;30.99&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-JUN-1502 00 / 18:&nbsp;&nbsp;30.01&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-JUL-1502 12 / 19:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>16-AUG-1502 12 / 20:&nbsp;&nbsp;30.99&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-SEP-1502 00 / 21:&nbsp;&nbsp;30.01&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-OCT-1502 12 / 22:&nbsp;&nbsp;30.99&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-NOV-1502 00 / 23:&nbsp;&nbsp;30.01&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-DEC-1502 12 / 24:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>16-JAN-1503 12 / 25:&nbsp;&nbsp;30.98&nbsp;&nbsp;30.93&nbsp;&nbsp;31.00<br>15-FEB-1503 00 / 26:&nbsp;&nbsp;28.26&nbsp;&nbsp;29.03&nbsp;&nbsp;28.00<br>16-MAR-1503 12 / 27:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>16-APR-1503 00 / 28:&nbsp;&nbsp;30.00&nbsp;&nbsp;30.00&nbsp;&nbsp;30.00<br>16-MAY-1503 12 / 29:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>16-JUN-1503 00 / 30:&nbsp;&nbsp;30.00&nbsp;&nbsp;30.00&nbsp;&nbsp;30.00<br>16-JUL-1503 12 / 31:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>16-AUG-1503 12 / 32:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>16-SEP-1503 00 / 33:&nbsp;&nbsp;30.00&nbsp;&nbsp;30.00&nbsp;&nbsp;30.00<br>16-OCT-1503 12 / 34:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>16-NOV-1503 00 / 35:&nbsp;&nbsp;30.00&nbsp;&nbsp;30.00&nbsp;&nbsp;30.00<br>16-DEC-1503 12 / 36:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>16-JAN-1504 12 / 37:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>15-FEB-1504 12 / 38:&nbsp;&nbsp;28.28&nbsp;&nbsp;28.05&nbsp;&nbsp;29.00<br>16-MAR-1504 12 / 39:&nbsp;&nbsp;30.98&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-APR-1504 00 / 40:&nbsp;&nbsp;30.02&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-MAY-1504 12 / 41:&nbsp;&nbsp;30.98&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-JUN-1504 00 / 42:&nbsp;&nbsp;30.02&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-JUL-1504 12 / 43:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00<br>16-AUG-1504 12 / 44:&nbsp;&nbsp;30.98&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-SEP-1504 00 / 45:&nbsp;&nbsp;30.02&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-OCT-1504 12 / 46:&nbsp;&nbsp;30.98&nbsp;&nbsp;30.97&nbsp;&nbsp;31.00<br>16-NOV-1504 00 / 47:&nbsp;&nbsp;30.02&nbsp;&nbsp;30.03&nbsp;&nbsp;30.00<br>16-DEC-1504 12 / 48:&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00&nbsp;&nbsp;31.00</span></font></div><div><br></div><div><br></div><div><br><div><div>On Oct 22, 2014, at 6:11 PM, Ansley Manke &lt;<a rel="nofollow" href="mailto:ansley.b.manke@xxxxxxxx">ansley.b.manke@xxxxxxxx</a>&gt; wrote:</div><br class="Apple-interchange-newline"><blockquote type="cite">
  
    
  
  <div text="#000000" bgcolor="#FFFFFF">
    Hi Sam,<br>
    The Julian axis makes it a bit tricky.&nbsp; If you don't mind treating
    all the February's as having length 28.25, the average length in a
    Julian calendar, then here's a method:<br>
    <br>
    ! Define a variables with the number of days per month<br>
    <blockquote><tt>yes? let days =
        tsequence({31,28.25,31,30,31,30,31,31,30,31,30,31})</tt><br>
    </blockquote>
    ! Define a monthly modulo axis, using the /EDGES qualifier, and the
    running sum of days per <br>
    ! month, starting with zero at the beginning of January.&nbsp; I've
    referenced this to year <br>
    ! 0000, but you could have the time origin in January of any year.<br>
    <blockquote><tt>yes? let edges_days =
        tsequence({0,31,28.25,31,30,31,30,31,31,30,31,30,31})</tt><br>
      <tt>yes? define
        axis/modulo/EDGES/calendar=julian/t0="1-jan-0000:00:00"/units=days
        \<br>
        &nbsp;monthly_julian = edges_days[l=@iin]</tt><br>
      <br>
      <tt>yes? list/prec=6 t[gt=monthly_julian]<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VARIABLE : T<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; axis MONTHLY_JULIAN<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; SUBSET&nbsp;&nbsp; : 12 points (TIME)<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; CALENDAR : JULIAN<br>
        &nbsp;16-JAN-1501 12 /&nbsp; 1:&nbsp;&nbsp; 15.500<br>
        &nbsp;15-FEB-1501 03 /&nbsp; 2:&nbsp;&nbsp; 45.125<br>
        &nbsp;16-MAR-1501 18 /&nbsp; 3:&nbsp;&nbsp; 74.750<br>
        &nbsp;16-APR-1501 06 /&nbsp; 4:&nbsp; 105.250<br>
        &nbsp;16-MAY-1501 18 /&nbsp; 5:&nbsp; 135.750<br>
        &nbsp;16-JUN-1501 06 /&nbsp; 6:&nbsp; 166.250<br>
        &nbsp;16-JUL-1501 18 /&nbsp; 7:&nbsp; 196.750<br>
        &nbsp;16-AUG-1501 18 /&nbsp; 8:&nbsp; 227.750<br>
        &nbsp;16-SEP-1501 06 /&nbsp; 9:&nbsp; 258.250<br>
        &nbsp;16-OCT-1501 18 / 10:&nbsp; 288.750<br>
        &nbsp;16-NOV-1501 06 / 11:&nbsp; 319.250<br>
        &nbsp;16-DEC-1501 18 / 12:&nbsp; 349.750</tt><tt><br>
        <br>
        yes? let days_in_months =&nbsp; </tt><tt>days[gt=monthly_julian@asn]</tt><tt><br>
      </tt><tt><br>
      </tt><tt>yes? ! try this to check the time axis:<br>
        yes? ! </tt><tt>list/t=1-jan-1501:31-dec-1624 </tt><tt>days_in_months</tt></blockquote>
    ! Now this variable is on a monthly Julian axis that should be
    compatible with your time axis.<br>
    <blockquote><tt>yes? let ba_rate_month = ba_rate*
        days_in_months[gt=ba_rate]</tt><br>
    </blockquote>
    <br>
    <br>
    <br>
    <div class="moz-cite-prefix">On 10/22/2014 6:56 AM, Sam Rabin wrote:<br>
    </div>
    <blockquote cite="" type="cite">
      
      Ferret gurus &#x2014;
      <div><br>
      </div>
      <div>I have a NetCDF dataset that shows, for each month, the mean
        daily burned area in each grid cell. I want to convert these
        daily rates to monthly values, which requires multiplying them
        by the number of days in each month. As a kludge, I&#x2019;ve just been
        multiplying the entire dataset by 365.25/12, but I&#x2019;d like to do
        it properly. That is, I want to multiply the values for each
        January by 31, each February by 28 (29 in leap years!), etc.</div>
      <div><br>
      </div>
      <div>I will need to do this regularly in the future, so any advice
        pertinent to making an external function and/or .jnl script
        would be much appreciated. Please note that the length of the
        time axis can differ wildly between instances, so I&#x2019;d need
        something general. (Although if it helps, the time axis will
        almost always be a multiple of 12 months starting in January.)</div>
      <div><br>
      </div>
      <div>If it helps, info on the variable (BA_RATE) can be found
        after my signature.</div>
      <div><br>
      </div>
      <div>Thanks in advance!</div>
      <div><br>
      </div>
      <div><span class="Apple-tab-span" style="white-space:pre"> </span>Sam</div>
      <div><br>
      </div>
      <div><br>
      </div>
      <div><br>
      </div>
      <div><br>
      </div>
      <div><br>
      </div>
      <div><font face="Courier"><span style="font-size: 12px;">yes? show
            grid BA_RATE<br>
            &nbsp; &nbsp;&nbsp;GRID GKY2<br>
            &nbsp;name&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;axis&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;# pts&nbsp;&nbsp;&nbsp;start&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            &nbsp;&nbsp;end<br>
            &nbsp;LON&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;LONGITUDE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;144mr&nbsp;&nbsp;&nbsp;1.25E&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            &nbsp;&nbsp;1.25W<br>
            &nbsp;LAT&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;LATITUDE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;90 i&nbsp;&nbsp;&nbsp;89.494S&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
            &nbsp;&nbsp;89.494N<br>
            &nbsp;normal&nbsp; &nbsp;&nbsp;Z<br>
            &nbsp;TIME&nbsp; &nbsp; &nbsp;&nbsp;TIME&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;1488 i&nbsp;&nbsp;&nbsp;16-JAN-1501 12:00&nbsp;
            &nbsp;&nbsp;16-DEC-1624 12:00<br>
            yes? list BA_RATE[i=@sum,j=@sum,l=1:5]<br>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;VARIABLE : Burned area (km2/day)<br>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;DATA SET :
            SSR_force30_luN_esm2mb-FIREunpacked_meanFx_avgProper<br>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;FILENAME :
            land_month_meanFxAvgProper_1_1501-1624.nc<br>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SUBSET&nbsp;&nbsp;&nbsp;: 5 points (TIME)<br>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;CALENDAR : JULIAN<br>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LONGITUDE: 0E to 0E(360) (XY summed)<br>
            &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;LATITUDE : 90S to 90N (XY summed)<br>
            &nbsp;16-JAN-1501 12 / 1:&nbsp;&nbsp; &nbsp;&nbsp;80.<br>
            &nbsp;15-FEB-1501 00 / 2:&nbsp;&nbsp;&nbsp;2339.<br>
            &nbsp;16-MAR-1501 12 / 3:&nbsp;&nbsp;&nbsp;9201.<br>
            &nbsp;16-APR-1501 00 / 4:&nbsp;&nbsp;13500.<br>
            &nbsp;16-MAY-1501 12 / 5:&nbsp;&nbsp;14870.</span></font></div>
      <div><br>
      </div>
    </blockquote>
    <br>
  </div>

</blockquote></div><br></div></div></div></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00362" href="msg00362.html">Re: [ferret_users] Multiplying by days in month</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00359" href="msg00359.html">[ferret_users] Multiplying by days in month</a></strong>
<ul><li><em>From:</em> Sam Rabin</li></ul></li>
<li><strong><a name="00360" href="msg00360.html">Re: [ferret_users] Multiplying by days in month</a></strong>
<ul><li><em>From:</em> Ansley Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00360.html">Re: [ferret_users] Multiplying by days in month</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00362.html">Re: [ferret_users] Multiplying by days in month</a></strong>
</li>

</UL>
<center>[<a href="msg00360.html">Thread Prev</a>][<a href="msg00362.html">Thread Next</a>][<A HREF="threads.html#00361">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
