<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Converting ASCII data to netCDF file -->
<!--X-From-R13: Oafyrl [naxr <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Mon, 4 Aug 2014 10:45:03 &#45;0700 -->
<!--X-Message-Id: 53DFC69B.7050203@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CABugP4_n9P6duzp&#45;JwcNRswo9X6qeFfP_D4YKzv=5Rogz27pcg@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Converting ASCII data to netCDF file</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00273.html">Thread Prev</a>][<a href="msg00275.html">Thread Next</a>][<A HREF="threads.html#00274">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Converting ASCII data to netCDF file</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Converting ASCII data to netCDF file</strong></li>
<li><strong>From</strong>: <strong>Ansley Manke &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 04 Aug 2014 10:44:59 -0700</li>
<li>In-reply-to: &lt;CABugP4_n9P6duzp-JwcNRswo9X6qeFfP_D4YKzv=5Rogz27pcg@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/">http://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="http://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">http://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/post">http://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">http://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CABugP4_n9P6duzp-JwcNRswo9X6qeFfP_D4YKzv=5Rogz27pcg@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:24.0) Gecko/20100101 Thunderbird/24.7.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi,<br>
    First, The Ferret users-list page is here:<br>
    <a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/email-users-group">http://ferret.pmel.noaa.gov/Ferret/email-users-group</a><br>
    <br>
    And the search&#xA0; within the Archives is here:<br>
    <a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/static/Ferret_search/ferret_mail_archives.html">http://ferret.pmel.noaa.gov/static/Ferret_search/ferret_mail_archives.html</a>&#xA0;
    <br>
    <br>
    Are you able to see those pages? By the way, the search simply sets
    up a Google search, where you send Google the search terms.&#xA0; So you
    can do the same thing. Say to search for the string "ASCII time",
    you could go to Google and enter this:<br>
    <br>
    &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ASCII time
    site:<a rel="nofollow" class="moz-txt-link-freetext" href="http://www.pmel.noaa.gov/maillists/tmap/ferret_users/">http://www.pmel.noaa.gov/maillists/tmap/ferret_users/</a><br>
    <br>
    About your data. In the file are dates 6 Jan 1983; 16-Jan-1983;
    26-Jan-1983; 6-Feb-1983; 16-Feb-1983; 25-Feb-1983; ..<br>
    <br>
    This is not a regularly-spaced axis. If you want to treat it as a
    regularly spaced axis, you might do better to specify a 360-day
    calendar.&#xA0; Also if the data are at 6-Jan, 16-Jan, 26-Jan, then I
    don't think you want to use /EDGES.&#xA0; What that does is say that the
    data is at days 10, 20, ... and the edges of the grid cells defining
    time are at 6-Jan, 26-Jan, ...<br>
    <br>
    Have a look at the result if you define the time axis as:<br>
    <br>
    &#xA0;&#xA0;&#xA0; DEFINE AXIS/T=06-JAN-1983:26-DEC-1987:10/UNITS=days/cal=d360
    taxis<br>
    <br>
    Another alternative is to define the time axis using the dates
    listed in the dataset. You'd need to define variables that
    correspond to the year, month, and day of the unique times in the
    input data,, with months expressed as a number rather than a string;
    and then use the ideas in the FAQ about defining a time axis from
    year,month, day data:<br>
    <br>
<a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/faq/creating-a-time-axis-from-time-variables">http://ferret.pmel.noaa.gov/Ferret/faq/creating-a-time-axis-from-time-variables</a><br>
    <br>
    -Ansley<br>
    <br>
    <div class="moz-cite-prefix">On 8/4/2014 3:52 AM, Hussen Seid wrote:<br>
    </div>
    <blockquote
cite=""
      type="cite">
      <div dir="ltr">
        <div>
          <div>
            <div>Dear ferret users, <br>
              <br>
            </div>
            <div>I'm not sure if this question is already asked and
              answered by ferret users. I couldn't access the ferret
              mailing list. It redirects to ferret manual. <br>
            </div>
            <div><br>
              I have regularly-spaced text data and want to convert it
              to netcdf file. The data is decadal (average of 10 days)
              so each month consisting of three time steps.<br>
            </div>
            <div>I wrote the following script and it worked fine, but
              the time axis is not correct. <br>
              let ntime = 180<br>
              let Variables = "Lon,Lat,Time,pr"<br>
              DEFINE AXIS/X=33.75:40.25:0.1/UNITS=degrees_east xaxis<br>
              DEFINE AXIS/Y=7.25:14.95:0.1/UNITS=degrees_north yaxis<br>
              DEFINE AXIS/EDGEDS/T=06-JAN-1983:26-DEC-1987:10/UNITS=days
              taxis<br>
              DEFINE GRID/X=xaxis/Y=yaxis/T=taxis xytgrid<br>
              FILE/FORMAT=delim/skip=1/VAR=`Variables`/GRID=xytgrid
              Rain83-87.txt <br>
              save/file=Test-gridded-1983-1987.nc pr[g=xytgrid@asn]<br>
              <br>
              use Test-gridded-1983-1987.nc<br>
              sh d<br>
              <br>
              list pr[i=1,j=1,l=1:180]<br>
              11-JAN-1983 00 /&#xA0;&#xA0; 1:&#xA0;&#xA0;&#xA0; 0.0<br>
              &#xA0;21-JAN-1983 00 /&#xA0;&#xA0; 2:&#xA0;&#xA0;&#xA0; 0.0<br>
              &#xA0;31-JAN-1983 00 /&#xA0;&#xA0; 3:&#xA0;&#xA0;&#xA0; 1.0<br>
              &#xA0;10-FEB-1983 00 /&#xA0;&#xA0; 4:&#xA0;&#xA0; 12.0<br>
              &#xA0;20-FEB-1983 00 /&#xA0;&#xA0; 5:&#xA0;&#xA0;&#xA0; 0.0<br>
              &#xA0;02-MAR-1983 00 /&#xA0;&#xA0; 6:&#xA0;&#xA0;&#xA0; 0.0<br>
              &#xA0;12-MAR-1983 00 /&#xA0;&#xA0; 7:&#xA0;&#xA0;&#xA0; 1.0<br>
              &#xA0;22-MAR-1983 00 /&#xA0;&#xA0; 8:&#xA0;&#xA0;&#xA0; 5.0<br>
              &#xA0;01-APR-1983 00 /&#xA0;&#xA0; 9:&#xA0;&#xA0; 16.0<br>
              &#xA0;11-APR-1983 00 /&#xA0; 10:&#xA0;&#xA0; 19.0<br>
              &#xA0;21-APR-1983 00 /&#xA0; 11:&#xA0;&#xA0; 11.0<br>
              &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; :<br>
              &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; :<br>
              &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; :<br>
              As you can see "Feb" consists two time steps instead of
              three. Could someone help me in creating the correct time
              axis? I also would like to compute the monthly mean from a
              decadal data. <br>
              Please see attached. The structure of the data is [lon,
              lat, time, var]. <br>
              <br>
              <br>
            </div>
            <div>Thanks,<br>
            </div>
            <div>Hussen<br>
            </div>
          </div>
        </div>
        <div>
          <div>
            <div>
              <div>
                <div><br>
                  -- <br>
                  <div dir="ltr">Hussen Seid Endris<br>
                    PhD Student<br>
                    Climate System Analysis Group<br>
                    Department of Environmental and Geographical Science<br>
                    University of Cape Town<br>
                    Private Bag Rondebosch, 7701, Cape Town, South
                    Africa<br>
                    Tel:<a rel="nofollow" moz-do-not-send="true" value="+27216502999">(+27)
                      (0)74 222 4357</a></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00273" href="msg00273.html">[ferret_users] Converting ASCII data to netCDF file</a></strong>
<ul><li><em>From:</em> Hussen Seid</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00273.html">[ferret_users] Converting ASCII data to netCDF file</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00275.html">[ferret_users] Running  Variance</a></strong>
</li>

</UL>
<center>[<a href="msg00273.html">Thread Prev</a>][<a href="msg00275.html">Thread Next</a>][<A HREF="threads.html#00274">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
