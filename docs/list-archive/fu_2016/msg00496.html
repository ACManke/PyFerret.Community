<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] subsampling as qualifier -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Mon, 26 Sep 2016 09:57:52 &#45;0700 -->
<!--X-Message-Id: 2e5168c4&#45;5f61&#45;0bdd&#45;cc38&#45;2c5efd87bd40@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 84d05168&#45;147f&#45;63d2&#45;83a8&#45;6d04a2a52659@lsce.ipsl.fr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] subsampling as qualifier</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00494.html">Thread Prev</a>][<a href="msg00497.html">Thread Next</a>][<A HREF="threads.html#00496">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] subsampling as qualifier</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] subsampling as qualifier</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 26 Sep 2016 09:57:48 -0700</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive         :list-unsubscribe;        bh=U1/+dYZBrB+eVhS3A9erNmJPYjtVOZRyijGG9uI0ZEI=;        b=YppKYVRKYqrYmHaq2cgh6aWW/RPEFXQB0bsYBpePtAABHGCZWbmX0oLK40TF1fksxh         SXjiY1YzvHT61GJlI3M2JIRHYVJ+HvvoH8nOiC8xvlFs62u9AjhjNNqCx7jWkhju6gfX         QxmzE1Zc2lEuBx7xQkZZRCy67f8f27wqt5tOc2dz6mjDGDblsdAvEdCe0ssWST1zAC4F         ichmRUtMuUCNjfXeL3NxDMDudierm9Cg+Uo3Ztt6Svg+xrcToTxFHN40A2rZqGWdzvZx         KVL4g7pCR4NTBStfrGTcixhkp89mFeckyarM8SCZVvq2XpJKqRDa29RyViFFViM3RqJW         nPNQ==</li>
<li>In-reply-to: &lt;<a href="msg00494.html">84d05168-147f-63d2-83a8-6d04a2a52659@lsce.ipsl.fr</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00494.html">84d05168-147f-63d2-83a8-6d04a2a52659@lsce.ipsl.fr</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:45.0) Gecko/20100101 Thunderbird/45.3.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    <p>Hi Patrick,</p>
    <p>As you say, for graphics, when the resolution of the image is
      less than the grid resolution, striding is an excellent way to get
      better performance without losing quality. <br>
    </p>
    <p>Your idea does sound like a convenient method for reading data
      using strides, when the variables being plotted are file
      variables.&#xA0; However if the SHADE plot is showing a more complex
      _expression_ perhaps involving combinations of variables regridded
      to a new grid, then the qualifier would be ambiguous. It may be
      more cumbersome, but it is really necessary to to attach the
      striding information to the file variables or their grids.<br>
    </p>
    <p>Certainly a script can set up the striding according to the size
      of the grid and the output resolution of the image. Here's an
      example. Similar logic could be used to define a stride and use
      the <a rel="nofollow"
href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/data-set-basics/NETCDF-DATA#_VPINDEXENTRY_168">SET
        AXIS/STRIDE command</a>, or to define strides on a sub-region of
      the grid.<br>
    </p>
    <blockquote><tt>yes? let xres = 600</tt><br>
      <tt>yes? let yres = 400</tt><br>
      <br>
      <tt>yes? let nx = `var,return=isize`</tt><br>
      <tt>yes? let ny = `var,return=jsize`
      </tt><br>
      <br>
      <tt>yes? let istride = MAX(1,INT(nx/xres + 0.5)</tt><tt>)</tt><br>
      <tt>yes? let jstride = </tt><tt><tt>MAX(1,</tt>INT(ny/yres + 0.5))</tt><br>
      <br>
      <tt>yes? define symbol region_spec = [i=1:`nx`:`istride`,j=1:`ny`:`jstride`]</tt><br>
      <tt>
        yes? shade var($region_spec), lon2D($region_spec),
        lat2D($region_spec)</tt><br>
    </blockquote>
    <div class="moz-cite-prefix">-Ansley<br>
      <br>
      On 9/26/2016 2:51 AM, Patrick Brockmann wrote:<br>
    </div>
    <blockquote
      cite=""
      type="cite">Hi,
      <br>
      <br>
      There is already a way to control subsampling by applying strides
      on axis. This is very usefull
      <br>
      to display quickly maps with quite large grids (1442x1022 for
      example).
      <br>
      <br>
      This is described in paragraph 2.1.1 NetCDF data and strides
      <br>
<a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/data-set-basics/NETCDF-DATA#_VPID_39">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/data-set-basics/NETCDF-DATA#_VPID_39</a>
      <br>
      <br>
      Now, I would find very convenient to control this directly from a
      qualifier and not by previous
      <br>
      set/cancel of strided axis.
      <br>
      <br>
      Something like
      <br>
      <br>
      yes? use curvilinear.nc
      <br>
      yes? shade/stride=4 var, lon2D, lat2D
      <br>
      yes? shade/stride=2 var, lon2D, lat2D
      <br>
      <br>
      Rather than
      <br>
      <br>
      yes? use curvilinear.nc
      <br>
      yes? SET AXIS/STRIDE=4 `var,RETURN=xaxis`
      <br>
      yes? SET AXIS/STRIDE=4 `var,RETURN=yaxis`
      <br>
      yes? shade var, lon2D, lat2D
      <br>
      yes? CANCEL AXIS/STRIDE `var,RETURN=xaxis`
      <br>
      yes? CANCEL AXIS/STRIDE `var,RETURN=yaxis`
      <br>
      yes? SET AXIS/STRIDE=2 `var,RETURN=xaxis`
      <br>
      yes? SET AXIS/STRIDE=2 `var,RETURN=yaxis`
      <br>
      yes? shade var, lon2D, lat2D
      <br>
      <br>
      Is is possible ?
      <br>
      <br>
      And to go further, does a mechanism to set this stride value
      <br>
      according to the size of the target image could be implemented ?
      <br>
      Because there is finally no point to process all points of
      variables if
      <br>
      the map is displayed as a small image. Just a thought...
      <br>
      <br>
      Best regards
      <br>
      Patrick
      <br>
      <br>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00497" href="msg00497.html">Re: [ferret_users] subsampling as qualifier</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00494" href="msg00494.html">[ferret_users] subsampling as qualifier</a></strong>
<ul><li><em>From:</em> Patrick Brockmann</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00494.html">[ferret_users] subsampling as qualifier</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00497.html">Re: [ferret_users] subsampling as qualifier</a></strong>
</li>

</UL>
<center>[<a href="msg00494.html">Thread Prev</a>][<a href="msg00497.html">Thread Next</a>][<A HREF="threads.html#00496">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
