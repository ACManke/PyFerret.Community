<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] run ferret and pyferret together -->
<!--X-From-R13: [negva Epuzvqg <znegva.fpuzvqgNvb&#45;jnearzhraqr.qr> -->
<!--X-Date: Wed, 20 Jan 2016 08:22:25 &#45;0800 -->
<!--X-Message-Id: 569FB426.2010405@io&#45;warnemuende.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 569F668D.3030407@lsce.ipsl.fr -->
<!--X-Reference: CAEwQpaKx&#45;qZAezP33L8KmKQ8vGXuc9A=3sn+uL7J_t7+cU=zGA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] run ferret and pyferret together</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00023.html">Thread Prev</a>][<a href="msg00025.html">Thread Next</a>][<A HREF="threads.html#00024">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] run ferret and pyferret together</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] run ferret and pyferret together</strong></li>
<li><strong>From</strong>: <strong>Martin Schmidt &lt;<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 20 Jan 2016 17:21:58 +0100</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=reply-to:subject:references:to:from:organization:message-id:date         :user-agent:mime-version:in-reply-to:content-type         :content-transfer-encoding:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive:list-unsubscribe;        bh=EuA6C6TK2nZ7V1p4LjvB744IqNJg9c5AqlRklMLsan4=;        b=zqH6/7SYe4ck1o4d3v44QcuDCjZNJkI4Uaq1fMq0fTluzLCot0v9priSVs3+XFJnyq         Uis0kYb124LkOJ9lots5njD1n1c3EbshgG4O/X9XBn+Scs3ERN1ziiyMbBQihYmiGJmO         pkoZ2758gk5VUKTOjrEro4AZvHgmF3HsjOUyHumOq9FJHS8UKu+amkoZwcYU3A5CE1ST         TjyuiqIiBYV0zTk60qdUcQWBGlGnXVTjn1vpBr+dfxsnhebfDTMmXhvHb/mady/Ky/eD         Ch9+E7NkFfsNaf6TG/x6lCUVPE8EnkZi22zTc6bJv+ZkM1u1npTQ1bY2r0+EU1XF3/C9         tsiA==</li>
<li>In-reply-to: &lt;CAEwQpaKx-qZAezP33L8KmKQ8vGXuc9A=3sn+uL7J_t7+cU=zGA@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>Organization: IOW</li>
<li>References: &lt;<a href="msg00022.html">569F668D.3030407@lsce.ipsl.fr</a>&gt; &lt;CAEwQpaKx-qZAezP33L8KmKQ8vGXuc9A=3sn+uL7J_t7+cU=zGA@mail.gmail.com&gt;</li>
<li>Reply-to: <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101 Thunderbird/38.5.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hallo,
</pre><tt>this is an excellent concept. It helps a lot to maintain ferret on PCs 
</tt><tt>but also on a server with many users. Access becomes much simpler for 
</tt><tt>newbees. I would propose to offer this in future releases for ferret 
</tt><tt>installation? It is as simple as the current one but keeps software and 
</tt><tt>environment strictly together.  This avoids interaction between 
</tt><tt>different instances of ferret. Please find below a more complex script 
</tt><tt>&quot;ferret&quot; that accounts also for the hierachie of directories:
</tt><pre style="margin: 0em;">
- ferrets defaults
- institute/companies additional tools of common interest
- users private tools.

</pre><tt>To keep many versions of a software in parallel, on servers and PCs as 
</tt><tt>well, the modules environment
</tt><pre style="margin: 0em;">
<a  rel="nofollow" href="https://www.nersc.gov/users/software/nersc-user-environment/modules/">https://www.nersc.gov/users/software/nersc-user-environment/modules/</a>
</pre><tt>may be recommended. It is part of many linux distributions. Installation 
</tt><tt>and usage is very simple, maintainance needs some reading, or better 
</tt><tt>some working examples, but it saves much more time than it consumes - 
</tt><tt>also on single user PCs.
</tt><pre style="margin: 0em;">

Best,
Martin Schmidt

#!/bin/bash
source /sw/viz/ferret/py_ferret_120_ub_py_27/ferret_paths
# append paths for personal Ferret scripts
export FER_IOW=/sw/viz/ferret/ferret_iow
[[ -d $FER_IOW/go ]]            &amp;&amp; export FER_GO=&quot;. $FER_IOW/go &quot;${FER_GO#.}
</pre><tt>[[ -d $FER_IOW/ppl ]]           &amp;&amp; export FER_PALETTE=&quot;. $FER_IOW/ppl 
</tt><tt>&quot;${FER_PALETTE#.}
</tt><tt>[[ -d $FER_IOW/dsets ]]         &amp;&amp; export FER_DATA=&quot;. $FER_IOW/dsets 
</tt><tt>&quot;${FER_DATA#.}
</tt><tt>[[ -d $FER_IOW/ext_func/libs ]] &amp;&amp; export FER_EXTERNAL_FUNCTIONS=&quot;. 
</tt><tt>$FER_IOW/ext_func/libs &quot;${FER_EXTERNAL_FUNCTIONS#.}
</tt><tt>[[ -d $HOME/ferret/go ]]            &amp;&amp; export FER_GO=&quot;. $HOME/ferret/go 
</tt><tt>$FER_IOW/go &quot;${FER_GO#.}
</tt><tt>[[ -d $HOME/ferret/ppl ]]           &amp;&amp; export FER_PALETTE=&quot;. 
</tt><tt>$HOME/ferret/ppl $FER_IOW/ppl &quot;${FER_PALETTE#.}
</tt><tt>[[ -d $HOME/ferret/data ]]          &amp;&amp; export FER_DATA=&quot;. 
</tt><tt>$HOME/ferret/data $FER_IOW/dsets &quot;${FER_DATA#.}
</tt><tt>[[ -d $HOME/ferret/ext_func/libs ]] &amp;&amp; export FER_EXTERNAL_FUNCTIONS=&quot;. 
</tt><tt>$HOME/ferret/ext_func/libs_linux &quot;${FER_EXTERNAL_FUNCTIONS#.}
</tt><pre style="margin: 0em;">
#export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/sw/data/netcdf/4.3.2/lib64
/sw/viz/ferret/py_ferret_120_ub_py_27/bin/pyferret $*

Am 20.01.2016 um 13:51 schrieb Ryo Furue:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi Patrick,

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
I would like to work with both tools for testing purposes.
But after having sourced the 2 different environnements,
I get some environment variables conflicts that
I do understand but don't know how to solve properly.
</pre></blockquote><pre style="margin: 0em;">
I don't set env.vars. globally but use my own wrapper script like this:

     #!/bin/sh
     FER_DIR=&quot;/usr/local/ferret&quot;
     export FER_DSETS=&quot;$FER_DIR&quot;
     export FER_FONTS=&quot;${FER_DIR}/ppl/fonts&quot;
     export PLOTFONTS=&quot;${FER_DIR}/ppl/fonts&quot;
     # . . . after setting all env.vars. . . .
     exec &quot;$FER_DIR/bin/ferret_v6.94&quot; &quot;$@&quot;

and call this script &quot;ferret&quot;.  Then you don't have to set env.vars. any longer.

I don't use pyferret, but you can write two scripts like this, one for
ferret and the other for pyferret, their env.vars. not conflicting.

Instead of writing scripts like the above, you may be get by with

    #!/bin/sh
    source /usr/local/ferret/bin/ferret_paths.sh
    exec /usr/local/ferret/bin/ferret_v6.94 &quot;$@&quot;

(untested).

Cheers,

Ryo
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00022" href="msg00022.html">[ferret_users] run ferret and pyferret together</a></strong>
<ul><li><em>From:</em> Patrick Brockmann</li></ul></li>
<li><strong><a name="00023" href="msg00023.html">Re: [ferret_users] run ferret and pyferret together</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00023.html">Re: [ferret_users] run ferret and pyferret together</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00025.html">[ferret_users] @ASN isn't work in Ferret Ver 6.96</a></strong>
</li>

</UL>
<center>[<a href="msg00023.html">Thread Prev</a>][<a href="msg00025.html">Thread Next</a>][<A HREF="threads.html#00024">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
