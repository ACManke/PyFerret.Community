<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] removing white spaces and drawing color bar for many plots -->
<!--X-From-R13: nsjnaqr whyvrg <nsjnaqrw965Ntznvy.pbz> -->
<!--X-Date: Tue, 23 Feb 2016 03:45:48 &#45;0800 -->
<!--X-Message-Id: CANVsOohRwR1SUxtLdrWyXQ7dcn8FF81Qcuq&#45;UsqLfSBrZ0OW&#45;w@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CANVsOoh73+&#45;8&#45;+3zxaBLn1J2DOD1tvgVsAt=Vfk+75NhFxENNA@mail.gmail.com -->
<!--X-Reference: 56CBAD17.2070804@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] removing white spaces and drawing color bar for many plots</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00144.html">Thread Prev</a>][<a href="msg00147.html">Thread Next</a>][<A HREF="threads.html#00146">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] removing white spaces and drawing color bar for many plots</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] removing white spaces and drawing color bar for many plots</strong></li>
<li><strong>From</strong>: <strong>afwande juliet &lt;<a href="mailto:afwandej965@DOMAIN.HIDDEN">afwandej965@xxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 23 Feb 2016 14:45:46 +0300</li>
<li>Cc: ferret_users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=mime-version:in-reply-to:references:date:message-id:subject:from:to         :cc:content-type:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive         :list-unsubscribe;        bh=n2WulvjdqnsTVf4++nfbFllg49oYl5ZOjB4IcU+gaUk=;        b=AioUHtiIaW5xUdFjFOXXG/rOBqlSQnowDx7goGEQSCFYR3rTJ9ubApM71NfNJBGHLC         RvlutLc3G0b08OSsoitDsdmFAAuXtQlwhyOe59WCZDpfV4xAZ0GTM1Iy2zUYWt2GViid         /0T1BYeg1lze6t1RAh9Z63TspZ63OmQAthQg7ooIh68JAb++6eIEwnt+tTKUg2A2lAi1         0OKmrndrNT4LZUmNuNNmgGBtE1Y6Q34pO7HWooc7Qy0n98n9qH3jUpG2hF2e0CQpCa/R         G1VVYRT5TpHjqSTRUYk3e+uV9Pq4L1f+DxweGE9rdnUYWrn9RLpgGz8YupO0j75FQbxx         Mi7A==</li>
<li>In-reply-to: &lt;<a href="msg00144.html">56CBAD17.2070804@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CANVsOoh73+-8-+3zxaBLn1J2DOD1tvgVsAt=Vfk+75NhFxENNA@mail.gmail.com&gt;	&lt;<a href="msg00144.html">56CBAD17.2070804@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">thanks ; I will try to follow<br></div><div class="gmail_extra"><br><div class="gmail_quote">On Tue, Feb 23, 2016 at 3:51 AM, Ansley C. Manke <span dir="ltr">&lt;<a rel="nofollow" href="mailto:ansley.b.manke@xxxxxxxx" target="_blank">ansley.b.manke@xxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">
  
    
  
  <div bgcolor="#FFFFFF" text="#000000">
    Hi,<br>
    The FILL commands you show have the qualifier /NOKEY, so that is why
    there are no colorbars. That&#39;s a good way to make a set of plots if
    they all use the same color levels, as in the &quot;multi_view_demo&quot;
    script that is described in the post that you found, but for several
    different variables you do want the colorbars. Removing the /NOKEY
    will make the default vertical colorbar to the right of each plot.&#xA0;
    Also try it with /KEY=HORIZONTAL, which will put the color bar on
    the top; see if you like that.<br>
    <br>
    <br>
    <br>
    I&#39;ll show an example with one of the sample datasets, calling
    multi_view, and take the opportunity to show some commands and
    features that people may not have worked with.&#xA0; Here are the
    references:<br>
    <br>
<a rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/annotate" target="_blank">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/annotate</a><br>
    <a rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SET#_SETTEXT" target="_blank">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SET#_SETTEXT</a>
    (for PyFerret)<br>
    <a rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/faq/modifying-the-shade-key" target="_blank">http://ferret.pmel.noaa.gov/Ferret/faq/modifying-the-shade-key</a><br>
    <br>
    To clean up the plots, the examples use /NOLABEL to remove the
    automatic labels that Ferret would ordinarily draw. Of course it&#39;s
    important to add back enough labels to document what&#39;s on the plot.<br>
    <br>
    Because all of the plots show the same region, another way to
    de-clutter the plot is to label the plot axes with longitude and
    latitude only along the left-hand side and lower edge of the set of
    plots, using the PPL AXLABP command.&#xA0; This way the interior of the
    page isn&#39;t cluttered up with labels.<br>
    <tt><br>
    </tt>
    <blockquote><tt>! If running PyFerret, you can set a font. Skip this
        if running classic Ferret.<br>
        set text/font=arial<br>
        <br>
        cancel mode logo<br>
        <br>
        ! Define 4 viewports, (use &quot;GO/HELP multi_view&quot;&#xA0; to see the
        documentation for multi_view.jnl)<br>
        go multi_view 2,2,0.35,0.1,0.1,0.35,0.1,0.1<br>
        <br>
        use coads_climatology<br>
        <br>
        ! In the upper left plot, make axis labels only on the latitude
        axis.<br>
        set view v11<br>
        ppl axlabp,0,-1<br>
        <br>
        ! make the plot, removing labels.<br>
        fill/l=1/nolab airt; go land<br>
        <br>
        ! Use the ANNOTATE command to add a title below the plot<br>
        annotate/norm/xpos=0.5/ypos=-0.14/halign=0 &quot;Air Temperature (Deg
        C)&quot;<br>
        <br>
        ! In the upper left plot, make no axis labels<br>
        set view v12<br>
        ppl axlabp,0,0<br>
        <br>
        ! make the plot, removing default labels.<br>
        fill/l=1/nolab sst; go land<br>
        annotate/norm/xpos=0.5/ypos=-0.14/halign=0 &quot;Sea Surface
        Temperature</tt><tt><tt> (Deg C)</tt>&quot;<br>
        <br>
        ! In the lower left plot, label both coordinate axes<br>
        set v v21<br>
        ppl axlabp, -1,-1<br>
        <br>
        fill/l=1/nolabz wspd<br>
        annotate/norm/xpos=0.5/ypos=-0.14/halign=0 &quot;Wind Speed (m/s)&quot;<br>
        <br>
        ! In the lower right plot, label only the longitude axis.<br>
        set v v22<br>
        ppl axlabp, -1,0<br>
        <br>
        fill/l=1/nolab slp; go land<br>
        annotate/norm/xpos=0.5/ypos=-0.14/halign=0 &quot;Sea Level Pressure (mb)&quot;<br>
        <br>
        <br>
        ! Now, there should be some labels for the overall plot. To position
        these<br>
        ! relative to the whole page, use the viewport &quot;full&quot; which is
        always defined.<br>
        <br>
        ! Draw a blank plot, by drawing a point but setting the /HLIMITS
        so the point<br>
        ! is off the page. Use /NOLABELS and /NOAXES, and nothing is
        drawn.<br>
      </tt><tt><br>
        set view full<br>
      </tt><tt>plot/noaxis/nolabel/vs/hlim=1:2 {0,0}, {0,0}<br>
        <br>
        ! Now make some labels for the dataset and the date.&#xA0; Other
        relevant information<br>
        ! can be added in the same way, anywhere on the plot.<br>
        <br>
        annotate/norm/xpos=0.5/ypos=1.15/halign=0 &quot;COADS Climatology&quot;<br>
        annotate/norm/xpos=0/ypos=1.15/halign=0/siz=0.1 &quot;January&quot;<br>
        <br>
        frame/file=viewports_example.png&#xA0; ! Use .gif for Ferret<br>
        <br>
      </tt></blockquote>
    Another case: if the plots all show the same variable or comparable
    variables, for instance at different time steps, it&#39;s a good idea to
    use the same color scale throughout by specifying /LEVELS=.&#xA0; Then,
    draw a single colorbar on the page.&#xA0; Here&#39;s a message about that:<br>
<a rel="nofollow" href="http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2000/msg00226.html" target="_blank">http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2000/msg00226.html</a><br>
    <br>
    Here&#39;s an example, using the viewports and settings for axis labels
    as above. For this one, the arguments to multi_view could be changed
    so that there would be less white space between the viewports.<br>
    <blockquote><tt>set text/font=arial</tt><tt><br>
      </tt><tt>cancel mode logo</tt><tt><br>
      </tt><tt><br>
      </tt><tt>! Define 4 viewports</tt><tt><br>
      </tt><tt>go multi_view 2,2,0.35,0.1,0.1,0.35,0.1,0.1</tt><tt><br>
      </tt><tt>use coads_climatology</tt><tt><br>
        <br>
      </tt><tt><br>
        <br>
        ! Set a sub-region, and a new color palette<br>
        ! Define fixed color levels for all the plots<br>
        <br>
        set region/x=100e:100w/y=0:90<br>
        palette blue_green_yellow<br>
        <br>
        define symbol airt_levels = /lev=(-inf)(-2,30,1)(inf)<br>
        <br>
        <br>
        set view v11<br>
        ppl axlabp,0,-1<br>
        ! make the plot, removing labels.<br>
        fill/l=1/nolab/nokey($airt_levels) airt; go land<br>
        annotate/norm/xpos=0.1/ypos=1.05/halign=0/size=0.14 &quot;January&quot;<br>
        <br>
        set view v12<br>
        ppl axlabp,0,0<br>
        ! make the plot, removing default labels.<br>
        fill/l=4/nolab/nokey($airt_levels) airt; go land<br>
        annotate/norm/xpos=0.1/ypos=1.05/halign=0/size=0.14 &quot;April&quot;<br>
        <br>
        set v v21<br>
        ppl axlabp, -1,-1<br>
        fill/l=7/nolab/nokey($airt_levels) airt; go land<br>
        annotate/norm/xpos=0.1/ypos=1.05/halign=0/size=0.14 &quot;July&quot;<br>
        <br>
        <br>
        ! On the last plot, draw a color key.<br>
        ! Do not use /NOKEY, and use /SET, so the custom color key</tt><tt>
        can be </tt><tt><br>
        ! defined with PPL SHAKEY. The key can extend anywhere on the
        plot page,<br>
        ! page, even beyond the current viewport but the locations are
        given<br>
        ! relative to the plot origin in the current viewport.<br>
        <br>
        set v v22<br>
        ppl axlabp, -1,0<br>
        fill/l=10/nolab($airt_levels)<big><b>/set</b></big> airt<br>
        ppl shakey 1,1,,,,,`($ppl$xorg)+($ppl$xlen)+0.2`,
        `($ppl$xorg)+($ppl$xlen)+0.5`, ($ppl$yorg),
        `2*(($ppl$yorg)+($ppl$ylen))`<br>
        <big><b>ppl fill</b></big><br>
        <br>
        go land<br>
        annotate/norm/xpos=0.1/ypos=1.05/halign=0/size=0.14 &quot;October&quot;<br>
        <br>
        ! Now make an overall annotation with the variable name and
        dataset name.<br>
        <br>
        set view full<br>
        ! draw a blank plot<br>
        plot/noaxis/nolabel/vs/hlim=1:2 {0,0}, {0,0}<br>
        <br>
        annotate/norm/xpos=0.5/ypos=1.17/siz=0.18/halign=0 &quot;COADS
        Climatology Air Temperature (Deg C)&quot;<br>
        <br>
        frame/file=</tt><tt>viewports_example2.png&#xA0;</tt></blockquote><div><div class="h5">
    <tt><br>
    </tt>
    <div>On 2/20/2016 8:20 AM, afwande juliet
      wrote:<br>
    </div>
    <blockquote type="cite">
      <div dir="ltr">
        <div>
          <div>
            <div>Dear users<br>
            </div>
            I am making some plots; i want to reduce white spaces
            between the plots and make one color bar for the plots<br>
          </div>
          I am using this attached script and my plots look like this
          which are not very attractive<br>
        </div>
        <div>I tried to follow online sources here <a rel="nofollow" href="http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2007/msg00399.html" target="_blank"></a><a rel="nofollow" href="http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2007/msg00399.html" target="_blank">http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2007/msg00399.html</a>
          but couldnt help<br>
        </div>
        thanks<br>
      </div>
    </blockquote>
    <br>
  </div></div></div>

</blockquote></div><br></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00143" href="msg00143.html">[ferret_users] removing white spaces and drawing color bar for many plots</a></strong>
<ul><li><em>From:</em> afwande juliet</li></ul></li>
<li><strong><a name="00144" href="msg00144.html">Re: [ferret_users] removing white spaces and drawing color bar for many plots</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00144.html">Re: [ferret_users] removing white spaces and drawing color bar for many plots</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00147.html">[ferret_users] test_opendap() on file not in ./</a></strong>
</li>

</UL>
<center>[<a href="msg00144.html">Thread Prev</a>][<a href="msg00147.html">Thread Next</a>][<A HREF="threads.html#00146">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
