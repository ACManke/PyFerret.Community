<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] modulo longitude standards? -->
<!--X-From-R13: "Ivyyvnz E. Yrffyre" <jvyyvnz.f.xrffyreNabnn.tbi> -->
<!--X-Date: Tue, 9 Feb 2016 21:17:47 &#45;0800 -->
<!--X-Message-Id: 49C7E54C&#45;D485&#45;4E6D&#45;8E63&#45;2523B21B9222@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAEwQpaKPdZnm9Q_WLqV9_uYi_RVyBN8ULF4NuLqDcswEhk+riA@mail.gmail.com -->
<!--X-Reference: 56BA8160.20803@noaa.gov -->
<!--X-Reference: CAEwQpaKR9cT0z0wJsdk7_3T3LsOv_EDp+Erc=Efgw7QJSOuZUA@mail.gmail.com -->
<!--X-Reference: 56BA8F53.7020005@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] modulo longitude standards?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00087.html">Thread Prev</a>][<a href="msg00089.html">Thread Next</a>][<A HREF="threads.html#00088">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] modulo longitude standards?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Steve Hankin &lt;<a href="mailto:steven.c.hankin@DOMAIN.HIDDEN">steven.c.hankin@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] modulo longitude standards?</strong></li>
<li><strong>From</strong>: <strong>&quot;William S. Kessler&quot; &lt;<a href="mailto:william.s.kessler@DOMAIN.HIDDEN">william.s.kessler@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 9 Feb 2016 21:17:43 -0800</li>
<li>Cc: &quot;William S. Kessler&quot; &lt;<a href="mailto:William.S.Kessler@DOMAIN.HIDDEN">William.S.Kessler@xxxxxxxx</a>&gt;,        Ferret &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=from:content-type:mime-version:subject:in-reply-to:date:cc         :content-transfer-encoding:message-id:references:to         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive         :list-unsubscribe;        bh=jyTs5zejUfIhxBPTOw2XuXRxCtgMbfOt7//mDGm06sA=;        b=P0HO11hOF8dN4i1Ea8KVvcg4Jvgcb6e0Z4mfpbbFTbIXrDArVagPCwTtZwjA12BkOk         QuwQDffclRlDz69Nd6nvvD2UyYZ5RSCQjH+NVgGhPKrk1LSU1aCztwnFefKshJtluz1j         1Ovg6Gz3dujp6D97dZbo3jlcYhL7vKPJOTpaReBaKLR573WAH5otKhsQ6Xvs6EpfjxT5         ls+FUxNaHJNNVidxXeD1PLoQD04uM7Eu9Nsnanf+4Zq8SdALbnYPVJ3eN+K6gmxAuG+L         4ynOeWHjgGZFQIl8cE7nl8S6qiiSd1rxrP07/daOcugQKzYHEXEzmEhnJXtXrf045Cxm         xzxw==</li>
<li>In-reply-to: &lt;<a href="msg00087.html">56BA8F53.7020005@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00084.html">CAEwQpaKPdZnm9Q_WLqV9_uYi_RVyBN8ULF4NuLqDcswEhk+riA@mail.gmail.com</a>&gt; &lt;<a href="msg00085.html">56BA8160.20803@noaa.gov</a>&gt; &lt;CAEwQpaKR9cT0z0wJsdk7_3T3LsOv_EDp+Erc=Efgw7QJSOuZUA@mail.gmail.com&gt; &lt;<a href="msg00087.html">56BA8F53.7020005@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Count me as another user who thinks the subspan modulo behavior should not be the default. 

I recall your explanation of this feature (28 Oct 2011):

&gt; The importance of the subspan modulo axes is to take the first of two steps that will make it possible for users largely to ignore differences in encodings of longitude and climatological time -- e.g. the blending of data in plots and analyses where the data come from data sets that are encoded variously as -180:180, 0:360, etc.  Thus, for example, in V5.5 you can refer to my_subspan_var[g=another_var] and get a meaningful answer as long as the grids occupy the same region on the globe, regardless of longitude encoding. (The second step, for V5.6, will address the longitude encoding of scattered data.)

I can see how that might be useful in particular situations, but the cost is the mistaken plots and analyses by other users - working with grids covering subregions of the globe - who forget to declare the axis non-modulo, and unwittingly smooth or fill in x (or take a derivative, etc). Then Ferret will wrap the operation across the edges of the region inappropriately. As someone who frequently works with Pacific fields, I can't tell you how many times I've slapped my forehead and gotten a different result after remembering to CAN AXIS/MODULO. But those who are less-acquainted with this might make the mistake and not realize that their plot is wrong.

My sense of the balance is that this feature should be available, but not the default, because I'll bet most Ferret users don't realize that this will happen. They haven't fully read the documentation and assume - very reasonably - that the default for a subregion is non-modulo.And even for those who do know this, like me, it's a very easy feature to forget in the heat of calculation.

I think the default should be non-modulo for axes where x is given in degrees east, unless the axis is fully global, since the user who wants this feature can always turn it on (SET AXIS/MODULO), right? 

Billy K

&gt; On Feb 9, 2016, at 5:16 PM, Steve Hankin &lt;steven.c.hankin@xxxxxxxx&gt; wrote:
&gt; 
&gt; On 2/9/2016 4:47 PM, Ryo Furue wrote:
&gt;&gt; Hi Steve,
&gt;&gt; 
&gt;&gt; Thanks for your detailed explanation.
&gt;&gt; 
&gt;&gt;&gt; An axis may be less than global (e.g. axis &quot;x30&quot;) and still be understood to
&gt;&gt;&gt; have modulo 360 behavior.  This is inferred automatically from its units of
&gt;&gt;&gt; degrees_east.   To reliably regard a variable defined on an X axis of more
&gt;&gt;&gt; than 360 degrees, Ferret would have to check that the overlapping points at
&gt;&gt;&gt; each end all had identical values.
&gt;&gt; Or you COULD just issue a warning and disregard the values on one of
&gt;&gt; the overlapping &quot;layers&quot;.  I'm not saying you SHOULD.
&gt;&gt; 
&gt;&gt;&gt;  Ferret has no internal logic to do this.
&gt;&gt; Yes, I guessed that that is the reason why Ferret currently rejects
&gt;&gt; such an overlapping axis.
&gt; 
&gt; There are cases where people deliberately create variables on longitude ranges of (say) 720 degrees (double worlds).  All other things being equal it seems best not to second guess what people are doing.
&gt;&gt; 
&gt;&gt;&gt; P.S.  The attribute &quot;modulo&quot; is from older Ferret versions.
&gt;&gt; So, what's the latest alternative?  Is it a Ferret-specific attribute?
&gt;&gt;  Or is it part of a well-recognized convention like CF?
&gt; The &quot;modulo&quot; attribute was a Ferret creation -- not CF.  Somewhere along the way, Ferret was enhanced to support the notion of a &quot;subspan modulo axis&quot; -- modulo behavior, even though the axis isn't globe-encircling.  The axis X30 in the previous message was an example.  With the advent of subspan modulo axes, all longitude axes 360 degrees or less became implicitly &quot;modulo&quot;.  So the older modulo attribute is essentially irrelevant. (But no harm from having it in a file AFAIK.)
&gt; 
&gt;    - Steve
&gt;&gt; The dataset I was given actually includes the &quot;modulo&quot; attribute.  I'm
&gt;&gt; not sure if the creators of the dataset use Ferret.
&gt;&gt; 
&gt;&gt; Basically, I'd like to know if I should ask the creators to fix it.
&gt;&gt; They are a data center and so they do care about these things.
&gt;&gt; 
&gt;&gt; Ryo
&gt; 


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00092" href="msg00092.html">Re: [ferret_users] modulo longitude standards?</a></strong>
<ul><li><em>From:</em> Steve Hankin</li></ul></li>
<li><strong><a name="00089" href="msg00089.html">Re: [ferret_users] modulo longitude standards?</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00084" href="msg00084.html">[ferret_users] modulo longitude standards?</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="00085" href="msg00085.html">Re: [ferret_users] modulo longitude standards?</a></strong>
<ul><li><em>From:</em> Steve Hankin</li></ul></li>
<li><strong><a name="00086" href="msg00086.html">Re: [ferret_users] modulo longitude standards?</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="00087" href="msg00087.html">Re: [ferret_users] modulo longitude standards?</a></strong>
<ul><li><em>From:</em> Steve Hankin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00087.html">Re: [ferret_users] modulo longitude standards?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00089.html">Re: [ferret_users] modulo longitude standards?</a></strong>
</li>

</UL>
<center>[<a href="msg00087.html">Thread Prev</a>][<a href="msg00089.html">Thread Next</a>][<A HREF="threads.html#00088">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
