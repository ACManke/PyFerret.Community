<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] how to calculate spatial correlatiobn -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 16 Mar 2016 11:49:21 &#45;0700 -->
<!--X-Message-Id: 56E9AAAA.8080401@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CABShME0DEV7TNm29kGnpEzsk_HbHF_PDtbq56Qm4x0HbXt9oPA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] how to calculate spatial correlatiobn</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00179.html">Thread Prev</a>][<a href="msg00181.html">Thread Next</a>][<A HREF="threads.html#00180">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] how to calculate spatial correlatiobn</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] how to calculate spatial correlatiobn</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 16 Mar 2016 11:49:14 -0700</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive         :list-unsubscribe;        bh=aeGtk/Kcfn/FqphtxPSRpZgGxs5NynoRrS0RuEcXCOw=;        b=A0S0/JZHD2U0P/eseapgsvnFlV9/amBacuZhIbt1yVuH9eJYfFMVcsyVy//Q1jCCLr         DzdS2xzRtX4B9ce+WAEWtwrx73siientcvhboj79p+t30akpfxRGHW+X3iYcRmUfl3tm         MwGLq8yhj2NQeFSv5mGxVzNQuYJ8BmNXtydujk8MLGWE94GOPx2Xu8B1nTgVbieg36qx         Ae4hTTlemKf6FYh11rPVnKEjOMQKLW+AxWlrRRe0EK4SPGlO7kkVRl1feHdQb2pSPzL3         zR2hmlt2qR+4m/wCtfhOkI5MgYfg45QDjzYajalDJTu0YWUtEEXVKktDCQoMAdvwk5yr         n/8w==</li>
<li>In-reply-to: &lt;<a href="msg00179.html">CABShME0DEV7TNm29kGnpEzsk_HbHF_PDtbq56Qm4x0HbXt9oPA@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00179.html">CABShME0DEV7TNm29kGnpEzsk_HbHF_PDtbq56Qm4x0HbXt9oPA@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101 Thunderbird/38.5.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi Yogesh,<br>
    <br>
    The general ideas are here:<br>
    <a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/faq/correlations-and-variances">http://ferret.pmel.noaa.gov/Ferret/faq/correlations-and-variances</a><br>
    <br>
    which shows first a simple correlation between two time series, and
    then a correlation between two X-Y-T gridded variables. <br>
    <br>
    To compute a correlation between a single-point observed time series
    and the gridded data, we want to replicate the data at the point
    location across the XY grid, then compute the correlation.&#xA0; If your
    point data variable is called <b>point_var</b> and the variable on
    the XY grid is<b> xy_var</b>, then you can set it up this way:<br>
    <br>
    <tt><tt>&#xA0; </tt>yes? let point_on_xy = point_var[x=@ave,y=@ave] + 0*
      xy_var</tt><br>
    <br>
    The purpose of taking the average in X and Y is to remove the grid
    dependence in the XY direction. If the observation is on a 1-point
    grid in x and y we want to remove that. An averaging operation
    removes the axis over which you define the average (but in this case
    will do no computation). &#xA0; If the time axes of the observation and
    the gridded variable did not agree, you could define a regridding in
    time as well.&#xA0; Adding <b>0* </b><b>xy_var</b><b> </b>makes use of
    the idea of "<a rel="nofollow"
href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPINDEXENTRY_300">conformability</a>"
    to promote the data from the observation to the grid points in XY.<br>
    <br>
    See what you have:<br>
    <br>
    <tt><tt>&#xA0; </tt>yes? shade/L=1 point_on_xy&#xA0; ! will show a constant
      value</tt><tt><br>
    </tt><tt><tt>&#xA0; </tt>yes? shade/y=0 point_on_xy&#xA0; ! constant in X,
      shows the T variation of the observation</tt><tt><br>
    </tt><br>
    Now you can continue with the example in the FAQ and call the
    "variance.jnl" script. Define the variables in whichever order makes
    sense to you.<br>
    <tt><br>
    </tt><tt>&#xA0; yes? LET p = point_on_xy</tt><tt><br>
    </tt><tt>&#xA0; yes? LET q = xy_var</tt><tt><br>
    </tt><tt>&#xA0; yes? GO variance<br>
      <br>
    </tt><br>
    For your second question, you would use the ideas from the second
    example in the FAQ, but you will need to regrid the data of one
    model onto the grid of the&#xA0; other.<br>
    <br>
    Ansley<br>
    <br>
    <div class="moz-cite-prefix">On 3/16/2016 2:18 AM, 'Yogesh Tiwari'
      via _OAR PMEL Ferret Users wrote:<br>
    </div>
    <blockquote
cite=""
      type="cite">
      <div dir="ltr">Dear Ferret Users,
        <div><br>
        </div>
        <div>I am using&#xA0;FERRET v6.95 on Linux.</div>
        <div><br>
        </div>
        <div>1) How to calculate spatial correlation between point
          observation at one location and model simulated data over some
          particular region. For example, observation is at only one
          location 18N, 72 E and model is at 0.5x0.5 grid. So how to
          calculate correlation between every grid of model (over the
          region 50:100E, 10S:40N) and this point observation at&#xA0;18N, 72
          E. And then save output fine in cdf format. We have extracted
          model data as same day as observation.</div>
        <div><br>
        </div>
        <div>2) Its similar to above but, how to calculate spatial
          correlation between &#xA0;two model simulated data (i.e. grid to
          grid correlation over the region50:100E, 10S:40N). One model
          has 0.25x0.25 and other is has 0.5x0.5 horizontal resolution.&#xA0;</div>
        <div><br>
        </div>
        <div>Great Thanks,</div>
        <div><br>
        </div>
        <div>Best regards,</div>
        <div>Yogesh</div>
        <div><br>
        </div>
        <div><br clear="all">
          <div><br>
          </div>
          -- <br>
          <div class="gmail_signature">
            <div>Yogesh K. Tiwari (Dr.rer.nat), <br>
              Scientist,</div>
            <div>Centre for Climate Change Research,<br>
              Indian Institute of Tropical Meteorology, <br>
              Homi Bhabha Road,<br>
              Pashan,<br>
              Pune, India</div>
          </div>
        </div>
      </div>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00179" href="msg00179.html">[ferret_users] how to calculate spatial correlatiobn</a></strong>
<ul><li><em>From:</em> 'Yogesh Tiwari' via _OAR PMEL Ferret Users</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00179.html">[ferret_users] how to calculate spatial correlatiobn</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00181.html">[ferret_users] regarding box averaging for time series</a></strong>
</li>

</UL>
<center>[<a href="msg00179.html">Thread Prev</a>][<a href="msg00181.html">Thread Next</a>][<A HREF="threads.html#00180">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
