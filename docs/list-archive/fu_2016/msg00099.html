<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] invalid command: grave accent doesnt evaluate to scalar -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 10 Feb 2016 10:13:15 &#45;0800 -->
<!--X-Message-Id: 56BB7DB9.3080204@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAHA7uEP+MiMb3wWvYy+DpYNPZU089GPTVFLSNLpLCNJs0L+8EA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] invalid command: grave accent doesnt evaluate to scalar</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00091.html">Thread Prev</a>][<a href="msg00104.html">Thread Next</a>][<A HREF="threads.html#00099">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] invalid command: grave accent doesnt evaluate to scalar</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] invalid command: grave accent doesnt evaluate to scalar</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 10 Feb 2016 10:13:13 -0800</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-type:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive:list-unsubscribe;        bh=JTjGlx4pcJVGKt8KdRS0aqqckwgnZ6tVJUFEYUWwVGM=;        b=0yGoY63cFgbvo3dVHdxeRo4p4xIWfQQsQjgMxbIHSBY1D3Bzu3QR31+VeOo7j645ym         aaqVEmKk5hLgSG50Vpu4q5xMdIZjwVl7IcyZ6LDKwcP/Y8mpATaGiydnW2vn7xy8Uwm+         pkb/ybc4ObzuxMzXu5chESf6PaDljgiWVEhdX0jUJiJc4OW1zkXD5EtfXVNrHApq4YVg         hZKuyWG7nUevP4PuNT3zjsCUFlohbd7kq/noqgpM5t2lm6TUCFLIZa3Z8ehC+0d0StVG         Dgq3l66q7fipRPrQLa6rC2tc/4d7vDsXcF0iUlTLFwWhvsFeyf+LujN8mMWTLO7qdHXA         lfdg==</li>
<li>In-reply-to: &lt;<a href="msg00090.html">CAHA7uEP+MiMb3wWvYy+DpYNPZU089GPTVFLSNLpLCNJs0L+8EA@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00090.html">CAHA7uEP+MiMb3wWvYy+DpYNPZU089GPTVFLSNLpLCNJs0L+8EA@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101 Thunderbird/38.5.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi,<br>
    As Akshay says, the `dep GE 50` can be evaluated only if dep is a
    scalar. So if the grid of variable <b>pres </b>has a range in x,
    y, t, etc, you need to restrict those other dimensions before you
    can evaluate <b>if </b><b>`dep ge 50`</b><br>
    <br>
    I see that you are looping over K, and then applying transformations
    in the Z direction.&#xA0; Look at this loop:<br>
    <blockquote><tt>yes? repeat/k=1:`zulim` (let
        dep_min=pres[d=1,z=@min])</tt><br>
    </blockquote>
    At each iteration of this loop, the Z=@MIN will be applied only at
    the single grid point indicated by K, so it would return the
    variable pressure at that value of K, not the minimum over any
    range.&#xA0; I am guessing that this is not what you intended.<br>
    <br>
    For finding the locations where the max pressure is greater than 50,
    you could use IF to define masks and masked variables.&#xA0; See <a rel="nofollow"
href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPID_181"><a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPID_181">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_VPID_181</a></a>.
    For instance,<br>
    <blockquote><tt>yes? let dep = pres[d=1,z=@max]</tt><tt><br>
      </tt><tt>yes? let deeper_50 = if dep gt 50 then dep</tt><br>
    </blockquote>
    If the grid has a range of x and y, then this&#xA0; will show the values
    of dep where it takes on values larger than 50<br>
    <blockquote><tt>yes? shade deeper_50</tt><br>
    </blockquote>
    or define a true mask,<br>
    <blockquote><tt>yes? let dep_50_mask = if dep gt 50 then 1</tt><br>
    </blockquote>
    and multiply other variables by this mask. So, for instance, "<b> </b><b>psal
    </b><b>where </b><b>dep </b><b>is greater than 50</b>" is this:<br>
    <blockquote><tt>yes? let psal_50_mask = psal* dep_50_mask</tt><br>
    </blockquote>
    You may be able to do what you want without resorting to loops.&#xA0; <br>
    <br>
    Ansley<br>
    <br>
    <div class="moz-cite-prefix">On 2/10/2016 3:53 AM, Venu wrote:<br>
    </div>
    <blockquote
cite=""
      type="cite">
      <div dir="ltr">
        <div class="gmail_default" style="font-family:times new
          roman,serif;font-size:large">Hi,<br>
          <br>
        </div>
        <div class="gmail_default" style="font-family:times new
          roman,serif;font-size:large">I am trying to run jnl file by
          using shell script. The following block showing the error <b>"invalid
            command: grave accent doesnt evaluate to scalar dep ge 50"</b>.<br>
          <br>
          repeat/k=1:`zulim` (let dep_min=pres[d=1,z=@min];let
          dep=pres[d=1,z=@max];if <b>`dep ge 50`</b> then
          (list/file=argo.txt/append/nolab
          2001,12,17,latitude[d=1],longitude[d=1],sst_a[d=2,x=longitude[d=1],y=latitude[d=1],t=17-Dec-2001@itp],sla[d=3,x=longitude[d=1],y=latitude[d=1],t=17-Dec-2001@itp],temp[z=`dep_min`,d=1],psal[z=`dep_min`,d=1],1024.5*4000.5*temp[d=1,z=0:50@din]*1E-08,temp[d=1,z=50],1024.5*4000.5*temp[d=4,x=longitude[d=1],y=latitude[d=1],t=17-Dec-2001@itp,z=0:50@din]*1E-08,temp[z=50,d=4,x=longitude[d=1],y=latitude[d=1],l=12])
          endif)<br>
          <br>
        </div>
        <div class="gmail_default" style="font-family:times new
          roman,serif;font-size:large">Please help me in resolving the
          issue.<br clear="all">
        </div>
        <div>
          <div class="gmail_signature">
            <div dir="ltr">
              <div>
                <div dir="ltr">
                  <div>
                    <div dir="ltr">
                      <div>
                        <div dir="ltr">
                          <div>
                            <div dir="ltr">
                              <div>
                                <div dir="ltr">
                                  <div>
                                    <div dir="ltr">
                                      <div>
                                        <div dir="ltr">
                                          <div>
                                            <div>
                                              <div><span
                                                  style="font-family:tahoma,sans-serif"><i><br>
                                                    <br>
                                                  </i></span></div>
                                              <div><span
                                                  style="font-family:tahoma,sans-serif"><b><i><font
                                                        color="#0000ff"
                                                        size="2"><span
                                                          style="color:rgb(255,0,255)">Thanks
                                                          &amp;
                                                          Regards....!!</span><br>
                                                        <span
                                                          style="color:rgb(32,18,77)"><font
                                                          size="4"><br>
                                                          <span
                                                          style="color:rgb(53,28,117)">Venu</span></font></span><span
style="color:rgb(53,28,117)"></span></font></i></b></span></div>
                                              <span
                                                style="font-family:tahoma,sans-serif"><b><span
style="color:rgb(0,0,255)"><i><span style="color:rgb(53,28,117)">-----------</span><br>
                                                      <br>
                                                    </i></span></b></span></div>
                                            <span
                                              style="font-family:tahoma,sans-serif"><font
                                                size="2"><i><b><font
                                                      color="#0000ff">Mobile:</font></b></i><b><font
                                                    color="#0000ff">+91-8712404538</font></b></font><i><b><font
                                                    color="#0000ff"><font
                                                      size="2"><br>
                                                      &#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;
                                                      +91-9573547538</font><br>
                                                  </font></b></i></span></div>
                                          <div>
                                            <div>
                                              <div><span
                                                  style="font-family:tahoma,sans-serif"><i><b><font
                                                        color="#0000ff"><br>
                                                      </font></b></i></span></div>
                                              <div><span
                                                  style="font-family:tahoma,sans-serif"><span
style="color:rgb(11,83,148)"><i><b>"<u>Now or Never....</u>"</b></i></span></span></div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00104" href="msg00104.html">Re: [ferret_users] invalid command: grave accent doesnt evaluate to scalar</a></strong>
<ul><li><em>From:</em> Venu</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00090" href="msg00090.html">[ferret_users] invalid command: grave accent doesnt evaluate to scalar</a></strong>
<ul><li><em>From:</em> Venu</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00091.html">Re: [ferret_users] invalid command: grave accent doesnt evaluate to scalar</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00104.html">Re: [ferret_users] invalid command: grave accent doesnt evaluate to scalar</a></strong>
</li>

</UL>
<center>[<a href="msg00091.html">Thread Prev</a>][<a href="msg00104.html">Thread Next</a>][<A HREF="threads.html#00099">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
