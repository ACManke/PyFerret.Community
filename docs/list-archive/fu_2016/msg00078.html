<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] scat2grid_nbin_xy using mode instead of mean -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Fri, 5 Feb 2016 14:18:36 &#45;0800 -->
<!--X-Message-Id: 56B51FB9.6040309@noaa.gov -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CALGes=LidOnmXLpxiqZuDUq9y9dG3QHP3sktj0kQSixWZ3qt2Q@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] scat2grid_nbin_xy using mode instead of mean</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00067.html">Thread Prev</a>][<a href="msg00075.html">Thread Next</a>][<A HREF="threads.html#00078">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] scat2grid_nbin_xy using mode instead of mean</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>, <a href="mailto:the.nandini@DOMAIN.HIDDEN">the.nandini@xxxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] scat2grid_nbin_xy using mode instead of mean</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Fri, 5 Feb 2016 14:18:33 -0800</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-type:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive:list-unsubscribe;        bh=MBI2LlHBXKgXn5N1OpBsbYAtd1ZBb1qtWfTWVaYiev4=;        b=TeAf13tQuwSSRVTL1/7y4Z93uhr7+yWCtSVKAcrFyHDxlvYFXbJXgu1cQsARB/gkhe         92dLt+pvoAbX8NgKlMH2HmzNkKd7L00fPwxZrlCIhlaGokgpfGwsI3DQf3QLz+vPU1mq         N9TvWZP18ItA03Be3ykQScN8jZc+J1H5iXwkkNmdHE6UbaOv2ZLmE+SjImrMtMm43N03         D3ix23vkOUTfvsZXho4oZU40T8fmOp74/V+bsUtKhSQmbqtqWrBAQhMlGSnF7QU2obA/         N6DyatCgve19EZypCWJN0FON/0XvVAZMowGVu6vIaLy2uc1XqrSbIqExD2Vf2Zezeg84         mXNQ==</li>
<li>In-reply-to: &lt;CALGes=LidOnmXLpxiqZuDUq9y9dG3QHP3sktj0kQSixWZ3qt2Q@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CALGes=LidOnmXLpxiqZuDUq9y9dG3QHP3sktj0kQSixWZ3qt2Q@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101 Thunderbird/38.5.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi Nandini,<br>
    If you are a Fortran (or c) programmer, then it would be a fairly
    simple job to take one of the existing scat2grid&#xA0; functions and use
    it as a model for a new external function that uses the mode.&#xA0; If
    this seems like a possibility for you, I would be happy to consult
    with you getting started with this.<br>
    <br>
    There may be ways to use the scat2grid_nbin function. Do the data
    take on just a few discrete values?&#xA0; If so then you could create a
    few gridded variables, number of obs with value v1, number of obs
    with value v2, number of obs with value v3, and then use Ferret to
    combine the results.<br>
    <br>
    If your scattered locations are xpts, ypts, and the data are fpts
    which take on the values 17 or 18, and xaxpts, yaxpts are
    coordinates of the axes of the result grid, then it might look
    something like this:<br>
    <blockquote>yes? let mask_v1 = if fpts EQ 17 then 1<br>
      yes? let mask_v2 = if fpts EQ 18 then 1<br>
      <br>
      yes? let ngrid_v1 = scat2grid_nbin_xy(xpts,ypts, mask_v1, xaxpts,
      yaxpts)<br>
      yes? let ngrid_v2 = scat2grid_nbin_xy(xpts,ypts, mask_v2, xaxpts,
      yaxpts)<br>
      <br>
      yes? let bin_mode_1_2 = if ngrid_v1 gt ngrid_v2 then 18 else 17<br>
    </blockquote>
    This is just a sketch of the kinds of ideas that might be possible,
    but this sort of thing gets unwieldy very fast for more than a very
    small number of discrete values. You'd also need to do something to
    handle the value of zero, if there are grid cells with counts of
    zero.&#xA0; <br>
    <br>
    -Ansley<br>
    <br>
    <div class="moz-cite-prefix">On 2/4/2016 12:25 PM, Nandini Ramesh
      wrote:<br>
    </div>
    <blockquote
cite=""
      type="cite">
      <div dir="ltr">Hi,&#xA0;
        <div><br>
        </div>
        <div>I have some scattered data that needs to be interpolated
          onto an xy grid. The simplest way to do this is to use
          scat2grid_bin_xy, which calculates the average of all of the
          values that fall within a particular gridbox. What I need is a
          very similar function that instead of calculating the mean,
          calculates the mode from my scattered data; i.e., I need the
          function to choose the most-repeated value that appears in
          each gridbox rather than the mean of all values that appear in
          each gridbox. This is because in this case, I am considering
          the most-repeated value at a particular location to be the
          best estimate, and all other values to be incorrect. I looked
          at the documentation, but wasn't able to figure out how to do
          this. Does anybody here know of a function that does this, or
          how to manipulate one of the scat2grid functions to get this
          result?</div>
        <div><br>
        </div>
        <div>Thank you for your help!</div>
        <div><br>
        </div>
        <div>Cheers,</div>
        <div>Nandini</div>
        <div><br>
        </div>
        <div>Nandini Ramesh</div>
        <div>PhD Candidate,&#xA0;</div>
        <div>Lamont-Doherty Earth Observatory</div>
        <div>(<a rel="nofollow" moz-do-not-send="true"
            href="mailto:nramesh@xxxxxxxxxxxxxxxxx">nramesh@xxxxxxxxxxxxxxxxx</a>)</div>
      </div>
    </blockquote>
    <br>
  

</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00067" href="msg00067.html">[ferret_users] scat2grid_nbin_xy using mode instead of mean</a></strong>
<ul><li><em>From:</em> Nandini Ramesh</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00067.html">[ferret_users] scat2grid_nbin_xy using mode instead of mean</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00075.html">Re: [ferret_users] scat2grid_nbin_xy using mode instead of mean</a></strong>
</li>

</UL>
<center>[<a href="msg00067.html">Thread Prev</a>][<a href="msg00075.html">Thread Next</a>][<A HREF="threads.html#00078">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
