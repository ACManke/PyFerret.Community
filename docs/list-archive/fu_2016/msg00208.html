<!-- MHonArc v2.6.18 -->
<!--X-Subject: RE: [ferret_users] how to cancatenate nc files that have no time dimension ? -->
<!--X-From-R13: Brnefr Phpunana <crnefr.ohpunanaNhgnf.rqh.nh> -->
<!--X-Date: Wed, 30 Mar 2016 14:05:10 &#45;0700 -->
<!--X-Message-Id: 8efc63f1a3804e7cae91ccac1e55b290@MBX6.utas.ad.internal -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAN4rXbT07iZAT&#45;&#45;s8SdyDBLSSouZJAKJ_KMDR6eqkWAOUYiWYQ@mail.gmail.com -->
<!--X-Reference: 56F9640B.4010309@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>RE: [ferret_users] how to cancatenate nc files that have no time dimension ?</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00204.html">Thread Prev</a>][<a href="msg00205.html">Thread Next</a>][<A HREF="threads.html#00208">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: [ferret_users] how to cancatenate nc files that have no time dimension ?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;,        &quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot;	&lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>RE: [ferret_users] how to cancatenate nc files that have no time dimension ?</strong></li>
<li><strong>From</strong>: <strong>Pearse Buchanan &lt;<a href="mailto:pearse.buchanan@DOMAIN.HIDDEN">pearse.buchanan@xxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 30 Mar 2016 21:05:02 +0000</li>
<li>Accept-language: en-US, en-AU</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=from:to:subject:thread-topic:thread-index:date:message-id         :references:in-reply-to:accept-language:content-language         :mime-version:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive         :list-unsubscribe;        bh=jrEN79SefdnvuxlqZqPIY9geS9ILHIMXSEpoqcTs+G4=;        b=a/FrTcya4BIWwsoyBdNwlalL1npyJfIpvScmxKywDIeW9u+ByP7C17rxUOYJH9vDvd         2M9FAg/8T6yy7O4nilH7SWVlYrL40cyOtHqrBM6wGJNeHtx5si6zVG8moYBVyf6jma3m         OZt7MFu2nzjh79x14D6ltvFuY8Q64NmU+scG8PBagr/gDKgQP3Vm/x8c2JeU4pM+tsnZ         DBLOamoyow8rrcSu55Z3Qg8ovPK/MKXSQ85CGk8qsg9SHdkWfDC6z27sfsIMDvAz+zuS         eI5BHLIbY7tl/t21GsfcLzeu7Em19gNbrm/YxNQ7CK9/2tvn7J6isjqjkUN+80IM0AZG         26Wg==</li>
<li>In-reply-to: &lt;<a href="msg00202.html">56F9640B.4010309@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00201.html">CAN4rXbT07iZAT--s8SdyDBLSSouZJAKJ_KMDR6eqkWAOUYiWYQ@mail.gmail.com</a>&gt; &lt;<a href="msg00202.html">56F9640B.4010309@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-index: AQHRiDLwhv4ZHlgF6EasGTsgcC7cQJ9uXuWAgAQeMNA=</li>
<li>Thread-topic: [ferret_users] how to cancatenate nc files that have no time dimension ?</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="white" style="background-color: white; a:link { color: blue } a:visited { color: purple } ">


<div class="WordSection1">
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">Hey Kishore,<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">Another way to do this would be to use NCO (NetCDF Operators).<o:p></o:p></span></p>
<p class="MsoNormal"><i><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">ncecat</span></i><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D"> is the command you want, and you can do what you need in one
 line.<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">Eg.<o:p></o:p></span></p>
<p class="MsoNormal"><i><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">ncecat &#x2013;n 100,5,10 file_00001.nc allfiles.nc<o:p></o:p></span></i></p>
<p class="MsoNormal"><i><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D"><o:p>&nbsp;</o:p></span></i></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">In the above command:<o:p></o:p></span></p>
<p class="MsoListParagraph" style="text-indent:-18.0pt;mso-list:l0 level1 lfo1"><![if !supportLists]><span style="font-size:11.0pt;font-family:Symbol;color:#1F497D"><span style="mso-list:Ignore">&#xB7;<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span dir="LTR"></span><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">-n means loop<o:p></o:p></span></p>
<p class="MsoListParagraph" style="text-indent:-18.0pt;mso-list:l0 level1 lfo1"><![if !supportLists]><span style="font-size:11.0pt;font-family:Symbol;color:#1F497D"><span style="mso-list:Ignore">&#xB7;<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span dir="LTR"></span><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">100,5,10 are the arguments that go to the loop option, where you want to concatenate 100 files, using 5 digits (numbers in:
<i>file_00001.nc</i>), and make jumps by 10 (i.e. <i>file_00001.nc </i>&#43; <i>file_00011.nc</i> &#43;
<i>file_00021.nc</i>, etc.)<o:p></o:p></span></p>
<p class="MsoListParagraph" style="text-indent:-18.0pt;mso-list:l0 level1 lfo1"><![if !supportLists]><span style="font-size:11.0pt;font-family:Symbol;color:#1F497D"><span style="mso-list:Ignore">&#xB7;<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span dir="LTR"></span><i><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">File_00001.nc
</span></i><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">is the first file in the long list of 100 files you want to concatenate together<o:p></o:p></span></p>
<p class="MsoListParagraph" style="text-indent:-18.0pt;mso-list:l0 level1 lfo1"><![if !supportLists]><span style="font-size:11.0pt;font-family:Symbol;color:#1F497D"><span style="mso-list:Ignore">&#xB7;<span style="font:7.0pt &quot;Times New Roman&quot;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span dir="LTR"></span><i><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">allfiles.nc
</span></i><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">is the name of your new concatenated file.<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">Cheers from Tasmania!<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D">Pearse
<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:#1F497D"><o:p>&nbsp;</o:p></span></p>
<div>
<div style="border:none;border-top:solid #E1E1E1 1.0pt;padding:3.0pt 0cm 0cm 0cm">
<p class="MsoNormal"><b><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:windowtext">From:</span></b><span lang="EN-US" style="font-size:11.0pt;font-family:&quot;Calibri&quot;,sans-serif;color:windowtext"> owner-ferret_users@xxxxxxxx
 [mailto:owner-ferret_users@xxxxxxxx] <b>On Behalf Of </b>Ansley C. Manke<br>
<b>Sent:</b> Tuesday, 29 March 2016 4:04 AM<br>
<b>To:</b> ferret_users@xxxxxxxx<br>
<b>Subject:</b> Re: [ferret_users] how to cancatenate nc files that have no time dimension ?<o:p></o:p></span></p>
</div>
</div>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
<p class="MsoNormal" style="margin-bottom:12.0pt">Hi,<br>
You can define a time axis with the correct times, and add a variable which is 0*time on that axis to your input data. This has the effect of putting your data onto a time axis, then you can write out the appropriate timestep to an output file.&nbsp; The ideas are
 shown under &quot;Timestamp&quot;, a few paragraphs down in this section:<br>
<br>
<a rel="nofollow" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SAVE">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SAVE</a><o:p></o:p></p>
<blockquote style="margin-top:5.0pt;margin-bottom:5.0pt">
<p class="MsoNormal"><tt><span style="font-size:10.0pt">yes? DEFINE AXIS/T=&quot;1-JUL-1980&quot;:&quot;1-JUL-1985&quot;:1/UNIT=year tannual</span></tt><span style="font-size:10.0pt;font-family:&quot;Courier New&quot;"><br>
<tt>yes? LET timestamp = T[Gt=tannual] * 0 !always 0</tt><br>
<br>
<tt>yes? use data_1980.nc</tt><br>
<tt>yes? let var_with_time = var &#43; timestamp</tt><br>
<tt>yes? set attributes/like=var var_with_time</tt><br>
<tt>yes? save/t=1-JUL-1980/file=timedata.nc var_with_time</tt><br>
<tt>yes? cancel data 1980</tt><br>
<br>
<tt>yes? use data_1981</tt><br>
<tt>... same definitions, save the data in 1981. </tt></span><o:p></o:p></p>
</blockquote>
<p class="MsoNormal">The variable 'var_with_time' is defined at all timesteps, but you write out only the one at the desired time, so that the data for 1980 is associated with the timestep in 1980, and so forth.<br>
<br>
You can even preserve the original variable names, by renaming the incoming variable to another name, then using the original variable in the modified version of it.<o:p></o:p></p>
<blockquote style="margin-top:5.0pt;margin-bottom:5.0pt">
<p class="MsoNormal"><tt><span style="font-size:10.0pt">yes? use data_1980.nc</span></tt><br>
<tt><span style="font-size:10.0pt">yes? set var/name=var_in var</span></tt><br>
<tt><span style="font-size:10.0pt">yes? let var = var_in &#43; timestamp</span></tt><br>
<tt><span style="font-size:10.0pt">...</span></tt><o:p></o:p></p>
</blockquote>
<p class="MsoNormal" style="margin-bottom:12.0pt"><o:p>&nbsp;</o:p></p>
<div>
<p class="MsoNormal">On 3/27/2016 6:27 AM, Kishore Ragi wrote:<o:p></o:p></p>
</div>
<blockquote style="margin-top:5.0pt;margin-bottom:5.0pt">
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<p class="MsoNormal" style="margin-bottom:12.0pt">Hi ferret users,<o:p></o:p></p>
</div>
<p class="MsoNormal" style="margin-bottom:12.0pt">I have multiple files with time specified in the file name, but there is no time dimension. I would like to add time dimension and merge all the files into one.<o:p></o:p></p>
</div>
<p class="MsoNormal" style="margin-bottom:12.0pt">Could anybody tell me how to combine all the files with time dimension?<o:p></o:p></p>
</div>
<p class="MsoNormal">I appreciate your help.<o:p></o:p></p>
</div>
<p class="MsoNormal" style="margin-bottom:12.0pt">Thank you in advance.<o:p></o:p></p>
</div>
<p class="MsoNormal">Regards,<o:p></o:p></p>
</div>
<p class="MsoNormal">Kishore<br clear="all">
<o:p></o:p></p>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<div>
<p class="MsoNormal"><b><span style="font-size:10.0pt;background:white">PhD student in climate science,</span></b><o:p></o:p></p>
</div>
<div>
<p class="MsoNormal"><b><span style="font-size:10.0pt;background:white">National Institute of Technology, Rourkela,</span></b><o:p></o:p></p>
</div>
<div>
<p class="MsoNormal"><b><span style="font-size:10.0pt;background:white">India- 769008</span></b><o:p></o:p></p>
</div>
<div>
<p class="MsoNormal"><b><span style="font-size:10.0pt;background:white">Phone: &#43;91-8908671881<br>
<br>
<a rel="nofollow" href="http://www.researchgate.net/profile/Kishore_Ragi">http://www.researchgate.net/profile/Kishore_Ragi</a><br>
<br>
<a rel="nofollow" href="https://in.linkedin.com/in/kishoreragi">https://in.linkedin.com/in/kishoreragi</a><br>
<br>
<a rel="nofollow" href="http://kishoreragi.webnode.com/">http://kishoreragi.webnode.com/</a></span></b><o:p></o:p></p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</blockquote>
<p class="MsoNormal"><o:p>&nbsp;</o:p></p>
</div>
<p style="font-size:10pt; line-height:10pt; font-family: Calibri,sans-serif;"><br>
<br>
University of Tasmania Electronic Communications Policy (December, 2014). <br>
This email is confidential, and is for the intended recipient only. Access, disclosure, copying, distribution, or reliance on any of it by anyone outside the intended recipient organisation is prohibited and may be a criminal offence. Please delete if obtained
 in error and email confirmation to the sender. The views expressed in this email are not necessarily the views of the University of Tasmania, unless clearly intended otherwise.
</p>


</td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00201" href="msg00201.html">[ferret_users] how to cancatenate nc files that have no time dimension ?</a></strong>
<ul><li><em>From:</em> Kishore Ragi</li></ul></li>
<li><strong><a name="00202" href="msg00202.html">Re: [ferret_users] how to cancatenate nc files that have no time dimension ?</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00204.html">Re: [ferret_users] how to cancatenate nc files that have no time dimension ?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00205.html">[ferret_users] Percentile along time axis for gridded data</a></strong>
</li>

</UL>
<center>[<a href="msg00204.html">Thread Prev</a>][<a href="msg00205.html">Thread Next</a>][<A HREF="threads.html#00208">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
