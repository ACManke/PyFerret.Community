<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] removing white spaces and drawing color bar for many plots -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Mon, 22 Feb 2016 16:51:40 &#45;0800 -->
<!--X-Message-Id: 56CBAD17.2070804@noaa.gov -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: CANVsOoh73+&#45;8&#45;+3zxaBLn1J2DOD1tvgVsAt=Vfk+75NhFxENNA@mail.gmail.com -->
<!--X-Derived: pngjTICcsTDfa.png -->
<!--X-Derived: pngdH_jYn4r_C.png -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] removing white spaces and drawing color bar for many plots</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00143.html">Thread Prev</a>][<a href="msg00146.html">Thread Next</a>][<A HREF="threads.html#00144">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] removing white spaces and drawing color bar for many plots</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] removing white spaces and drawing color bar for many plots</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 22 Feb 2016 16:51:35 -0800</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-type:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive:list-unsubscribe;        bh=5T5HJjl/pAd2i7CRo25vfnVOHqqzCH6LYIXkPn67+xw=;        b=gq1ENwQsJVahkb6ebjr7rIjdoqjciiQ/6K//fVMO/oIThfp8bYladGJyaysVi8Y2YC         IP9WOk8NQy0wgiCjNULHQQ9Ek4W0EY57GeGYzxHkGPxHEet4KGUtntV2Q5ZmFDnAHhGt         6PB8mOgQ2UojTrYbE271kD00AKvuLD1gdzzrU8v50kIImZd7RAQ/xOD7ai+0jGes08i7         oDzgIj/QW0HSXyqzEcJ3O2OveW7gNgpgGAKzew2YTBxA+G7osc++Na5BjYHJo8jWsnyK         bfYySLr8TeDCcmN1+vmuMQCFYewC4bv4ghiRJsEcgk3GlJl5ZF8GuGEWogDiCBI5smGr         RYCg==</li>
<li>In-reply-to: &lt;CANVsOoh73+-8-+3zxaBLn1J2DOD1tvgVsAt=Vfk+75NhFxENNA@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>List-unsubscribe: &lt;<a href="mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com">mailto:googlegroups-manage+809428289204+unsubscribe@googlegroups.com</a>&gt;, &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe">https://groups.google.com/a/noaa.gov/group/ferret_users/subscribe</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CANVsOoh73+-8-+3zxaBLn1J2DOD1tvgVsAt=Vfk+75NhFxENNA@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:38.0) Gecko/20100101 Thunderbird/38.5.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    Hi,<br>
    The FILL commands you show have the qualifier /NOKEY, so that is why
    there are no colorbars. That's a good way to make a set of plots if
    they all use the same color levels, as in the "multi_view_demo"
    script that is described in the post that you found, but for several
    different variables you do want the colorbars. Removing the /NOKEY
    will make the default vertical colorbar to the right of each plot.&#xA0;
    Also try it with /KEY=HORIZONTAL, which will put the color bar on
    the top; see if you like that.<br>
    <br>
    <br>
    <br>
    I'll show an example with one of the sample datasets, calling
    multi_view, and take the opportunity to show some commands and
    features that people may not have worked with.&#xA0; Here are the
    references:<br>
    <br>
<a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/annotate">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/annotate</a><br>
    <a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SET#_SETTEXT">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/commands-reference/SET#_SETTEXT</a>
    (for PyFerret)<br>
    <a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/faq/modifying-the-shade-key">http://ferret.pmel.noaa.gov/Ferret/faq/modifying-the-shade-key</a><br>
    <br>
    To clean up the plots, the examples use /NOLABEL to remove the
    automatic labels that Ferret would ordinarily draw. Of course it's
    important to add back enough labels to document what's on the plot.<br>
    <br>
    Because all of the plots show the same region, another way to
    de-clutter the plot is to label the plot axes with longitude and
    latitude only along the left-hand side and lower edge of the set of
    plots, using the PPL AXLABP command.&#xA0; This way the interior of the
    page isn't cluttered up with labels.<br>
    <tt><br>
    </tt>
    <blockquote><tt>! If running PyFerret, you can set a font. Skip this
        if running classic Ferret.<br>
        set text/font=arial<br>
        <br>
        cancel mode logo<br>
        <br>
        ! Define 4 viewports, (use "GO/HELP multi_view"&#xA0; to see the
        documentation for multi_view.jnl)<br>
        go multi_view 2,2,0.35,0.1,0.1,0.35,0.1,0.1<br>
        <br>
        use coads_climatology<br>
        <br>
        ! In the upper left plot, make axis labels only on the latitude
        axis.<br>
        set view v11<br>
        ppl axlabp,0,-1<br>
        <br>
        ! make the plot, removing labels.<br>
        fill/l=1/nolab airt; go land<br>
        <br>
        ! Use the ANNOTATE command to add a title below the plot<br>
        annotate/norm/xpos=0.5/ypos=-0.14/halign=0 "Air Temperature (Deg
        C)"<br>
        <br>
        ! In the upper left plot, make no axis labels<br>
        set view v12<br>
        ppl axlabp,0,0<br>
        <br>
        ! make the plot, removing default labels.<br>
        fill/l=1/nolab sst; go land<br>
        annotate/norm/xpos=0.5/ypos=-0.14/halign=0 "Sea Surface
        Temperature</tt><tt><tt> (Deg C)</tt>"<br>
        <br>
        ! In the lower left plot, label both coordinate axes<br>
        set v v21<br>
        ppl axlabp, -1,-1<br>
        <br>
        fill/l=1/nolabz wspd<br>
        annotate/norm/xpos=0.5/ypos=-0.14/halign=0 "Wind Speed (m/s)"<br>
        <br>
        ! In the lower right plot, label only the longitude axis.<br>
        set v v22<br>
        ppl axlabp, -1,0<br>
        <br>
        fill/l=1/nolab slp; go land<br>
        annotate/norm/xpos=0.5/ypos=-0.14/halign=0 "Sea Level Pressure (mb)"<br>
        <br>
        <br>
        ! Now, there should be some labels for the overall plot. To position
        these<br>
        ! relative to the whole page, use the viewport "full" which is
        always defined.<br>
        <br>
        ! Draw a blank plot, by drawing a point but setting the /HLIMITS
        so the point<br>
        ! is off the page. Use /NOLABELS and /NOAXES, and nothing is
        drawn.<br>
      </tt><tt><br>
        set view full<br>
      </tt><tt>plot/noaxis/nolabel/vs/hlim=1:2 {0,0}, {0,0}<br>
        <br>
        ! Now make some labels for the dataset and the date.&#xA0; Other
        relevant information<br>
        ! can be added in the same way, anywhere on the plot.<br>
        <br>
        annotate/norm/xpos=0.5/ypos=1.15/halign=0 "COADS Climatology"<br>
        annotate/norm/xpos=0/ypos=1.15/halign=0/siz=0.1 "January"<br>
        <br>
        frame/file=viewports_example.png&#xA0; ! Use .gif for Ferret<br>
        <br>
      </tt></blockquote>
    Another case: if the plots all show the same variable or comparable
    variables, for instance at different time steps, it's a good idea to
    use the same color scale throughout by specifying /LEVELS=.&#xA0; Then,
    draw a single colorbar on the page.&#xA0; Here's a message about that:<br>
<a rel="nofollow" class="moz-txt-link-freetext" href="http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2000/msg00226.html">http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2000/msg00226.html</a><br>
    <br>
    Here's an example, using the viewports and settings for axis labels
    as above. For this one, the arguments to multi_view could be changed
    so that there would be less white space between the viewports.<br>
    <blockquote><tt>set text/font=arial</tt><tt><br>
      </tt><tt>cancel mode logo</tt><tt><br>
      </tt><tt><br>
      </tt><tt>! Define 4 viewports</tt><tt><br>
      </tt><tt>go multi_view 2,2,0.35,0.1,0.1,0.35,0.1,0.1</tt><tt><br>
      </tt><tt>use coads_climatology</tt><tt><br>
        <br>
      </tt><tt><br>
        <br>
        ! Set a sub-region, and a new color palette<br>
        ! Define fixed color levels for all the plots<br>
        <br>
        set region/x=100e:100w/y=0:90<br>
        palette blue_green_yellow<br>
        <br>
        define symbol airt_levels = /lev=(-inf)(-2,30,1)(inf)<br>
        <br>
        <br>
        set view v11<br>
        ppl axlabp,0,-1<br>
        ! make the plot, removing labels.<br>
        fill/l=1/nolab/nokey($airt_levels) airt; go land<br>
        annotate/norm/xpos=0.1/ypos=1.05/halign=0/size=0.14 "January"<br>
        <br>
        set view v12<br>
        ppl axlabp,0,0<br>
        ! make the plot, removing default labels.<br>
        fill/l=4/nolab/nokey($airt_levels) airt; go land<br>
        annotate/norm/xpos=0.1/ypos=1.05/halign=0/size=0.14 "April"<br>
        <br>
        set v v21<br>
        ppl axlabp, -1,-1<br>
        fill/l=7/nolab/nokey($airt_levels) airt; go land<br>
        annotate/norm/xpos=0.1/ypos=1.05/halign=0/size=0.14 "July"<br>
        <br>
        <br>
        ! On the last plot, draw a color key.<br>
        ! Do not use /NOKEY, and use /SET, so the custom color key</tt><tt>
        can be </tt><tt><br>
        ! defined with PPL SHAKEY. The key can extend anywhere on the
        plot page,<br>
        ! page, even beyond the current viewport but the locations are
        given<br>
        ! relative to the plot origin in the current viewport.<br>
        <br>
        set v v22<br>
        ppl axlabp, -1,0<br>
        fill/l=10/nolab($airt_levels)<big><b>/set</b></big> airt<br>
        ppl shakey 1,1,,,,,`($ppl$xorg)+($ppl$xlen)+0.2`,
        `($ppl$xorg)+($ppl$xlen)+0.5`, ($ppl$yorg),
        `2*(($ppl$yorg)+($ppl$ylen))`<br>
        <big><b>ppl fill</b></big><br>
        <br>
        go land<br>
        annotate/norm/xpos=0.1/ypos=1.05/halign=0/size=0.14 "October"<br>
        <br>
        ! Now make an overall annotation with the variable name and
        dataset name.<br>
        <br>
        set view full<br>
        ! draw a blank plot<br>
        plot/noaxis/nolabel/vs/hlim=1:2 {0,0}, {0,0}<br>
        <br>
        annotate/norm/xpos=0.5/ypos=1.17/siz=0.18/halign=0 "COADS
        Climatology Air Temperature (Deg C)"<br>
        <br>
        frame/file=</tt><tt>viewports_example2.png&#xA0;</tt></blockquote>
    <tt><br>
    </tt>
    <div class="moz-cite-prefix">On 2/20/2016 8:20 AM, afwande juliet
      wrote:<br>
    </div>
    <blockquote
cite=""
      type="cite">
      <div dir="ltr">
        <div>
          <div>
            <div>Dear users<br>
            </div>
            I am making some plots; i want to reduce white spaces
            between the plots and make one color bar for the plots<br>
          </div>
          I am using this attached script and my plots look like this
          which are not very attractive<br>
        </div>
        <div>I tried to follow online sources here <a rel="nofollow"
            moz-do-not-send="true"
href="http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2007/msg00399.html"><a rel="nofollow" class="moz-txt-link-freetext" href="http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2007/msg00399.html">http://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2007/msg00399.html</a></a>
          but couldnt help<br>
        </div>
        thanks<br>
      </div>
    </blockquote>
    <br>
  

</font></td></tr></table><p><strong>Attachment:
<a href="pngjTICcsTDfa.png" ><tt>viewports_example.png</tt></a></strong><br>
<em>Description:</em> PNG image</p>
<p><strong>Attachment:
<a href="pngdH_jYn4r_C.png" ><tt>viewports_example2.png</tt></a></strong><br>
<em>Description:</em> PNG image</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00146" href="msg00146.html">Re: [ferret_users] removing white spaces and drawing color bar for many plots</a></strong>
<ul><li><em>From:</em> afwande juliet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00143" href="msg00143.html">[ferret_users] removing white spaces and drawing color bar for many plots</a></strong>
<ul><li><em>From:</em> afwande juliet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00143.html">[ferret_users] removing white spaces and drawing color bar for many plots</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00146.html">Re: [ferret_users] removing white spaces and drawing color bar for many plots</a></strong>
</li>

</UL>
<center>[<a href="msg00143.html">Thread Prev</a>][<a href="msg00146.html">Thread Next</a>][<A HREF="threads.html#00144">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
