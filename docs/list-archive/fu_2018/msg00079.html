<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] Reading ASCII data including formatted dates -->
<!--X-From-R13: Dlb Thehr <shehrNunjnvv.rqh> -->
<!--X-Date: Mon, 26 Mar 2018 19:50:44 &#45;0700 -->
<!--X-Message-Id: CAEwQpa+rhWx1V_iq8wGwjJRS6NRh8ctuwfNqxBE2f8F+QOb8xw@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 810ABF59&#45;1460&#45;454D&#45;A888&#45;4A394C8A071E@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] Reading ASCII data including formatted dates</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00066.html">Thread Prev</a>][<a href="msg00063.html">Thread Next</a>][<A HREF="threads.html#00079">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] Reading ASCII data including formatted dates</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>ferret_users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] Reading ASCII data including formatted dates</strong></li>
<li><strong>From</strong>: <strong>Ryo Furue &lt;<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 27 Mar 2018 11:50:32 +0900</li>
<li>Arc-authentication-results: i=4; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=HDKSv61z;       arc=pass (i=2 dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=3; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=HDKSv61z;       arc=pass (i=2 dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> does not designate 52.222.5.176 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=HDKSv61z;       arc=pass (i=1 spf=pass spfdomain=hawaii.edu dkim=pass dkdomain=hawaii-edu.20150623.gappssmtp.com);       spf=softfail (google.com: domain of transitioning <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> does not designate 65.127.216.226 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@hawaii-edu.20150623.gappssmtp.com header.s=20150623 header.b=HDKSv61z;       spf=pass (google.com: domain of <a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:furue@DOMAIN.HIDDEN">furue@xxxxxxxxxx</a></li>
<li>Arc-message-signature: i=4; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :message-id:to:subject:date:from:references:in-reply-to:mime-version         :arc-authentication-results:arc-message-signature         :arc-authentication-results:arc-message-signature         :arc-authentication-results:arc-message-signature:sender         :dkim-signature:arc-authentication-results;        bh=o5P1qjuFQooDxDo1I12PJiAV1fUGDdLnbRn9FSIAlYM=;        b=jgSBgq8HprojF73GnwzRZ/0x0PsmhO15RiqQ9E5DaLzGXlgNVXoZwqpMaeys+PQTTo         cb5C0mtdHh1FjPZVtH2HGcJuBdTGZnRydBJcMe1UdTW1YczIetZCYWhxtvGqAAdKhSni         gcXctO5ii64Y5k0mNsFHc2WpENi8kr2SSDvYFuitkP+jb8B7i8GOar2fBufdYfuj9SdS         LrMRYuOu3Mv3kgSH44hXr3sex/riZ0eyQEvaF4j2oE1MTy9Rmk4CSrl9tHqe7feJvmuA         j3CxlBilQzn6ZSNHTY3f2yjh0+uUZXD2/sO4U/mKcJ9oVmwcoKkW03uCVaBT1f9bgNGO         lhLg==</li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:to:subject:date:from:references:in-reply-to:mime-version         :dkim-signature:arc-authentication-results:arc-message-signature         :arc-authentication-results:arc-message-signature         :arc-authentication-results;        bh=o5P1qjuFQooDxDo1I12PJiAV1fUGDdLnbRn9FSIAlYM=;        b=I1nAO9S6OMPQvXbQlIuDoskt4FxBNeGb1a9j+aC9vqo+ozxiofU5rY0oNTMdE39wpB         YfzqqC2s7abdYgyFwtSlcTp5AuPnKAfyz4MMogThvd4eeNZv/psW0Wa1r3pNLJHKEngY         QG3xdxqzsBlBHllafm15yv26oSJSt111X5Yrg9njTexK54KdLy3yxGlGDf03wwkoZkyN         xQWJo/6sYyB//a7SYrdVEcmCgJ0xVcwsRjHcHHC30UqL3GRJQBOgo+m20sVk3TSElBQp         UhXxQzBDKOjGzsdtTd5bsbxTAzhlXTMXx6K1dti4IWObLXPf4tQWim2pUelzhp3QAVIX         OTTw==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:subject:message-id:date:from:references:in-reply-to:mime-version         :dkim-signature:arc-authentication-results:arc-message-signature         :arc-authentication-results;        bh=o5P1qjuFQooDxDo1I12PJiAV1fUGDdLnbRn9FSIAlYM=;        b=niXr7N08wpayzyrpz4X14jFe9SAK9WVDC3K7IlrpXZuQH9Fmlt0sC49dCLoAmDMOxo         e/CXf/ICaArn3LRuirzhzYcQ4gusQepbrhsMiPRQZaxVrOzVEvFJHuyKJPGxfdgLT8Uz         /fR2t4XrAt+ipbncV5znSg/NVTZpf2gfQSCQQv59BGopANgT6Byj/c69/zdDgqpFEY/B         LHLVjXt4ux9PR3bV/py/JYuNAmgEokkjPu/RWoE4oiES+kVJrEBX0ftQn9eX9VtPVvHv         Q1vrljPW6gGllnfPpR+xBEJhxLdtAO04G7SLpSm2KDRVHjdji/lKElfIyLBdKQE3+Ysb         U80g==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:subject:message-id:date:from:references:in-reply-to:mime-version         :dkim-signature:arc-authentication-results;        bh=o5P1qjuFQooDxDo1I12PJiAV1fUGDdLnbRn9FSIAlYM=;        b=EnPgQuoJWRrwHnwH1XHs/lKZ/X/oxVGCVTy8CQ6Taze2Nc0MoM27ZgqhBst2M15H52         HPv4imDnrIKcEsccley/u4YpMNONdigxWYzgIC7MRXLIZ/elgRaotoOjtXP2Ed8rYCSZ         R0BYuFFe1MZO3ho5w6c2pF1A6iAdJdzGEu+nWv70J3UR5FK9pj7FMEdoccwXY68Tl/JX         OXI/deC9ZXZzyx26uKsBUdwXByW6FoR21r7nGfpJWna8dKKWacn2PzvP20QHTWdGDSAt         o3um3+voTf5Ka2tujA+0XXo0tCehdnHSd8XDWUoIdBit8c6pmJLDeKpeBq9F5550Iixh         Do/A==</li>
<li>Arc-seal: i=4; a=rsa-sha256; t=1522119043; cv=pass;        d=google.com; s=arc-20160816;        b=a5asP2n1atnvUXRtGszeGwBQb/pxzFACHHAMD5y5HjyJtjDqKxhjsaJF0diKatqAwY         4bHQfhdhw8EFDjcJjcoQG0u9VgAQeLd3VCS+CUDEZ5XE/E+Tj49bVafQspAB9CxbeMtD         +v6AZMnUVlRdQdyv3GOlqiloADvz98GWhzAbCQuJ5sRsZdPx8edhkQPuk9qdfBhZOmVv         n5i7a11V1i+RQgxAtJhhWhDfFyZsFSAjhOxRLRmQrASU0br2s569AQP5RyXJKytd4k4n         J5SvAR0rVzs7Slkeong5VjlWWuXzB18Hhpspfl9iiiOt7QQEBb1QCELhfSobF3MCyBPf         /uPQ==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1522119043; cv=pass;        d=google.com; s=arc-20160816;        b=LfDqawZFnxSg1jYCgKUgPriJI2Ls1IR34hXjDKXzpsRn3+ACoj2dhLmUbwmEt4GOvd         wxUcqnZHjI70owDT+FebTILCu21rEf2CjCmPKAeyAQOopmvZ3hvnBtvPooMmr3urV7Xe         RrygaK3feImTcQiiRaujOxoFJt6/QCsdnHwGvBu6IkDiB8FDalWae2EktOS8E9/PSZCW         Tg3aS6KYTe35BhvcyUcNIE3EnLb0bwX3OP/dSqW8dIo17zvSf+GSwKLKW2Ka6zxobPkZ         EA49/HTzcLgJ3IfNaL6HUrjrXvNkrJss8WgfmGUMQCZggcl8CdgnZQsGBwiZUbPs/Gp4         0b9w==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1522119037; cv=pass;        d=google.com; s=arc-20160816;        b=dLaWNcafuWvDXWOmKzwEf9sh9RdwXKDy0uyn2De2mDZWlP5922Y8fzLeSnZLKqyUzn         tSYH4uF0lV1Nfkzw0MTpdIgGEyZzYIWfTG3y0EsvaAQF8yESe+siH9q7krH8AyHGQKN9         JXC8BvO1nqwkIuWKbgHI99Q9Br7foJus+5pqHVYVqF5JuYI0Nxd57AfmuD8HXZxPlXFs         Lp6R5UB0ltDwtp+Bl+m35R98FyOGycsUhvrBnUXEZkXeaOCbFmUV3yyGBNiwr+R3tV2X         Uat+QHrlIIIAVIxkamJVENmrBTjin+tFoCeEl9cUVhbNB86OrCwfTOPGcawpTHZrKl+4         Q7Ag==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1522119033; cv=none;        d=google.com; s=arc-20160816;        b=EKCjpKVDEJ/HKcj6hRagY9tTHmG/XNvy+TR/XpERuUPkTzMiyns5bZq8BmZzLNDvrl         E5M65DI5OtsXk5H4e6mRAucYay87Y5vQIimqSYCSpYe5f0T1OCsm/YiRmEjj5R4jBWOm         2Nohwqz2OBVexAefXeat2AyKywJ7WJJCmb2OBOUDDypHhaSvi9kjK9kf9EmNhGuv7vEb         Kmn/z6q7HqxzXGlydB508KWSYBzuBITMZvU7LDDLlmL2K2g1WvWAGrHdvr4b9uNi/clO         +YjhePOV2j4+DIBtDdio2ODSJ8ImiSW59RRlnJkCwV8ZbzsAWSzDt3DgSn4kZ8X7xgBY         9Okw==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:mime-version:in-reply-to:references:from:date:subject:to         :message-id:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive;        bh=o5P1qjuFQooDxDo1I12PJiAV1fUGDdLnbRn9FSIAlYM=;        b=itgqR7ieen26inzmgFsuIe6Bmi+qMARCCiDu1O2ytaGsJ0JPiE0NP4tY9bhQ4Ktwfr         IyfGv1S6QNhEZT0crT9oEMOTEEaje30hN1/Y9AZyfuiyoitw1P1n28Rc3QItC4syryh1         ONmjYUu5mG4hFKya2qwO2SaxIXDlHXwxJFohQ1bFB0m4rScx4/59AkkKVOBFZYTHlIzS         ZFgpLxj53WW1I7XVZ4nYphxyUmlXTP4/H88yry6rVUnx4vZYm1WapFM2LDhN0zuq1UDX         NsTjE/87Bd1tBjP/BraYQapdeESUDvMNaOLpaywKjOvSdgAtShIBhTYZmtQGkL+q3+hd         +zxA==</li>
<li>In-reply-to: &lt;<a href="msg00061.html">810ABF59-1460-454D-A888-4A394C8A071E@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00061.html">810ABF59-1460-454D-A888-4A394C8A071E@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Ferret users,<br><div class="gmail_extra"><br></div><div class="gmail_extra"><div class="gmail_quote">On Tue, Mar 20, 2018 at 8:07 AM, William S. Kessler <span dir="ltr">&lt;<a rel="nofollow" href="mailto:william.s.kessler@xxxxxxxx" target="_blank">william.s.kessler@xxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex">[ . . . ]<br>
I finally kluged this by editing the text</blockquote><div><br></div><div>I&#39;d like to add something that might be useful to somebody in the future.&#xA0; I sometimes have to edit text files to use as input to Ferret or other tools and do these things a lot.&#xA0; In this particular case, we want convert&#xA0;<span style="font-family:arial,helvetica,sans-serif">&quot;05-Sep-2007&quot; to &quot;</span><span style="font-family:arial,helvetica,sans-serif">05/09/2007&quot;.&#xA0; Using the GNU version of the date command, this is how you do that:</span></div><div><span style="font-family:arial,helvetica,sans-serif"><br></span></div></div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div class="gmail_extra"><div class="gmail_quote"><div><font face="monospace, monospace">date --date=&quot;05-Sep-2007&quot; +&quot;%d/%m/%Y&quot;</font></div></div></div></blockquote><div class="gmail_extra"><div class="gmail_quote"><div><br></div><div>(On Mac, you can install it by &quot;brew install coreutils&quot; and the name of the command will be &quot;gdate&quot; instead of &quot;date&quot;.)&#xA0; The 3rd parameter looks scary but it&#39;s nothing but a format string like Fortran&#39;s &quot;F10.3&quot;, etc.</div><div><br></div><div>The next piece is to read lines from the text file, modify it, and write the result to a new file:</div><div><br></div></div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div class="gmail_extra"><div class="gmail_quote"><div><font face="monospace, monospace">cat inputfile.txt | while read col1 col2 rest; do</font></div></div></div><div class="gmail_extra"><div class="gmail_quote"><div><font face="monospace, monospace">&#xA0; &#xA0; newdate=$(date --date=&quot;$col2&quot; +&quot;%d/%m/%Y&quot;)</font></div></div></div><div class="gmail_extra"><div class="gmail_quote"><div><font face="monospace, monospace">&#xA0; &#xA0; echo $col1 $newdate $rest</font></div></div></div><div class="gmail_extra"><div class="gmail_quote"><div><font face="monospace, monospace">done &gt; modified.txt</font></div></div></div></blockquote><div class="gmail_extra"><div class="gmail_quote"><div><br></div><div>But, you need to skip the header lines.&#xA0; So you skip the first two lines:</div><div><br></div></div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div class="gmail_extra"><div class="gmail_quote"><div><font face="monospace, monospace">tail +2 inputfile.txt | while . . . .</font></div></div></div></blockquote><div class="gmail_extra"><div class="gmail_quote"><div><br></div><div>In this way, you have a shell script that converts your text file.&#xA0; If you need to process many files in the same way, you want to pass the names of the input and output files as parameters to the shell script:</div><div><br></div></div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div class="gmail_extra"><div class="gmail_quote"><div><font face="monospace, monospace">tail +2 &quot;$1&quot; | . . .</font></div></div></div><div class="gmail_extra"><div class="gmail_quote"><div><font face="monospace, monospace">&#xA0; &#xA0; . . . .</font></div></div></div><div class="gmail_extra"><div class="gmail_quote"><div><font face="monospace, monospace">done&#xA0; &gt; &quot;$2&quot;</font></div></div></div></blockquote><div class="gmail_extra"><div class="gmail_quote"><div><br></div><div>where $1 and $2 are the 1st and 2nd parameters to the script.</div><div><br></div><div>You can use it from the command line to preprocess your input files, or you can call it from within Ferret:</div><div><br></div></div></div><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div class="gmail_extra"><div class="gmail_quote"><div><font face="monospace, monospace">yes? SPAWN ./convertdata.sh input.txt modified.txt</font></div></div></div></blockquote><blockquote style="margin:0 0 0 40px;border:none;padding:0px"><div class="gmail_extra"><div class="gmail_quote"><div><font face="monospace, monospace">yes? FILE/. . . modified.txt</font></div></div></div></blockquote><div class="gmail_extra"><div class="gmail_quote"><div><br></div><div>Cheers,</div><div>Ryo</div></div></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00061" href="msg00061.html">[ferret_users] Reading ASCII data including formatted dates</a></strong>
<ul><li><em>From:</em> William S. Kessler</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00066.html">Re: [ferret_users] Reading ASCII data including formatted dates</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00063.html">[ferret_users] plotting time series</a></strong>
</li>

</UL>
<center>[<a href="msg00066.html">Thread Prev</a>][<a href="msg00063.html">Thread Next</a>][<A HREF="threads.html#00079">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
