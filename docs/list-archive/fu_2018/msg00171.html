<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] parsing in go&#45;files fails -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 23 May 2018 12:19:26 &#45;0700 -->
<!--X-Message-Id: 1e762313&#45;c9e4&#45;2654&#45;7e60&#45;9c765e103070@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CANw+CUu5o+cAGy10GNVOHLdZ_ksnySPxGa61eVE4QU8ZbwwfUQ@mail.gmail.com -->
<!--X-Reference: CAEwQpaLxNfJT2sk2Juk2ZXsJZjknV6i8xcEwYm83dQoj3beifQ@mail.gmail.com -->
<!--X-Reference: dcf36aa5&#45;13e4&#45;b455&#45;390d&#45;3f60f47c2d86@io&#45;warnemuende.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] parsing in go-files fails</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00169.html">Thread Prev</a>][<a href="msg00174.html">Thread Next</a>][<A HREF="threads.html#00171">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] parsing in go-files fails</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] parsing in go-files fails</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 23 May 2018 12:19:23 -0700</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=Nr0sKY9N;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=QUARANTINE sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=Nr0sKY9N;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>;       dmarc=pass (p=QUARANTINE sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:message-id:from:references:to:subject         :arc-authentication-results:arc-message-signature:dkim-signature         :arc-authentication-results;        bh=y2YLmot4yQ52ILQYjLS4i6teDsVnEJeB+LpmUjIn/2I=;        b=PHFxGMz+zd5V88C+x+mGHveoddfKcSS0WZOv5BVKJMp5mXg/6KU75kTLc/h+tMr4kr         XkiFWOqJ+H3ugYf790vjrlWhswJ8Y/KN7r0BO6MLmHy+FAzexw5x5zyJH12Yeo8ZGY8B         7QxzHoOhK3X8TQPHHYcec324i7aKmzX1EiS4SrCok3M624ieiDRgN0/0tvU0Jj6o/m9A         PqG0Pi6G7Qm5hRSrG2roYm4t6TwuO2FKMAgqeOJwZNoS9tB57knFonis8PPUPEz+MkFO         P9eV/RYt3LApCWGS2HzpVVNiUyJErD1BMYYo7ZF8f0mM+7sx5S1XaxVR58t/chlQhzDp         cd7Q==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:message-id:from:references:to:subject         :dkim-signature:arc-authentication-results;        bh=y2YLmot4yQ52ILQYjLS4i6teDsVnEJeB+LpmUjIn/2I=;        b=uV0OWxkmF1HhvavaK4TZUO9XhfSgD4xdPbZ1w3wBJmsPz4MbTNAA3Tcv1Q7Qsg1zam         NhAyawUeVbPrt56OIqthXNSA3nmhh87Wevl6RfTL4mbasie9PLKTQG+R4Tzli90Kh+RH         KKzAvqs2yQrK7mWnDOhTJD6qym7VpR7Ykvq6r8HkXrOqYTONABpGVKmeqjDaF50eQyBa         t3jssiH4/PQssVDpe5p7scVzfsm8B6BG9mk10KosreJ1ACCuA5gOzKa7KWaVhCNwmise         L1yFNcSuMS29rjuF/7OOq3UZ4eJHRaOOJUJN2EAknmLmJs+XLdUAI1kC5/shJPzTK+Ny         tIFA==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1527103166; cv=pass;        d=google.com; s=arc-20160816;        b=baj/O7hDyh/foXKEcnLcWEEK3otA6yiqYcNn7LMPTjFykpIMBoCmfm6/6mX2cli6mv         RNkMBYOc+KDV3gNWkO6bnsOwNY2WHbMFXlG2/xGPtWpLyk5pfF8yPd3I/AWM96KGMpAF         VhRyl4TcCmkN/ge5RhKESBevk+QK8p2Bu8NwKVvwR81Qd3Jbdm8SfpHI/FbSlTktoPB/         RnsHtS4upgt0KzmX9KWoeB4DmeIfzERyNUTzqaDJmn/87wdQkPIG1mij+3yqqunK1nla         PhEwTQcb3Kp4pRf0EIjbMX3+dCOIv1IDt08h9zda6VInrbypXd0275q205xUeAONSYcz         zRcQ==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1527103165; cv=none;        d=google.com; s=arc-20160816;        b=uE0OL18gbYBflB8Auo08plbZL+ScXNZBm4xRaha6jilvOj0f6o9EfMm+Nn/g75lzql         RDPSFz2SSdM8SzWnZ5Z3ZnQTgP1TpWATIfgkmiXGRknYSm4Wo4Xol9+fYnSoBfxxDsKy         3Hozd8ebvhthcyUxn1aql0lqnb5VYhezte86jlmVVZftf4RasXvo2J96STHyH69u2Tvj         St+btiQ+6VgIWFeyLqQej9x6GYXWrr+ghtzWXXY3CbvzhKojXmX2PPx2tyEmcGPpiaxW         WchoJoq6V38zdKQbdEipdYcvpQeLvuWK+4/d4mA+rR9Mrr/HWrkeTE7iGSLqc8tnN3PR         hxvQ==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-transfer-encoding:content-language         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=y2YLmot4yQ52ILQYjLS4i6teDsVnEJeB+LpmUjIn/2I=;        b=kmsLNMir2BLW1s0OzheZDoZ2qOfWZdW6PSLn12T6JviiWuE23u0GTxSt0yPMUIAxPO         I6Fs8GCeOx2d1qWDoK+wogHr2Ct1tZt+VElYP+8J+HChWzimSMc+MiopAXTfR34p2pL3         x8BquOPdFYBPYBVEjlkPZoOniAy32K2SsYVKeKTHtXS11SQvLVODSes1KgEDbbJ0MLE+         DUrcVqdB+36SCwopDBuV/1GphQcIAPYsYYhXBr3CjBfw5gIhFtKqvc4UCOxDp2AFE3Ro         EfFvGo3CSO4yx9jX1c9IjM+5AnBkI3hFM7RFhyUWpQ7840jnKQBkAHM3fJZDjzq4uTMQ         hBHg==</li>
<li>In-reply-to: &lt;<a href="msg00169.html">dcf36aa5-13e4-b455-390d-3f60f47c2d86@io-warnemuende.de</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00158.html">CANw+CUu5o+cAGy10GNVOHLdZ_ksnySPxGa61eVE4QU8ZbwwfUQ@mail.gmail.com</a>&gt; &lt;<a href="msg00160.html">CAEwQpaLxNfJT2sk2Juk2ZXsJZjknV6i8xcEwYm83dQoj3beifQ@mail.gmail.com</a>&gt; &lt;<a href="msg00169.html">dcf36aa5-13e4-b455-390d-3f60f47c2d86@io-warnemuende.de</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:52.0) Gecko/20100101 Thunderbird/52.7.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Martin,

</pre><tt>I'm not seeing this. What you show looks as though a command line 
</tt><tt>&quot;define symbol mv_r&#xA0;&#xA0;&#xA0; = 3&quot; is losing some text somewhere along the way 
</tt><tt>as the command is read or as the parser is filling in the argument 
</tt><tt>values to create the actual command that will run. I wonder if this is 
</tt><tt>in the operation of the readline library or something of that sort.&#xA0; Try 
</tt><tt>this, to capture the commands as they run,
</tt><pre style="margin: 0em;">

&#xA0;&#xA0; yes? set redirect/tee/clobber/file=multi_view.out
&#xA0;&#xA0; yes? set mode verify:always
</pre><tt>&#xA0;&#xA0; yes? go multi_view 3, 5, 0.15, 0.1, 0.03, 0.25, 0.10, 0.022, , 
</tt><tt>0.05,0.035
</tt><pre style="margin: 0em;">

</pre><tt>In the file multi_view.out, I'm seeing this, after all the introductory 
</tt><tt>comment lines:
</tt><pre style="margin: 0em;">

...
! define internal variables
!
&#xA0;&#xA0;&#xA0; define symbol mv_r&#xA0;&#xA0;&#xA0; = $1&quot;5&quot;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ! number of rows
&#xA0;!-&gt; define symbol mv_r&#xA0;&#xA0;&#xA0; = 3
&#xA0;&#xA0;&#xA0; define symbol mv_c&#xA0;&#xA0;&#xA0; = $2&quot;3&quot;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ! number of columns
&#xA0;!-&gt; define symbol mv_c&#xA0;&#xA0;&#xA0; = 5

...


On 5/22/2018 7:48 AM, Martin Schmidt wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi,
</pre><tt>in the latest ferret version, v7.4,&#xA0; an error found in v7.3 is still 
</tt><tt>alive. A least a little bit.
</tt><pre style="margin: 0em;">

machine&gt;/sw/viz/ferret/py_ferret_v74_os423_py_2713/ferret
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; NOAA/PMEL TMAP
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; PyFerret v7.4 (optimized)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Linux 4.4.126-48-default - 04/29/18
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 22-May-18 15:49

yes? go multi_view 3, 5, 0.15, 0.1, 0.03, 0.25, 0.10, 0.022, , 0.05,0.035
&#xA0;**ERROR: invalid subcommand: mv_r&#xA0;&#xA0;&#xA0; = 3
defiymbol mv_r&#xA0;&#xA0;&#xA0; = 3
Command file, command group, or REPEAT execution aborted

Opening data sets and rendering images works well otherwise.

</pre><tt>I compiled pyferret by myself. The compiler is gcc-5, linux is OS42.3. 
</tt><tt>Compiler flags are left as recommended. python is python2.7 coming 
</tt><tt>with the system.&#xA0; The code works well on one machine but the identical 
</tt><tt>binary fails on other machines with the same OS42.3-system, all are 
</tt><tt>64-bit systems.
</tt><tt>- ldd applied to libpyferret.so gives identical results on both 
</tt><tt>machines (after removing the address-information)
</tt><pre style="margin: 0em;">
- the user environment is &quot;similar&quot;
</pre><tt>The major difference is that the code is build on a E7-8893 v4 CPU. It 
</tt><tt>works there. For many other software (including ferret v22) those 
</tt><tt>binaries run on other platforms with E5 and i5-CPUs. No hardware 
</tt><tt>specific optimisation flags were used. We are maintaining a common 
</tt><tt>software pool this way, it works for many software packages.
</tt><pre style="margin: 0em;">

</pre><tt>I do not know, where in the code parameter parsing for go-scripts or 
</tt><tt>go-script parsing is done. The error message &quot;defiymbol mv_r&quot; suggests 
</tt><tt>a local memory problem or a problem with function parameter types?
</tt><pre style="margin: 0em;">

All suggestions or help would be very welcome.

Greetings,
Martin Schmidt

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00174" href="msg00174.html">Re: [ferret_users] parsing in go-files fails</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00158" href="msg00158.html">[ferret_users] d&#x3C1;/dz calculation using pyferret</a></strong>
<ul><li><em>From:</em> Nanda Kishore Reddy</li></ul></li>
<li><strong><a name="00160" href="msg00160.html">[ferret_users] Re: [ferret_users] d&#x3C1;/dz calculation using pyferret</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="00169" href="msg00169.html">[ferret_users] parsing in go-files fails</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00169.html">[ferret_users] parsing in go-files fails</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00174.html">Re: [ferret_users] parsing in go-files fails</a></strong>
</li>

</UL>
<center>[<a href="msg00169.html">Thread Prev</a>][<a href="msg00174.html">Thread Next</a>][<A HREF="threads.html#00171">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
