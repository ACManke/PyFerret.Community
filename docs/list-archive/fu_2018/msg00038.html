<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] scaling vectors at various latitudes -->
<!--X-From-R13: "Oafyrl Q. [naxr" <nafyrl.o.znaxrNabnn.tbi> -->
<!--X-Date: Wed, 14 Feb 2018 11:50:13 &#45;0800 -->
<!--X-Message-Id: b4243179&#45;5932&#45;93a0&#45;44c0&#45;f237ed4562a1@noaa.gov -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: CAEwQpa+HXJ+oumkEExCOaYT1i2RLw56Bos&#45;U5Luj56Tn14CjvQ@mail.gmail.com -->
<!--X-Derived: pngYlwVqaFWvy.png -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] scaling vectors at various latitudes</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00036.html">Thread Prev</a>][<a href="msg00039.html">Thread Next</a>][<A HREF="threads.html#00038">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] scaling vectors at various latitudes</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] scaling vectors at various latitudes</strong></li>
<li><strong>From</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 14 Feb 2018 11:50:08 -0800</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa-gov.20150623.gappssmtp.com header.s=20150623 header.b=TNmmw99H;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa-gov.20150623.gappssmtp.com header.s=20150623 header.b=TNmmw99H;       spf=pass (google.com: domain of <a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a></li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence         :content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:arc-authentication-results         :arc-message-signature:dkim-signature:arc-authentication-results;        bh=OudhzJelPhQ0X6OB4jEjk6FiIRZFVBPr/8TUtmuQ+Do=;        b=aOb9Xw/6irzuuQ1ZyCd78rnX6xnSZuJ0NyKRKVtiDfcD2pz72PYD7OdrRIzNIqntyu         m4XEccBI1tZXCpLL2LSSpZPPSoP0mmJ3tvMe/tqZ/y8DSv6IG1xQc936UeL7REJTI3as         Kz9ZMRV/Pum0z92LuMULSKqUeeVR+ttdgOyMBjpcRCEsLUd/QYmcSvdItdS0iVzTxjyL         ozAvB3SWq3LFV1PcOsgaBnCGhDmsDdcGW/moMk/USOyDz5q+sEC0hsrYzLYcyOMrqyoW         KqvEGA4mfEtIuyTlx18oLFkJfzN13trrkInktYyL3Ve7tXOnv0pxMrb4vZ6h/L+rSVo7         VLgQ==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:in-reply-to:mime-version:user-agent:date         :message-id:from:references:to:subject:dkim-signature         :arc-authentication-results;        bh=OudhzJelPhQ0X6OB4jEjk6FiIRZFVBPr/8TUtmuQ+Do=;        b=ObqHxlQUv79IK/yF9RTsyNn29aToIcPu0lby+yFQKvhpGjBekvxdzugGyFtM6XNaX2         d2tftFwtsldAD/b6QvZfzdQFGf5Mt11JLtgheKz9n+G6KDlKtWvGlnWwqe0nqs+KvSBk         boxIyRTcQLZc00wZSFVVA9ci0QXg3cVMTLFzsVMlyhAjKDX7UqsijzDP0VjA5fVNpI23         vUB5GUPQFySrBls8yEHwCC/FbyMqFWqw9ItWLWQXuAceykdA89dC8zzVMVFugD/7CXoG         mrdnQ7V4tLuKJnfmzH4zAX8QqTlGnvlzTauRwf9fmyMydeYe896yd8eKbG2WotLxtqqm         ylTQ==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1518637812; cv=pass;        d=google.com; s=arc-20160816;        b=DBQ+qaJcYYutLWv98jwAB2o0l832kvuvMVv5EhgpYEfrUuCZxGC9aJxJ4NuP+AYhdV         eJc5xoJMvlzCAqHzGjN1XwlmeKsxG09p2Gsl/B86d9uDjtDIpohddhQDkpALpLfi9Um3         nygD1ssyM1SKfICc4KKrFNN0+5RYaHzeDKh/8fnbYHar9yO7zhmJSOFAh9K2PMj6+qk5         Dj3It24lMdIOp5OzXq+YYS42wKkL4YQZC3XsSx6kOUcHAMujKlQmtwOz3jznHFl4mYl0         kGAXNqH/CJcQxJ3gYaKKEYY3zpJyqr28MIM9f93Gox0776EuoarjqCihlUeB6mxDAPi8         qNcw==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1518637811; cv=none;        d=google.com; s=arc-20160816;        b=BGIPUkgHpy5DjY3eXC75ZuPNqM+DTZC0qytO2BaGcsuExqzzAxCcvJryZBOcLxVGzQ         hYISIRZ/HIns8LqpOGerISfVO9iB6pzWXHOOmqtTqzb2UYGhhBYUYurMUI1YcfzHAZzY         tvtEJj8W1GLKv8+BlwxBxAndmKEWGmC2rn4uPxky/n9btkTBRjRfJYQZSILZrnM0mBr1         6Kn2URTKCVtWj78kTnK+33Zw16FWHOoXbckVeH8l3cEliJUmJ+nKM1xvgpulNEVgOSyB         vl7UnDSddM411QBdBYdQDZfOu54N1BrAFiqd3RRRvhC0mJCgwAw8nnPqPJl5a5XkaXS+         iOOQ==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=subject:to:references:from:message-id:date:user-agent:mime-version         :in-reply-to:content-language:x-original-sender         :x-original-authentication-results:precedence:mailing-list:list-id         :list-post:list-help:list-archive;        bh=OudhzJelPhQ0X6OB4jEjk6FiIRZFVBPr/8TUtmuQ+Do=;        b=0ll3JLD5kv+NvAWE9HoAz4NncthkBLBV981YM9dBBmGvD6lWLQzNkQpacyY8Q4+zTd         xYSG5Tmq9ymg81w/FPWbL3rTSTomjU25TJEhZnTL2LDorOB6riXziSJGG696N6vioGnI         mqUhAfLOkOnFc2LthDBCcyD++vx5nPst7F4vUk0846k5OhRUFzuCtdw0/QQrXKvjnvq2         5pB8WGaTVu6kW0hnOWUdawwIIaR2hGffXquChc60DAgK6KeNK9FCuZYWI9/h8yjORJGZ         aVpePTSqAEbJfj0aX0RW35hjquRxzY0gTuKmE3pMLGW4lsncWrahdx39mOY6I6w41UV9         OsDA==</li>
<li>In-reply-to: &lt;<a href="msg00036.html">CAEwQpa+HXJ+oumkEExCOaYT1i2RLw56Bos-U5Luj56Tn14CjvQ@mail.gmail.com</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00036.html">CAEwQpa+HXJ+oumkEExCOaYT1i2RLw56Bos-U5Luj56Tn14CjvQ@mail.gmail.com</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (Windows NT 6.1; WOW64; rv:52.0) Gecko/20100101 Thunderbird/52.6.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; color: #000000; "><font color="#000000">
  
  
    <p>Hi Ryo,</p>
    <p>Thanks for the example.&#xA0; There is a cosine-latitude correction
      done if the vector plot is in the XY plane, but in other planes,
      such as these X-Z vectors, the single latitude where the plane
      lies isn't taken into account.&#xA0; I'll get that fixed -- a plot with
      your vectors at 0 and 24 degrees latitude with this correction is
      attached.</p>
    <p>-Ansley<br>
    </p>
    <br>
    <div class="moz-cite-prefix">On 2/14/2018 6:09 AM, Ryo Furue wrote:<br>
    </div>
    <blockquote type="cite"
cite="">
      <div dir="ltr">Dear Ferret users,
        <div><br>
        </div>
        <div>
          <div>I'm testing how Ferret scales vector components when the
            horizontal and verital axes use different units. I'm doing
            this just to feel good. I'm pasting the code I'm using.</div>
          <div><br>
          </div>
          <div>I'm testing the most common case: the horizontal axis is
            longitude (or latitude) in degrees and the vertical axis is
            depth in meters.&#xA0; For simplicity I plot (u,w) vectors with u
            = w = 1 m/s everywhere.</div>
          <div><br>
          </div>
          <div>Sure enough, Ferret does the right thing. That is, when
            the geographical sizes of the vertical and horizontal axes
            are the same (for example both 1200 m) and the aspect ratio
            of the paper (screen) coordinates is 1:1, the (u,w) vectors
            make exactly a 45-degree angle from the horizontal.</div>
          <div><br>
          </div>
          <div>But, I get this nice result only on the equator, not at
            other latitudes. I think I'm using the same radius of the
            earth as ferret (<a rel="nofollow"
href="https://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2016/msg00155.html"
              moz-do-not-send="true">https://www.pmel.noaa.gov/maillists/tmap/ferret_users/fu_2016/msg00155.html</a>).</div>
          <div><br>
          </div>
          <div>Perhaps does Ferret always assumes equator when scaling
            length (meters) to degrees?</div>
          <div><br>
          </div>
          <div>
            <div>&#xA0; &#xA0; &#xA0; &#xA0; FERRET v6.82</div>
            <div>&#xA0;<span style="white-space:pre">	</span>Darwin 9.8.0 -
              08/06/12</div>
          </div>
          <div><br>
          </div>
          <div>on Mac high Sierra.</div>
          <div><br>
          </div>
          <div>Best regards,</div>
          <div><br>
          </div>
          <div>Ryo</div>
        </div>
        <div>-----------------------</div>
        <div>
          <div>! Just test Ferret if it scales (u,w) correctly</div>
          <div><br>
          </div>
          <div>set mode grat:dash</div>
          <div><br>
          </div>
          <div>define view/axes/x=0.1:0.7/y=0.1:0.7 myview</div>
          <div><br>
          </div>
          <div>let depdata = {0, 10, 20, 40, 80, 120, 180, 300, 450,
            650, 900, 1200}</div>
          <div>let totaldepth = 1200</div>
          <div>let halfdepth = 600</div>
          <div><br>
          </div>
          <div>define axis/x=-1:50:1/units=degrees_east xax</div>
          <div>define axis/y=-40:40:2/units=degrees_north yax</div>
          <div>define axis/depth/z/units=meters/from_data zax = depdata</div>
          <div><br>
          </div>
          <div>let u = 1 + 0*(x[gx=xax] + y[gy=yax] + z[gz=zax])</div>
          <div>let w = 1 + 0*(x[gx=xax] + y[gy=yax] + z[gz=zax])</div>
          <div><br>
          </div>
          <div>!let lat1 = 0</div>
          <div>let lat1 = 24</div>
          <div><br>
          </div>
          <div>let rad_earth = 6371.e3&#xA0; ! [m]</div>
          <div>let pi = 4*atan(1)</div>
          <div>let x_of_deg = rad_earth * cos(pi * lat1 / 180) * pi /
            180</div>
          <div>let deg_of_x = 1 / x_of_deg</div>
          <div><br>
          </div>
          <div>let dellon = deg_of_x * halfdepth ! m -&gt; degE</div>
          <div><br>
          </div>
          <div>set view myview</div>
          <div>vector/aspect/xskip=1/vlimits=0:`totaldepth`\</div>
          <div>/hlimits=`(-1)*dellon`:`dellon`\</div>
          <div>/length=0.1/y=`lat1` u,w</div>
          <div><br>
          </div>
          <div>exit/script</div>
        </div>
        <div><br>
        </div>
      </div>
    </blockquote>
    <br>
  

</font></td></tr></table><p><strong>Attachment:
<a href="pngYlwVqaFWvy.png" ><tt>vector_lats.png</tt></a></strong><br>
<em>Description:</em> PNG image</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00039" href="msg00039.html">Re: [ferret_users] scaling vectors at various latitudes</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00036" href="msg00036.html">[ferret_users] scaling vectors at various latitudes</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00036.html">[ferret_users] scaling vectors at various latitudes</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00039.html">Re: [ferret_users] scaling vectors at various latitudes</a></strong>
</li>

</UL>
<center>[<a href="msg00036.html">Thread Prev</a>][<a href="msg00039.html">Thread Next</a>][<A HREF="threads.html#00038">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
