<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] 21 yr running correlation -->
<!--X-From-R13: Oaqerj Ivggraoret &#45; @AOO Trqreny <naqerj.jvggraoretNabnn.tbi> -->
<!--X-Date: Tue, 28 Aug 2018 13:04:49 &#45;0700 -->
<!--X-Message-Id: CAKoe08S=V8BgKvrdv4Zu=aM7&#45;Hpwf_4T1NP06jDsRuJYnMWoEQ@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAOhUinKa=DqR6q8Vi12PjJcxeWrr21PL6POVLv6SHXjWo1HsYQ@mail.gmail.com -->
<!--X-Reference: CAEwQpaLc1bXQ3cs5b9856QO_rN4Ac1Xa6VxQ2BAD5hNcbdTPCg@mail.gmail.com -->
<!--X-Reference: CAFXLzPg2ZzetV4ZaZJbMKWmXfFO=Fyj0UhoPr+hmUkx0Uw&#45;PtA@mail.gmail.com -->
<!--X-Reference: CAEwQpaLZmifxe9KNkK=UUAbyOsfuQCgERVbaUkEDFm7rpX8KPQ@mail.gmail.com -->
<!--X-Reference: CAFXLzPjBx83KX5n40Ex+vSn2qeLzbEX5+srnb7bNEFm1FoR_ow@mail.gmail.com -->
<!--X-Reference: CAEwQpaJrtt9RH9RXwJM_cD=Mme2_y5pFQ1afg7CbkRYq32xjgA@mail.gmail.com -->
<!--X-Reference: CALC=m4r0OjBk=&#45;Yp38EkdJPD0KtQmYRUKBUYo3HxJEoZS3oRXg@mail.gmail.com -->
<!--X-Reference: 97A70046&#45;1C6D&#45;48E1&#45;8C7D&#45;6CBD58B3D299@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] 21 yr running correlation</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00305.html">Thread Prev</a>][<a href="msg00307.html">Thread Next</a>][<A HREF="threads.html#00306">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] 21 yr running correlation</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;William S. Kessler&quot; &lt;<a href="mailto:william.s.kessler@DOMAIN.HIDDEN">william.s.kessler@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] 21 yr running correlation</strong></li>
<li><strong>From</strong>: <strong>Andrew Wittenberg - NOAA Federal &lt;<a href="mailto:andrew.wittenberg@DOMAIN.HIDDEN">andrew.wittenberg@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Tue, 28 Aug 2018 16:04:46 -0400</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=cDCJ7fm1;       spf=pass (google.com: domain of <a href="mailto:andrew.wittenberg@DOMAIN.HIDDEN">andrew.wittenberg@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:andrew.wittenberg@DOMAIN.HIDDEN">andrew.wittenberg@xxxxxxxx</a>;       dmarc=pass (p=QUARANTINE sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=cDCJ7fm1;       spf=pass (google.com: domain of <a href="mailto:andrew.wittenberg@DOMAIN.HIDDEN">andrew.wittenberg@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:andrew.wittenberg@DOMAIN.HIDDEN">andrew.wittenberg@xxxxxxxx</a>;       dmarc=pass (p=QUARANTINE sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence:cc         :to:subject:message-id:date:from:references:in-reply-to:mime-version         :arc-authentication-results:arc-message-signature:dkim-signature         :arc-authentication-results;        bh=blrSqYzhugAqynQFn7uOPmzK84/iVNC7UasoWT/qIhU=;        b=CG+4tnpsEShMB30QLkj+JdYgqIWvbOA/Xrm/qi45sm/kmp7i5x4uEp60IZcJzThaGi         OyPp1n2U4SIUn1fo+sEMcUgTAkoKTMDMo4pInPQyE71lhGPA0oJ2uY04fPfcjsSRCwXK         eJ3QwnTXfzff4xqTVxu/nc2Od5S+a9yduzc85c4gMGnagJGuIMBjyqimrl0RJbd1IRc0         t7Do7uRZGaFsKXMijbDavqySmAG/wzBO5TeZhhlT5D+8EJingpAi2yW5GI7LFo5EGNDi         ZSr4Xv/0PhvoFgxyslU7YOoMIbcRHONpIsmijWlt1xd4aBSOSDNf1BN0DlT+J+WHU+un         MQRA==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:references:in-reply-to         :mime-version:dkim-signature:arc-authentication-results;        bh=blrSqYzhugAqynQFn7uOPmzK84/iVNC7UasoWT/qIhU=;        b=jiVRgWipVSUXCccfEHo5ugDI6mN31IKNdJ/GykGI9/N1aGhzS2lcOpExoWdqYJq/py         u0WkCjizd1exk+hrXuouILicfnoSF0B4PW8o97Q0ZiyRDUOAg+/YaajIKfWiOh3AMwDo         G4u6mcaXou9tkHpNIHO4+83boV85RrmLc7CEl4a2VQ+IbB6kKk6ptVcGifGw4jRrpGYK         rrYYyX6DDzDwQEaQIqMBszI0dhJRo2YrzlpJbdAyvRDrCZyHdpOFeQ6VIIVZ/O3gL2Ni         /hPTw56xCfEvtmd6NRbRct4kQXLVeY3h8R+oNLuCRoRb96uRw7Cn8k/3Yb3toClthRAP         5Mwg==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1535486688; cv=pass;        d=google.com; s=arc-20160816;        b=K/nGTsZjcn19WKXZis8ypxq7nqvw0VAf50YJzgazFgVY5U65ok+WyrWcbR0pQ6f4Yl         P4ZRgfVbszojv2mT4ypfiOQQORFg2eNkkhT4GuN16ptCJZf2VzSFkTcWgPGNtYoJAvl1         CfNb1Zz5qoD9vQEOqUVa9CZT5hVAOeuqNu3C0acgxA8oKXLuZ4sFy0u6mTGZ/DbiQOZi         qbpST27M2JHViLRcno90mK6FKAgRWt6LiUa0opb0+ECeid3XJo10u8WWz0N6K3si2LrS         hn8EeEFBnQlwvsx1qeAfKb9C8punAY6V+gxxRxOl0p6PvlWcvkUVbEu0dnMi+Mxn4kWT         M6zw==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1535486688; cv=none;        d=google.com; s=arc-20160816;        b=Ri/BXDGThFo98ZoOyjBQ7Kh6UOPHXg9QUw2R9HMlME9bbSfY80uZ8dCrsTXVyx/t8b         t4ESj+8SXXY4rqoVPgrsG9wZzJLp9cdlw+rgnUkRxAU0p0zQipf1PSZa6DjJCg4QL81Y         JRMA7mHtRLxz0ujmg40X/2nSyyeEsJRk50qR/NNcOfZNMOC7Hqu/WGlyYGQWvH57yFje         m6oFB5a1hQ3fg5cTy/g2LZEeXTe+u8weYraQuFKhPCtgHB3MPPl/L/sL3wLZIeCMY4KF         SeB8lpZOcmhfam37QJhM4++WgXDRwCQzYeKk6NXwphp6qfWVZ7e1nSIPfV0SOi7RJpEG         HkCg==</li>
<li>Cc: Satyesh Ghetiya &lt;<a href="mailto:satyeshghetiya@DOMAIN.HIDDEN">satyeshghetiya@xxxxxxxxx</a>&gt;,        Sandeep Mohapatra &lt;<a href="mailto:sandeepmohapatra21@DOMAIN.HIDDEN">sandeepmohapatra21@xxxxxxxxx</a>&gt;,        ferret users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=mime-version:in-reply-to:references:from:date:message-id:subject:to         :cc:x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=blrSqYzhugAqynQFn7uOPmzK84/iVNC7UasoWT/qIhU=;        b=QdKQcMd9v56s2nnHSFekEfiT6+yfxlxSZJaQmAw488SBqfm8xl/aJyLleD6rCAYhw0         LGjX+jg71elkJEQVsMJu5iIIJRiETCSKhZF7I+mrKsu39qsOQPxqH+nVT0VoUcHzztDu         q3/ej+z1XgRYlDMEJ+6wZzKT7J6zg8GFvq+DqNHI+BqcNgFStD9rcpW6f0ZC7sYPsyj0         L2n5tJ5rPcj1pSm0aYv+Az19DINkyaa7v+c+oFFWT4YHCxp9FITsJ1nLR4aOfSaQLxwj         9aOc0Nz7myvuY/3xO2p3sUhtQLgelbKm27Iy6dnJJYvVZWwDFydX422+TmTgTh/dR5b9         PKLw==</li>
<li>In-reply-to: &lt;<a href="msg00305.html">97A70046-1C6D-48E1-8C7D-6CBD58B3D299@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CAOhUinKa=DqR6q8Vi12PjJcxeWrr21PL6POVLv6SHXjWo1HsYQ@mail.gmail.com&gt; &lt;<a href="msg00295.html">CAEwQpaLc1bXQ3cs5b9856QO_rN4Ac1Xa6VxQ2BAD5hNcbdTPCg@mail.gmail.com</a>&gt; &lt;CAFXLzPg2ZzetV4ZaZJbMKWmXfFO=Fyj0UhoPr+hmUkx0Uw-PtA@mail.gmail.com&gt; &lt;CAEwQpaLZmifxe9KNkK=UUAbyOsfuQCgERVbaUkEDFm7rpX8KPQ@mail.gmail.com&gt; &lt;<a href="msg00299.html">CAFXLzPjBx83KX5n40Ex+vSn2qeLzbEX5+srnb7bNEFm1FoR_ow@mail.gmail.com</a>&gt; &lt;CAEwQpaJrtt9RH9RXwJM_cD=Mme2_y5pFQ1afg7CbkRYq32xjgA@mail.gmail.com&gt; &lt;CALC=m4r0OjBk=-Yp38EkdJPD0KtQmYRUKBUYo3HxJEoZS3oRXg@mail.gmail.com&gt; &lt;<a href="msg00305.html">97A70046-1C6D-48E1-8C7D-6CBD58B3D299@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><div class="gmail_extra"><div class="gmail_default" style="font-family:arial,helvetica,sans-serif">Sandeep et al.,</div><div class="gmail_default" style="font-family:arial,helvetica,sans-serif"><br></div><div class="gmail_default" style="font-family:arial,helvetica,sans-serif">Running correlations are easy to compute in Ferret.&#xA0; If your signals are A and B, then:<br></div><div class="gmail_default" style="font-family:arial,helvetica,sans-serif"><br></div><div class="gmail_default" style="font-family:arial,helvetica,sans-serif"><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><font face="arial, helvetica, sans-serif">! define the running time-averaging transformation,</font></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><font face="arial, helvetica, sans-serif">! e.g. 21*12 grid points (21 years, if time step is 1 month)</font></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><font face="arial, helvetica, sans-serif">def sym trans &quot;t=@sbx:`21*12`&quot;</font></div><br></div><div class="gmail_default" style="font-family:arial,helvetica,sans-serif"><div class="gmail_default" style="font-size:small;text-decoration-style:initial;text-decoration-color:initial">let a2 = a^2; let b2 = b^2; let prod = a*b<br></div><div class="gmail_default" style="font-size:small;text-decoration-style:initial;text-decoration-color:initial"><div class="gmail_default">let a_b_cov = prod[($trans)] - a[($trans)]*b[($trans)]</div><div class="gmail_default">let a_b_corr = a_b_cov/((a2[($trans)] - a[($trans)]^2)*(b2[($trans)] - b[($trans)]^2))^.5</div></div><div class="gmail_default" style="font-size:small;text-decoration-style:initial;text-decoration-color:initial"><br></div></div><div class="gmail_default" style="font-family:arial,helvetica,sans-serif"><div class="gmail_default" style="font-size:small;text-decoration-style:initial;text-decoration-color:initial;font-family:arial,sans-serif;background-color:rgb(255,255,255)"><span style="font-family:arial,helvetica,sans-serif">That&#39;s it -- no need for external files or long lists of terms.</span></div><div class="gmail_default" style="font-family:arial,helvetica,sans-serif"><br></div><br class="m_-7988912955054834430gmail-Apple-interchange-newline">Here&#39;s an expanded example, so you can understand what&#39;s going on:<br></div><div class="gmail_default" style="font-family:arial,helvetica,sans-serif"><br></div><div class="gmail_default" style="font-family:arial,helvetica,sans-serif">! Define some example signals, A and B, whose correlation varies in time.</div><div class="gmail_default" style="font-family:arial,helvetica,sans-serif">define axis/t=0:8000:1/unit=months/<wbr>t0=1-jan-0001 time_ax</div><div class="gmail_default"><font face="arial, helvetica, sans-serif">let pi = 3.14159</font></div><div class="gmail_default"><font face="arial, helvetica, sans-serif">let tval = t[gt=time_ax]</font><br></div><div class="gmail_default"><font face="arial, helvetica, sans-serif">let a = sin(2*pi*tval/100) * sin(2*pi*tval/4000)<br></font></div><div class="gmail_default"><font face="arial, helvetica, sans-serif">let b = sin(2*pi*tval/98) * sin(2*pi*tval/2000)</font></div><div class="gmail_default"><font face="arial, helvetica, sans-serif"><br></font></div><div class="gmail_default"><font face="arial, helvetica, sans-serif"><div class="gmail_default" style="font-size:small;text-decoration-style:initial;text-decoration-color:initial;font-family:arial,sans-serif;background-color:rgb(255,255,255)"><font face="arial, helvetica, sans-serif">! define the running time-averaging transformation</font></div><div class="gmail_default" style="font-size:small;text-decoration-style:initial;text-decoration-color:initial;font-family:arial,sans-serif;background-color:rgb(255,255,255)"><font face="arial, helvetica, sans-serif">def sym trans &quot;t=@sbx:`21*12`&quot;</font></div></font></div><div class="gmail_default"><font face="arial, helvetica, sans-serif"><br></font></div><div class="gmail_default"><span style="font-family:arial,helvetica,sans-serif">let a_ave = a[($trans)]</span><br></div><div class="gmail_default"><font face="arial, helvetica, sans-serif"><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><font face="arial, helvetica, sans-serif">let b_ave = b[($trans)]</font></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><font face="arial, helvetica, sans-serif"><div class="gmail_default" style="font-size:small;text-decoration-style:initial;text-decoration-color:initial;font-family:arial,sans-serif;background-color:rgb(255,255,255)"><font face="arial, helvetica, sans-serif"><br></font></div><div class="gmail_default" style="font-size:small;text-decoration-style:initial;text-decoration-color:initial;font-family:arial,sans-serif;background-color:rgb(255,255,255)"><font face="arial, helvetica, sans-serif">let a_squared = a^2</font></div><div class="gmail_default" style="font-size:small;text-decoration-style:initial;text-decoration-color:initial;font-family:arial,sans-serif;background-color:rgb(255,255,255)"><font face="arial, helvetica, sans-serif">let b_squared = b^2</font></div><div class="gmail_default" style="font-size:small;text-decoration-style:initial;text-decoration-color:initial;font-family:arial,sans-serif;background-color:rgb(255,255,255)"><font face="arial, helvetica, sans-serif"><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><font face="arial, helvetica, sans-serif"><br></font></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><font face="arial, helvetica, sans-serif">let a_std = (a_squared[($trans)] - a_ave^2)^.5</font></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><font face="arial, helvetica, sans-serif">let b_std = (b_squared[($trans)] - b_ave^2)^.5</font></div></font></div><br></font></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><font face="arial, helvetica, sans-serif"><span style="font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial;float:none;display:inline">let a_b_prod = a*b</span><br></font></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><font face="arial, helvetica, sans-serif"><span style="font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial;float:none;display:inline"><span style="text-decoration-style:initial;text-decoration-color:initial;float:none;display:inline">let a_b_cov = a_b_prod[($trans)] - a_ave*b_ave</span><br></span></font></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><span style="font-family:arial,helvetica,sans-serif">let/title=&quot;running correlation&quot; a_b_corr = a_b_cov/(a_std*b_std)</span><br></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><span style="font-family:arial,helvetica,sans-serif"><br></span></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><span style="font-family:arial,helvetica,sans-serif">plot a, b, a_b_corr</span></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><span style="font-family:arial,helvetica,sans-serif"><br></span></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><span style="font-family:arial,helvetica,sans-serif"><br></span></div><div class="gmail_default" style="font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial">Best regards,</div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><span style="font-family:arial,helvetica,sans-serif"><br></span></div><div class="gmail_default" style="font-family:arial,sans-serif;font-size:small;background-color:rgb(255,255,255);text-decoration-style:initial;text-decoration-color:initial"><span style="font-family:arial,helvetica,sans-serif">Andrew</span><br></div></font></div></div><div class="gmail_extra">
<br><div class="gmail_quote">On Tue, Aug 28, 2018 at 3:01 PM, William S. Kessler <span dir="ltr">&lt;<a rel="nofollow" href="mailto:william.s.kessler@xxxxxxxx" target="_blank">william.s.kessler@xxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0px 0px 0px 0.8ex;border-left:1px solid rgb(204,204,204);padding-left:1ex">This could be done in a single Ferret session, most conveniently if the running length isn&#39;t too long. All the quantities needed for the calculation can be found from A_bar, B_bar, Asq_bar, Bsq_bar, AB_bar, where A and B are your variables and _bar is taken over the running interval.<br>
<br>
These can be defined manually by terms such as (schematically)<br>
<br>
let a_bar = ( a[l=@shf:(-n)] + a[l=@shf:(-n+1)] + ... + a[l=@shf:-1] + a + a[l=@shf:1] + ... + a[l=@shf:(n-1)] + a[l=@shf:n] )/(2n+1)<br>
<br>
Thus, a_bar is a function of t (and possibly x,y,z).<br>
<br>
Similarly for b, a^2, b^2, ab. They&#39;re just sums. If the line length is too long, the sum above can be broken into separate variables, then summed.<br>
<br>
Then find your variances and correlations algebraically from standard expressions using these 5 sum terms.<br>
<br>
It might be a pain to type out (a good text editor would help), but would let you do this in one script without intermediate writes.<br>
<br>
Billy K<br>
<br>
&gt; On Aug 28, 2018, at 6:47 AM, Satyesh Ghetiya &lt;<a rel="nofollow" href="mailto:satyeshghetiya@xxxxxxxxx" target="_blank">satyeshghetiya@xxxxxxxxx</a>&gt; wrote:<br>
&gt; <br>
&gt; Hi Sandeep, <br>
&gt;&#xA0; <br>
&gt; Do you have, for each year, correlation r in XY dimension ? I mean r for each grid point of XY for each year ? Also can you elaborate the dimensions of two data sets ? <br>
&gt; <br>
&gt; On Tue, Aug 28, 2018 at 11:48 AM, Sandeep Mohapatra &lt;<a rel="nofollow" href="mailto:sandeepmohapatra21@xxxxxxxxx" target="_blank">sandeepmohapatra21@xxxxxxxxx</a>&gt; wrote:<br>
&gt; Hi,<br>
&gt; can anyone tell me how to do 21 yr running correlation in ferret between two data sets.<br>
&gt; <br>
&gt; <br>
&gt; <br>
&gt; <br>
&gt; <br>
&gt; Regards, <br>
&gt; G Satyesh,<br>
&gt; India.<br>
&gt; <br>
&gt; <br>
&gt; <br>
&gt; On Tue, Aug 28, 2018 at 6:16 PM, Ryo Furue &lt;<a rel="nofollow" href="mailto:furue@xxxxxxxxxx" target="_blank">furue@xxxxxxxxxx</a>&gt; wrote:<br>
&gt; On Tue, Aug 28, 2018 at 4:31 PM saurabh rathore &lt;<a rel="nofollow" href="mailto:rohitsrb2020@xxxxxxxxx" target="_blank">rohitsrb2020@xxxxxxxxx</a>&gt; wrote:<br>
&gt; Dear Ryo,<br>
&gt; <br>
&gt; Are you saying that the plot of such running correlation and trends will be like a time series ?<br>
&gt; <br>
&gt; I&#39;m sorry, Saurabh, Sandeep, and other Ferret users.&#xA0; I&#39;ve begun to think that my idea was wrong.&#xA0; I thought @SBX was the solution, but it doesn&#39;t keep the same mean value over the window, in formulae like<br>
&gt; <br>
&gt;&#xA0; &#xA0; &#xA0; &#xA0;u&#39; = u - mean(u).<br>
&gt; <br>
&gt; So, indeed the correct solution would be complicated.&#xA0; I&#39;d like to know if there is an elegant solution.<br>
&gt; <br>
&gt; Ryo<br>
&gt; <br>
&gt; <br>
&gt; <br>
<span class="m_-7988912955054834430gmail-HOEnZb"><font color="#888888">&gt; <br>
&gt; -- <br>
&gt; G Satyesh<br>
&gt; <br>
<br>
<br>
</font></span></blockquote></div><br></div></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00307" href="msg00307.html">Re: [ferret_users] 21 yr running correlation</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00294" href="msg00294.html">[ferret_users] 21 yr running correlation</a></strong>
<ul><li><em>From:</em> Sandeep Mohapatra</li></ul></li>
<li><strong><a name="00295" href="msg00295.html">Re: [ferret_users] 21 yr running correlation</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="00296" href="msg00296.html">Re: [ferret_users] 21 yr running correlation</a></strong>
<ul><li><em>From:</em> saurabh rathore</li></ul></li>
<li><strong><a name="00298" href="msg00298.html">Re: [ferret_users] 21 yr running correlation</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="00299" href="msg00299.html">Re: [ferret_users] 21 yr running correlation</a></strong>
<ul><li><em>From:</em> saurabh rathore</li></ul></li>
<li><strong><a name="00300" href="msg00300.html">Re: [ferret_users] 21 yr running correlation</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="00301" href="msg00301.html">Re: [ferret_users] 21 yr running correlation</a></strong>
<ul><li><em>From:</em> Satyesh Ghetiya</li></ul></li>
<li><strong><a name="00305" href="msg00305.html">Re: [ferret_users] 21 yr running correlation</a></strong>
<ul><li><em>From:</em> William S. Kessler</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00305.html">Re: [ferret_users] 21 yr running correlation</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00307.html">Re: [ferret_users] 21 yr running correlation</a></strong>
</li>

</UL>
<center>[<a href="msg00305.html">Thread Prev</a>][<a href="msg00307.html">Thread Next</a>][<A HREF="threads.html#00306">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
