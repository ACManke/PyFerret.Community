<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] parsing in go&#45;files fails -->
<!--X-From-R13: [negva Epuzvqg <znegva.fpuzvqgNvb&#45;jnearzhraqr.qr> -->
<!--X-Date: Thu, 24 May 2018 00:04:00 &#45;0700 -->
<!--X-Message-Id: cd2112b2&#45;c95e&#45;51cd&#45;9143&#45;4f071123dcd2@io&#45;warnemuende.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CANw+CUu5o+cAGy10GNVOHLdZ_ksnySPxGa61eVE4QU8ZbwwfUQ@mail.gmail.com -->
<!--X-Reference: CAEwQpaLxNfJT2sk2Juk2ZXsJZjknV6i8xcEwYm83dQoj3beifQ@mail.gmail.com -->
<!--X-Reference: dcf36aa5&#45;13e4&#45;b455&#45;390d&#45;3f60f47c2d86@io&#45;warnemuende.de -->
<!--X-Reference: 1e762313&#45;c9e4&#45;2654&#45;7e60&#45;9c765e103070@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] parsing in go-files fails</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00171.html">Thread Prev</a>][<a href="msg00161.html">Thread Next</a>][<A HREF="threads.html#00174">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] parsing in go-files fails</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong><a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a></strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] parsing in go-files fails</strong></li>
<li><strong>From</strong>: <strong>Martin Schmidt &lt;<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Thu, 24 May 2018 09:03:38 +0200</li>
<li>Arc-authentication-results: i=3; mx.google.com;       arc=pass (i=2);       spf=neutral (google.com: 52.222.5.176 is neither permitted nor denied by domain of <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>) smtp.mailfrom=<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=2; mx.google.com;       arc=pass (i=1 spf=pass spfdomain=io-warnemuende.de);       spf=neutral (google.com: 65.127.216.227 is neither permitted nor denied by domain of <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a>) smtp.mailfrom=<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       spf=pass (google.com: domain of <a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a> designates 192.124.245.147 as permitted sender) smtp.mailfrom=<a href="mailto:martin.schmidt@DOMAIN.HIDDEN">martin.schmidt@xxxxxxxxxxxxxxxxx</a></li>
<li>Arc-message-signature: i=3; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=message-id:content-language:content-transfer-encoding:in-reply-to         :mime-version:user-agent:date:from:references:to:subject         :arc-authentication-results:arc-message-signature         :arc-authentication-results:arc-message-signature         :arc-authentication-results;        bh=93xvshQUkshlOLZNZqlBxP89brFamNfDNpiQUJEYmqQ=;        b=v0mVn2XdQwLiTBtZ9tvlYMOJcqQ7f1joddV3idK+srTxTU0ZOKmpJU6V37sCDtko1D         4YJoW/FhXOokzuEy6aSoeYiYx25k/OJ7xSHX/q1bHC1V7MkQ+XbAd2dmEmll/LiPAtbP         8LZTsVDxWXwAwI6tpkSrhNhJTWYV3l7Cdo0SmrScPQE7FTa6q3N5GWI49ZhDXgog/mAL         PmVoKCSnDXq6kAu7Vh+lGPep/Kc02iPyn0+vECEOKVNX4e/G9xTnhDBPw6NeR9NFPEvI         hQS6P29k0rrctk6L4+dR+gFixTpEGOxd9IGomeDnL+iXLwc0GP0LbaiJtyN0F7ObdAYn         +6TQ==</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:message-id:from:references:to:subject         :arc-authentication-results:arc-message-signature         :arc-authentication-results;        bh=93xvshQUkshlOLZNZqlBxP89brFamNfDNpiQUJEYmqQ=;        b=FCtOaQFdpaFgADIXrkfNBvYaZMFyM7CmpN+7l+M/0v3+TBtrRRN6G268dvhQXq9Nh+         KpHjccC8Iv2ocrvAZ/xZCiMDWgJ28Ml1sIai77OfS1RmalzgBzhqr1KhFFuI0Y7hqeol         i0et/WTrtBHhM2bWtUMeJmx9YJshG7rQaWSitNutMaygidWTcg8JcM7Njw8IjPqTRHAB         ZJF74bau7Jw8DVQ3aOaM4zrZlGYQ4mBEjjginRiNLAcQVBfJBVvBbv11fberIKoDKqYF         i7Lgm4E9tXFm05j0wfdEih3WgNUy/hTIOnu0o6xlKSd5pRbX0LbSmKNX2oT/07baoK0z         yhNw==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=content-language:content-transfer-encoding:in-reply-to:mime-version         :user-agent:date:message-id:from:references:to:subject         :arc-authentication-results;        bh=93xvshQUkshlOLZNZqlBxP89brFamNfDNpiQUJEYmqQ=;        b=EMN3rU/JI7yq/wp7Ii0Dmq1iR14PUtZWrGRbzN/gTokQkgpI0thQWxfBrGWVJPdFtY         6/WcTDUt8mZcHX+mdjCzO0XPuejr6TGTcSlbLTYFFpHQnHIzoBXzPslLS1zFpY3gC0Yd         YAiKpReEOkQ6ritudrrzM9JkLG8LcuVJmwPl4tc9Ezo83eyLeWL2y0uzT5jRS8kevCV+         7ctPsgg99fD7WfzX6L9bJz6Xv60xBIWEPJ28AA66+RBtULxUirBNaxWlBfonvAsyegXN         R4zx59kxB/VC1Zcu6b6qnWNaVwo8JXJz6MBaw06rbLeA5c4qr4YnJsHc9trs3lgfd7kw         qKHw==</li>
<li>Arc-seal: i=3; a=rsa-sha256; t=1527145439; cv=pass;        d=google.com; s=arc-20160816;        b=JRS5O7zAAvX5DVrjtRrUo1NN7UjBXiuxbzYrbJSblajYZmNxUoeWum5gsRWKvVLeRH         6/Sx6mrfoMjTl95kQkdKV54kS/xtOtzQy029r1HUQY5SiHlBleGWcEpDaHre+VxQireV         CQ80EgfB4C0RuGJTy3NAHbM9NpFRqgrPLqJ6EPbnplXLUZJ+dIJ3q8rHeSLYuIub9kZ2         j4AxGI81rNlRNqbCdWNEiFYUph4kBcXsRG4ICpJ61NH4rmjj5XZDHBmXA8E8dBxeFBzF         +my0djpg58n49O/RTRwGTj9UVXCVeYkVNelH3CS7njRZWiOvsVngaOYIVjCtSuw3RljD         9Lug==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1527145435; cv=pass;        d=google.com; s=arc-20160816;        b=EaVM1tk4VPrWarw0c6+v08f2XqG3NyOa5BkyiFRybWYp3fxGt1nb/7+TUVjNo4K/uZ         onY3RjcsaVo1bmR9L7RTyS20pwnnk1+8aiKH8MrodjBDkaNIZjbCY8m6LDeyNYJAi/Ll         OwJdQ5vqMdksD2fPdVM784ouRe11/M+SWyqBj8Hu+mYoaPp+k26jau6t1YPcDG6Pqr6N         muU4W8ZIEShT5nbhYMsQzvE3ECjnW82NHyOHusZ0Vjwt/w/GUsbfp8s4fWThfYcVLk5b         +GbVXXi1Q0btJjkbTbaUo1WPUF8NAfbRJAt3A4CfLR/VmtyA8KKxLq/4LqT342cD9Vot         bKvA==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1527145427; cv=none;        d=google.com; s=arc-20160816;        b=vBASnGCgwQjSkI9d1BfzSLVqTWUuYtTx/1k8E2TqJdstnFVMJP8gvUBymoSK+V7FaC         AOTUpMkQNC5GLfSFoLeLIbEwJl/ZlrQmcecW5RamIvxIBtwlwR43/mOqMQse3iTQefih         3exwLrOWbSTdM91OtZKsrw/zh9Ut7eWJT9h7WjT7Vvib7N+nsSfXVOqqGl+C0yePjZwa         AZLKczfumEGcjgcdk1nYlEPj/OkaTGmryLByJb29RJ/ID9AePGR0ZVmxPfjyea8SQIdP         oPhvzOZi2NGDDqhz9HqzNOR91sG/oV89Ar0Qs2qrqpsrUdzZqfGXkLXhqwugyOjhr3Dx         r8zw==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:subject:to:references:from:date:user-agent:mime-version         :in-reply-to:content-transfer-encoding:content-language:message-id         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=93xvshQUkshlOLZNZqlBxP89brFamNfDNpiQUJEYmqQ=;        b=YZ62bYx6OHLFe49R8iAlULIqZEpGdoIQqA32cTm+luvkXZFsMwNJOQheaOPo7ZwaaP         pJGLT5AnWtm1aBYuSsxPRyLqsT618ooSS+42YQYqrqBMASkrKozDW3gMkDV37H2X9HJh         mQvuBaH0tBNWbCbKUKZLwbVx34J3bOSgcVgKnrP7Ox2duifNuQ5lz0fgdIr+Y590WXbW         KN8YWvNblSCHF++a0mkK0ZdfAYxRUv/zQBo9ns5/EGTfRIHqCgm8v/zxqIE7593Exe/z         VFlvPiUwpy+wlTPQK3xV1ZtKeDZ1odpg3YofTNOm04RQB0raS1bIu1ufsCpN3QQ5NiSO         W40Q==</li>
<li>In-reply-to: &lt;<a href="msg00171.html">1e762313-c9e4-2654-7e60-9c765e103070@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00158.html">CANw+CUu5o+cAGy10GNVOHLdZ_ksnySPxGa61eVE4QU8ZbwwfUQ@mail.gmail.com</a>&gt; &lt;<a href="msg00160.html">CAEwQpaLxNfJT2sk2Juk2ZXsJZjknV6i8xcEwYm83dQoj3beifQ@mail.gmail.com</a>&gt; &lt;<a href="msg00169.html">dcf36aa5-13e4-b455-390d-3f60f47c2d86@io-warnemuende.de</a>&gt; &lt;<a href="msg00171.html">1e762313-c9e4-2654-7e60-9c765e103070@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>User-agent: Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Thunderbird/52.8.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Ansley,
I see many lines from the comments in the go-script and finally:

! define internal variables
!
&#xA0;&#xA0;&#xA0; define symbol mv_r&#xA0;&#xA0;&#xA0; = $1&quot;5&quot;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ! number of rows
&#xA0;!-&gt; defiymbol mv_r&#xA0;&#xA0;&#xA0; = 3
! Exit_GO

Having a space in the beginning of the line gives interestingly:

yes?&#xA0; go multi_view 3, 5, 0.15, 0.1, 0.03, 0.25, 0.10, 0.022, , 0.05,0.035
&#xA0;**TMAP ERR: non-existent or not on line
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; mlti_view (.jnl)

The same happens with other scripts
yes?&#xA0; go land
&#xA0;**TMAP ERR: non-existent or not on line
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; lnd (.jnl)

yes?&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; go land
&#xA0;**TMAP ERR: non-existent or not on line
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; l (.jnl)

Is the line parsing done with python or is this fortran code from ferret?

Best,
Martin

On 05/23/2018 09:19 PM, Ansley C. Manke wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi Martin,

</pre><tt>I'm not seeing this. What you show looks as though a command line 
</tt><tt>&quot;define symbol mv_r&#xA0;&#xA0;&#xA0; = 3&quot; is losing some text somewhere along the 
</tt><tt>way as the command is read or as the parser is filling in the argument 
</tt><tt>values to create the actual command that will run. I wonder if this is 
</tt><tt>in the operation of the readline library or something of that sort.&#xA0; 
</tt><tt>Try this, to capture the commands as they run,
</tt><pre style="margin: 0em;">

&#xA0;&#xA0; yes? set redirect/tee/clobber/file=multi_view.out
&#xA0;&#xA0; yes? set mode verify:always
</pre><tt>&#xA0;&#xA0; yes? go multi_view 3, 5, 0.15, 0.1, 0.03, 0.25, 0.10, 0.022, , 
</tt><tt>0.05,0.035
</tt><pre style="margin: 0em;">

</pre><tt>In the file multi_view.out, I'm seeing this, after all the 
</tt><tt>introductory comment lines:
</tt><pre style="margin: 0em;">

...
! define internal variables
!
&#xA0;&#xA0;&#xA0; define symbol mv_r&#xA0;&#xA0;&#xA0; = $1&quot;5&quot;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ! number of rows
&#xA0;!-&gt; define symbol mv_r&#xA0;&#xA0;&#xA0; = 3
&#xA0;&#xA0;&#xA0; define symbol mv_c&#xA0;&#xA0;&#xA0; = $2&quot;3&quot;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; ! number of columns
&#xA0;!-&gt; define symbol mv_c&#xA0;&#xA0;&#xA0; = 5

...


On 5/22/2018 7:48 AM, Martin Schmidt wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi,
</pre><tt>in the latest ferret version, v7.4,&#xA0; an error found in v7.3 is still 
</tt><tt>alive. A least a little bit.
</tt><pre style="margin: 0em;">

machine&gt;/sw/viz/ferret/py_ferret_v74_os423_py_2713/ferret
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; NOAA/PMEL TMAP
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; PyFerret v7.4 (optimized)
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; Linux 4.4.126-48-default - 04/29/18
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; 22-May-18 15:49

</pre><tt>yes? go multi_view 3, 5, 0.15, 0.1, 0.03, 0.25, 0.10, 0.022, , 
</tt><tt>0.05,0.035
</tt><pre style="margin: 0em;">
&#xA0;**ERROR: invalid subcommand: mv_r&#xA0;&#xA0;&#xA0; = 3
defiymbol mv_r&#xA0;&#xA0;&#xA0; = 3
Command file, command group, or REPEAT execution aborted

Opening data sets and rendering images works well otherwise.

</pre><tt>I compiled pyferret by myself. The compiler is gcc-5, linux is 
</tt><tt>OS42.3. Compiler flags are left as recommended. python is python2.7 
</tt><tt>coming with the system.&#xA0; The code works well on one machine but the 
</tt><tt>identical binary fails on other machines with the same OS42.3-system, 
</tt><tt>all are 64-bit systems.
</tt><tt>- ldd applied to libpyferret.so gives identical results on both 
</tt><tt>machines (after removing the address-information)
</tt><pre style="margin: 0em;">
- the user environment is &quot;similar&quot;
</pre><tt>The major difference is that the code is build on a E7-8893 v4 CPU. 
</tt><tt>It works there. For many other software (including ferret v22) those 
</tt><tt>binaries run on other platforms with E5 and i5-CPUs. No hardware 
</tt><tt>specific optimisation flags were used. We are maintaining a common 
</tt><tt>software pool this way, it works for many software packages.
</tt><pre style="margin: 0em;">

</pre><tt>I do not know, where in the code parameter parsing for go-scripts or 
</tt><tt>go-script parsing is done. The error message &quot;defiymbol mv_r&quot; 
</tt><tt>suggests a local memory problem or a problem with function parameter 
</tt><tt>types?
</tt><pre style="margin: 0em;">

All suggestions or help would be very welcome.

Greetings,
Martin Schmidt

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

--
Dr. Martin Schmidt
Leibniz-Institute for Baltic Sea Research
Seestrasse 15
D18119 Rostock
Germany



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00158" href="msg00158.html">[ferret_users] d&#x3C1;/dz calculation using pyferret</a></strong>
<ul><li><em>From:</em> Nanda Kishore Reddy</li></ul></li>
<li><strong><a name="00160" href="msg00160.html">[ferret_users] Re: [ferret_users] d&#x3C1;/dz calculation using pyferret</a></strong>
<ul><li><em>From:</em> Ryo Furue</li></ul></li>
<li><strong><a name="00169" href="msg00169.html">[ferret_users] parsing in go-files fails</a></strong>
<ul><li><em>From:</em> Martin Schmidt</li></ul></li>
<li><strong><a name="00171" href="msg00171.html">Re: [ferret_users] parsing in go-files fails</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00171.html">Re: [ferret_users] parsing in go-files fails</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00161.html">[ferret_users] shakey and polymark</a></strong>
</li>

</UL>
<center>[<a href="msg00171.html">Thread Prev</a>][<a href="msg00161.html">Thread Next</a>][<A HREF="threads.html#00174">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
