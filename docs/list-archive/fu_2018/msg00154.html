<!-- MHonArc v2.6.18 -->
<!--X-Subject: RE: [ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis -->
<!--X-From-R13: "Brnefr X. Phpunana" <crnefroNBevaprgba.SRG> -->
<!--X-Date: Mon, 7 May 2018 10:31:29 &#45;0700 -->
<!--X-Message-Id: 63A10437CDB0D246976F6CD01C424A93365914@csgmbx213w -->
<!--X-Content-Type: multipart/related -->
<!--X-Reference: ME1PR01MB1201D6EA3CAE3CF9AC978566AB860@ME1PR01MB1201.ausprd01.prod.outlook.com -->
<!--X-Reference: c6dd23ad&#45;3156&#45;84b4&#45;2aa7&#45;c900a4ea8306@noaa.gov -->
<!--X-Reference: fac28029&#45;632e&#45;1291&#45;dac3&#45;c9be629d4752@noaa.gov -->
<!--X-Derived: jpgsku3FAR8Ax.jpg -->
<!--X-Derived: jpg06leoakJCt.jpg -->
<!--X-Derived: jpgDggnYlNzX1.jpg -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>RE: [ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00153.html">Thread Prev</a>][<a href="msg00155.html">Thread Next</a>][<A HREF="threads.html#00154">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: [ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;,        &quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot;	&lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>RE: [ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis</strong></li>
<li><strong>From</strong>: <strong>&quot;Pearse J. Buchanan&quot; &lt;<a href="mailto:pearseb@DOMAIN.HIDDEN">pearseb@xxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 7 May 2018 17:31:20 +0000</li>
<li>Accept-language: en-GB, en-US</li>
<li>Arc-authentication-results: i=2; mx.google.com;       arc=pass (i=1 spf=pass spfdomain=princeton.edu);       spf=neutral (google.com: 65.127.216.230 is neither permitted nor denied by domain of <a href="mailto:pearseb@DOMAIN.HIDDEN">pearseb@xxxxxxxxxxxxx</a>) smtp.mailfrom=<a href="mailto:pearseb@DOMAIN.HIDDEN">pearseb@xxxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       spf=pass (google.com: domain of <a href="mailto:pearseb@DOMAIN.HIDDEN">pearseb@xxxxxxxxxxxxx</a> designates 128.112.128.214 as permitted sender) smtp.mailfrom=<a href="mailto:pearseb@DOMAIN.HIDDEN">pearseb@xxxxxxxxxxxxx</a></li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:content-language:accept-language:in-reply-to         :references:message-id:date:thread-index:thread-topic:subject:to         :from:arc-authentication-results:arc-message-signature         :arc-authentication-results;        bh=tT551lxX8E1jKUqC9Yf92qkPpsoL2xeWXdBzjzTsoMk=;        b=eBIenYkeOiKqXvvba6lA5mdEfj+biuZHO/WNtqWoV+qlANFZBXG2CHOZ8f2H5TUiY+         n77pV+UuFSxokEQy1qK3Soy0TlZiaOmQQpl8NYaW5/eukzGIDrhToUy2lhFwup+xTjPA         AydYzZmBWhRAnSAfVHNAnAH93LFpjphiB6k+RspkK2cvRgMo663TfrNI2cX2PKhCHsKI         xyVWChw6RimkgpB1y+fdhvR+a7U10vJ8UiVrJaysmuO3ygpD+LXKRnQRmpXlwYTfDplh         GTdzJXKOOmlgXbWV+imPoxnsJK7BKk8sO05zmp9PktBwWb72I5L1mDkr9mGPzJczGv5A         0khA==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:content-language:accept-language:in-reply-to         :references:message-id:date:thread-index:thread-topic:subject:to         :from:arc-authentication-results;        bh=tT551lxX8E1jKUqC9Yf92qkPpsoL2xeWXdBzjzTsoMk=;        b=o5s7W8uknQP2IZzNuJVhCqpfhefN6avbJPuB1T3o0wfU3OnAmIy43BraWMBot4ln7m         K6Em+7BhzsyJtObiNiXOfBA9E4zasQu+0X9jauDUhSXL9pplT4c5nLSj2QRdji3UFYVA         8K3yBmNXh3y2VjRjtWnAJU9vD360YB3pr2+rHP6HP9W7rBiLM6iV51nJ5oqD2ZKdNxgt         lBcfpc2MJL2V36+n1FXTunpckRHUQHsAx4RD56UeJrGoHt7m+xr6WD2E6iBeBAMJXEhQ         fwAcno8t/uD/TPTwo5xvRxYJWF4ol1bEpUt2xtj/1O1GNvoBzYiCo4c9/aWFDxJjHcRI         v7nA==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1525714287; cv=pass;        d=google.com; s=arc-20160816;        b=VdyOXVXxcL9IKSHubyfK1bHwGmpL/gFV5gKwOyzhimOh7OS1Z2djzjDHynLe/U9i3N         sKJhm2yBIj4AvbAyywhFc7yfCQdn+SimfUBvFBlSmYTJlmvx61/+vCCU1Y6A8PS/OQJt         xCFObnWMdCwa+yQwBEJfYYtsq9ChztQlmG4yQLBW/0rrqZdlN9G+8KF28Mb6600upk6I         8R79IJzUmmpyV8rXvrpzyu8KB5Sl3gRtm5Y25DwwCyWCgMZj6D68UhDPXPvKF8i28zD9         UU9EBpr+zWaCKs9V+dNWTjad6ha0lIDS8hULqR1POO7Uxiyg/1FZ4xBTNQmRyDWVlcZL         O4XQ==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1525714281; cv=none;        d=google.com; s=arc-20160816;        b=C02UYVnIqGpefYDEzJt0YKs87UnP/ExiJ6CBOoor7If2lTY3CkmmFcvo4iQWp0LGUI         ad1lqsVXEE+IwhTiMNhYkLvT08LcDMspg8fRvktZB/EkgxXSI3PUgkTOvEttFnIFWNmQ         zhiqqw7YHkkqfOzImtVaOMgWE66TL4vuq4OU8W7F2C+LMbPweWNmHS77qGXYQADv5CMM         ToLLQwU5FQh2S43OFf+pdR5pFFOjAAZnojyeA9MoGzf0W6r/we24+yHQHBuYQSvNSBoz         +i+93wEJF54WK+qGeWqOPpGttVtCiSo9MkEFseep8HJrgHoO+mhdMz4M/Ni3QwYaonpf         tKzQ==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:from:to:subject:thread-topic:thread-index:date:message-id         :references:in-reply-to:accept-language:content-language         :mime-version:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive;        bh=tT551lxX8E1jKUqC9Yf92qkPpsoL2xeWXdBzjzTsoMk=;        b=S47A1K1zSr5N26JNx3RZNuPWAMm8DGmJ60swsTI0JR/hgrsEL3OhLqISVmJiT/8WVJ         Y8ggaLREFFUqHFhKP7rtSA6P6/Z/aorR4dyyU80ZasojJ6YJsvAUm3IJ7C+30qFWg8fz         R8k4/SrNQTuGOMJXuixXAllRRLp/g/3pGiLRRnkWFzoP+MZJsDzBJUjjz5lgmEEmhpff         V/u6ShbWPo990HsQCITaV9uIPr+hC9Ow468TgOZ7njFOOGovw/t6ak4c4xNH8yVq2y9h         WSfccniMsyL/fnpZ0oXLoZIvHl4O1511KUUurBwili3RbaThi8kTfRacRwS7iXVQMD2N         ETSQ==</li>
<li>In-reply-to: &lt;<a href="msg00153.html">fac28029-632e-1291-dac3-c9be629d4752@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;<a href="msg00149.html">ME1PR01MB1201D6EA3CAE3CF9AC978566AB860@ME1PR01MB1201.ausprd01.prod.outlook.com</a>&gt; &lt;<a href="msg00150.html">c6dd23ad-3156-84b4-2aa7-c900a4ea8306@noaa.gov</a>&gt;,&lt;<a href="msg00153.html">fac28029-632e-1291-dac3-c9be629d4752@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-index: AQHT5icwX4rzgu2WDEOuhsHOcchBC6QkhbkB</li>
<li>Thread-topic: [ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; ">


<div style="direction: ltr;font-family: Tahoma;color: #000000;font-size: 10pt;">Hello Ansley and others,<br>
<br>
This works! Thanks for the help.<br>
<br>
So to clarify: Ysequence, and the other sequences (Xsequence, Zsequence, etc), simply tell ferret that I want some numbers placed on a certain axis?<br>
<br>
Pearse<br>
<div style="font-family: Times New Roman; color: #000000; font-size: 16px">
<hr tabindex="-1">
<div id="divRpF261727" style="direction: ltr;"><font size="2" color="#000000" face="Tahoma"><b>From:</b> Ansley C. Manke [ansley.b.manke@xxxxxxxx]<br>
<b>Sent:</b> 07 May 2018 13:16<br>
<b>To:</b> ferret_users@xxxxxxxx<br>
<b>Subject:</b> Re: [ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis<br>
</font><br>
</div>
<div></div>
<div>
<p>Hi Pearse,</p>
<p>Replying to the list as well -- Pearse and I looked at this a bit.&nbsp; The error message is
<br>
</p>
<p><tt>Bailing out of external function &quot;scat2gridgauss_yz&quot;:</tt><tt><br>
</tt><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; No data in scattered y, z points.&nbsp; F() data values must be defined on Y or Z axis.</tt><tt><br>
</tt><tt>&nbsp;**ERROR: error in external function</tt><tt><br>
</tt><tt></tt></p>
<a rel="nofollow" class="moz-txt-link-freetext" href="http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_SCAT2GRIDGAUSS_YZ" target="_blank" rel="noopener noreferrer">http://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/variables-xpressions/XPRESSIONS#_SCAT2GRIDGAUSS_YZ</a>
<p>The arguments to the function are <b>SCAT2GRIDGAUSS</b><strong>_YZ</strong><b>(YPTS, ZPTS, F, YAXPTS, ZAXPTS, ...)
</b><b>&nbsp; </b>where ypts and zpts are simple lists of points, on any axis.&nbsp; The third argument, F, can also depend on other dimensions.&nbsp; This would allow for you to have a set of locations ypts, zpts, and F as a measurement at a set of times and/or a set of
 longitudes.&nbsp; This means that for the third argument, the scattered-data direction must lie along a y or z axis. The function then keeps any dependence on an X, T, E, or F axis, and finds the &quot;scattered&quot; data along a Y or Z direction. In the documentation,<br>
</p>
<p></p>
<blockquote>
<p align="left">F-data: 3rd component of scattered input triples. This is the variable we are putting onto the grid. It must have the scattered-data direction along a Y or Z axis. May be function of X or time.</p>
</blockquote>
For this case, all you need to do is recast the data for the 3rd argument onto a Y or Z axis,<br>
<blockquote><tt>yes? define axis/y=-65:25:1/units=degrees yax</tt><tt><br>
</tt><tt>yes? define axis/z=0:6000:50/units=meters/depth zax</tt><tt><br>
</tt><tt>yes? let xscale = 0.5</tt><tt><br>
</tt><tt>yes? let yscale = 25</tt><tt><br>
</tt><tt>yes? let cutoff = 3</tt><tt><br>
</tt><tt></tt><tt><br>
</tt><tt>yes? let no3_ind_on_y = YSEQUENCE(no3_ind)</tt><tt><br>
</tt><tt><br>
</tt><tt>yes? let no3int_ind = scat2gridgauss_yz(lat_ind, dep_ind, no3_ind_on_y, y[gy=yax], z[gz=zax], xscale, yscale, cutoff, 0)</tt><tt><br>
</tt><tt>yes? shade no3int_ind</tt><br>
</blockquote>
-Ansley<br>
<br>
<div class="moz-cite-prefix">On 5/4/2018 10:05 AM, Ansley C. Manke wrote:<br>
</div>
<blockquote type="cite">
<p>Hi Pearse,</p>
<p>For your data, the arguments of scat2gridgauss_yz would just be the simple 1-D lists of data, and the result will be on your y-z grid defined by the axes yax and zax that you've defined.&nbsp; The function allows for the 3rd argument to have more dimensions,
 for instance scattered locations all measured at a set of times, but it is fine for the first 3 arguments to all be 1-D.<br>
</p>
<p>You're treating longitude only as a mask, that is keeping longitudes in the range between 35 and 120 degrees east, correct?&nbsp; So the result will not depend on longitude.<br>
</p>
<p>Since z is a depth, you should define your axis zax with /depth, that is positive values of depth increasing downwards.&nbsp; You don't say what error you're running into.&nbsp; What plot commands are you trying and what happens?</p>
<p>Ansley<br>
</p>
<br>
<div class="moz-cite-prefix">On 5/4/2018 8:03 AM, Pearse Buchanan wrote:<br>
</div>
<blockquote type="cite">
<div class="WordSection1">
<p class="MsoNormal">Hello all,</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">I&#x2019;m trying to interpolate observations of NO<sub>3</sub> using the function &#x201C;scat2gridgauss_yz&#x201D;.</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">I successfully read in my data, which is structured as 1D column data, which looks like so:
</p>
<p class="MsoNormal"><img id="Picture_x0020_1" src="jpgsku3FAR8Ax.jpg" class="" style="width:8.0625in; height:2.5416in" width="774" height="244"></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">As you can see, I have 37,200 observations.</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">I now want to select my data from the Indian Ocean, where I eventually would like to do my interpolation using scat2gridgauss_yz.</p>
<p class="MsoNormal">Plotting the locations it seems like this has worked nicely.</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><img id="Picture_x0020_2" src="jpg06leoakJCt.jpg" class="" style="width:6.4791in; height:7.3125in" width="622" height="702"></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">However, the problem then arises when I want to use &#x201C;scat2gridgauss_yz&#x201D; to interpolate this data. My command is:</p>
<p class="MsoNormal"><img id="Picture_x0020_3" src="jpgDggnYlNzX1.jpg" class="" style="width:8.1562in; height:4.1666in" width="783" height="400"></p>
<p class="MsoNormal">And when trying to plot the data, I have an error. This error is related (I think!) to the fact that my NO<sub>3</sub> data is in a 1D form. That is, it doesn&#x2019;t have y,z coordinates. Scat2gridgauss requires that the variable in the 3<sup>rd</sup>
 argument be of 2 dimensions. Specifically, it must relate to the 2 dimensions of the 1<sup>st</sup> and 2<sup>nd</sup> arguments, in this case Latitude and Depth.</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">My question, therefore, is how to place my 1D NO<sub>3</sub> data onto 2 dimensions of the lat,depth coordinates.</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">Thanks all,</p>
<p class="MsoNormal">Pearse</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><b><span style="font-size:10.0pt; color:#333399">Pearse J. Buchanan</span></b><b><span style="font-size:12.0pt; color:black"></span></b></p>
<p class="MsoNormal"><span style="font-size:10.0pt; color:#333399">Institute for Marine and Antarctic Studies (IMAS), University of Tasmania</span></p>
<p class="MsoNormal"><span style="font-size:10.0pt; color:#333399">&nbsp;</span></p>
<p class="MsoNormal"><span style="font-size:10.0pt; color:#333399">PhD Candidate / CSIRO-UTAS Quantitative Marine Science</span></p>
<p class="MsoNormal"><span style="font-size:10.0pt; color:#333399">ARC Centre of Excellence in Climate System Science &#x2013; UTAS student representative</span></p>
<p class="MsoNormal">&nbsp;</p>
</div>
<p style="font-size:10pt; line-height:10pt; font-family:Calibri,sans-serif"><br>
<br>
University of Tasmania Electronic Communications Policy (December, 2014). <br>
This email is confidential, and is for the intended recipient only. Access, disclosure, copying, distribution, or reliance on any of it by anyone outside the intended recipient organisation is prohibited and may be a criminal offence. Please delete if obtained
 in error and email confirmation to the sender. The views expressed in this email are not necessarily the views of the University of Tasmania, unless clearly intended otherwise.
</p>
</blockquote>
<br>
</blockquote>
<br>
</div>
</div>
</div>


</td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00155" href="msg00155.html">Re: [ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00149" href="msg00149.html">[ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis</a></strong>
<ul><li><em>From:</em> Pearse Buchanan</li></ul></li>
<li><strong><a name="00150" href="msg00150.html">Re: [ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
<li><strong><a name="00153" href="msg00153.html">Re: [ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00153.html">Re: [ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00155.html">Re: [ferret_users] putting 1D variable into 2D (lat,depth) for using in objective analysis</a></strong>
</li>

</UL>
<center>[<a href="msg00153.html">Thread Prev</a>][<a href="msg00155.html">Thread Next</a>][<A HREF="threads.html#00154">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
