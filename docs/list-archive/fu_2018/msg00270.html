<!-- MHonArc v2.6.18 -->
<!--X-Subject: RE: [ferret_users] redefining dimension values of variables on an irregular grid -->
<!--X-From-R13: "Brnefr X. Phpunana" <crnefroNBevaprgba.SRG> -->
<!--X-Date: Wed, 8 Aug 2018 10:48:28 &#45;0700 -->
<!--X-Message-Id: 63A10437CDB0D246976F6CD01C424A93103B3473@csgmbx213w -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 63A10437CDB0D246976F6CD01C424A93103B3423@csgmbx213w -->
<!--X-Reference: 757af532&#45;1b50&#45;c41f&#45;7220&#45;85ce8396ad1d@noaa.gov -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>RE: [ferret_users] redefining dimension values of variables on an irregular grid</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00269.html">Thread Prev</a>][<a href="msg00271.html">Thread Next</a>][<A HREF="threads.html#00270">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>RE: [ferret_users] redefining dimension values of variables on an irregular grid</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>&quot;Ansley C. Manke&quot; &lt;<a href="mailto:ansley.b.manke@DOMAIN.HIDDEN">ansley.b.manke@xxxxxxxx</a>&gt;,        &quot;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&quot;	&lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>RE: [ferret_users] redefining dimension values of variables on an irregular grid</strong></li>
<li><strong>From</strong>: <strong>&quot;Pearse J. Buchanan&quot; &lt;<a href="mailto:pearseb@DOMAIN.HIDDEN">pearseb@xxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 8 Aug 2018 17:48:25 +0000</li>
<li>Accept-language: en-GB, en-US</li>
<li>Arc-authentication-results: i=2; mx.google.com;       arc=pass (i=1 spf=pass spfdomain=princeton.edu);       spf=neutral (google.com: 65.127.216.230 is neither permitted nor denied by domain of <a href="mailto:pearseb@DOMAIN.HIDDEN">pearseb@xxxxxxxxxxxxx</a>) smtp.mailfrom=<a href="mailto:pearseb@DOMAIN.HIDDEN">pearseb@xxxxxxxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       spf=pass (google.com: domain of <a href="mailto:pearseb@DOMAIN.HIDDEN">pearseb@xxxxxxxxxxxxx</a> designates 128.112.128.213 as permitted sender) smtp.mailfrom=<a href="mailto:pearseb@DOMAIN.HIDDEN">pearseb@xxxxxxxxxxxxx</a></li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:content-language:accept-language:in-reply-to         :references:message-id:date:thread-index:thread-topic:subject:to         :from:arc-authentication-results:arc-message-signature         :arc-authentication-results;        bh=ip48/a1VAxehrI3WAXPhFfOpXogGcTN/pf57BbCmVak=;        b=J6hbylWkhQXrEh06jkbap6+1Gl4/vLOXnUIq8/2qAUexzcbnBe61s1gnarFr9qMxfs         nvHj2opv7IFk5aMAdvJzqOLHVOBXVzX1vEkStWwnw6xSdUQYBhUcCy0sfuGK2Fn/JeZu         D48loEqNA0LCyUceZmtRE60WsTRMp8yahNTB3TOqovgdlujDx2cRz79AvQasvUUTRZdV         Ow3lumH26LnlfAeESeEz+rvjLF09a4qa0F8MVmyaO2Vm5B1fVDsUYFXTIOKzJsOq0xj3         YMcQL3Y1KXGBoLjavXCVqV6m7V/f63e+VzTzg+7eDs09hCX0ayg8ECdaeiyhefdYTRUl         quKw==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=mime-version:content-language:accept-language:in-reply-to         :references:message-id:date:thread-index:thread-topic:subject:to         :from:arc-authentication-results;        bh=ip48/a1VAxehrI3WAXPhFfOpXogGcTN/pf57BbCmVak=;        b=tuHBp9DwtqINCdcstrbAi0xv0NRveMLOONpx5mxcojlVs3xNr/ropg2pI1dJOHURZR         GVnyBHkPyYQp8cBb1biA10u71rz1jonupO41f/cyIhWbjZPDpbheOQaPhSANZV+SsHLB         Dm2N0wzzBocXXsTiejpMnV0mAYwh8o35i9xf3zdHL+0OfTpodqfDlX7FyxbGgT1O79IE         K5BaPHltrEdKmxaTglsP1UdWAbgDhv2MVgYogLB45l8yADSdC7XbFiHDfW6iDTclaIm+         qj67OZYL60gerSavhSnthwN4bqPktE2vh1VwhHliNg6jLP3/5+WDsrKkelSDHLY+jk17         zkcw==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1533750506; cv=pass;        d=google.com; s=arc-20160816;        b=rFsGaZdluUv8FeNcFU8UZe+t4voGTY0X71TsI543JnHaHcvtDKPoboCDH+MJ7g+ACX         rxUjJ27L8vYbZfqNFJ9la3f5EWZsn7HaM5vaksWZe3kCCm7fGriEr+bXChXZEFu8NDKu         +oT1F3/ZHr721ASiSDCK6VENvFkPUE4FpcxVJg8Mb/HCfhUzPhfW85cGZ1BwJimq2qJD         3fcxVCZQ+JO7aIMPYx0YJA0JQkKKEffrL/IjOhhWMVwosZ3YsN6zJaB/ecWG1TwGMEKi         R5SxCDfzaDNie4bJmngCyU/nWbhPX25PcTGl7fKt1PC6tBR+O3k7Y1IzcPYa8ZcPEsad         iVzg==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1533750506; cv=none;        d=google.com; s=arc-20160816;        b=EHigvByQdQYMY6O8Ken1vYHfBh+jY1s0510llUuKLTee8NGxJN5YdZZCUROHgtsfV4         HgBDMJYHjtQSSZ5MWgESPDQ2w+3oWI4TcjiiAdaFclrP84IEbZGiKqcjUvpse8jBA75m         k1K6DdCD7CaG2LVA+SKqlPtK8uqjsbpm88vumfE5QyCiOMsbsboHp6ord+FVIS1+c3Md         zOZG9zUyBAK6ecdrEavkwj7MhLFVN/UpkKZJGG+pdEvN+Qzkf/NzwYc8QMOAnP4agomz         8wN5iaR1IVS+dLx+fiYJBgBV2j+GvbNBFjdXIfkhAzprnBbF7NHH8J8slDz0tA+ksQRM         zy2w==</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=sender:from:to:subject:thread-topic:thread-index:date:message-id         :references:in-reply-to:accept-language:content-language         :mime-version:x-original-sender:x-original-authentication-results         :precedence:mailing-list:list-id:list-post:list-help:list-archive;        bh=ip48/a1VAxehrI3WAXPhFfOpXogGcTN/pf57BbCmVak=;        b=WTuiwT6z3DhQNOQ8IvZkyebQk7WTeXuzGu/Tegj9SLTSFsjDJAIyMMmXBRj67T4Up5         lzp09sqocDIfGbEI5PgyrsMcANg+uUcqLB8fLk2tIA6wwQQwHsUZvfaOCPMQwT68803K         zKrGWi/MaMEuka3JBwh5TCTLAHOeeUoZ0UxM6rYiF4RIodCWBxmtW0hQFRRRTkmsSxUh         KpS9EJsaO+2wfDAJPwBalpEAIEwBXnFIckb5n2ggIHTknbZD3Vksr/LT4PDV+clmvj9u         AUaN/HOMaM+AHb4erBA6u7cb0HoGfhBtQRxPCdahLZcPGF7O08fQ9BHBvIrNs5WJTPJt         Ghdw==</li>
<li>In-reply-to: &lt;<a href="msg00269.html">757af532-1b50-c41f-7220-85ce8396ad1d@noaa.gov</a>&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;63A10437CDB0D246976F6CD01C424A93103B3423@csgmbx213w&gt;,&lt;<a href="msg00269.html">757af532-1b50-c41f-7220-85ce8396ad1d@noaa.gov</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
<li>Thread-index: AQHULyBeUuUWGbTNTEGGjnlW5/kCGaS2V0IA///Hj/M=</li>
<li>Thread-topic: [ferret_users] redefining dimension values of variables on an irregular grid</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#FFFFFF" style="background-color: #FFFFFF; ">


<div style="direction: ltr;font-family: Tahoma;color: #000000;font-size: 10pt;">
<div>Hi Ansley,</div>
<div><br>
</div>
<div>Thanks for getting back to me. I think the function I want to use is rect_to_curv, because I'm trying to put a variable, let's say TEMP[100,122], onto the curvilinear grid. The curvilinear grid coordinates are held in variables TLONG[100,122] and TLAT[100,122].<br>
</div>
<div><br>
</div>
<div>I'll show you what they look like: TEMP --&gt; TLONG --&gt; TLAT<br>
</div>
<div>&nbsp;<br>
</div>
<div><img><img><img></div>
<div>&nbsp;&nbsp; <br>
</div>
<div><br>
</div>
<div><br>
</div>
<div>I can do the following successfully:</div>
<div><br>
</div>
<div>&nbsp;&nbsp;&nbsp; shade TEMP, TLONG, TLAT</div>
<div><img></div>
<div><br>
</div>
<div><br>
</div>
<div>However, I want to save this output as a new variable. I tried this with &quot;rect_to_curv&quot; without success.</div>
<div>&nbsp;&nbsp;&nbsp; let temp_curv = rect_to_curv(TEMP, TLONG, TLAT, 3)</div>
<div>&nbsp;&nbsp;&nbsp; sha temp_curv</div>
<div>&nbsp;&nbsp;&nbsp; Bailing out of external function &quot;rect_to_curv&quot;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; input grid not modulo, output grid must be inside input grid<br>
&nbsp;**ERROR: error in external function<br>
<br>
</div>
<div>Hope there is a simple solution to this. The grids are the same size.<br>
</div>
<div><br>
</div>
<div>Thanks,</div>
<div>Pearse<br>
</div>
<div><br>
</div>
<div><br>
</div>
<div style="font-family: Times New Roman; color: #000000; font-size: 16px">
<hr tabindex="-1">
<div id="divRpF556253" style="direction: ltr;"><font size="2" face="Tahoma" color="#000000"><b>From:</b> owner-ferret_users@xxxxxxxx [owner-ferret_users@xxxxxxxx] on behalf of Ansley C. Manke [ansley.b.manke@xxxxxxxx]<br>
<b>Sent:</b> 08 August 2018 12:59<br>
<b>To:</b> ferret_users@xxxxxxxx<br>
<b>Subject:</b> Re: [ferret_users] redefining dimension values of variables on an irregular grid<br>
</font><br>
</div>
<div></div>
<div>
<p>Hi Pearse,</p>
<p>This is what's called in the Ferret documentation a &quot;curvilinear grid&quot;.&nbsp; There are techniques for visualizing data on these grids directly and also capabilities for regridding to and from such grids. Have a look at the
<a rel="nofollow" href="https://ferret.pmel.noaa.gov/Ferret/documentation/users-guide/index-1/index" target="_blank" rel="noopener noreferrer">
Ferret documentation</a> under &quot;curvilinear grids&quot; and &quot;curvilinear coordinates&quot; and see if that'll get you started..</p>
<p><br>
</p>
<p>-Ansley<br>
</p>
<br>
<div class="moz-cite-prefix">On 8/8/2018 7:01 AM, Pearse J. Buchanan wrote:<br>
</div>
<blockquote type="cite">
<div style="direction:ltr; font-family:Tahoma; color:#000000; font-size:10pt">
<div>Hello all,</div>
<div><br>
</div>
<div>I've been given some model data. The grid on which the ocean model exists is irregular, with a displaced north pole. The grid is 100 units in x and 122 units in y.<br>
</div>
<div><br>
</div>
<div>All variables exist on this grid type. However, the dimensions of each variable are not in degrees of longitude or latitude. Rather, they are in units of grid cells (i.e. 1 --&gt; 100, and 1 --&gt; 122).<br>
</div>
<div><br>
</div>
<div>What I want to do is take each variable and redefine their latitude and longitude dimensions so that they are now in degrees, not grid cell number. The ocean model provides this information in separate variables called TLONG and TLAT:</div>
<div>
<ul>
<li>TLONG(100,122) = array of t-grid longitudes (degrees east)<br>
</li><li>TLAT(100,122) = array of t-grid latitudes (degrees north) </li></ul>
<div>So I am struggling with how to take the values held in the variables TLONG and TLAT and set them as the dimension values for other ocean variables, say TEMP and SALT.<br>
</div>
</div>
<div><br>
</div>
<div>There must be a simply way of doing this so I thought I'd ask.<br>
</div>
<div><br>
</div>
<div>Cheers</div>
<div>Pearse<br>
</div>
</div>
</blockquote>
<br>
</div>
</div>
</div>


</td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00271" href="msg00271.html">RE: [ferret_users] redefining dimension values of variables on an irregular grid</a></strong>
<ul><li><em>From:</em> Pearse Buchanan</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00268" href="msg00268.html">[ferret_users] redefining dimension values of variables on an irregular grid</a></strong>
<ul><li><em>From:</em> Pearse J. Buchanan</li></ul></li>
<li><strong><a name="00269" href="msg00269.html">Re: [ferret_users] redefining dimension values of variables on an irregular grid</a></strong>
<ul><li><em>From:</em> Ansley C. Manke</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00269.html">Re: [ferret_users] redefining dimension values of variables on an irregular grid</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00271.html">RE: [ferret_users] redefining dimension values of variables on an irregular grid</a></strong>
</li>

</UL>
<center>[<a href="msg00269.html">Thread Prev</a>][<a href="msg00271.html">Thread Next</a>][<A HREF="threads.html#00270">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
