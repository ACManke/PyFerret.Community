<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] how to do embedded expression inside an embedded expression with grave accent -->
<!--X-From-R13: Ivyyvnz Yrffyre <jvyyvnz.f.xrffyreNabnn.tbi> -->
<!--X-Date: Wed, 10 Oct 2018 10:15:40 &#45;0700 -->
<!--X-Message-Id: 086137DE&#45;BE61&#45;411D&#45;B1C8&#45;6D63B5048FB0@noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAKE4FWpX5nFs&#45;soEQ6c&#45;QKY8C7G615UJOVPuQ=aGZrH2is3THg@mail.gmail.com -->
<!--X-Reference: CALC=m4od6aYPKYoiDZM1JKq=XieLToaN1XX+GCCgOtFuTDcGSQ@mail.gmail.com -->
<!--X-Reference: CAKE4FWrELJCcgH7zn=XmVBe9RS5QUb&#45;zT1fraBg7R5zZuYc=eg@mail.gmail.com -->
<!--X-Reference: CALC=m4pRFgKaB44X3H2uYd2PNXWTu2qjGEhxdN+JZKvCetbLEg@mail.gmail.com -->
<!--X-Reference: CAKE4FWqb7okVM9xJNU1ZPSzrGi=C293ycjaYvvc70&#45;ZwYnaaCw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] how to do embedded expression inside an embedded expression with grave accent</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00376.html">Thread Prev</a>][<a href="msg00378.html">Thread Next</a>][<A HREF="threads.html#00377">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] how to do embedded expression inside an embedded expression with grave accent</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Xiaoyu Bai &lt;<a href="mailto:xbai1@DOMAIN.HIDDEN">xbai1@xxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] how to do embedded expression inside an embedded expression with grave accent</strong></li>
<li><strong>From</strong>: <strong>William Kessler &lt;<a href="mailto:william.s.kessler@DOMAIN.HIDDEN">william.s.kessler@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 10 Oct 2018 10:15:36 -0700</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=i32ZMebl;       spf=pass (google.com: domain of <a href="mailto:william.s.kessler@DOMAIN.HIDDEN">william.s.kessler@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:william.s.kessler@DOMAIN.HIDDEN">william.s.kessler@xxxxxxxx</a>;       dmarc=pass (p=QUARANTINE sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa.gov header.s=google header.b=i32ZMebl;       spf=pass (google.com: domain of <a href="mailto:william.s.kessler@DOMAIN.HIDDEN">william.s.kessler@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:william.s.kessler@DOMAIN.HIDDEN">william.s.kessler@xxxxxxxx</a>;       dmarc=pass (p=QUARANTINE sp=NONE dis=NONE) header.from=noaa.gov</li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence:to         :references:message-id:content-transfer-encoding:cc:date:in-reply-to         :subject:mime-version:from:dkim-signature;        bh=7bDANCOexMB5gTcYOfP8ABPy1mey2IVppTnCHrYa2Ik=;        b=qy4MZ7B9KnVN/qgND4IhOc1HYR6CryDXL6PHMs+0ZcwjAv20oDB8Id21rwfNoepQJY         /yoVCHm8W+qBHPQPZoV7xlgneKNjqyz9qbWs221XLDJ6YtwkByNcgDi+XTSWRNlvu0Tj         IK2sl/ARtvtwNgTh6P5ZW8s70AZoNbPqQrBz7uN8Biwkqg+cCmpQNBKHQgf6idvdQ9uh         ArkLwokjgPwcMWKVPa8j28MCGZWVoSxtIT3rTQ9c7gYtTaWxH8DH4uWtnknHnn0NKkrL         DH3bYkSC6xFwRGlgl6RPj8dt7wBy1Oa1lYfKZe6nBZY50BqpWhdty2SviJV4GeH2BfPq         e2BQ==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=to:references:message-id:content-transfer-encoding:cc:date         :in-reply-to:subject:mime-version:from:dkim-signature;        bh=7bDANCOexMB5gTcYOfP8ABPy1mey2IVppTnCHrYa2Ik=;        b=TRnfTbo1lx35FsZY2QDNETErN790Fn3dlmcQUAZVhcmY8Hpf/xcZWBphSrT+r37BfW         MphQnT9wYgS4jFXlbQVueUiOw2DDZRaNzZZvT1mrXS61RMs4/t02EEpIMCgCDbsxTrz/         t3gkj/Mn0oNQ9yNl4LmMva5PnkF7eh+dwOLL0i8bxnMMMuz5f/Wc4Q2gyK9fUV3Tz8Cz         o60ncBOvmahaDX3qh3K9o0yyGOFoRyVvEtXHEd307mOVNiavcAAwDAo1MhlwmBlxJxRj         xVy60pcv+VSB/0GSM3JUYwgKaiYgmoJSdFZp/Me3reGygsIy1IgwEmuVJiJYnvrJQulN         LTQw==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1539191739; cv=pass;        d=google.com; s=arc-20160816;        b=cXW7tNFdmnmFCAu/4cRr800F5Ql28C/1Wv51bc8oujRxkhkcccVaZnJ6F7YsALeBmx         r6c9H/CIWLuIN1Yzmw/bcCb/F0Web7FmvYwgVEX/j97J7ybHTreiZWSNXBK2lk7LQCPR         zhYSjJ0/Pw1+SoKUJcGb9+rQEYUne5pn4MhBM+mi8bcMkSm76qqnW4BgP+d8ROWruGR2         GrZFpUQvsz1Aux+lZpvLsKamKejq6YeZukoCKyE1BbiAHJLS4K8slIuSmKDjHW4zZQ/x         ea0ieNoK7X0r/g4Hfw3x064ne0kdlTM4GLZxB8Y1NGhgq6Xnrk3OEvH1DX07oy5X/8hg         uLMg==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1539191739; cv=none;        d=google.com; s=arc-20160816;        b=B/UxSYjiQlhM0SpQ1gIAAf0IVwbVfXWsmU+/tAjZQJ7ARg9Ns0xAkNnRt8B+0Q2fSL         wgHyRzh9SqRBek5DnpLWkKLhY9lBm245xczEuvp3MTxHSD6AXZMWXkeiCgUIQkt5pLhT         qqE79iHSNEgGhOo+AnhGvGhdxqunaum27mOzf1pr771A8C47hX4jLLd2atuQzpZcz7Ux         QgiGefFHVQ6RsJIH6LWLMarSdWAnO/CLixyVgM40I/wdABKdcjKtNXaKV+0e0XVuiRK9         oHl4/0CJ/OyTITec06aebz0+cVZjrhG1GiRvd3kkQYOUiKt4qsAq2AG5iXUmVxsN25bQ         Jj5Q==</li>
<li>Cc: <a href="mailto:satyeshghetiya@DOMAIN.HIDDEN">satyeshghetiya@xxxxxxxxx</a>, Ferret &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa.gov; s=google;        h=from:mime-version:subject:in-reply-to:date:cc         :content-transfer-encoding:message-id:references:to         :x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=7bDANCOexMB5gTcYOfP8ABPy1mey2IVppTnCHrYa2Ik=;        b=kSoOF5otm20diioXRjzp9HcGdalt6qftFkV+03LIK5gKjry0+9vjCd6KA+tuF3KGOH         zu0VrksnqGPfzQjS24oEQGMLDoC40cL+ZZZVz5T9f9GibB4Q58Zl1L5EfpzsCsCse3ie         fPa/Obk4M3bYlrCXBxHR5C42wo32f4vixoxKknNWL+dJWsbxbxDOAmwAkIcivn4x4+Vv         jRYqRXfEJmspg4dTqH+aJhqRa79DQprMY3QXXkCoFA1f2eppnobjJhRZJ60tJrkTEjBs         bRsKDt2/VdRBiAmIZGcSl7NwJwF8mzy8dUxBCO8y/gXJb1o6pyen+bK0RgZHwC6r1yCY         cE1Q==</li>
<li>In-reply-to: &lt;CAKE4FWqb7okVM9xJNU1ZPSzrGi=C293ycjaYvvc70-ZwYnaaCw@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CAKE4FWpX5nFs-soEQ6c-QKY8C7G615UJOVPuQ=aGZrH2is3THg@mail.gmail.com&gt; &lt;CALC=m4od6aYPKYoiDZM1JKq=XieLToaN1XX+GCCgOtFuTDcGSQ@mail.gmail.com&gt; &lt;CAKE4FWrELJCcgH7zn=XmVBe9RS5QUb-zT1fraBg7R5zZuYc=eg@mail.gmail.com&gt; &lt;CALC=m4pRFgKaB44X3H2uYd2PNXWTu2qjGEhxdN+JZKvCetbLEg@mail.gmail.com&gt; &lt;CAKE4FWqb7okVM9xJNU1ZPSzrGi=C293ycjaYvvc70-ZwYnaaCw@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I'm not sure I understand your question exactly, but I think a defined symbol has highest priority. Ferret will simply drop that symbol into any command. And note that symbols can be embedded (see example).

If you only have 7 of these then the symbols can be defined manually:

def sym root &quot;/home/xbai1/Tracmip/family1/&quot;
def sym f1 &quot;whatever_your_first_filename_is.nc&quot;
def sym f2 &quot;whatever_your_second_filename_is.nc&quot;
...
def sym f7 &quot;whatever_your_last_filename_is.nc&quot;

repeat/range=1:7:1/name=fnum (let dummy=`fnum`; def sym sfnum `dummy`; use &quot;($root)($f($sfnum))&quot;; ... )

I'm not sure why, but this kind of syntax inside a repeat loop requires defining a new dummy variable to use for symbol definition.

Billy
 

&gt; On Oct 10, 2018, at 9:36 AM, Xiaoyu Bai &lt;xbai1@xxxxxxxx&gt; wrote:
&gt; 
&gt; repeat/range=1:7/name=aa (use file_name_`aa`.nc) is a good idea. I have a handicap that I use let files_CNRM=spawn(&quot;ls -1 /home/xbai1/Tracmip/family1/*CNRM*.nc&quot;) to identify my files before I read them in. Ferret doesn't let me to use syntax `spawn(&quot;ls -1 /home/xbai1/Tracmip/family1/*CNRM*.nc&quot;)` because grave accent has the highest priority. &#x1F639; 
&gt; 
&gt; Thanks a lot. 
&gt; Xiaoyu
&gt; 
&gt; On Wed, Oct 10, 2018 at 11:52 AM Satyesh Ghetiya &lt;satyeshghetiya@xxxxxxxxx&gt; wrote:
&gt; Hi,
&gt; 
&gt; 
&gt; On Wed, Oct 10, 2018 at 9:05 PM Xiaoyu Bai &lt;xbai1@xxxxxxxx&gt; wrote:
&gt; Hi Ghetiya,
&gt; 
&gt; Yes, I wan to read all the files in through the repeat loop. When you say nested loop, do you mean let datset=0; repeat/range=1:8 (let datset=`datset+1`; use `files_CNRM[X=datset]`)? It didn't work.
&gt; 
&gt; ^ Yes, you are correct, I also encountered similar problem, it seems ferret is not taking nested definition of variable.
&gt; The error message is like **ERROR: command syntax: DATSET // SET DAT/FORM=CDF `files_CNRM[X=datset]`. I feel datset needs a pair of grave accent to make it as an variable. However, ferret considers the nearest two grave accents as a pair. 
&gt; I might need to read my files in one by one instead of using repeat loop.
&gt; 
&gt; ^ But once I used syntax like this which worked: repeat/range=1:7/name=aa (use file_name_`aa`.nc;) 
&gt; Anyway if not, then yes for now, you may have to use one by one.
&gt; Thank you very much and have a nice day. 
&gt; 
&gt; Welcome. 
&gt; 
&gt; On Wed, Oct 10, 2018 at 12:53 AM Satyesh Ghetiya &lt;satyeshghetiya@xxxxxxxxx&gt; wrote:s
&gt; Hi,
&gt; I also faced similar problem, but every time I am by passing using two grave accent by using some other repeat loop (nested) or by using some other variable.
&gt; Are you wanting to use, in loop, 7 data sets ?  
&gt; 
&gt; On Wed, Oct 10, 2018 at 1:53 AM Xiaoyu Bai &lt;xbai1@xxxxxxxx&gt; wrote:
&gt; Dear ferreters,
&gt; 
&gt; I have a syntax that's like repeat/range=1:7/name=datset use `files_CNRM[x=`datset`]`. However, ferret reads it like  `files_CNRM[x=` and `]`. So I am wondering how to make this syntax work.
&gt; 
&gt; Thank you very much.
&gt; -- 
&gt; Xiaoyu
&gt; 
&gt; 
&gt; -- 
&gt; G Satyesh
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Xiaoyu
&gt; 
&gt; 
&gt; -- 
&gt; G Satyesh
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Xiaoyu



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00378" href="msg00378.html">Re: [ferret_users] how to do embedded expression inside an embedded expression with grave accent</a></strong>
<ul><li><em>From:</em> Xiaoyu Bai</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00369" href="msg00369.html">[ferret_users] how to do embedded expression inside an embedded expression with grave accent</a></strong>
<ul><li><em>From:</em> Xiaoyu Bai</li></ul></li>
<li><strong><a name="00370" href="msg00370.html">Re: [ferret_users] how to do embedded expression inside an embedded expression with grave accent</a></strong>
<ul><li><em>From:</em> Satyesh Ghetiya</li></ul></li>
<li><strong><a name="00373" href="msg00373.html">Re: [ferret_users] how to do embedded expression inside an embedded expression with grave accent</a></strong>
<ul><li><em>From:</em> Xiaoyu Bai</li></ul></li>
<li><strong><a name="00374" href="msg00374.html">Re: [ferret_users] how to do embedded expression inside an embedded expression with grave accent</a></strong>
<ul><li><em>From:</em> Satyesh Ghetiya</li></ul></li>
<li><strong><a name="00375" href="msg00375.html">Re: [ferret_users] how to do embedded expression inside an embedded expression with grave accent</a></strong>
<ul><li><em>From:</em> Xiaoyu Bai</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00376.html">Re: [ferret_users] how to do embedded expression inside an embedded expression with grave accent</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00378.html">Re: [ferret_users] how to do embedded expression inside an embedded expression with grave accent</a></strong>
</li>

</UL>
<center>[<a href="msg00376.html">Thread Prev</a>][<a href="msg00378.html">Thread Next</a>][<A HREF="threads.html#00377">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
