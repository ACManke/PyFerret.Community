<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [ferret_users] How to flip a variable? U is read at reverse -->
<!--X-From-R13: Yney Ezvgu &#45; @AOO Ossvyvngr <xney.fzvguNabnn.tbi> -->
<!--X-Date: Wed, 31 Jan 2018 15:05:57 &#45;0800 -->
<!--X-Message-Id: CAELLC7W6mTuHx5w=E3+n9wf=+&#45;ABPevQ+Fuq&#45;7_VJKUmDwcaVA@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAORxmhsAasGHp4Ts3EMTZZm2CZnSzdbJ5=oDDst+XjMVferrTw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [ferret_users] How to flip a variable? U is read at reverse</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00022.html">Thread Prev</a>][<a href="msg00024.html">Thread Next</a>][<A HREF="threads.html#00023">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [ferret_users] How to flip a variable? U is read at reverse</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>karen guihou &lt;<a href="mailto:karen.guihou@DOMAIN.HIDDEN">karen.guihou@xxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: [ferret_users] How to flip a variable? U is read at reverse</strong></li>
<li><strong>From</strong>: <strong>Karl Smith - NOAA Affiliate &lt;<a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 31 Jan 2018 15:05:55 -0800</li>
<li>Arc-authentication-results: i=2; mx.google.com;       dkim=pass header.i=@noaa-gov.20150623.gappssmtp.com header.s=20150623 header.b=oivMo8vo;       spf=pass (google.com: domain of <a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a></li>
<li>Arc-authentication-results: i=1; mx.google.com;       dkim=pass header.i=@noaa-gov.20150623.gappssmtp.com header.s=20150623 header.b=oivMo8vo;       spf=pass (google.com: domain of <a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a> designates 209.85.220.41 as permitted sender) smtp.mailfrom=<a href="mailto:karl.smith@DOMAIN.HIDDEN">karl.smith@xxxxxxxx</a></li>
<li>Arc-message-signature: i=2; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=list-archive:list-help:list-post:list-id:mailing-list:precedence:cc         :to:subject:message-id:date:from:references:in-reply-to:mime-version         :arc-authentication-results:arc-message-signature:dkim-signature         :arc-authentication-results;        bh=/+yMVhw+HuUw3LDqeVKj2reDB8N68tePqf85Ir8BR3U=;        b=TnRuDQDQCHtejcKXR1q6HWrVwmkclx49NqeOGd6iz+0ZPNhzK1Mi7rUyenv2w0hqCm         bLwFZDhKs4MdIjtnlevpBDxmphi4KNdcvH8CGvlDrInz3bpoVQzx5kLZQLAjxNrR+5Jk         x8pVbKbN2/pa2/cGpYsuDikSEwqs9rm+KhiSNoD2UGCezToOztTkpGWbjvuQEPYUNdnv         /9Zyf+MLvLxCyBp5M19sfqOT27Wh5GzBHNOo5/R+tHXjlUmfFUzJyRsvu5ZGXJSI+dwV         q0580ofBciyWIANXXSMlszQdAH4g22OFPfrDLlUk3eupBq3KtKqvaZas5jr4negyDjHq         eFfg==</li>
<li>Arc-message-signature: i=1; a=rsa-sha256; c=relaxed/relaxed; d=google.com; s=arc-20160816;        h=cc:to:subject:message-id:date:from:references:in-reply-to         :mime-version:dkim-signature:arc-authentication-results;        bh=/+yMVhw+HuUw3LDqeVKj2reDB8N68tePqf85Ir8BR3U=;        b=Ve2Y3m2ikN/XifHnZBN48XtwwyV/U8wblNr2kJrp3/9zSUVKcNBowZZDT3bx3Hctlw         VpUo9vVV9pKYwf7YFvm5zullsabnsly05kF7cwBnxvCTQh3y0u4LbGNKV4o4OMwAiVoU         rdli2ckxaorJfH33RyuThU7s0zmhKklVpbliZDQDmE8BvwIVOP7JWiRxxEvSrjSZUMm4         5AQEkgcIAzazOMXwYJ6gdU9ucvle7Ly4theH7p5dSd7AVd11OC40otr57MLASiZmE4Ij         oGbMUBe4l1wVIRdtlkSQJA/gUeuOLLmU1oUmgTaSVlbg7aspIJwgQj5EWUMChmLGZpiL         BMBw==</li>
<li>Arc-seal: i=2; a=rsa-sha256; t=1517439956; cv=pass;        d=google.com; s=arc-20160816;        b=qLoRJxMgEZqrugyoqpiKXZx3eSFve0CwgCqb1rD47p5gXtALrkIgCk9OZ/b7bG28Rl         oAuIgZWeTVzxOYvGm5wp1zkkHxQlcCT1Gg+XQ98NqwGA8SK/VvzdIstrp4DscFeCmdNX         WIkhIjsgujsRGqawJLzy2nOaAl7UwlB10KCGUBDZoGJwJ5SMeC+1nSIHAZC/GeCt6HFQ         9DXqLzRk+eW2lw2xf5WIrAKpJW5n21066OkrfQGSo1ozrsS5f08u2TpEiGnrfZaDNTFW         TVOdrJg58ummptLpaVgGH7NGn8kYnmCv43kd1e9zhdflPNUmvldP5H12qD1ybOt5xpzi         Ad3A==</li>
<li>Arc-seal: i=1; a=rsa-sha256; t=1517439955; cv=none;        d=google.com; s=arc-20160816;        b=NKZWgJMB8zuB4c2wW+wyhF8zei5/UC4vy9tHNqtnKKad39NA5DPBaNV0mIu7LqHIIl         3R0OUNmtWf3q3cz9iYlBdhrQKnH3n6PUpbhmgqSZAJXaqbz2hEkOTyEJ3Gd+rj4ys9rh         DbJ68WE49UZ0IOQJSyDHpd5BPQ61xzVPcDORRJB5Rnu0PsGTqqR5mBjIgdbwuKJfNfdP         j5Q4i0xPX/0OYEM7tzotl5QEEVZ1ozHchJeN9OKCPK2tTvsex47nhcVCzm8yr0XiFvTs         yu7958AAVYC2h2cfahnqEZ/AO2Qal8BGo5AQ28o9R1d0YwduKPH9LiXkGMFfZ1hWToCS         uPFg==</li>
<li>Cc: ferret_users &lt;<a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>&gt;</li>
<li>Dkim-signature: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=noaa-gov.20150623.gappssmtp.com; s=20150623;        h=mime-version:in-reply-to:references:from:date:message-id:subject:to         :cc:x-original-sender:x-original-authentication-results:precedence         :mailing-list:list-id:list-post:list-help:list-archive;        bh=/+yMVhw+HuUw3LDqeVKj2reDB8N68tePqf85Ir8BR3U=;        b=IJy3k8rRV06RrLYE28Jal/fu6SClfmxxJs8ehr2szzNYC2lClnE8EV8eeMkGMUab5M         QnAn5YyPCFEAb7Fvo4nWenxb/S8tt+qBBQJzCCIxup1i7vSqr+GJSs1RY421Jzs6aGWS         jFuF/WIQpyTNSdyIHu1QY1fJasIvS1lkBNi1aUV99Xjqg2b7zI2geScnOZwFNQNGRnhV         VlJZPWJPS/uRh/g+PGZ5QcrtxioeS2E7/jkXMRS8HmrNlruOsoNLYDab2s7hjRX+EkRs         h4Mz7lswCkVhcLymJl6sQjSywf8ZK1eSe9wvb5Iq2oDExD0jzPoCHusbvsmkYs4ZAGYf         cWSQ==</li>
<li>In-reply-to: &lt;CAORxmhsAasGHp4Ts3EMTZZm2CZnSzdbJ5=oDDst+XjMVferrTw@mail.gmail.com&gt;</li>
<li>List-archive: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/">https://groups.google.com/a/noaa.gov/group/ferret_users/</a>&gt;</li>
<li>List-help: &lt;<a href="https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838">https://support.google.com/a/noaa.gov/bin/topic.py?topic=25838</a>&gt;, &lt;<a href="mailto:ferret_users+help@noaa.gov">mailto:ferret_users+help@noaa.gov</a>&gt;</li>
<li>List-id: &lt;ferret_users.noaa.gov&gt;</li>
<li>List-post: &lt;<a href="https://groups.google.com/a/noaa.gov/group/ferret_users/post">https://groups.google.com/a/noaa.gov/group/ferret_users/post</a>&gt;, &lt;<a href="mailto:ferret_users@noaa.gov">mailto:ferret_users@noaa.gov</a>&gt;</li>
<li>Mailing-list: list <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxx</a>; contact <a href="mailto:ferret_users%2Bowners@DOMAIN.HIDDEN">ferret_users+owners@xxxxxxxx</a></li>
<li>References: &lt;CAORxmhsAasGHp4Ts3EMTZZm2CZnSzdbJ5=oDDst+XjMVferrTw@mail.gmail.com&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Hi Karen,<div><br></div><div>There is the &#39;positive&#39; netcdf attribute for the Z-axis, which can be &#39;up&#39; or &#39;down&#39;.&#xA0; &#xA0;In your case,<div>&#xA0; &#xA0; depth_u:positive = &quot;up&quot;;</div><div><div><br></div><div>If not specified, Ferret assumes &#39;down&#39; for an axis whose name starts with &#39;depth&#39;, and assumes &#39;up&#39; for names starting with &#39;elev&#39;, &#39;height&#39;, &#39;level&#39;, &#39;layer&#39;.&#xA0; So you could also try a different name that is more typical for positive values going up.<div><br></div></div></div><div>Kind regards,</div><div>Karl</div><div><br></div></div></div><div class="gmail_extra"><br><div class="gmail_quote">On Wed, Jan 31, 2018 at 1:32 PM, karen guihou <span dir="ltr">&lt;<a rel="nofollow" href="mailto:karen.guihou@xxxxxxxxx" target="_blank">karen.guihou@xxxxxxxxx</a>&gt;</span> wrote:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Hi all<div><br></div><div>I am struggling with some ROMS files that I try to read. The surface is at level 40, and the bottom at level 1.</div><div>When I import the netcdf, Ferret automatically flips (I do not understand how/why) the U,V,T,S variables so that k=1 is now at the surface and k=40 is at the bottom. However, it does not flip the depth variable. My depths levels are negative values.</div><div><br></div><div>If I do u*depth, I end up multiplying the bottom by the surface. If I plot a vertical section of U, the max velocities are at the bottom...</div><div><br></div><div>Any idea of option to give, or some missing attribute in the netcdf? I created the nc from a mat file.</div><div>Thank you in advance!</div><div><br></div><div><div><font size="1">netcdf U_climato_CMM {</font></div><div><font size="1">dimensions:</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>z = 40 ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>lat = 384 ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>lon = 349 ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>time = UNLIMITED ; // (1 currently)</font></div><div><font size="1">variables:</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>float depth_u(z, lat, lon) ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>depth_u:units = &quot;m&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>float dz(z, lat, lon) ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>dz:units = &quot;m&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>float lat(lat) ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>lat:units = &quot;degrees south&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>float latitude(lat) ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>latitude:units = &quot;degrees south&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>float lon(lon) ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>lon:units = &quot;degrees west&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>float longitude(lon) ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>longitude:units = &quot;degrees west&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>float taux(time, lat, lon) ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>taux:units = &quot;N/m2&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>taux:cell_methods = &quot;time: mean&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>float time(time) ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>time:units = &quot;days since 1980-01-01&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>time:cell_methods = &quot;time: mean&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>float u(time, z, lat, lon) ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>u:units = &quot;m/s&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>u:cell_methods = &quot;time: mean&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">	</span>float ubar(time, lat, lon) ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>ubar:units = &quot;m/s&quot; ;</font></div><div><font size="1"><span style="white-space:pre-wrap">		</span>ubar:cell_methods = &quot;time: mean&quot; ;</font></div></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div></div>
</blockquote></div><br><br clear="all"><div><br></div>-- <br><div class="gmail_signature" data-smartmail="gmail_signature"><div dir="ltr">Karl M. Smith, Ph.D.<br>JISAO Univ. Wash. and PMEL NOAA<br>&quot;The contents of this message are mine personally and do<br>not necessarily reflect any position of the Government<br>or the National Oceanic and Atmospheric Administration.&quot;<br></div></div>
</div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00022" href="msg00022.html">[ferret_users] How to flip a variable? U is read at reverse</a></strong>
<ul><li><em>From:</em> karen guihou</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00022.html">[ferret_users] How to flip a variable? U is read at reverse</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00024.html">Re: [ferret_users] How to flip a variable? U is read at reverse</a></strong>
</li>

</UL>
<center>[<a href="msg00022.html">Thread Prev</a>][<a href="msg00024.html">Thread Next</a>][<A HREF="threads.html#00023">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<A HREF="http://ferret.pmel.noaa.gov/Ferret/contact-us">Contact Us</A>
<br>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> /
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://ferret.pmel.noaa.gov">Ferret</a>
</address>

<br>
 <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 

</font>
<!--X-User-Footer-End-->
</body>
</html>
