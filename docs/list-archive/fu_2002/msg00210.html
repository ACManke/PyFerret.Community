<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: Using Dimension Variable -->
<!--X-From-R13: Xbfrcu [pyrna <zpyrnaNczry.abnn.tbi> -->
<!--X-Date: Wed, 10 Apr 2002 16:19:19 &#45;0700 (PDT) -->
<!--X-Message-Id: 3CB4C8C1.D0A28D49@pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: fc.004c4d190c79e2a3004c4d190c79e2a3.c7a1074@umit.maine.edu -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: Using Dimension Variable</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00208.html">Thread Prev</a>][<a href="msg00212.html">Thread Next</a>][<A HREF="threads.html#00210">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: Using Dimension Variable</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Steve Cousins &lt;<a href="mailto:cousins@DOMAIN.HIDDEN">cousins@xxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: Using Dimension Variable</strong></li>
<li><strong>From</strong>: <strong>Joseph Mclean &lt;<a href="mailto:mclean@DOMAIN.HIDDEN">mclean@xxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Wed, 10 Apr 2002 16:20:33 -0700</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</a></li>
<li>References: &lt;<a href="msg00208.html">fc.004c4d190c79e2a3004c4d190c79e2a3.c7a1074@umit.maine.edu</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Steve,

I think I just ran into the sane question yesterday.  NetCDF coordinate variables (Dimension
variable) are not used the same as other variables in Ferret.  In order to use the values of
the dimension variable in this way, you must have a user-defined variable.

Try:

let valz = z[gz=zpos]
let depth_at_sigma = valz * depth

I hope this works.

Joe
--------------------------------------------

Steve Cousins wrote:

&gt; I'm trying to create a new 3D variable based on two variables in a NetCDF file as follows:
&gt;
&gt;    let depth_at_sigma = zpos * depth
&gt;
&gt; but it produces:
&gt;
&gt;     **ERROR: variable unknown or not in data set: 'zpos'
&gt;
&gt; zpos is a Dimension variable.  The header for the NetCDF file looks like:
&gt;
&gt; netcdf pom.24day {
&gt; dimensions:
&gt;         xpos = 151 ;
&gt;         ypos = 121 ;
&gt;         zpos = 15 ;
&gt;         time = UNLIMITED ; // (46 currently)
&gt; variables:
&gt;         float xpos(xpos) ;
&gt;                 xpos:long_name = &quot;Columns&quot; ;
&gt;                 xpos:units = &quot;column&quot; ;
&gt;         float ypos(ypos) ;
&gt;                 ypos:long_name = &quot;Rows&quot; ;
&gt;                 ypos:units = &quot;row&quot; ;
&gt;         float zpos(zpos) ;
&gt;                 zpos:long_name = &quot;Layer&quot; ;
&gt;                 zpos:units = &quot;sigma_level&quot; ;
&gt;         float time(time) ;
&gt;                 time:units = &quot;days since 30-MAR-1998 00:00:00&quot; ;
&gt;                 time:time_origin = &quot;30-MAR-1998 00:00:0&quot; ;
&gt;                 time:modulo = &quot; &quot; ;
&gt;         float depth(ypos, xpos) ;
&gt;                 depth:valid_range = 0.f, 5000.f ;
&gt;                 depth:long_name = &quot;Bathymetry&quot; ;
&gt;                 depth:units = &quot;meters&quot; ;
&gt;                 depth:missing_value = -99999.f ;
&gt;
&gt; Is there a way for me to use this variable in the way I want?
&gt;
&gt; Thanks,
&gt;
&gt; Steve
&gt; ________________________________________________
&gt;  Steve Cousins                        Email: cousins@umit.maine.edu
&gt;  Research Associate                 Phone: (207) 581-4302
&gt;  Ocean Modeling Group
&gt;  School of Marine Sciences      208 Libby Hall,
&gt;  University of Maine                Orono ME 04469

--
Joseph McLean
NOAA/PMEL/TMAP
(206)526-4286



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00212" href="msg00212.html">Re: Using Dimension Variable</a></strong>
<ul><li><em>From:</em> Steve Cousins</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00208" href="msg00208.html">Using Dimension Variable</a></strong>
<ul><li><em>From:</em> Steve Cousins</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00208.html">Using Dimension Variable</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00212.html">Re: Using Dimension Variable</a></strong>
</li>

</UL>
<center>[<a href="msg00208.html">Thread Prev</a>][<a href="msg00212.html">Thread Next</a>][<A HREF="threads.html#00210">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
