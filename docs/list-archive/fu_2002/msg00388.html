<!-- MHonArc v2.5.13 -->
<!--X-Subject: Re: batch PostScript -->
<!--X-From-R13: Egrir Vnaxva <unaxvaNczry.abnn.tbi> -->
<!--X-Date: Mon, 12 Aug 2002 10:47:14 &#45;0700 (PDT) -->
<!--X-Message-Id: 3D57F4A3.5517987E@pmel.noaa.gov -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: Pine.GSO.4.03.10208090936520.11685&#45;100000@splash.Princeton.EDU -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: batch PostScript</title>
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
<center>[<a href="msg00386.html">Thread Prev</a>][<a href="msg00387.html">Thread Next</a>][<A HREF="threads.html#00388">Index</A>]</center>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: batch PostScript</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><strong>To</strong>: <strong>Andrew Wittenberg &lt;<a href="mailto:andyw@DOMAIN.HIDDEN">andyw@xxxxxxxxxxxxxxxxxxxx</a>&gt;</strong></li>
<li><strong>Subject</strong>: <strong>Re: batch PostScript</strong></li>
<li><strong>From</strong>: <strong>Steve Hankin &lt;<a href="mailto:hankin@DOMAIN.HIDDEN">hankin@xxxxxxxxxxxxx</a>&gt;</strong></li>
<li>Date: Mon, 12 Aug 2002 10:47:15 -0700</li>
<li>Cc: <a href="mailto:ferret_users@DOMAIN.HIDDEN">ferret_users@xxxxxxxxxxxxxxxxxxx</a></li>
<li>References: &lt;<a href="msg00386.html">Pine.GSO.4.03.10208090936520.11685-100000@splash.Princeton.EDU</a>&gt;</li>
<li>Sender: <a href="mailto:owner-ferret_users@DOMAIN.HIDDEN">owner-ferret_users@xxxxxxxxxxxxxxxxxxx</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Andrew,

The margins around the edge come from two sources

  1. the placement of the &quot;active plotting rectangle&quot; within the plotting
     window (in Ferret)
  2. the placement of the plot on the printed page (in PostScript)

For 1 there is a script
    yes? GO margins

For 2 the correct solution is to generate a metafile and use the -g option on
gksm2ps to custom-place it on the page (see gksm2ps -help below).  As you
point out there was a bug in the PostScript translations of V5.40.  That has
been fixed in V5.41, which will be out in just 2-3 weeks.

===========

&gt; gksm2ps -help
gksm2ps: Send PostScript translation of GKSM metafiles to a file
  usage: gksm2ps [-h] [-p landscape||portrait] [-l ps||cps] [-d cps||phaser]
\
         [-X || -o &lt;ps_output_file&gt;] [-R] [-a] [-g WxH+X+Y] [-v] file(s)

     -h: print this help message
     -p: page orientation, landscape or portrait (default fits to page)
     -l: line styles,  ps == monochrome (default), cps == color
     -d: device type, cps == Postscript (default), phaser == TEK phaser PS
     -X: Send output to your Xwindow for preview instead of a file
     -o: PS output file name (default name is 'gksm2ps_output.ps')
     -R: do not rename files with a date stamp appended (default is to stamp)

     -a: make hard copy the size of the original plot (default fits to page)
     -g: WxH+X+Y  WIDTH, HEIGHT, XOFFSET, &amp; YOFFSET in points (72 pts = 1 in)

     -v: list version number of gksm2ps and do nothing else
file(s): The specific metafile(s) to be translated.

========

    - steve

Andrew Wittenberg wrote:

&gt; Dear Ferret users,
&gt;
&gt; Some questions on creating PostScript output in batch mode.  I'm running
&gt; Ferret v5.40 under RH Linux v7.1.  Consider a simple shell script that
&gt; creates a map of the world:
&gt;
&gt; cat &lt;&lt; EOF | ferret -batch plot.ps &gt;&amp; /dev/null
&gt; go magnify
&gt; go basemap
&gt; quit
&gt; EOF
&gt;
&gt; 1) This gives large margins around all the edges of the PostScript file,
&gt; even though I used &quot;go magnify&quot;.  How can I eliminate or reduce these
&gt; margins? They don't appear when I produce a similar plot in the normal
&gt; (non-batch) Ferret environment.
&gt;
&gt; 2) If try another route and eliminate &quot;plot.ps&quot; from the script above, so
&gt; the output goes to metafile.plt, then Fprint doesn't work on that
&gt; metafile.  I get a series of error messages: &quot;GKSM item 3 is undefined&quot;,
&gt; and the output PostScript file is blank.
&gt;
&gt; Thanks for any help,
&gt;
&gt; Andrew
&gt;
&gt; ----------------------------------------------------------------------
&gt; Andrew Wittenberg          Program in Atmospheric and Oceanic Sciences
&gt; andyw@splash.princeton.edu                        Princeton University
&gt; ----------------------------------------------------------------------

--
Steve Hankin
NOAA/PMEL, 7600 Sand Point Way NE, Seattle, WA 98115-0070
ph. (206) 526-6080 -- FAX (206) 526-6744



</pre>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00386" href="msg00386.html">batch PostScript</a></strong>
<ul><li><em>From:</em> Andrew Wittenberg</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<UL>
<li>Previous by thread:
<strong><a href="msg00386.html">batch PostScript</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00387.html">Re: batch PostScript</a></strong>
</li>

</UL>
<center>[<a href="msg00386.html">Thread Prev</a>][<a href="msg00387.html">Thread Next</a>][<A HREF="threads.html#00388">Index</A>]</center>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<hr>
<font size=-1>
<address>
<a href="http://www.doc.gov">Dept of Commerce</a> / 
<a href="http://www.noaa.gov">NOAA</a> /
<a href="http://www.oar.noaa.gov">OAR</a> /
<a href="http://www.pmel.noaa.gov">PMEL</a> /
<a href="http://tmap.pmel.noaa.gov">TMAP</a>
</address> <br> <a href="http://ferret.pmel.noaa.gov/Ferret/ferret_contact_us.html">Contact Us</a> | <a href="http://www.noaa.gov/privacy.html">Privacy Policy</a> | <a href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> | <a href="accessibility.html">Accessibility Statement</a> 
</font>
<!--X-User-Footer-End-->
</body>
</html>
